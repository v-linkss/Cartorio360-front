import{c as Qe,r as aa,u as $a}from"./DPXaF55H.js";import{c as ar}from"./CxFZsSdX.js";import{D as Sa,u as ma,e as De,r as _e,f as Da,y as Oa,m as Ia,o as de,c as Se,i as y,h as Ae,N as Mt,t as at,p as ze,w as j,b as B,q as We,s as pe,V as Ge,d as Ne,F as da,k as fa,K as Ba,l as La,a as Ee,j as _a,L as $t,A as Ve,g as rt,_ as Ot,H as ht,x as za,P as Ka,az as tr,ay as rr,ce as _t,at as it,aK as la,aG as mt,aJ as ir,M as nr,aO as Lt,ar as Kt,Q as nt,bk as or,aN as Tt,bo as lr,b6 as sr,R as ot,aQ as Aa,cf as dr,bW as ur,aL as cr,br as fr,aZ as pt,cg as vr,T as hr,Y as _r,bE as mr,$ as gt,a0 as pr,S as Ut}from"./BsyBrjrk.js";import{u as lt}from"./CIYbtKnZ.js";import{$ as sa,f as Ue}from"./DHGxeXMC.js";import{a as tt,f as Pa}from"./B0IxRygJ.js";import{u as qe}from"./DvodexUu.js";import{V as Ie}from"./DOzG4G6d.js";import{V as ve}from"./BpMgPEZh.js";import{V as jt}from"./DRhFxNVM.js";import{V as Ye}from"./C1qD6d_R.js";import{V as ia}from"./zhd6VdOl.js";import{_ as Ht}from"./B-laA-B_.js";import{_ as Ma}from"./BVz1G1IN.js";import{_ as Ft}from"./BbqyySAO.js";import{_ as st,a as dt}from"./DJvq3mCv.js";import{_ as gr}from"./DvVqRYZx.js";import{V as ut}from"./B2NiSATm.js";import{V as Ta}from"./sN-09Z_v.js";import{V as Ua,b as Gt,a as qt,c as Zt}from"./DvzuIcr7.js";import{c as br}from"./TDtrdbi3.js";import{_ as Ar}from"./CT5S1mYq.js";import{_ as Jt}from"./D_aVEVIQ.js";import{a as wr,V as xa,b as kr,c as Ea}from"./CFFVFqKV.js";const yr={key:1},xr={__name:"Dados",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],async setup(R,{emit:L}){let G,M;const w=R,T=L,t=Sa(),{$toast:a}=ma(),r=fa(),g=`${r.public.auth}/service/gerencia/createPessoa`,v=`${r.public.auth}/service/gerencia/updatePessoa`,h=`${r.public.auth}/service/gerencia/listarEstadoCivil`,s=`${r.public.auth}/service/gerencia/listarCapacidadeCivil`,f=`${r.public.auth}/service/gerencia/listarCidades`,b=`${r.public.auth}/service/gerencia/listarSexo`,c=`${r.public.managemant}/validarCpf`,m={nome:null,nome_pai:null,nome_mae:null,profissao:null,local_trabalho:null,data_nascimento:null,doc_identificacao:null,fone_celular:null,cpf_pai:null,cpf_mae:null,tipo_pessoa:"FISICA",tabvalores_estadocivil_id:null,tabvalores_capacidadecivil_id:null,tabvalores_sexo_id:null,cidade_nascimento_id:null,cartorio_id:De("user-data").value.cartorio_id,user_id:De("user-data").value.usuario_id},u=_e(!1);let n=!1;const i=De("pessoa-id"),l=Da({...m});function _(Z){if(Z)return Z.replace(/[.\-]/g,"");Z=null}const{data:A,status:k,pending:C,error:P}=([G,M]=Oa(async()=>lt("cliente-dados",async()=>{const[Z,O,H,I]=await Promise.all([sa(h),sa(s),sa(f),sa(b)]);return{estadoCivilItems:Z,capacidadeCivilItems:O,cidadeNascimentoItems:H,sexoItems:I}})),G=await G,M(),G),S={nome:{required:Qe.withMessage("O campo é obrigatorio",aa)},nome_mae:{required:Qe.withMessage("O campo é obrigatorio",aa)},doc_identificacao:{required:Qe.withMessage("O campo é obrigatorio",aa),cpf:ar}},E=$a(S,l);async function z(){if(await E.value.$validate()){const Z={...l};for(const Y in Z)Z[Y]===""&&(Z[Y]=null);const O={...Z,doc_identificacao:_(l.doc_identificacao),cpf_pai:_(l.cpf_pai),cpf_mae:_(l.cpf_mae),data_nascimento:tt(l.data_nascimento),fone_celular:l.fone_celular?l.fone_celular.replace(/[^0-9]/g,""):null},{data:H,error:I,status:J}=await Ue(g,{method:"POST",body:O});if(J.value==="error"&&I.value.statusCode===500)a.error("Erro ao cadastrar pessoa,o CPF já está cadastrado.");else{a.success("Pessoa cadastrada com sucesso!");const Y=H.value.id;i.value=Y;const X=De("pessoa_token");X.value=H.value.token,u.value=!0,T("saved")}}else a.error("Erro ao cadastrar pessoa, preencha os campos obrigatorios.")}async function D(){const Z={...l};for(const I in Z)Z[I]===""&&(Z[I]=null);const O={...Z,doc_identificacao:_(l.doc_identificacao),cpf_mae:_(l.cpf_mae),fone_celular:l.fone_celular.replace(/[^0-9]/g,""),data_nascimento:tt(l.data_nascimento)},{status:H}=await Ue(`${v}/${i.value}`,{method:"PUT",body:O});if(H.value==="success"){if(w.isModal===!0){a.success("Pessoa atualizada com sucesso!"),T("close-modal");return}a.success("Pessoa atualizada com sucesso!"),t.push("/pessoas/lista")}else a.error("Erro ao atualizar Pessoa Fisica")}const $=()=>{if(w.isModal===!0){T("close-modal");return}t.push("/pessoas/lista")};async function K(Z){const O=_(Z);if(O.length===11&&!n){n=!0;const H={cpf:O};try{const{data:I,error:J,status:Y}=await qe(c,{method:"POST",body:H},"$fcbWHpl5XR");if(Y.value==="error"&&J.value.statusCode===500){a.error(" o CPF já está cadastrado.");return}I.value.cpfValidation&&a.error("Já existe uma pessoa cadastrada com o CPF digitado.")}catch(I){console.error("Erro ao validar CPF:",I)}finally{n=!1}}}return(Z,O)=>{const H=Ia("mask");return de(),Se(da,null,[y(C)?(de(),Ae(Mt,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):y(P)?(de(),Se("div",yr,at(y(P).message),1)):ze("",!0),y(C)?ze("",!0):(de(),Ae(ia,{key:2},{default:j(()=>[B(Ie,null,{default:j(()=>[B(ve,{md:"4"},{default:j(()=>[We(B(pe,{modelValue:y(l).doc_identificacao,"onUpdate:modelValue":O[0]||(O[0]=I=>y(l).doc_identificacao=I),"error-messages":y(E).doc_identificacao.$errors.map(I=>I.$message),label:"CPF",required:"",onBlur:O[1]||(O[1]=I=>{y(E).doc_identificacao.$touch(),K(y(l).doc_identificacao)}),onInput:y(E).doc_identificacao.$touch},null,8,["modelValue","error-messages","onInput"]),[[H,"###.###.###-##"]])]),_:1}),B(ve,{md:"6"},{default:j(()=>[B(pe,{modelValue:y(l).nome,"onUpdate:modelValue":O[2]||(O[2]=I=>y(l).nome=I),"error-messages":y(E).nome.$errors.map(I=>I.$message),label:"Nome",required:"",onBlur:y(E).nome.$touch,onInput:y(E).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),B(ve,{md:"2"},{default:j(()=>[B(jt,{label:"Sexo",modelValue:y(l).tabvalores_sexo_id,"onUpdate:modelValue":O[3]||(O[3]=I=>y(l).tabvalores_sexo_id=I),items:y(A).sexoItems,"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),B(Ie,null,{default:j(()=>[B(ve,{md:"4"},{default:j(()=>[B(Ye,{modelValue:y(l).tabvalores_estadocivil_id,"onUpdate:modelValue":O[4]||(O[4]=I=>y(l).tabvalores_estadocivil_id=I),items:y(A).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),B(ve,{md:"4"},{default:j(()=>[B(pe,{modelValue:y(l).profissao,"onUpdate:modelValue":O[5]||(O[5]=I=>y(l).profissao=I),label:"Profissão"},null,8,["modelValue"])]),_:1}),B(ve,{md:"4"},{default:j(()=>[B(pe,{modelValue:y(l).local_trabalho,"onUpdate:modelValue":O[6]||(O[6]=I=>y(l).local_trabalho=I),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),B(Ie,null,{default:j(()=>[B(ve,{md:"2"},{default:j(()=>[We(B(pe,{modelValue:y(l).data_nascimento,"onUpdate:modelValue":O[7]||(O[7]=I=>y(l).data_nascimento=I),label:"Data de nascimento",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[H,"##/##/####"]])]),_:1}),B(ve,{md:"2"},{default:j(()=>[We(B(pe,{modelValue:y(l).fone_celular,"onUpdate:modelValue":O[8]||(O[8]=I=>y(l).fone_celular=I),label:"Celular",placeholder:"'(99) 99999-9999'"},null,8,["modelValue"]),[[H,"(##) #####-####"]])]),_:1}),B(ve,{md:"4"},{default:j(()=>[B(Ye,{modelValue:y(l).tabvalores_capacidadecivil_id,"onUpdate:modelValue":O[9]||(O[9]=I=>y(l).tabvalores_capacidadecivil_id=I),items:y(A).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),B(ve,{md:"4"},{default:j(()=>[B(Ye,{modelValue:y(l).cidade_nascimento_id,"onUpdate:modelValue":O[10]||(O[10]=I=>y(l).cidade_nascimento_id=I),items:y(A).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),B(Ie,null,{default:j(()=>[B(ve,{md:"4"},{default:j(()=>[We(B(pe,{modelValue:y(l).cpf_pai,"onUpdate:modelValue":O[11]||(O[11]=I=>y(l).cpf_pai=I),label:"CPF do Pai"},null,8,["modelValue"]),[[H,"###.###.###-##"]])]),_:1}),B(ve,{md:"4"},{default:j(()=>[B(pe,{modelValue:y(l).nome_pai,"onUpdate:modelValue":O[12]||(O[12]=I=>y(l).nome_pai=I),label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),B(Ie,null,{default:j(()=>[B(ve,{md:"4"},{default:j(()=>[We(B(pe,{modelValue:y(l).cpf_mae,"onUpdate:modelValue":O[13]||(O[13]=I=>y(l).cpf_mae=I),label:"CPF da Mãe"},null,8,["modelValue"]),[[H,"###.###.###-##"]])]),_:1}),B(ve,{md:"4"},{default:j(()=>[B(pe,{modelValue:y(l).nome_mae,"onUpdate:modelValue":O[14]||(O[14]=I=>y(l).nome_mae=I),modelModifiers:{date:!0},"error-messages":y(E).nome_mae.$errors.map(I=>I.$message),label:"Nome da Mãe",required:"",onBlur:y(E).nome_mae.$touch,onInput:y(E).nome_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),B(Ie,{class:"mb-3"},{default:j(()=>[B(Ge,{onClick:$,size:"large",color:"red"},{default:j(()=>O[16]||(O[16]=[Ne("Voltar")])),_:1}),B(Ge,{onClick:O[15]||(O[15]=I=>y(u)?D():z()),class:"ml-4",size:"large",color:"green"},{default:j(()=>O[17]||(O[17]=[Ne("Salvar")])),_:1})]),_:1})]),_:1}))],64)}}},Er=Qe.withMessage("CNPJ inválido",R=>{if(!R)return!1;const L=R.replace(/[^\d]+/g,"");if(L.length!==14||/^(\d)\1+$/.test(L))return!1;let G=L.length-2,M=L.substring(0,G);const w=L.substring(G);let T=0,t=G-7;for(let r=G;r>=1;r--)T+=parseInt(M.charAt(G-r),10)*t--,t<2&&(t=9);let a=T%11<2?0:11-T%11;if(a!==parseInt(w.charAt(0),10))return!1;G+=1,M=L.substring(0,G),T=0,t=G-7;for(let r=G;r>=1;r--)T+=parseInt(M.charAt(G-r),10)*t--,t<2&&(t=9);return a=T%11<2?0:11-T%11,a===parseInt(w.charAt(1),10)}),Cr={__name:"DadosJuridica",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],setup(R,{emit:L}){const G=R,M=L,w=Sa(),T=Ba(),{$toast:t}=ma(),a=fa(),r=`${a.public.auth}/service/gerencia/getPessoaById`,g=`${a.public.auth}/service/gerencia/createPessoa`,v=`${a.public.auth}/service/gerencia/updatePessoa`,h=`${a.public.managemant}/validarCpf`,{id:s}=T.params,f={nome:null,nome_fantasia:null,inscricao_estadual:null,observacao:null,doc_identificacao:null,tipo_pessoa:"JURIDICA",cartorio_id:De("user-data").value.cartorio_id,user_id:De("user-data").value.usuario_id},b=_e(!1),c=De("pessoa-id");let m=!1;const u=Da({...f});function n(S){return S?S.replace(/[.\-/]/g,""):null}const i={nome:{required:Qe.withMessage("O campo é obrigatorio",aa)},doc_identificacao:{required:Qe.withMessage("O campo é obrigatorio",aa),cnpj:Er}},l=$a(i,u);async function _(){if(await l.value.$validate()){const S={...u};for(const K in S)S[K]===""&&(S[K]=null);const E={...S,doc_identificacao:n(u.doc_identificacao)},{data:z,error:D,status:$}=await Ue(g,{method:"POST",body:E});if($.value==="error"&&D.value.statusCode===500)t.error("Erro ao cadastrar Pessoa Juridica,o CNPJ já está cadastrado.");else{t.success("Pessoa Juridica cadastrada com sucesso!");const K=z.value.id;c.value=K;const Z=De("pessoa_token");Z.value=z.value.token,b.value=!0,M("saved")}}else t.error("Erro ao cadastrar pessoa juridica, preencha os campos obrigatorios.")}async function A(){const S={...u};for(const K in S)S[K]===""&&(S[K]=null);const E={...S,doc_identificacao:n(u.doc_identificacao)},{data:z,error:D,status:$}=await Ue(`${v}/${s||c.value}`,{method:"PUT",body:E});if($.value==="success"){if(G.isModal===!0){t.success("Pessoa Juridica atualizada com sucesso!"),M("close-modal");return}t.success("Pessoa Juridica atualizada com sucesso!"),w.push("/pessoas/lista")}else t.error("Erro ao atualizar Pessoa Juridica")}async function k(){const{data:S,error:E}=await Ue(`${r}/${s}`,{method:"GET"});Object.assign(u,S.value)}const C=()=>{if(G.isModal===!0){M("close-modal");return}w.push("/pessoas/lista")};async function P(S){const E=n(S);if(console.log(S),!m){m=!0;const z={cpf:E};try{const{data:D,error:$,status:K}=await qe(h,{method:"POST",body:z},"$kpCGWBoNdd");if(K.value==="error"&&$.value.statusCode===500){t.error(" o cnpj já está cadastrado.");return}D.value.cpfValidation&&t.error("Já existe uma pessoa cadastrada com o cnpj digitado.")}catch(D){console.error("Erro ao validar cnpj:",D)}finally{m=!1}}}return La(()=>{s&&(k(),b.value=!0)}),(S,E)=>{const z=Ia("mask");return de(),Ae(ia,{class:"mt-3",style:{height:"425px"}},{default:j(()=>[B(Ie,null,{default:j(()=>[B(ve,{md:"4"},{default:j(()=>[We(B(pe,{modelValue:y(u).doc_identificacao,"onUpdate:modelValue":E[0]||(E[0]=D=>y(u).doc_identificacao=D),"error-messages":y(l).doc_identificacao.$errors.map(D=>D.$message),label:"CNPJ",required:"",onBlur:E[1]||(E[1]=D=>P(y(u).doc_identificacao)),onInput:y(l).doc_identificacao.$touch},null,8,["modelValue","error-messages","onInput"]),[[z,"##.###.###/####-##"]])]),_:1}),B(ve,{md:"8"},{default:j(()=>[B(pe,{modelValue:y(u).nome,"onUpdate:modelValue":E[2]||(E[2]=D=>y(u).nome=D),"error-messages":y(l).nome.$errors.map(D=>D.$message),label:"Razão Social",required:"",onBlur:y(l).nome.$touch,onInput:y(l).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),B(Ie,null,{default:j(()=>[B(ve,{md:"8"},{default:j(()=>[B(pe,{modelValue:y(u).nome_fantasia,"onUpdate:modelValue":E[3]||(E[3]=D=>y(u).nome_fantasia=D),label:"Nome Fantasia"},null,8,["modelValue"])]),_:1}),B(ve,{md:"4"},{default:j(()=>[B(pe,{modelValue:y(u).inscricao_estadual,"onUpdate:modelValue":E[4]||(E[4]=D=>y(u).inscricao_estadual=D),label:"Inscrição Estadual"},null,8,["modelValue"])]),_:1})]),_:1}),B(Ie,null,{default:j(()=>[B(ve,{md:"12"},{default:j(()=>[B(pe,{modelValue:y(u).observacao,"onUpdate:modelValue":E[5]||(E[5]=D=>y(u).observacao=D),label:"Observação"},null,8,["modelValue"])]),_:1})]),_:1}),B(Ie,{class:"mb-3"},{default:j(()=>[B(Ge,{onClick:C,size:"large",color:"red"},{default:j(()=>E[7]||(E[7]=[Ne("Voltar")])),_:1}),B(Ge,{onClick:E[6]||(E[6]=D=>y(b)?A():_()),class:"ml-4",size:"large",color:"green"},{default:j(()=>E[8]||(E[8]=[Ne("Salvar")])),_:1})]),_:1})]),_:1})}}},Vr="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHCAgICAgHBwgHBwoHBwcHBw8ICQcKIBEiIiARHx8YHSggGBolGx8TITEhJSkrLi4uFx8zODMsNygtLisBCgoKCg0FGg8HDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIANcA6wMBIgACEQEDEQH/xAAWAAEBAQAAAAAAAAAAAAAAAAAAAQb/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAcE/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AyQDCrIqKCAAqAAAAogCooCAAAACggAKgAAACoCgAgoCAAAAAAAoIAAKAgAAoCAACoAAAAAAACggKCAAqAAqKAIAKgCoAAAAAAAKgAKgAqACgAIoIqKCAAAAKgAogAKCAoIqAKigIKgAqAKgAogAoCKIAoAIqAKACKAgqAAoCAAqACgAIAKACKAgAKigCCggAAAAoCAoICgioACoCoAAAAAAoCCgIKAgAAKCAAAAKgAqAAAKgAKiggAAKCAAogAAAqAAKCKigigCCoAAAoAioAKigiiACgCKAgqAqCgigCAAoigCKCAAKiggACoAAAqKgAAAAAAKACAAqAAAAAAqAKioAAAAACggAAKCKgAqAKioAKgAAAKCAAAAKigIqAAAKigigAgAKigCKCCoCoAAAKgAqKAIACoAogCggKgAqCgiooIKgKIoIKAAAiiAqACoqAKigiiAqKAgqAKgCggKIAoICoAAAAAAKCKigCKCKgCggAAAAAKCKAIKAgoAACCgAAIKAgoCCgIKAgoAACCgCKAIoD//Z",Sr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABIgAAASIAQMAAABC4maAAAAAA1BMVEUAgACc+aWRAAAA1ElEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGD24EAAAAAAAMj/tRFUVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVaU9OCQAAAAAEPT/tS9MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMwCla4AAb0OJ2IAAAAASUVORK5CYII=",Dr=["onClick"],Br=["onClick"],Ir={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:st,alt:"deletar",title:"Reativar"},Rr={key:1,src:dt,alt:"reativar",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"reativar"},Nr=["onClick"],Pr={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:Vr,alt:"Criar"},zr={key:1,style:{width:"30px",height:"30px",cursor:"pointer"},src:Sr,alt:"Criar"},Mr={key:2,style:{width:"30px",height:"30px",cursor:"pointer"},src:gr,alt:"Criar"},$r={__name:"Documentos",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(R,{emit:L}){let G,M;const w=L,T=R,{$toast:t}=ma(),a=Ba(),r=Sa(),{id:g}=a.params,v=fa(),h=`${v.public.auth}/service/gerencia/listarTipoDocumento`,s=`${v.public.auth}/service/gerencia/listarUF`,f=`${v.public.auth}/service/gerencia/getPessoaDocById`,b=`${v.public.auth}/service/gerencia/createPessoaDoc`,c=`${v.public.auth}/service/gerencia/updatePessoaDoc`,m=_e(!1),u=_e(null),n=_e(De("user-data").value.usuario_id).value,i=Number(g||De("pessoa-id").value),l=Da({tabvalores_tipodoc_id:null,emissor:null,numero:null,data_emissao:null,data_vencimento:null,tabvalores_ufemissor_id:null}),_=[{title:"Tipo",value:"tipoDocumento.descricao"},{title:"Número",value:"numero"},{title:"Emissor",value:"emissor"},{title:"UF",value:"ufEmissor.descricao"},{title:"Emissão",value:"data_emissao"},{title:"Validade",value:"data_vencimento"},{value:"actions"}],A={numero:{required:Qe.withMessage("O campo é obrigatorio",aa)},emissor:{required:Qe.withMessage("O campo é obrigatorio",aa)},tabvalores_ufemissor_id:{required:Qe.withMessage("O campo é obrigatorio",aa)}},k=$a(A,l),{data:C,pending:P,refresh:S}=([G,M]=Oa(async()=>lt("cliente-documentos",async()=>{const[I,J,Y]=await Promise.all([sa(h),sa(s),sa(`${f}/${i}`)]),X=Y.map(x=>({...x,data_emissao:x.data_emissao?Pa(x.data_emissao,"dd/mm/yyyy"):null,data_vencimento:x.data_vencimento?Pa(x.data_vencimento,"dd/mm/yyyy"):null}));return{tipoDocumentoItems:I,ufItems:J,pessoasDocsItems:X}})),G=await G,M(),G);async function E(){if(await k.value.$validate()){const I={...l};for(const ce in I)I[ce]===""&&(I[ce]=null);const J={...I,user_id:n,pessoa_id:i},{data:Y,error:X,status:x}=await Ue(b,{method:"POST",body:J});if(x.value==="error"&&X.value.statusCode===500)t.error(X.value.data.details);else{t.success("Documento cadastrado com sucesso!"),S();for(const ce in l)l[ce]="";k.value.$reset()}}else t.error("Erro ao cadastrar documento. Os seguintes campos são obrigatórios: Número, Emissor e UF.")}async function z(I){try{await D(),await $(I)}catch(J){console.error("Erro ao executar scanner ou listar arquivos:",J)}}async function D(){try{const{data:I}=await qe(acionarScanner,{method:"GET"},"$cLGZtMLuJD")}catch(I){t.error("Erro ao acionar o scanner:",I)}}async function $(I){try{const{data:J,status:Y}=await qe("http://localhost:3500/uploadAnexo",{method:"POST",body:{tipo:"docs",token:a.query.ato_token_edit,cartorio_token:I}},"$2fkU5kgcxs")}catch(J){console.error("Erro ao enviar o arquivo:",J)}}function K(I){I&&(u.value={...I,data_emissao:I.data_emissao?Pa(I.data_emissao,"dd/mm/yyyy"):null,data_vencimento:I.data_vencimento?Pa(I.data_vencimento,"dd/mm/yyyy"):null},m.value=!0)}async function Z(I){const J={tabvalores_tipodoc_id:u.value.tabvalores_tipodoc_id,numero:u.value.numero,emissor:u.value.emissor,tabvalores_ufemissor_id:u.value.tabvalores_ufemissor_id,data_vencimento:u.value.data_vencimento,data_emissao:tt(u.value.data_emissao)},{status:Y}=await Ue(`${c}/${I}`,{method:"PUT",body:J});Y.value==="success"&&(m.value=!1,t.success("Pessoa atualizada com sucesso!"),S())}async function O(I){I.excluido=!I.excluido;try{await Ue(`${c}/${I.id}`,{method:"PUT",body:JSON.stringify({excluido:I.excluido})})}catch(J){console.error("Erro ao excluir pessoa:",J)}}const H=()=>{if(T.isModal===!0){w("close-modal");return}r.push("/pessoas/lista")};return(I,J)=>{const Y=Ht,X=Ia("mask");return de(),Se(da,null,[y(P)?ze("",!0):(de(),Ae(ia,{key:0,class:"mt-3",style:{height:"425px"}},{default:j(()=>[B(Ie,null,{default:j(()=>[B(ve,{md:"2"},{default:j(()=>[B(Ye,{modelValue:y(l).tabvalores_tipodoc_id,"onUpdate:modelValue":J[0]||(J[0]=x=>y(l).tabvalores_tipodoc_id=x),items:y(C).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),B(ve,null,{default:j(()=>[B(pe,{modelValue:y(l).numero,"onUpdate:modelValue":J[1]||(J[1]=x=>y(l).numero=x),"error-messages":y(k).numero.$errors.map(x=>x.$message),label:"Numero",required:"",onBlur:y(k).numero.$touch,onInput:y(k).numero.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),B(ve,{md:"2"},{default:j(()=>[B(pe,{modelValue:y(l).emissor,"onUpdate:modelValue":J[2]||(J[2]=x=>y(l).emissor=x),"error-messages":y(k).emissor.$errors.map(x=>x.$message),required:"",onBlur:y(k).emissor.$touch,onInput:y(k).emissor.$touch,label:"Emissor"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),B(ve,null,{default:j(()=>[B(Ye,{modelValue:y(l).tabvalores_ufemissor_id,"onUpdate:modelValue":J[3]||(J[3]=x=>y(l).tabvalores_ufemissor_id=x),error:y(k).tabvalores_ufemissor_id.$error,"error-messages":y(k).tabvalores_ufemissor_id.$errors.map(x=>x.$message),items:y(C).ufItems,label:"UF","item-title":"descricao","item-value":"id",required:"",onBlur:y(k).tabvalores_ufemissor_id.$touch,onInput:y(k).tabvalores_ufemissor_id.$touch},null,8,["modelValue","error","error-messages","items","onBlur","onInput"])]),_:1}),B(ve,{md:"2"},{default:j(()=>[We(B(pe,{modelValue:y(l).data_emissao,"onUpdate:modelValue":J[4]||(J[4]=x=>y(l).data_emissao=x),label:"Emissão",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[X,"##/##/####"]])]),_:1}),B(ve,{md:"2"},{default:j(()=>[We(B(pe,{modelValue:y(l).data_vencimento,"onUpdate:modelValue":J[5]||(J[5]=x=>y(l).data_vencimento=x),label:"Validade",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[X,"##/##/####"]])]),_:1}),Ee("div",{class:"mt-1"},[Ee("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ma,alt:"novo",onClick:E})])]),_:1}),B(ut,{style:{"max-height":"330px"},headers:_,items:y(C).pessoasDocsItems,"item-key":"id"},{"item.actions":j(({item:x})=>[B(Ie,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:j(()=>[Ee("div",{onClick:ce=>K(x),title:"editar"},J[15]||(J[15]=[Ee("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:Ft,alt:"editar"},null,-1)]),8,Dr),Ee("div",{onClick:ce=>O(x),title:"deletar"},[x.excluido?(de(),Se("img",Ir)):(de(),Se("img",Rr))],8,Br),Ee("div",{onClick:ce=>z(x.token),title:"Criar"},[I.status_arquivo===!1?(de(),Se("img",Pr)):I.status_arquivo===!0?(de(),Se("img",zr)):(de(),Se("img",Mr))],8,Nr)]),_:2},1024)]),_:1},8,["items"]),B(Ta,{modelValue:y(m),"onUpdate:modelValue":J[14]||(J[14]=x=>_a(m)?m.value=x:null),"max-width":"600px"},{default:j(()=>[B(Ua,null,{default:j(()=>[B(Gt,{style:{color:"green"}},{default:j(()=>J[16]||(J[16]=[Ne("Atualizar Endereço")])),_:1}),B(qt,null,{default:j(()=>[B(Ie,null,{default:j(()=>[B(ve,{cols:"12",md:"6"},{default:j(()=>[B(Ye,{modelValue:y(u).tabvalores_tipodoc_id,"onUpdate:modelValue":J[6]||(J[6]=x=>y(u).tabvalores_tipodoc_id=x),items:y(C).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),B(ve,{cols:"12",md:"6"},{default:j(()=>[B(pe,{modelValue:y(u).numero,"onUpdate:modelValue":J[7]||(J[7]=x=>y(u).numero=x),label:"Número"},null,8,["modelValue"])]),_:1}),B(ve,{cols:"12",md:"6"},{default:j(()=>[B(pe,{modelValue:y(u).emissor,"onUpdate:modelValue":J[8]||(J[8]=x=>y(u).emissor=x),label:"Número"},null,8,["modelValue"])]),_:1}),B(ve,{cols:"12",md:"6"},{default:j(()=>[B(Ye,{modelValue:y(u).tabvalores_ufemissor_id,"onUpdate:modelValue":J[9]||(J[9]=x=>y(u).tabvalores_ufemissor_id=x),items:y(C).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),B(ve,{cols:"12",md:"6"},{default:j(()=>[We(B(pe,{modelValue:y(u).data_emissao,"onUpdate:modelValue":J[10]||(J[10]=x=>y(u).data_emissao=x),label:"Emissão",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[X,"##/##/####"]])]),_:1}),B(ve,{cols:"12",md:"6"},{default:j(()=>[We(B(pe,{modelValue:y(u).data_vencimento,"onUpdate:modelValue":J[11]||(J[11]=x=>y(u).data_vencimento=x),label:"Validade",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[X,"##/##/####"]])]),_:1})]),_:1})]),_:1}),B(Zt,null,{default:j(()=>[B($t),B(Ge,{color:"green",text:"",onClick:J[12]||(J[12]=x=>m.value=!1)},{default:j(()=>J[17]||(J[17]=[Ne("Cancelar")])),_:1}),B(Ge,{color:"green",text:"",onClick:J[13]||(J[13]=x=>Z(y(u).id))},{default:j(()=>J[18]||(J[18]=[Ne("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),B(Y,{onClick:H},{default:j(()=>[B(Ge,{size:"large",class:"ml-10 mb-5",color:"red"},{default:j(()=>J[19]||(J[19]=[Ne("Voltar")])),_:1})]),_:1})],64)}}},Or=["onClick"],Lr={key:0,style:{width:"30px",height:"30px"},src:st,alt:"Visualizar",title:"Reativar"},Kr={key:1,src:dt,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Tr={__name:"Representantes",props:{isModal:{type:Boolean,default:!1}},async setup(R){let L,G;const M=R,w=fa(),{$toast:T}=ma(),t=Ba(),a=Sa(),r=`${w.public.auth}/service/gerencia/pesquisarPessoas`,g=`${w.public.auth}/service/gerencia/listarPapeis`,v=`${w.public.auth}/service/gerencia/representante`,h=`${w.public.auth}/service/gerencia/representante`,s=`${w.public.auth}/service/gerencia/representante`,f=_e(De("user-data").value.cartorio_token),{id:b}=t.params,c=Number(b||De("pessoa-id").value),m=_e([]),u=_e([]),n=_e([]),i=_e(!1),l=[{title:"Documento",align:"start",key:"representante",value:D=>{var $,K;return(($=D.representante)==null?void 0:$.doc_identificacao)||((K=D.representante)==null?void 0:K.documento)}},{title:"Pessoa",align:"start",key:"representante.nome"},{title:"Papel",align:"start",key:"papel.descricao"},{value:"actions"}],_=Da({papeis:null,nome:null,pessoa:null,documento:null}),{data:A}=([L,G]=Oa(()=>Ue(g,{method:"POST",body:{rotina:"CADASTRO_PJ"}})),L=await L,G(),L);n.value=A.value;async function k(){try{const{data:D,error:$}=await Ue(r,{method:"POST",body:{cartorio_token:f.value,documento:_.documento,nome:_.nome}});D.value.length>0?(m.value=D.value,_.pessoa=m.value[0]):m.value=[]}catch(D){console.error("Erro na requisição",D)}}const C=()=>{i.value=!0},P=async()=>{const D={representante:_.pessoa,papel:n.value.find($=>$.id===_.papeis)};try{const{data:$,error:K,status:Z}=await Ue(v,{method:"POST",body:{ato_id:null,representante_id:_.pessoa.id,pessoa_id:c||b,papel_id:_.papeis,user_id:De("user-data").value.usuario_id}});Z.value==="success"?(D.id=$.value.id,T.success("Pessoa Registrada com Sucesso!"),u.value.push(D)):T.error("Erro ao registrar a pessoa!")}catch{T.error("Erro no servidor. Tente novamente.")}};async function S(){const{data:D,error:$}=await Ue(`${h}/${b}`,{method:"GET"});u.value=D.value}async function E(D){D.excluido=!D.excluido;try{await Ue(`${s}/${D.id}`,{method:"PUT",body:JSON.stringify({excluido:D.excluido})})}catch($){console.error("Erro ao excluir pessoa:",$)}}const z=()=>{if(M.isModal===!0){emit("close-modal");return}a.push("/pessoas/lista")};return La(()=>{b&&S()}),(D,$)=>{const K=Li,Z=Ht;return de(),Se(da,null,[B(ia,{style:{height:"425px"}},{default:j(()=>[B(Ie,{class:"mt-1"},{default:j(()=>[B(ve,{cols:"3"},{default:j(()=>[B(pe,{label:"Documento",modelValue:y(_).documento,"onUpdate:modelValue":$[0]||($[0]=O=>y(_).documento=O)},null,8,["modelValue"])]),_:1}),B(ve,{cols:"4"},{default:j(()=>[B(pe,{label:"Pessoa",modelValue:y(_).nome,"onUpdate:modelValue":$[1]||($[1]=O=>y(_).nome=O)},null,8,["modelValue"])]),_:1}),Ee("div",null,[Ee("img",{class:"mt-1",src:Jt,style:{width:"40px",cursor:"pointer"},title:"Pesquisar Pessoa",onClick:k})]),Ee("div",null,[Ee("img",{class:"mt-1 ml-2",src:Ma,style:{width:"40px",cursor:"pointer"},title:"Criar Pessoa",onClick:C})])]),_:1}),B(Ie,null,{default:j(()=>[B(ve,{cols:"4"},{default:j(()=>[B(Ye,{label:"Selecione a Pessoa",modelValue:y(_).pessoa,"onUpdate:modelValue":$[2]||($[2]=O=>y(_).pessoa=O),items:y(m),"item-title":"nome","item-value":"id","return-object":"",required:""},null,8,["modelValue","items"])]),_:1}),B(ve,{cols:"3"},{default:j(()=>[B(Ye,{label:"Papel",modelValue:y(_).papeis,"onUpdate:modelValue":$[3]||($[3]=O=>y(_).papeis=O),items:y(n),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),Ee("div",null,[Ee("img",{class:"mt-1",src:Ma,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:P})])]),_:1}),B(Ie,null,{default:j(()=>[B(ve,null,{default:j(()=>[B(ut,{style:{"max-height":"330px"},headers:l,items:y(u)},{"item.actions":j(({item:O})=>[B(Ie,null,{default:j(()=>[Ee("div",{class:"mr-2",style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:H=>E(O),title:"Deletar Pessoa"},[O.excluido?(de(),Se("img",Lr)):(de(),Se("img",Kr))],8,Or)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),B(K,{show:y(i),onClose:$[4]||($[4]=O=>i.value=!1)},null,8,["show"])]),_:1}),B(Z,{onClick:z},{default:j(()=>[B(Ge,{size:"large",class:"ml-10 mb-5",color:"red"},{default:j(()=>$[5]||($[5]=[Ne("Voltar")])),_:1})]),_:1})],64)}}},Ur={class:"mt-1"},jr={style:{width:"150px","font-weight":"500"}},Hr={style:{width:"200px","font-weight":"500"}},Fr=["onClick"],Gr=["onClick"],qr={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:st,alt:"Visualizar",title:"Reativar"},Zr={key:1,src:dt,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},Jr={__name:"Endereco",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(R,{emit:L}){let G,M;const w=L,T=R,{$toast:t}=ma(),a=Ba(),{id:r}=a.params,g=Sa(),v=fa(),h=`${v.public.auth}/service/gerencia/listarPais`,s=`${v.public.auth}/service/gerencia/getPessoaEnderecoById`,f=`${v.public.auth}/service/gerencia/createPessoaEndereco`,b=`${v.public.auth}/service/gerencia/updatePessoaEndereco`,c=`${v.public.auth}/service/gerencia/cep`,m=_e(De("user-data").value.usuario_id).value,u=Number(r||De("pessoa-id").value),n=Da({tabvalores_pais_id:null,cidade_id:null,codcep:null,logradouro:null,numero:null,bairro:null,complemento:null,cidade_estrangeira:null}),i=[{title:"País",value:"pais.descricao"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro"},{title:"N*",value:"numero"},{title:"Complemento",value:"complemento"},{title:"Bairro",value:"bairro"},{title:"Cidade",value:"cidade"},{value:"actions"}],l=_e(!1),_=_e(null),A=Ve(()=>{const X=z.value.paisItems.find(x=>x.id===n.tabvalores_pais_id);return X?X.estrangeiro:!1}),k=X=>{var x;return((x=X.cidades)==null?void 0:x.nome)||X.cidade_estrangeira},C={numero:{required:Qe.withMessage("O campo é obrigatorio",aa)},bairro:{required:Qe.withMessage("O campo é obrigatorio",aa)},logradouro:{required:Qe.withMessage("O campo é obrigatorio",aa)},codcep:{required:Qe.withMessage("O campo é obrigatorio e precisa de 8 digitos",aa)}},P=$a(C,n),E=De("auth_token").value,{data:z,status:D,pending:$,refresh:K}=([G,M]=Oa(async()=>lt("cliente-enderecos",async()=>{const[X,x,ce]=await Promise.all([sa(h),sa(`${s}/${u}`),sa(`${v.public.auth}/service/gerencia/listarCidades`)]);return{paisItems:X,enderecosItems:x,cidadesItems:ce}})),G=await G,M(),G);async function Z(){if(await P.value.$validate()){const x={...{...n},user_id:m,pessoa_id:u},{data:ce,error:Q,status:te}=await Ue(f,{method:"POST",body:x});if(te.value==="error"&&Q.value.statusCode===500)t.error("Erro ao cadastrar endereço,erro no sistema.");else{t.success("Endereço cadastrado com sucesso!"),K();for(const se in n)n[se]=null;P.value.$reset()}}else t.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}async function O(){if(!n.cidade_estrangeira||!n.logradouro){t.error("Os Campos Cidade Estrangeira e Endereço são obrigatorios!");return}const x={...{...n},user_id:m,pessoa_id:u},{data:ce,error:Q,status:te}=await Ue(f,{method:"POST",body:x});if(te.value==="error"&&Q.value.statusCode===500)t.error("Erro ao cadastrar endereço,erro no sistema.");else{t.success("Endereço cadastrado com sucesso!"),K();for(const se in n)n[se]=null;P.value.$reset()}}function H(X){const x=z.value.enderecosItems.find(ce=>ce.id===X);x&&(_.value=x,l.value=!0)}async function I(X){const x={tabvalores_pais_id:_.value.tabvalores_pais_id,cidade_id:_.value.cidade_id,codcep:_.value.codcep,logradouro:_.value.logradouro,numero:_.value.numero,bairro:_.value.bairro,complemento:_.value.complemento},{status:ce}=await Ue(`${b}/${X}`,{method:"PUT",body:x});ce.value==="success"?(l.value=!1,t.success("Endereço atualizado com sucesso!"),K()):t.error("Erro ao atualizar Endereço")}rt(()=>n.codcep,async X=>{if(X.length===8)try{const{data:x,error:ce}=await qe(`${c}/${X}`,{headers:{Authorization:E}},"$xTfPNGciav");if(ce.value){console.error("Erro ao buscar CEP:",ce.value),t.error("Erro ao buscar CEP no servidor.");return}if(x.value.logradouro&&x.value.bairro&&x.value.localidade&&x.value.uf){n.logradouro=x.value.logradouro,n.bairro=x.value.bairro,n.complemento=x.value.complemento;let Q=`${x.value.localidade}/${x.value.uf}`.toUpperCase();const te=z.value.cidadesItems.find(se=>se.descricao===Q);te?(n.cidade_id=te.id,n.tabvalores_pais_id=76):t.error("Cidade não encontrada na lista!")}else t.error("CEP não retornou dados válidos!")}catch(x){console.error("Erro inesperado:",x),t.error("Erro inesperado. Verifique sua conexão.")}});async function J(X){X.excluido=!X.excluido;try{await Ue(`${b}/${X.id}`,{method:"PUT",body:{excluido:X.excluido}})}catch(x){console.error("Erro ao excluir pessoa:",x)}}const Y=()=>{if(T.isModal===!0){w("close-modal");return}g.push("/pessoas/lista")};return(X,x)=>{const ce=Ia("mask");return de(),Se(da,null,[y($)?ze("",!0):(de(),Ae(ia,{key:0,class:"mt-3",style:{height:"425px"}},{default:j(()=>[B(Ie,null,{default:j(()=>[B(ve,{md:"2"},{default:j(()=>[B(Ye,{modelValue:y(n).tabvalores_pais_id,"onUpdate:modelValue":x[0]||(x[0]=Q=>y(n).tabvalores_pais_id=Q),items:y(z).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),y(A)?ze("",!0):(de(),Ae(ve,{key:0,md:"2"},{default:j(()=>[y(A)?ze("",!0):We((de(),Ae(pe,{key:0,modelValue:y(n).codcep,"onUpdate:modelValue":x[1]||(x[1]=Q=>y(n).codcep=Q),"error-messages":y(P).codcep.$errors.map(Q=>Q.$message),required:"",onBlur:y(P).codcep.$touch,onInput:y(P).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"])),[[ce,"########"]])]),_:1})),B(ve,{md:"6"},{default:j(()=>[y(A)?(de(),Ae(pe,{key:1,modelValue:y(n).logradouro,"onUpdate:modelValue":x[3]||(x[3]=Q=>y(n).logradouro=Q),label:"Endereço"},null,8,["modelValue"])):(de(),Ae(pe,{key:0,modelValue:y(n).logradouro,"onUpdate:modelValue":x[2]||(x[2]=Q=>y(n).logradouro=Q),label:"Endereço","error-messages":y(P).logradouro.$errors.map(Q=>Q.$message),required:"",onBlur:y(P).logradouro.$touch,onInput:y(P).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),B(ve,{md:"1"},{default:j(()=>[y(A)?(de(),Ae(pe,{key:1,modelValue:y(n).numero,"onUpdate:modelValue":x[5]||(x[5]=Q=>y(n).numero=Q),label:"N*"},null,8,["modelValue"])):(de(),Ae(pe,{key:0,modelValue:y(n).numero,"onUpdate:modelValue":x[4]||(x[4]=Q=>y(n).numero=Q),required:"","error-messages":y(P).numero.$errors.map(Q=>Q.$message),onBlur:y(P).numero.$touch,onInput:y(P).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),Ee("div",Ur,[Ee("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ma,alt:"novo",onClick:x[6]||(x[6]=Q=>y(A)?O():Z())})]),B(ve,{md:"5"},{default:j(()=>[B(pe,{modelValue:y(n).complemento,"onUpdate:modelValue":x[7]||(x[7]=Q=>y(n).complemento=Q),label:"Complemento"},null,8,["modelValue"])]),_:1}),B(ve,{md:"3"},{default:j(()=>[y(A)?(de(),Ae(pe,{key:1,modelValue:y(n).bairro,"onUpdate:modelValue":x[9]||(x[9]=Q=>y(n).bairro=Q),label:"Bairro"},null,8,["modelValue"])):(de(),Ae(pe,{key:0,modelValue:y(n).bairro,"onUpdate:modelValue":x[8]||(x[8]=Q=>y(n).bairro=Q),"error-messages":y(P).bairro.$errors.map(Q=>Q.$message),required:"",onBlur:y(P).bairro.$touch,onInput:y(P).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),B(ve,{md:"3"},{default:j(()=>[y(A)?(de(),Ae(pe,{key:1,modelValue:y(n).cidade_estrangeira,"onUpdate:modelValue":x[11]||(x[11]=Q=>y(n).cidade_estrangeira=Q),label:"Cidade"},null,8,["modelValue"])):(de(),Ae(Ye,{key:0,modelValue:y(n).cidade_id,"onUpdate:modelValue":x[10]||(x[10]=Q=>y(n).cidade_id=Q),items:y(z).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"]))]),_:1})]),_:1}),B(ut,{style:{"max-height":"330px"},headers:i,items:y(z).enderecosItems,"item-key":"id"},{"item.cidade":j(({item:Q})=>[Ee("h4",jr,at(k(Q)),1)]),"item.logradouro":j(({item:Q})=>[Ee("h4",Hr,at(Q.logradouro),1)]),"item.actions":j(({item:Q})=>[B(Ie,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:j(()=>[Ee("div",{onClick:te=>H(Q.id),title:"Visualizar"},x[23]||(x[23]=[Ee("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:Ft,alt:"Visualizar"},null,-1)]),8,Fr),Ee("div",{onClick:te=>J(Q),title:"Visualizar"},[Q.excluido?(de(),Se("img",qr)):(de(),Se("img",Zr))],8,Gr)]),_:2},1024)]),_:1},8,["items"]),B(Ta,{modelValue:y(l),"onUpdate:modelValue":x[22]||(x[22]=Q=>_a(l)?l.value=Q:null),"max-width":"600px"},{default:j(()=>[B(Ua,null,{default:j(()=>[B(Gt,{style:{color:"green"}},{default:j(()=>x[24]||(x[24]=[Ne("Atualizar Endereço")])),_:1}),B(qt,null,{default:j(()=>[B(Ie,null,{default:j(()=>[B(ve,{cols:"12",md:"6"},{default:j(()=>[B(Ye,{modelValue:y(_).tabvalores_pais_id,"onUpdate:modelValue":x[12]||(x[12]=Q=>y(_).tabvalores_pais_id=Q),items:y(z).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),B(ve,{cols:"12",md:"6"},{default:j(()=>[B(pe,{modelValue:y(_).logradouro,"onUpdate:modelValue":x[13]||(x[13]=Q=>y(_).logradouro=Q),label:"Logradouro"},null,8,["modelValue"])]),_:1}),B(ve,{cols:"12",md:"6"},{default:j(()=>[B(pe,{modelValue:y(_).complemento,"onUpdate:modelValue":x[14]||(x[14]=Q=>y(_).complemento=Q),label:"Complemento"},null,8,["modelValue"])]),_:1}),B(ve,{cols:"12",md:"6"},{default:j(()=>[B(pe,{modelValue:y(_).numero,"onUpdate:modelValue":x[15]||(x[15]=Q=>y(_).numero=Q),label:"Número"},null,8,["modelValue"])]),_:1}),B(ve,{cols:"12",md:"6"},{default:j(()=>[B(pe,{modelValue:y(_).bairro,"onUpdate:modelValue":x[16]||(x[16]=Q=>y(_).bairro=Q),label:"Bairro"},null,8,["modelValue"])]),_:1}),B(ve,{cols:"12",md:"6"},{default:j(()=>[B(pe,{modelValue:y(_).codcep,"onUpdate:modelValue":x[17]||(x[17]=Q=>y(_).codcep=Q),label:"CEP"},null,8,["modelValue"])]),_:1}),B(ve,{cols:"12",md:"6"},{default:j(()=>[y(_).cidade_estrangeira?(de(),Ae(Ye,{key:0,modelValue:y(_).cidade_id,"onUpdate:modelValue":x[18]||(x[18]=Q=>y(_).cidade_id=Q),items:y(z).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])):(de(),Ae(pe,{key:1,modelValue:y(_).cidade_estrangeira,"onUpdate:modelValue":x[19]||(x[19]=Q=>y(_).cidade_estrangeira=Q),label:"Cidade"},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),B(Zt,null,{default:j(()=>[B($t),B(Ge,{color:"green",text:"",onClick:x[20]||(x[20]=Q=>l.value=!1)},{default:j(()=>x[25]||(x[25]=[Ne("Cancelar")])),_:1}),B(Ge,{color:"green",text:"",onClick:x[21]||(x[21]=Q=>I(y(_).id))},{default:j(()=>x[26]||(x[26]=[Ne("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),B(Ge,{onClick:Y,class:"ml-10 mb-5",size:"large",color:"red"},{default:j(()=>x[27]||(x[27]=[Ne("Voltar")])),_:1})],64)}}},Yr={class:"finger-container"},Wr=["onClick"],Qr=["onClick"],Xr={__name:"Digital",setup(R){const L=_e(["E1","E2","E3","E4","E5"]);var G=_e(["red","red","red","red","red"]);const M=_e(["D1","D2","D3","D4","D5"]);var w=_e(["red","red","red","red","red"]);const T=Ba(),{$toast:t}=ma(),a=fa(),{id:r}=T.params,g=_e(De("pessoa-id").value).value,v=`${a.public.biometria}/capture-finger`,h=`${a.public.managemant}/createPessoaBiometria`,s=`${a.public.managemant}/getPessoaBiometriaById`;async function f(){const{status:u,data:n}=await qe(`${s}/${r||g}`,{method:"GET"},"$wrCckM1pY4");u.value==="success"&&n.value&&n.value.forEach(i=>{(L.value.includes(i.dedo)||M.value.includes(i.dedo))&&c(i.dedo,"green")})}La(()=>{f()});async function b(u){const{status:n,data:i}=await qe(v,{method:"GET"},"$b5yqRnLFV9");if(n.value==="success"){const l=i.value.hash,_={user_id:De("user-data").value.usuario_id,pessoa_id:Number(r)||g,dedo:u,hash:l},{status:A}=await qe(h,{method:"POST",body:_},"$cWP9jlCX2Z");A.value==="success"?(t.success("Biometria enviada com sucesso!"),c(u,"green")):t.error("Falha ao enviar a biometria.")}else t.error("Erro ao Capturar biometria para o sistema.")}function c(u,n){const i=L.value.findIndex(l=>l===u);if(i!==-1)G.value[i]=n;else{const l=M.value.findIndex(_=>_===u);l!==-1&&(w.value[l]=n)}}function m(u,n){const l={E1:{top:82,left:-10},E2:{top:35,left:4},E3:{top:0,left:30},E4:{top:15,left:75},E5:{top:50,left:170},D1:{top:50,left:210},D2:{top:18,left:300},D3:{top:5,left:350},D4:{top:35,left:375},D5:{top:80,left:390}}[u];let _="red";if(n==="left"){const A=L.value.indexOf(u);A!==-1&&(_=G.value[A])}else if(n==="right"){const A=M.value.indexOf(u);A!==-1&&(_=w.value[A])}return{backgroundColor:_,top:`${l.top}px`,left:`${l.left}px`}}return(u,n)=>(de(),Ae(ve,{style:{"margin-top":"20px"},cols:"auto",class:"biometria-container"},{default:j(()=>[Ee("div",Yr,[(de(!0),Se(da,null,ht(y(L),(i,l)=>(de(),Se("div",{key:l,class:"finger",style:za(m(i,"left")),onClick:_=>b(i)},null,12,Wr))),128)),(de(!0),Se(da,null,ht(y(M),(i,l)=>(de(),Se("div",{key:l,class:"finger",style:za(m(i,"right")),onClick:_=>b(i)},null,12,Qr))),128))])]),_:1}))}},ei=Ot(Xr,[["__scopeId","data-v-12f11fb7"]]);var ja={exports:{}},Ha={},bt;function pa(){return bt||(bt=1,function(R){var L=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function G(T,t){return Object.prototype.hasOwnProperty.call(T,t)}R.assign=function(T){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var a=t.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var r in a)G(a,r)&&(T[r]=a[r])}}return T},R.shrinkBuf=function(T,t){return T.length===t?T:T.subarray?T.subarray(0,t):(T.length=t,T)};var M={arraySet:function(T,t,a,r,g){if(t.subarray&&T.subarray){T.set(t.subarray(a,a+r),g);return}for(var v=0;v<r;v++)T[g+v]=t[a+v]},flattenChunks:function(T){var t,a,r,g,v,h;for(r=0,t=0,a=T.length;t<a;t++)r+=T[t].length;for(h=new Uint8Array(r),g=0,t=0,a=T.length;t<a;t++)v=T[t],h.set(v,g),g+=v.length;return h}},w={arraySet:function(T,t,a,r,g){for(var v=0;v<r;v++)T[g+v]=t[a+v]},flattenChunks:function(T){return[].concat.apply([],T)}};R.setTyped=function(T){T?(R.Buf8=Uint8Array,R.Buf16=Uint16Array,R.Buf32=Int32Array,R.assign(R,M)):(R.Buf8=Array,R.Buf16=Array,R.Buf32=Array,R.assign(R,w))},R.setTyped(L)}(Ha)),Ha}var Ca={},ra={},ga={},At;function ai(){if(At)return ga;At=1;var R=pa(),L=4,G=0,M=1,w=2;function T(p){for(var ee=p.length;--ee>=0;)p[ee]=0}var t=0,a=1,r=2,g=3,v=258,h=29,s=256,f=s+1+h,b=30,c=19,m=2*f+1,u=15,n=16,i=7,l=256,_=16,A=17,k=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=512,D=new Array((f+2)*2);T(D);var $=new Array(b*2);T($);var K=new Array(z);T(K);var Z=new Array(v-g+1);T(Z);var O=new Array(h);T(O);var H=new Array(b);T(H);function I(p,ee,re,le,N){this.static_tree=p,this.extra_bits=ee,this.extra_base=re,this.elems=le,this.max_length=N,this.has_stree=p&&p.length}var J,Y,X;function x(p,ee){this.dyn_tree=p,this.max_code=0,this.stat_desc=ee}function ce(p){return p<256?K[p]:K[256+(p>>>7)]}function Q(p,ee){p.pending_buf[p.pending++]=ee&255,p.pending_buf[p.pending++]=ee>>>8&255}function te(p,ee,re){p.bi_valid>n-re?(p.bi_buf|=ee<<p.bi_valid&65535,Q(p,p.bi_buf),p.bi_buf=ee>>n-p.bi_valid,p.bi_valid+=re-n):(p.bi_buf|=ee<<p.bi_valid&65535,p.bi_valid+=re)}function se(p,ee,re){te(p,re[ee*2],re[ee*2+1])}function be(p,ee){var re=0;do re|=p&1,p>>>=1,re<<=1;while(--ee>0);return re>>>1}function Be(p){p.bi_valid===16?(Q(p,p.bi_buf),p.bi_buf=0,p.bi_valid=0):p.bi_valid>=8&&(p.pending_buf[p.pending++]=p.bi_buf&255,p.bi_buf>>=8,p.bi_valid-=8)}function Ke(p,ee){var re=ee.dyn_tree,le=ee.max_code,N=ee.stat_desc.static_tree,W=ee.stat_desc.has_stree,o=ee.stat_desc.extra_bits,ae=ee.stat_desc.extra_base,he=ee.stat_desc.max_length,e,F,q,d,V,U,fe=0;for(d=0;d<=u;d++)p.bl_count[d]=0;for(re[p.heap[p.heap_max]*2+1]=0,e=p.heap_max+1;e<m;e++)F=p.heap[e],d=re[re[F*2+1]*2+1]+1,d>he&&(d=he,fe++),re[F*2+1]=d,!(F>le)&&(p.bl_count[d]++,V=0,F>=ae&&(V=o[F-ae]),U=re[F*2],p.opt_len+=U*(d+V),W&&(p.static_len+=U*(N[F*2+1]+V)));if(fe!==0){do{for(d=he-1;p.bl_count[d]===0;)d--;p.bl_count[d]--,p.bl_count[d+1]+=2,p.bl_count[he]--,fe-=2}while(fe>0);for(d=he;d!==0;d--)for(F=p.bl_count[d];F!==0;)q=p.heap[--e],!(q>le)&&(re[q*2+1]!==d&&(p.opt_len+=(d-re[q*2+1])*re[q*2],re[q*2+1]=d),F--)}}function Re(p,ee,re){var le=new Array(u+1),N=0,W,o;for(W=1;W<=u;W++)le[W]=N=N+re[W-1]<<1;for(o=0;o<=ee;o++){var ae=p[o*2+1];ae!==0&&(p[o*2]=be(le[ae]++,ae))}}function we(){var p,ee,re,le,N,W=new Array(u+1);for(re=0,le=0;le<h-1;le++)for(O[le]=re,p=0;p<1<<C[le];p++)Z[re++]=le;for(Z[re-1]=le,N=0,le=0;le<16;le++)for(H[le]=N,p=0;p<1<<P[le];p++)K[N++]=le;for(N>>=7;le<b;le++)for(H[le]=N<<7,p=0;p<1<<P[le]-7;p++)K[256+N++]=le;for(ee=0;ee<=u;ee++)W[ee]=0;for(p=0;p<=143;)D[p*2+1]=8,p++,W[8]++;for(;p<=255;)D[p*2+1]=9,p++,W[9]++;for(;p<=279;)D[p*2+1]=7,p++,W[7]++;for(;p<=287;)D[p*2+1]=8,p++,W[8]++;for(Re(D,f+1,W),p=0;p<b;p++)$[p*2+1]=5,$[p*2]=be(p,5);J=new I(D,C,s+1,f,u),Y=new I($,P,0,b,u),X=new I(new Array(0),S,0,c,i)}function $e(p){var ee;for(ee=0;ee<f;ee++)p.dyn_ltree[ee*2]=0;for(ee=0;ee<b;ee++)p.dyn_dtree[ee*2]=0;for(ee=0;ee<c;ee++)p.bl_tree[ee*2]=0;p.dyn_ltree[l*2]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function Ze(p){p.bi_valid>8?Q(p,p.bi_buf):p.bi_valid>0&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function Le(p,ee,re,le){Ze(p),Q(p,re),Q(p,~re),R.arraySet(p.pending_buf,p.window,ee,re,p.pending),p.pending+=re}function me(p,ee,re,le){var N=ee*2,W=re*2;return p[N]<p[W]||p[N]===p[W]&&le[ee]<=le[re]}function ne(p,ee,re){for(var le=p.heap[re],N=re<<1;N<=p.heap_len&&(N<p.heap_len&&me(ee,p.heap[N+1],p.heap[N],p.depth)&&N++,!me(ee,le,p.heap[N],p.depth));)p.heap[re]=p.heap[N],re=N,N<<=1;p.heap[re]=le}function ue(p,ee,re){var le,N,W=0,o,ae;if(p.last_lit!==0)do le=p.pending_buf[p.d_buf+W*2]<<8|p.pending_buf[p.d_buf+W*2+1],N=p.pending_buf[p.l_buf+W],W++,le===0?se(p,N,ee):(o=Z[N],se(p,o+s+1,ee),ae=C[o],ae!==0&&(N-=O[o],te(p,N,ae)),le--,o=ce(le),se(p,o,re),ae=P[o],ae!==0&&(le-=H[o],te(p,le,ae)));while(W<p.last_lit);se(p,l,ee)}function ge(p,ee){var re=ee.dyn_tree,le=ee.stat_desc.static_tree,N=ee.stat_desc.has_stree,W=ee.stat_desc.elems,o,ae,he=-1,e;for(p.heap_len=0,p.heap_max=m,o=0;o<W;o++)re[o*2]!==0?(p.heap[++p.heap_len]=he=o,p.depth[o]=0):re[o*2+1]=0;for(;p.heap_len<2;)e=p.heap[++p.heap_len]=he<2?++he:0,re[e*2]=1,p.depth[e]=0,p.opt_len--,N&&(p.static_len-=le[e*2+1]);for(ee.max_code=he,o=p.heap_len>>1;o>=1;o--)ne(p,re,o);e=W;do o=p.heap[1],p.heap[1]=p.heap[p.heap_len--],ne(p,re,1),ae=p.heap[1],p.heap[--p.heap_max]=o,p.heap[--p.heap_max]=ae,re[e*2]=re[o*2]+re[ae*2],p.depth[e]=(p.depth[o]>=p.depth[ae]?p.depth[o]:p.depth[ae])+1,re[o*2+1]=re[ae*2+1]=e,p.heap[1]=e++,ne(p,re,1);while(p.heap_len>=2);p.heap[--p.heap_max]=p.heap[1],Ke(p,ee),Re(re,he,p.bl_count)}function xe(p,ee,re){var le,N=-1,W,o=ee[0*2+1],ae=0,he=7,e=4;for(o===0&&(he=138,e=3),ee[(re+1)*2+1]=65535,le=0;le<=re;le++)W=o,o=ee[(le+1)*2+1],!(++ae<he&&W===o)&&(ae<e?p.bl_tree[W*2]+=ae:W!==0?(W!==N&&p.bl_tree[W*2]++,p.bl_tree[_*2]++):ae<=10?p.bl_tree[A*2]++:p.bl_tree[k*2]++,ae=0,N=W,o===0?(he=138,e=3):W===o?(he=6,e=3):(he=7,e=4))}function Ce(p,ee,re){var le,N=-1,W,o=ee[0*2+1],ae=0,he=7,e=4;for(o===0&&(he=138,e=3),le=0;le<=re;le++)if(W=o,o=ee[(le+1)*2+1],!(++ae<he&&W===o)){if(ae<e)do se(p,W,p.bl_tree);while(--ae!==0);else W!==0?(W!==N&&(se(p,W,p.bl_tree),ae--),se(p,_,p.bl_tree),te(p,ae-3,2)):ae<=10?(se(p,A,p.bl_tree),te(p,ae-3,3)):(se(p,k,p.bl_tree),te(p,ae-11,7));ae=0,N=W,o===0?(he=138,e=3):W===o?(he=6,e=3):(he=7,e=4)}}function je(p){var ee;for(xe(p,p.dyn_ltree,p.l_desc.max_code),xe(p,p.dyn_dtree,p.d_desc.max_code),ge(p,p.bl_desc),ee=c-1;ee>=3&&p.bl_tree[E[ee]*2+1]===0;ee--);return p.opt_len+=3*(ee+1)+5+5+4,ee}function wa(p,ee,re,le){var N;for(te(p,ee-257,5),te(p,re-1,5),te(p,le-4,4),N=0;N<le;N++)te(p,p.bl_tree[E[N]*2+1],3);Ce(p,p.dyn_ltree,ee-1),Ce(p,p.dyn_dtree,re-1)}function va(p){var ee=4093624447,re;for(re=0;re<=31;re++,ee>>>=1)if(ee&1&&p.dyn_ltree[re*2]!==0)return G;if(p.dyn_ltree[9*2]!==0||p.dyn_ltree[10*2]!==0||p.dyn_ltree[13*2]!==0)return M;for(re=32;re<s;re++)if(p.dyn_ltree[re*2]!==0)return M;return G}var ta=!1;function ka(p){ta||(we(),ta=!0),p.l_desc=new x(p.dyn_ltree,J),p.d_desc=new x(p.dyn_dtree,Y),p.bl_desc=new x(p.bl_tree,X),p.bi_buf=0,p.bi_valid=0,$e(p)}function ha(p,ee,re,le){te(p,(t<<1)+(le?1:0),3),Le(p,ee,re)}function He(p){te(p,a<<1,3),se(p,l,D),Be(p)}function na(p,ee,re,le){var N,W,o=0;p.level>0?(p.strm.data_type===w&&(p.strm.data_type=va(p)),ge(p,p.l_desc),ge(p,p.d_desc),o=je(p),N=p.opt_len+3+7>>>3,W=p.static_len+3+7>>>3,W<=N&&(N=W)):N=W=re+5,re+4<=N&&ee!==-1?ha(p,ee,re,le):p.strategy===L||W===N?(te(p,(a<<1)+(le?1:0),3),ue(p,D,$)):(te(p,(r<<1)+(le?1:0),3),wa(p,p.l_desc.max_code+1,p.d_desc.max_code+1,o+1),ue(p,p.dyn_ltree,p.dyn_dtree)),$e(p),le&&Ze(p)}function ya(p,ee,re){return p.pending_buf[p.d_buf+p.last_lit*2]=ee>>>8&255,p.pending_buf[p.d_buf+p.last_lit*2+1]=ee&255,p.pending_buf[p.l_buf+p.last_lit]=re&255,p.last_lit++,ee===0?p.dyn_ltree[re*2]++:(p.matches++,ee--,p.dyn_ltree[(Z[re]+s+1)*2]++,p.dyn_dtree[ce(ee)*2]++),p.last_lit===p.lit_bufsize-1}return ga._tr_init=ka,ga._tr_stored_block=ha,ga._tr_flush_block=na,ga._tr_tally=ya,ga._tr_align=He,ga}var Fa,wt;function Yt(){if(wt)return Fa;wt=1;function R(L,G,M,w){for(var T=L&65535|0,t=L>>>16&65535|0,a=0;M!==0;){a=M>2e3?2e3:M,M-=a;do T=T+G[w++]|0,t=t+T|0;while(--a);T%=65521,t%=65521}return T|t<<16|0}return Fa=R,Fa}var Ga,kt;function Wt(){if(kt)return Ga;kt=1;function R(){for(var M,w=[],T=0;T<256;T++){M=T;for(var t=0;t<8;t++)M=M&1?3988292384^M>>>1:M>>>1;w[T]=M}return w}var L=R();function G(M,w,T,t){var a=L,r=t+T;M^=-1;for(var g=t;g<r;g++)M=M>>>8^a[(M^w[g])&255];return M^-1}return Ga=G,Ga}var qa,yt;function ct(){return yt||(yt=1,qa={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),qa}var xt;function ti(){if(xt)return ra;xt=1;var R=pa(),L=ai(),G=Yt(),M=Wt(),w=ct(),T=0,t=1,a=3,r=4,g=5,v=0,h=1,s=-2,f=-3,b=-5,c=-1,m=1,u=2,n=3,i=4,l=0,_=2,A=8,k=9,C=15,P=8,S=29,E=256,z=E+1+S,D=30,$=19,K=2*z+1,Z=15,O=3,H=258,I=H+O+1,J=32,Y=42,X=69,x=73,ce=91,Q=103,te=113,se=666,be=1,Be=2,Ke=3,Re=4,we=3;function $e(e,F){return e.msg=w[F],F}function Ze(e){return(e<<1)-(e>4?9:0)}function Le(e){for(var F=e.length;--F>=0;)e[F]=0}function me(e){var F=e.state,q=F.pending;q>e.avail_out&&(q=e.avail_out),q!==0&&(R.arraySet(e.output,F.pending_buf,F.pending_out,q,e.next_out),e.next_out+=q,F.pending_out+=q,e.total_out+=q,e.avail_out-=q,F.pending-=q,F.pending===0&&(F.pending_out=0))}function ne(e,F){L._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,F),e.block_start=e.strstart,me(e.strm)}function ue(e,F){e.pending_buf[e.pending++]=F}function ge(e,F){e.pending_buf[e.pending++]=F>>>8&255,e.pending_buf[e.pending++]=F&255}function xe(e,F,q,d){var V=e.avail_in;return V>d&&(V=d),V===0?0:(e.avail_in-=V,R.arraySet(F,e.input,e.next_in,V,q),e.state.wrap===1?e.adler=G(e.adler,F,V,q):e.state.wrap===2&&(e.adler=M(e.adler,F,V,q)),e.next_in+=V,e.total_in+=V,V)}function Ce(e,F){var q=e.max_chain_length,d=e.strstart,V,U,fe=e.prev_length,ie=e.nice_match,oe=e.strstart>e.w_size-I?e.strstart-(e.w_size-I):0,ke=e.window,ua=e.w_mask,Pe=e.prev,ye=e.strstart+H,Oe=ke[d+fe-1],Fe=ke[d+fe];e.prev_length>=e.good_match&&(q>>=2),ie>e.lookahead&&(ie=e.lookahead);do if(V=F,!(ke[V+fe]!==Fe||ke[V+fe-1]!==Oe||ke[V]!==ke[d]||ke[++V]!==ke[d+1])){d+=2,V++;do;while(ke[++d]===ke[++V]&&ke[++d]===ke[++V]&&ke[++d]===ke[++V]&&ke[++d]===ke[++V]&&ke[++d]===ke[++V]&&ke[++d]===ke[++V]&&ke[++d]===ke[++V]&&ke[++d]===ke[++V]&&d<ye);if(U=H-(ye-d),d=ye-H,U>fe){if(e.match_start=F,fe=U,U>=ie)break;Oe=ke[d+fe-1],Fe=ke[d+fe]}}while((F=Pe[F&ua])>oe&&--q!==0);return fe<=e.lookahead?fe:e.lookahead}function je(e){var F=e.w_size,q,d,V,U,fe;do{if(U=e.window_size-e.lookahead-e.strstart,e.strstart>=F+(F-I)){R.arraySet(e.window,e.window,F,F,0),e.match_start-=F,e.strstart-=F,e.block_start-=F,d=e.hash_size,q=d;do V=e.head[--q],e.head[q]=V>=F?V-F:0;while(--d);d=F,q=d;do V=e.prev[--q],e.prev[q]=V>=F?V-F:0;while(--d);U+=F}if(e.strm.avail_in===0)break;if(d=xe(e.strm,e.window,e.strstart+e.lookahead,U),e.lookahead+=d,e.lookahead+e.insert>=O)for(fe=e.strstart-e.insert,e.ins_h=e.window[fe],e.ins_h=(e.ins_h<<e.hash_shift^e.window[fe+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[fe+O-1])&e.hash_mask,e.prev[fe&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=fe,fe++,e.insert--,!(e.lookahead+e.insert<O)););}while(e.lookahead<I&&e.strm.avail_in!==0)}function wa(e,F){var q=65535;for(q>e.pending_buf_size-5&&(q=e.pending_buf_size-5);;){if(e.lookahead<=1){if(je(e),e.lookahead===0&&F===T)return be;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var d=e.block_start+q;if((e.strstart===0||e.strstart>=d)&&(e.lookahead=e.strstart-d,e.strstart=d,ne(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-I&&(ne(e,!1),e.strm.avail_out===0))return be}return e.insert=0,F===r?(ne(e,!0),e.strm.avail_out===0?Ke:Re):(e.strstart>e.block_start&&(ne(e,!1),e.strm.avail_out===0),be)}function va(e,F){for(var q,d;;){if(e.lookahead<I){if(je(e),e.lookahead<I&&F===T)return be;if(e.lookahead===0)break}if(q=0,e.lookahead>=O&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,q=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),q!==0&&e.strstart-q<=e.w_size-I&&(e.match_length=Ce(e,q)),e.match_length>=O)if(d=L._tr_tally(e,e.strstart-e.match_start,e.match_length-O),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=O){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,q=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else d=L._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(d&&(ne(e,!1),e.strm.avail_out===0))return be}return e.insert=e.strstart<O-1?e.strstart:O-1,F===r?(ne(e,!0),e.strm.avail_out===0?Ke:Re):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?be:Be}function ta(e,F){for(var q,d,V;;){if(e.lookahead<I){if(je(e),e.lookahead<I&&F===T)return be;if(e.lookahead===0)break}if(q=0,e.lookahead>=O&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,q=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=O-1,q!==0&&e.prev_length<e.max_lazy_match&&e.strstart-q<=e.w_size-I&&(e.match_length=Ce(e,q),e.match_length<=5&&(e.strategy===m||e.match_length===O&&e.strstart-e.match_start>4096)&&(e.match_length=O-1)),e.prev_length>=O&&e.match_length<=e.prev_length){V=e.strstart+e.lookahead-O,d=L._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-O),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=V&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,q=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=O-1,e.strstart++,d&&(ne(e,!1),e.strm.avail_out===0))return be}else if(e.match_available){if(d=L._tr_tally(e,0,e.window[e.strstart-1]),d&&ne(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return be}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(d=L._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<O-1?e.strstart:O-1,F===r?(ne(e,!0),e.strm.avail_out===0?Ke:Re):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?be:Be}function ka(e,F){for(var q,d,V,U,fe=e.window;;){if(e.lookahead<=H){if(je(e),e.lookahead<=H&&F===T)return be;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=O&&e.strstart>0&&(V=e.strstart-1,d=fe[V],d===fe[++V]&&d===fe[++V]&&d===fe[++V])){U=e.strstart+H;do;while(d===fe[++V]&&d===fe[++V]&&d===fe[++V]&&d===fe[++V]&&d===fe[++V]&&d===fe[++V]&&d===fe[++V]&&d===fe[++V]&&V<U);e.match_length=H-(U-V),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=O?(q=L._tr_tally(e,1,e.match_length-O),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(q=L._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),q&&(ne(e,!1),e.strm.avail_out===0))return be}return e.insert=0,F===r?(ne(e,!0),e.strm.avail_out===0?Ke:Re):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?be:Be}function ha(e,F){for(var q;;){if(e.lookahead===0&&(je(e),e.lookahead===0)){if(F===T)return be;break}if(e.match_length=0,q=L._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,q&&(ne(e,!1),e.strm.avail_out===0))return be}return e.insert=0,F===r?(ne(e,!0),e.strm.avail_out===0?Ke:Re):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?be:Be}function He(e,F,q,d,V){this.good_length=e,this.max_lazy=F,this.nice_length=q,this.max_chain=d,this.func=V}var na;na=[new He(0,0,0,0,wa),new He(4,4,8,4,va),new He(4,5,16,8,va),new He(4,6,32,32,va),new He(4,4,16,16,ta),new He(8,16,32,32,ta),new He(8,16,128,128,ta),new He(8,32,128,256,ta),new He(32,128,258,1024,ta),new He(32,258,258,4096,ta)];function ya(e){e.window_size=2*e.w_size,Le(e.head),e.max_lazy_match=na[e.level].max_lazy,e.good_match=na[e.level].good_length,e.nice_match=na[e.level].nice_length,e.max_chain_length=na[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=O-1,e.match_available=0,e.ins_h=0}function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(K*2),this.dyn_dtree=new R.Buf16((2*D+1)*2),this.bl_tree=new R.Buf16((2*$+1)*2),Le(this.dyn_ltree),Le(this.dyn_dtree),Le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(Z+1),this.heap=new R.Buf16(2*z+1),Le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*z+1),Le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ee(e){var F;return!e||!e.state?$e(e,s):(e.total_in=e.total_out=0,e.data_type=_,F=e.state,F.pending=0,F.pending_out=0,F.wrap<0&&(F.wrap=-F.wrap),F.status=F.wrap?Y:te,e.adler=F.wrap===2?0:1,F.last_flush=T,L._tr_init(F),v)}function re(e){var F=ee(e);return F===v&&ya(e.state),F}function le(e,F){return!e||!e.state||e.state.wrap!==2?s:(e.state.gzhead=F,v)}function N(e,F,q,d,V,U){if(!e)return s;var fe=1;if(F===c&&(F=6),d<0?(fe=0,d=-d):d>15&&(fe=2,d-=16),V<1||V>k||q!==A||d<8||d>15||F<0||F>9||U<0||U>i)return $e(e,s);d===8&&(d=9);var ie=new p;return e.state=ie,ie.strm=e,ie.wrap=fe,ie.gzhead=null,ie.w_bits=d,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=V+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+O-1)/O),ie.window=new R.Buf8(ie.w_size*2),ie.head=new R.Buf16(ie.hash_size),ie.prev=new R.Buf16(ie.w_size),ie.lit_bufsize=1<<V+6,ie.pending_buf_size=ie.lit_bufsize*4,ie.pending_buf=new R.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=F,ie.strategy=U,ie.method=q,re(e)}function W(e,F){return N(e,F,A,C,P,l)}function o(e,F){var q,d,V,U;if(!e||!e.state||F>g||F<0)return e?$e(e,s):s;if(d=e.state,!e.output||!e.input&&e.avail_in!==0||d.status===se&&F!==r)return $e(e,e.avail_out===0?b:s);if(d.strm=e,q=d.last_flush,d.last_flush=F,d.status===Y)if(d.wrap===2)e.adler=0,ue(d,31),ue(d,139),ue(d,8),d.gzhead?(ue(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),ue(d,d.gzhead.time&255),ue(d,d.gzhead.time>>8&255),ue(d,d.gzhead.time>>16&255),ue(d,d.gzhead.time>>24&255),ue(d,d.level===9?2:d.strategy>=u||d.level<2?4:0),ue(d,d.gzhead.os&255),d.gzhead.extra&&d.gzhead.extra.length&&(ue(d,d.gzhead.extra.length&255),ue(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(e.adler=M(e.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=X):(ue(d,0),ue(d,0),ue(d,0),ue(d,0),ue(d,0),ue(d,d.level===9?2:d.strategy>=u||d.level<2?4:0),ue(d,we),d.status=te);else{var fe=A+(d.w_bits-8<<4)<<8,ie=-1;d.strategy>=u||d.level<2?ie=0:d.level<6?ie=1:d.level===6?ie=2:ie=3,fe|=ie<<6,d.strstart!==0&&(fe|=J),fe+=31-fe%31,d.status=te,ge(d,fe),d.strstart!==0&&(ge(d,e.adler>>>16),ge(d,e.adler&65535)),e.adler=1}if(d.status===X)if(d.gzhead.extra){for(V=d.pending;d.gzindex<(d.gzhead.extra.length&65535)&&!(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>V&&(e.adler=M(e.adler,d.pending_buf,d.pending-V,V)),me(e),V=d.pending,d.pending===d.pending_buf_size));)ue(d,d.gzhead.extra[d.gzindex]&255),d.gzindex++;d.gzhead.hcrc&&d.pending>V&&(e.adler=M(e.adler,d.pending_buf,d.pending-V,V)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=x)}else d.status=x;if(d.status===x)if(d.gzhead.name){V=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>V&&(e.adler=M(e.adler,d.pending_buf,d.pending-V,V)),me(e),V=d.pending,d.pending===d.pending_buf_size)){U=1;break}d.gzindex<d.gzhead.name.length?U=d.gzhead.name.charCodeAt(d.gzindex++)&255:U=0,ue(d,U)}while(U!==0);d.gzhead.hcrc&&d.pending>V&&(e.adler=M(e.adler,d.pending_buf,d.pending-V,V)),U===0&&(d.gzindex=0,d.status=ce)}else d.status=ce;if(d.status===ce)if(d.gzhead.comment){V=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>V&&(e.adler=M(e.adler,d.pending_buf,d.pending-V,V)),me(e),V=d.pending,d.pending===d.pending_buf_size)){U=1;break}d.gzindex<d.gzhead.comment.length?U=d.gzhead.comment.charCodeAt(d.gzindex++)&255:U=0,ue(d,U)}while(U!==0);d.gzhead.hcrc&&d.pending>V&&(e.adler=M(e.adler,d.pending_buf,d.pending-V,V)),U===0&&(d.status=Q)}else d.status=Q;if(d.status===Q&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&me(e),d.pending+2<=d.pending_buf_size&&(ue(d,e.adler&255),ue(d,e.adler>>8&255),e.adler=0,d.status=te)):d.status=te),d.pending!==0){if(me(e),e.avail_out===0)return d.last_flush=-1,v}else if(e.avail_in===0&&Ze(F)<=Ze(q)&&F!==r)return $e(e,b);if(d.status===se&&e.avail_in!==0)return $e(e,b);if(e.avail_in!==0||d.lookahead!==0||F!==T&&d.status!==se){var oe=d.strategy===u?ha(d,F):d.strategy===n?ka(d,F):na[d.level].func(d,F);if((oe===Ke||oe===Re)&&(d.status=se),oe===be||oe===Ke)return e.avail_out===0&&(d.last_flush=-1),v;if(oe===Be&&(F===t?L._tr_align(d):F!==g&&(L._tr_stored_block(d,0,0,!1),F===a&&(Le(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),me(e),e.avail_out===0))return d.last_flush=-1,v}return F!==r?v:d.wrap<=0?h:(d.wrap===2?(ue(d,e.adler&255),ue(d,e.adler>>8&255),ue(d,e.adler>>16&255),ue(d,e.adler>>24&255),ue(d,e.total_in&255),ue(d,e.total_in>>8&255),ue(d,e.total_in>>16&255),ue(d,e.total_in>>24&255)):(ge(d,e.adler>>>16),ge(d,e.adler&65535)),me(e),d.wrap>0&&(d.wrap=-d.wrap),d.pending!==0?v:h)}function ae(e){var F;return!e||!e.state?s:(F=e.state.status,F!==Y&&F!==X&&F!==x&&F!==ce&&F!==Q&&F!==te&&F!==se?$e(e,s):(e.state=null,F===te?$e(e,f):v))}function he(e,F){var q=F.length,d,V,U,fe,ie,oe,ke,ua;if(!e||!e.state||(d=e.state,fe=d.wrap,fe===2||fe===1&&d.status!==Y||d.lookahead))return s;for(fe===1&&(e.adler=G(e.adler,F,q,0)),d.wrap=0,q>=d.w_size&&(fe===0&&(Le(d.head),d.strstart=0,d.block_start=0,d.insert=0),ua=new R.Buf8(d.w_size),R.arraySet(ua,F,q-d.w_size,d.w_size,0),F=ua,q=d.w_size),ie=e.avail_in,oe=e.next_in,ke=e.input,e.avail_in=q,e.next_in=0,e.input=F,je(d);d.lookahead>=O;){V=d.strstart,U=d.lookahead-(O-1);do d.ins_h=(d.ins_h<<d.hash_shift^d.window[V+O-1])&d.hash_mask,d.prev[V&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=V,V++;while(--U);d.strstart=V,d.lookahead=O-1,je(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=O-1,d.match_available=0,e.next_in=oe,e.input=ke,e.avail_in=ie,d.wrap=fe,v}return ra.deflateInit=W,ra.deflateInit2=N,ra.deflateReset=re,ra.deflateResetKeep=ee,ra.deflateSetHeader=le,ra.deflate=o,ra.deflateEnd=ae,ra.deflateSetDictionary=he,ra.deflateInfo="pako deflate (from Nodeca project)",ra}var ba={},Et;function Qt(){if(Et)return ba;Et=1;var R=pa(),L=!0,G=!0;try{String.fromCharCode.apply(null,[0])}catch{L=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{G=!1}for(var M=new R.Buf8(256),w=0;w<256;w++)M[w]=w>=252?6:w>=248?5:w>=240?4:w>=224?3:w>=192?2:1;M[254]=M[254]=1,ba.string2buf=function(t){var a,r,g,v,h,s=t.length,f=0;for(v=0;v<s;v++)r=t.charCodeAt(v),(r&64512)===55296&&v+1<s&&(g=t.charCodeAt(v+1),(g&64512)===56320&&(r=65536+(r-55296<<10)+(g-56320),v++)),f+=r<128?1:r<2048?2:r<65536?3:4;for(a=new R.Buf8(f),h=0,v=0;h<f;v++)r=t.charCodeAt(v),(r&64512)===55296&&v+1<s&&(g=t.charCodeAt(v+1),(g&64512)===56320&&(r=65536+(r-55296<<10)+(g-56320),v++)),r<128?a[h++]=r:r<2048?(a[h++]=192|r>>>6,a[h++]=128|r&63):r<65536?(a[h++]=224|r>>>12,a[h++]=128|r>>>6&63,a[h++]=128|r&63):(a[h++]=240|r>>>18,a[h++]=128|r>>>12&63,a[h++]=128|r>>>6&63,a[h++]=128|r&63);return a};function T(t,a){if(a<65534&&(t.subarray&&G||!t.subarray&&L))return String.fromCharCode.apply(null,R.shrinkBuf(t,a));for(var r="",g=0;g<a;g++)r+=String.fromCharCode(t[g]);return r}return ba.buf2binstring=function(t){return T(t,t.length)},ba.binstring2buf=function(t){for(var a=new R.Buf8(t.length),r=0,g=a.length;r<g;r++)a[r]=t.charCodeAt(r);return a},ba.buf2string=function(t,a){var r,g,v,h,s=a||t.length,f=new Array(s*2);for(g=0,r=0;r<s;){if(v=t[r++],v<128){f[g++]=v;continue}if(h=M[v],h>4){f[g++]=65533,r+=h-1;continue}for(v&=h===2?31:h===3?15:7;h>1&&r<s;)v=v<<6|t[r++]&63,h--;if(h>1){f[g++]=65533;continue}v<65536?f[g++]=v:(v-=65536,f[g++]=55296|v>>10&1023,f[g++]=56320|v&1023)}return T(f,g)},ba.utf8border=function(t,a){var r;for(a=a||t.length,a>t.length&&(a=t.length),r=a-1;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?a:r+M[t[r]]>a?r:a},ba}var Za,Ct;function Xt(){if(Ct)return Za;Ct=1;function R(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return Za=R,Za}var Vt;function ri(){if(Vt)return Ca;Vt=1;var R=ti(),L=pa(),G=Qt(),M=ct(),w=Xt(),T=Object.prototype.toString,t=0,a=4,r=0,g=1,v=2,h=-1,s=0,f=8;function b(n){if(!(this instanceof b))return new b(n);this.options=L.assign({level:h,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:s,to:""},n||{});var i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var l=R.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(l!==r)throw new Error(M[l]);if(i.header&&R.deflateSetHeader(this.strm,i.header),i.dictionary){var _;if(typeof i.dictionary=="string"?_=G.string2buf(i.dictionary):T.call(i.dictionary)==="[object ArrayBuffer]"?_=new Uint8Array(i.dictionary):_=i.dictionary,l=R.deflateSetDictionary(this.strm,_),l!==r)throw new Error(M[l]);this._dict_set=!0}}b.prototype.push=function(n,i){var l=this.strm,_=this.options.chunkSize,A,k;if(this.ended)return!1;k=i===~~i?i:i===!0?a:t,typeof n=="string"?l.input=G.string2buf(n):T.call(n)==="[object ArrayBuffer]"?l.input=new Uint8Array(n):l.input=n,l.next_in=0,l.avail_in=l.input.length;do{if(l.avail_out===0&&(l.output=new L.Buf8(_),l.next_out=0,l.avail_out=_),A=R.deflate(l,k),A!==g&&A!==r)return this.onEnd(A),this.ended=!0,!1;(l.avail_out===0||l.avail_in===0&&(k===a||k===v))&&(this.options.to==="string"?this.onData(G.buf2binstring(L.shrinkBuf(l.output,l.next_out))):this.onData(L.shrinkBuf(l.output,l.next_out)))}while((l.avail_in>0||l.avail_out===0)&&A!==g);return k===a?(A=R.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===r):(k===v&&(this.onEnd(r),l.avail_out=0),!0)},b.prototype.onData=function(n){this.chunks.push(n)},b.prototype.onEnd=function(n){n===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=L.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function c(n,i){var l=new b(i);if(l.push(n,!0),l.err)throw l.msg||M[l.err];return l.result}function m(n,i){return i=i||{},i.raw=!0,c(n,i)}function u(n,i){return i=i||{},i.gzip=!0,c(n,i)}return Ca.Deflate=b,Ca.deflate=c,Ca.deflateRaw=m,Ca.gzip=u,Ca}var Va={},ea={},Ja,St;function ii(){if(St)return Ja;St=1;var R=30,L=12;return Ja=function(M,w){var T,t,a,r,g,v,h,s,f,b,c,m,u,n,i,l,_,A,k,C,P,S,E,z,D;T=M.state,t=M.next_in,z=M.input,a=t+(M.avail_in-5),r=M.next_out,D=M.output,g=r-(w-M.avail_out),v=r+(M.avail_out-257),h=T.dmax,s=T.wsize,f=T.whave,b=T.wnext,c=T.window,m=T.hold,u=T.bits,n=T.lencode,i=T.distcode,l=(1<<T.lenbits)-1,_=(1<<T.distbits)-1;e:do{u<15&&(m+=z[t++]<<u,u+=8,m+=z[t++]<<u,u+=8),A=n[m&l];a:for(;;){if(k=A>>>24,m>>>=k,u-=k,k=A>>>16&255,k===0)D[r++]=A&65535;else if(k&16){C=A&65535,k&=15,k&&(u<k&&(m+=z[t++]<<u,u+=8),C+=m&(1<<k)-1,m>>>=k,u-=k),u<15&&(m+=z[t++]<<u,u+=8,m+=z[t++]<<u,u+=8),A=i[m&_];t:for(;;){if(k=A>>>24,m>>>=k,u-=k,k=A>>>16&255,k&16){if(P=A&65535,k&=15,u<k&&(m+=z[t++]<<u,u+=8,u<k&&(m+=z[t++]<<u,u+=8)),P+=m&(1<<k)-1,P>h){M.msg="invalid distance too far back",T.mode=R;break e}if(m>>>=k,u-=k,k=r-g,P>k){if(k=P-k,k>f&&T.sane){M.msg="invalid distance too far back",T.mode=R;break e}if(S=0,E=c,b===0){if(S+=s-k,k<C){C-=k;do D[r++]=c[S++];while(--k);S=r-P,E=D}}else if(b<k){if(S+=s+b-k,k-=b,k<C){C-=k;do D[r++]=c[S++];while(--k);if(S=0,b<C){k=b,C-=k;do D[r++]=c[S++];while(--k);S=r-P,E=D}}}else if(S+=b-k,k<C){C-=k;do D[r++]=c[S++];while(--k);S=r-P,E=D}for(;C>2;)D[r++]=E[S++],D[r++]=E[S++],D[r++]=E[S++],C-=3;C&&(D[r++]=E[S++],C>1&&(D[r++]=E[S++]))}else{S=r-P;do D[r++]=D[S++],D[r++]=D[S++],D[r++]=D[S++],C-=3;while(C>2);C&&(D[r++]=D[S++],C>1&&(D[r++]=D[S++]))}}else if(k&64){M.msg="invalid distance code",T.mode=R;break e}else{A=i[(A&65535)+(m&(1<<k)-1)];continue t}break}}else if(k&64)if(k&32){T.mode=L;break e}else{M.msg="invalid literal/length code",T.mode=R;break e}else{A=n[(A&65535)+(m&(1<<k)-1)];continue a}break}}while(t<a&&r<v);C=u>>3,t-=C,u-=C<<3,m&=(1<<u)-1,M.next_in=t,M.next_out=r,M.avail_in=t<a?5+(a-t):5-(t-a),M.avail_out=r<v?257+(v-r):257-(r-v),T.hold=m,T.bits=u},Ja}var Ya,Dt;function ni(){if(Dt)return Ya;Dt=1;var R=pa(),L=15,G=852,M=592,w=0,T=1,t=2,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Ya=function(s,f,b,c,m,u,n,i){var l=i.bits,_=0,A=0,k=0,C=0,P=0,S=0,E=0,z=0,D=0,$=0,K,Z,O,H,I,J=null,Y=0,X,x=new R.Buf16(L+1),ce=new R.Buf16(L+1),Q=null,te=0,se,be,Be;for(_=0;_<=L;_++)x[_]=0;for(A=0;A<c;A++)x[f[b+A]]++;for(P=l,C=L;C>=1&&x[C]===0;C--);if(P>C&&(P=C),C===0)return m[u++]=1<<24|64<<16|0,m[u++]=1<<24|64<<16|0,i.bits=1,0;for(k=1;k<C&&x[k]===0;k++);for(P<k&&(P=k),z=1,_=1;_<=L;_++)if(z<<=1,z-=x[_],z<0)return-1;if(z>0&&(s===w||C!==1))return-1;for(ce[1]=0,_=1;_<L;_++)ce[_+1]=ce[_]+x[_];for(A=0;A<c;A++)f[b+A]!==0&&(n[ce[f[b+A]]++]=A);if(s===w?(J=Q=n,X=19):s===T?(J=a,Y-=257,Q=r,te-=257,X=256):(J=g,Q=v,X=-1),$=0,A=0,_=k,I=u,S=P,E=0,O=-1,D=1<<P,H=D-1,s===T&&D>G||s===t&&D>M)return 1;for(;;){se=_-E,n[A]<X?(be=0,Be=n[A]):n[A]>X?(be=Q[te+n[A]],Be=J[Y+n[A]]):(be=96,Be=0),K=1<<_-E,Z=1<<S,k=Z;do Z-=K,m[I+($>>E)+Z]=se<<24|be<<16|Be|0;while(Z!==0);for(K=1<<_-1;$&K;)K>>=1;if(K!==0?($&=K-1,$+=K):$=0,A++,--x[_]===0){if(_===C)break;_=f[b+n[A]]}if(_>P&&($&H)!==O){for(E===0&&(E=P),I+=k,S=_-E,z=1<<S;S+E<C&&(z-=x[S+E],!(z<=0));)S++,z<<=1;if(D+=1<<S,s===T&&D>G||s===t&&D>M)return 1;O=$&H,m[O]=P<<24|S<<16|I-u|0}}return $!==0&&(m[I+$]=_-E<<24|64<<16|0),i.bits=P,0},Ya}var Bt;function oi(){if(Bt)return ea;Bt=1;var R=pa(),L=Yt(),G=Wt(),M=ii(),w=ni(),T=0,t=1,a=2,r=4,g=5,v=6,h=0,s=1,f=2,b=-2,c=-3,m=-4,u=-5,n=8,i=1,l=2,_=3,A=4,k=5,C=6,P=7,S=8,E=9,z=10,D=11,$=12,K=13,Z=14,O=15,H=16,I=17,J=18,Y=19,X=20,x=21,ce=22,Q=23,te=24,se=25,be=26,Be=27,Ke=28,Re=29,we=30,$e=31,Ze=32,Le=852,me=592,ne=15,ue=ne;function ge(N){return(N>>>24&255)+(N>>>8&65280)+((N&65280)<<8)+((N&255)<<24)}function xe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new R.Buf16(320),this.work=new R.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ce(N){var W;return!N||!N.state?b:(W=N.state,N.total_in=N.total_out=W.total=0,N.msg="",W.wrap&&(N.adler=W.wrap&1),W.mode=i,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new R.Buf32(Le),W.distcode=W.distdyn=new R.Buf32(me),W.sane=1,W.back=-1,h)}function je(N){var W;return!N||!N.state?b:(W=N.state,W.wsize=0,W.whave=0,W.wnext=0,Ce(N))}function wa(N,W){var o,ae;return!N||!N.state||(ae=N.state,W<0?(o=0,W=-W):(o=(W>>4)+1,W<48&&(W&=15)),W&&(W<8||W>15))?b:(ae.window!==null&&ae.wbits!==W&&(ae.window=null),ae.wrap=o,ae.wbits=W,je(N))}function va(N,W){var o,ae;return N?(ae=new xe,N.state=ae,ae.window=null,o=wa(N,W),o!==h&&(N.state=null),o):b}function ta(N){return va(N,ue)}var ka=!0,ha,He;function na(N){if(ka){var W;for(ha=new R.Buf32(512),He=new R.Buf32(32),W=0;W<144;)N.lens[W++]=8;for(;W<256;)N.lens[W++]=9;for(;W<280;)N.lens[W++]=7;for(;W<288;)N.lens[W++]=8;for(w(t,N.lens,0,288,ha,0,N.work,{bits:9}),W=0;W<32;)N.lens[W++]=5;w(a,N.lens,0,32,He,0,N.work,{bits:5}),ka=!1}N.lencode=ha,N.lenbits=9,N.distcode=He,N.distbits=5}function ya(N,W,o,ae){var he,e=N.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new R.Buf8(e.wsize)),ae>=e.wsize?(R.arraySet(e.window,W,o-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(he=e.wsize-e.wnext,he>ae&&(he=ae),R.arraySet(e.window,W,o-ae,he,e.wnext),ae-=he,ae?(R.arraySet(e.window,W,o-ae,ae,0),e.wnext=ae,e.whave=e.wsize):(e.wnext+=he,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=he))),0}function p(N,W){var o,ae,he,e,F,q,d,V,U,fe,ie,oe,ke,ua,Pe=0,ye,Oe,Fe,Je,Ra,Na,Me,Xe,Te=new R.Buf8(4),ca,oa,vt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return b;o=N.state,o.mode===$&&(o.mode=K),F=N.next_out,he=N.output,d=N.avail_out,e=N.next_in,ae=N.input,q=N.avail_in,V=o.hold,U=o.bits,fe=q,ie=d,Xe=h;e:for(;;)switch(o.mode){case i:if(o.wrap===0){o.mode=K;break}for(;U<16;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}if(o.wrap&2&&V===35615){o.check=0,Te[0]=V&255,Te[1]=V>>>8&255,o.check=G(o.check,Te,2,0),V=0,U=0,o.mode=l;break}if(o.flags=0,o.head&&(o.head.done=!1),!(o.wrap&1)||(((V&255)<<8)+(V>>8))%31){N.msg="incorrect header check",o.mode=we;break}if((V&15)!==n){N.msg="unknown compression method",o.mode=we;break}if(V>>>=4,U-=4,Me=(V&15)+8,o.wbits===0)o.wbits=Me;else if(Me>o.wbits){N.msg="invalid window size",o.mode=we;break}o.dmax=1<<Me,N.adler=o.check=1,o.mode=V&512?z:$,V=0,U=0;break;case l:for(;U<16;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}if(o.flags=V,(o.flags&255)!==n){N.msg="unknown compression method",o.mode=we;break}if(o.flags&57344){N.msg="unknown header flags set",o.mode=we;break}o.head&&(o.head.text=V>>8&1),o.flags&512&&(Te[0]=V&255,Te[1]=V>>>8&255,o.check=G(o.check,Te,2,0)),V=0,U=0,o.mode=_;case _:for(;U<32;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}o.head&&(o.head.time=V),o.flags&512&&(Te[0]=V&255,Te[1]=V>>>8&255,Te[2]=V>>>16&255,Te[3]=V>>>24&255,o.check=G(o.check,Te,4,0)),V=0,U=0,o.mode=A;case A:for(;U<16;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}o.head&&(o.head.xflags=V&255,o.head.os=V>>8),o.flags&512&&(Te[0]=V&255,Te[1]=V>>>8&255,o.check=G(o.check,Te,2,0)),V=0,U=0,o.mode=k;case k:if(o.flags&1024){for(;U<16;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}o.length=V,o.head&&(o.head.extra_len=V),o.flags&512&&(Te[0]=V&255,Te[1]=V>>>8&255,o.check=G(o.check,Te,2,0)),V=0,U=0}else o.head&&(o.head.extra=null);o.mode=C;case C:if(o.flags&1024&&(oe=o.length,oe>q&&(oe=q),oe&&(o.head&&(Me=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),R.arraySet(o.head.extra,ae,e,oe,Me)),o.flags&512&&(o.check=G(o.check,ae,oe,e)),q-=oe,e+=oe,o.length-=oe),o.length))break e;o.length=0,o.mode=P;case P:if(o.flags&2048){if(q===0)break e;oe=0;do Me=ae[e+oe++],o.head&&Me&&o.length<65536&&(o.head.name+=String.fromCharCode(Me));while(Me&&oe<q);if(o.flags&512&&(o.check=G(o.check,ae,oe,e)),q-=oe,e+=oe,Me)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=S;case S:if(o.flags&4096){if(q===0)break e;oe=0;do Me=ae[e+oe++],o.head&&Me&&o.length<65536&&(o.head.comment+=String.fromCharCode(Me));while(Me&&oe<q);if(o.flags&512&&(o.check=G(o.check,ae,oe,e)),q-=oe,e+=oe,Me)break e}else o.head&&(o.head.comment=null);o.mode=E;case E:if(o.flags&512){for(;U<16;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}if(V!==(o.check&65535)){N.msg="header crc mismatch",o.mode=we;break}V=0,U=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),N.adler=o.check=0,o.mode=$;break;case z:for(;U<32;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}N.adler=o.check=ge(V),V=0,U=0,o.mode=D;case D:if(o.havedict===0)return N.next_out=F,N.avail_out=d,N.next_in=e,N.avail_in=q,o.hold=V,o.bits=U,f;N.adler=o.check=1,o.mode=$;case $:if(W===g||W===v)break e;case K:if(o.last){V>>>=U&7,U-=U&7,o.mode=Be;break}for(;U<3;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}switch(o.last=V&1,V>>>=1,U-=1,V&3){case 0:o.mode=Z;break;case 1:if(na(o),o.mode=X,W===v){V>>>=2,U-=2;break e}break;case 2:o.mode=I;break;case 3:N.msg="invalid block type",o.mode=we}V>>>=2,U-=2;break;case Z:for(V>>>=U&7,U-=U&7;U<32;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}if((V&65535)!==(V>>>16^65535)){N.msg="invalid stored block lengths",o.mode=we;break}if(o.length=V&65535,V=0,U=0,o.mode=O,W===v)break e;case O:o.mode=H;case H:if(oe=o.length,oe){if(oe>q&&(oe=q),oe>d&&(oe=d),oe===0)break e;R.arraySet(he,ae,e,oe,F),q-=oe,e+=oe,d-=oe,F+=oe,o.length-=oe;break}o.mode=$;break;case I:for(;U<14;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}if(o.nlen=(V&31)+257,V>>>=5,U-=5,o.ndist=(V&31)+1,V>>>=5,U-=5,o.ncode=(V&15)+4,V>>>=4,U-=4,o.nlen>286||o.ndist>30){N.msg="too many length or distance symbols",o.mode=we;break}o.have=0,o.mode=J;case J:for(;o.have<o.ncode;){for(;U<3;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}o.lens[vt[o.have++]]=V&7,V>>>=3,U-=3}for(;o.have<19;)o.lens[vt[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,ca={bits:o.lenbits},Xe=w(T,o.lens,0,19,o.lencode,0,o.work,ca),o.lenbits=ca.bits,Xe){N.msg="invalid code lengths set",o.mode=we;break}o.have=0,o.mode=Y;case Y:for(;o.have<o.nlen+o.ndist;){for(;Pe=o.lencode[V&(1<<o.lenbits)-1],ye=Pe>>>24,Oe=Pe>>>16&255,Fe=Pe&65535,!(ye<=U);){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}if(Fe<16)V>>>=ye,U-=ye,o.lens[o.have++]=Fe;else{if(Fe===16){for(oa=ye+2;U<oa;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}if(V>>>=ye,U-=ye,o.have===0){N.msg="invalid bit length repeat",o.mode=we;break}Me=o.lens[o.have-1],oe=3+(V&3),V>>>=2,U-=2}else if(Fe===17){for(oa=ye+3;U<oa;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}V>>>=ye,U-=ye,Me=0,oe=3+(V&7),V>>>=3,U-=3}else{for(oa=ye+7;U<oa;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}V>>>=ye,U-=ye,Me=0,oe=11+(V&127),V>>>=7,U-=7}if(o.have+oe>o.nlen+o.ndist){N.msg="invalid bit length repeat",o.mode=we;break}for(;oe--;)o.lens[o.have++]=Me}}if(o.mode===we)break;if(o.lens[256]===0){N.msg="invalid code -- missing end-of-block",o.mode=we;break}if(o.lenbits=9,ca={bits:o.lenbits},Xe=w(t,o.lens,0,o.nlen,o.lencode,0,o.work,ca),o.lenbits=ca.bits,Xe){N.msg="invalid literal/lengths set",o.mode=we;break}if(o.distbits=6,o.distcode=o.distdyn,ca={bits:o.distbits},Xe=w(a,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,ca),o.distbits=ca.bits,Xe){N.msg="invalid distances set",o.mode=we;break}if(o.mode=X,W===v)break e;case X:o.mode=x;case x:if(q>=6&&d>=258){N.next_out=F,N.avail_out=d,N.next_in=e,N.avail_in=q,o.hold=V,o.bits=U,M(N,ie),F=N.next_out,he=N.output,d=N.avail_out,e=N.next_in,ae=N.input,q=N.avail_in,V=o.hold,U=o.bits,o.mode===$&&(o.back=-1);break}for(o.back=0;Pe=o.lencode[V&(1<<o.lenbits)-1],ye=Pe>>>24,Oe=Pe>>>16&255,Fe=Pe&65535,!(ye<=U);){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}if(Oe&&!(Oe&240)){for(Je=ye,Ra=Oe,Na=Fe;Pe=o.lencode[Na+((V&(1<<Je+Ra)-1)>>Je)],ye=Pe>>>24,Oe=Pe>>>16&255,Fe=Pe&65535,!(Je+ye<=U);){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}V>>>=Je,U-=Je,o.back+=Je}if(V>>>=ye,U-=ye,o.back+=ye,o.length=Fe,Oe===0){o.mode=be;break}if(Oe&32){o.back=-1,o.mode=$;break}if(Oe&64){N.msg="invalid literal/length code",o.mode=we;break}o.extra=Oe&15,o.mode=ce;case ce:if(o.extra){for(oa=o.extra;U<oa;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}o.length+=V&(1<<o.extra)-1,V>>>=o.extra,U-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=Q;case Q:for(;Pe=o.distcode[V&(1<<o.distbits)-1],ye=Pe>>>24,Oe=Pe>>>16&255,Fe=Pe&65535,!(ye<=U);){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}if(!(Oe&240)){for(Je=ye,Ra=Oe,Na=Fe;Pe=o.distcode[Na+((V&(1<<Je+Ra)-1)>>Je)],ye=Pe>>>24,Oe=Pe>>>16&255,Fe=Pe&65535,!(Je+ye<=U);){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}V>>>=Je,U-=Je,o.back+=Je}if(V>>>=ye,U-=ye,o.back+=ye,Oe&64){N.msg="invalid distance code",o.mode=we;break}o.offset=Fe,o.extra=Oe&15,o.mode=te;case te:if(o.extra){for(oa=o.extra;U<oa;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}o.offset+=V&(1<<o.extra)-1,V>>>=o.extra,U-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){N.msg="invalid distance too far back",o.mode=we;break}o.mode=se;case se:if(d===0)break e;if(oe=ie-d,o.offset>oe){if(oe=o.offset-oe,oe>o.whave&&o.sane){N.msg="invalid distance too far back",o.mode=we;break}oe>o.wnext?(oe-=o.wnext,ke=o.wsize-oe):ke=o.wnext-oe,oe>o.length&&(oe=o.length),ua=o.window}else ua=he,ke=F-o.offset,oe=o.length;oe>d&&(oe=d),d-=oe,o.length-=oe;do he[F++]=ua[ke++];while(--oe);o.length===0&&(o.mode=x);break;case be:if(d===0)break e;he[F++]=o.length,d--,o.mode=x;break;case Be:if(o.wrap){for(;U<32;){if(q===0)break e;q--,V|=ae[e++]<<U,U+=8}if(ie-=d,N.total_out+=ie,o.total+=ie,ie&&(N.adler=o.check=o.flags?G(o.check,he,ie,F-ie):L(o.check,he,ie,F-ie)),ie=d,(o.flags?V:ge(V))!==o.check){N.msg="incorrect data check",o.mode=we;break}V=0,U=0}o.mode=Ke;case Ke:if(o.wrap&&o.flags){for(;U<32;){if(q===0)break e;q--,V+=ae[e++]<<U,U+=8}if(V!==(o.total&4294967295)){N.msg="incorrect length check",o.mode=we;break}V=0,U=0}o.mode=Re;case Re:Xe=s;break e;case we:Xe=c;break e;case $e:return m;case Ze:default:return b}return N.next_out=F,N.avail_out=d,N.next_in=e,N.avail_in=q,o.hold=V,o.bits=U,(o.wsize||ie!==N.avail_out&&o.mode<we&&(o.mode<Be||W!==r))&&ya(N,N.output,N.next_out,ie-N.avail_out),fe-=N.avail_in,ie-=N.avail_out,N.total_in+=fe,N.total_out+=ie,o.total+=ie,o.wrap&&ie&&(N.adler=o.check=o.flags?G(o.check,he,ie,N.next_out-ie):L(o.check,he,ie,N.next_out-ie)),N.data_type=o.bits+(o.last?64:0)+(o.mode===$?128:0)+(o.mode===X||o.mode===O?256:0),(fe===0&&ie===0||W===r)&&Xe===h&&(Xe=u),Xe}function ee(N){if(!N||!N.state)return b;var W=N.state;return W.window&&(W.window=null),N.state=null,h}function re(N,W){var o;return!N||!N.state||(o=N.state,!(o.wrap&2))?b:(o.head=W,W.done=!1,h)}function le(N,W){var o=W.length,ae,he,e;return!N||!N.state||(ae=N.state,ae.wrap!==0&&ae.mode!==D)?b:ae.mode===D&&(he=1,he=L(he,W,o,0),he!==ae.check)?c:(e=ya(N,W,o,o),e?(ae.mode=$e,m):(ae.havedict=1,h))}return ea.inflateReset=je,ea.inflateReset2=wa,ea.inflateResetKeep=Ce,ea.inflateInit=ta,ea.inflateInit2=va,ea.inflate=p,ea.inflateEnd=ee,ea.inflateGetHeader=re,ea.inflateSetDictionary=le,ea.inflateInfo="pako inflate (from Nodeca project)",ea}var Wa,It;function er(){return It||(It=1,Wa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Wa}var Qa,Rt;function li(){if(Rt)return Qa;Rt=1;function R(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return Qa=R,Qa}var Nt;function si(){if(Nt)return Va;Nt=1;var R=oi(),L=pa(),G=Qt(),M=er(),w=ct(),T=Xt(),t=li(),a=Object.prototype.toString;function r(h){if(!(this instanceof r))return new r(h);this.options=L.assign({chunkSize:16384,windowBits:0,to:""},h||{});var s=this.options;s.raw&&s.windowBits>=0&&s.windowBits<16&&(s.windowBits=-s.windowBits,s.windowBits===0&&(s.windowBits=-15)),s.windowBits>=0&&s.windowBits<16&&!(h&&h.windowBits)&&(s.windowBits+=32),s.windowBits>15&&s.windowBits<48&&(s.windowBits&15||(s.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var f=R.inflateInit2(this.strm,s.windowBits);if(f!==M.Z_OK)throw new Error(w[f]);if(this.header=new t,R.inflateGetHeader(this.strm,this.header),s.dictionary&&(typeof s.dictionary=="string"?s.dictionary=G.string2buf(s.dictionary):a.call(s.dictionary)==="[object ArrayBuffer]"&&(s.dictionary=new Uint8Array(s.dictionary)),s.raw&&(f=R.inflateSetDictionary(this.strm,s.dictionary),f!==M.Z_OK)))throw new Error(w[f])}r.prototype.push=function(h,s){var f=this.strm,b=this.options.chunkSize,c=this.options.dictionary,m,u,n,i,l,_=!1;if(this.ended)return!1;u=s===~~s?s:s===!0?M.Z_FINISH:M.Z_NO_FLUSH,typeof h=="string"?f.input=G.binstring2buf(h):a.call(h)==="[object ArrayBuffer]"?f.input=new Uint8Array(h):f.input=h,f.next_in=0,f.avail_in=f.input.length;do{if(f.avail_out===0&&(f.output=new L.Buf8(b),f.next_out=0,f.avail_out=b),m=R.inflate(f,M.Z_NO_FLUSH),m===M.Z_NEED_DICT&&c&&(m=R.inflateSetDictionary(this.strm,c)),m===M.Z_BUF_ERROR&&_===!0&&(m=M.Z_OK,_=!1),m!==M.Z_STREAM_END&&m!==M.Z_OK)return this.onEnd(m),this.ended=!0,!1;f.next_out&&(f.avail_out===0||m===M.Z_STREAM_END||f.avail_in===0&&(u===M.Z_FINISH||u===M.Z_SYNC_FLUSH))&&(this.options.to==="string"?(n=G.utf8border(f.output,f.next_out),i=f.next_out-n,l=G.buf2string(f.output,n),f.next_out=i,f.avail_out=b-i,i&&L.arraySet(f.output,f.output,n,i,0),this.onData(l)):this.onData(L.shrinkBuf(f.output,f.next_out))),f.avail_in===0&&f.avail_out===0&&(_=!0)}while((f.avail_in>0||f.avail_out===0)&&m!==M.Z_STREAM_END);return m===M.Z_STREAM_END&&(u=M.Z_FINISH),u===M.Z_FINISH?(m=R.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===M.Z_OK):(u===M.Z_SYNC_FLUSH&&(this.onEnd(M.Z_OK),f.avail_out=0),!0)},r.prototype.onData=function(h){this.chunks.push(h)},r.prototype.onEnd=function(h){h===M.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=L.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg};function g(h,s){var f=new r(s);if(f.push(h,!0),f.err)throw f.msg||w[f.err];return f.result}function v(h,s){return s=s||{},s.raw=!0,g(h,s)}return Va.Inflate=r,Va.inflate=g,Va.inflateRaw=v,Va.ungzip=g,Va}var Xa,Pt;function di(){if(Pt)return Xa;Pt=1;var R=pa().assign,L=ri(),G=si(),M=er(),w={};return R(w,L,G,M),Xa=w,Xa}var zt;function ui(){return zt||(zt=1,function(R){(function(){var L={};R.exports=L;var G;typeof br=="function"?G=di():G=self.pako;function M(){typeof process>"u"&&console.log.apply(console,arguments)}(function(w,T){(function(){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a=function(){function g(v){this.message="JPEG error: "+v}return g.prototype=Error(),g.prototype.name="JpegError",g.constructor=g}(),r=function(){function g(v,h){this.message=v,this.g=h}return g.prototype=Error(),g.prototype.name="DNLMarkerError",g.constructor=g}();(function(){function g(){this.M=null,this.B=-1}function v(c,m){for(var u=0,n=[],i,l,_=16;0<_&&!c[_-1];)_--;n.push({children:[],index:0});var A=n[0],k;for(i=0;i<_;i++){for(l=0;l<c[i];l++){for(A=n.pop(),A.children[A.index]=m[u];0<A.index;)A=n.pop();for(A.index++,n.push(A);n.length<=i;)n.push(k={children:[],index:0}),A.children[A.index]=k.children,A=k;u++}i+1<_&&(n.push(k={children:[],index:0}),A.children[A.index]=k.children,A=k)}return n[0].children}function h(c,m,u,n,i,l,_,A,k){function C(){if(0<Y)return Y--,J>>Y&1;if(J=c[m++],J===255){var ne=c[m++];if(ne){if(ne===220&&O){m+=2;var ue=c[m++]<<8|c[m++];if(0<ue&&ue!==u.g)throw new r("Found DNL marker (0xFFDC) while parsing scan data",ue)}throw new a("unexpected marker "+(J<<8|ne).toString(16))}}return Y=7,J>>>7}function P(ne){for(;;){if(ne=ne[C()],typeof ne=="number")return ne;if((typeof ne>"u"?"undefined":t(ne))!=="object")throw new a("invalid huffman sequence")}}function S(ne){for(var ue=0;0<ne;)ue=ue<<1|C(),ne--;return ue}function E(ne){if(ne===1)return C()===1?1:-1;var ue=S(ne);return ue>=1<<ne-1?ue:ue+(-1<<ne)+1}function z(ne,ue){var ge=P(ne.D);for(ge=ge===0?0:E(ge),ne.a[ue]=ne.m+=ge,ge=1;64>ge;){var xe=P(ne.o),Ce=xe&15;if(xe>>=4,Ce===0){if(15>xe)break;ge+=16}else ge+=xe,ne.a[ue+b[ge]]=E(Ce),ge++}}function D(ne,ue){var ge=P(ne.D);ge=ge===0?0:E(ge)<<k,ne.a[ue]=ne.m+=ge}function $(ne,ue){ne.a[ue]|=C()<<k}function K(ne,ue){if(0<X)X--;else for(var ge=l;ge<=_;){var xe=P(ne.o),Ce=xe&15;if(xe>>=4,Ce===0){if(15>xe){X=S(xe)+(1<<xe)-1;break}ge+=16}else ge+=xe,ne.a[ue+b[ge]]=E(Ce)*(1<<k),ge++}}function Z(ne,ue){for(var ge=l,xe=0,Ce;ge<=_;){Ce=ue+b[ge];var je=0>ne.a[Ce]?-1:1;switch(x){case 0:if(xe=P(ne.o),Ce=xe&15,xe>>=4,Ce===0)15>xe?(X=S(xe)+(1<<xe),x=4):(xe=16,x=1);else{if(Ce!==1)throw new a("invalid ACn encoding");ce=E(Ce),x=xe?2:3}continue;case 1:case 2:ne.a[Ce]?ne.a[Ce]+=je*(C()<<k):(xe--,xe===0&&(x=x===2?3:0));break;case 3:ne.a[Ce]?ne.a[Ce]+=je*(C()<<k):(ne.a[Ce]=ce<<k,x=0);break;case 4:ne.a[Ce]&&(ne.a[Ce]+=je*(C()<<k))}ge++}x===4&&(X--,X===0&&(x=0))}for(var O=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,H=u.P,I=m,J=0,Y=0,X=0,x=0,ce,Q=n.length,te,se,be,Be,Ke=u.S?l===0?A===0?D:$:A===0?K:Z:z,Re=0,we=Q===1?n[0].c*n[0].l:H*u.O,$e,Ze;Re<we;){var Le=i?Math.min(we-Re,i):we;for(te=0;te<Q;te++)n[te].m=0;if(X=0,Q===1){var me=n[0];for(Be=0;Be<Le;Be++)Ke(me,64*((me.c+1)*(Re/me.c|0)+Re%me.c)),Re++}else for(Be=0;Be<Le;Be++){for(te=0;te<Q;te++)for(me=n[te],$e=me.h,Ze=me.j,se=0;se<Ze;se++)for(be=0;be<$e;be++)Ke(me,64*((me.c+1)*((Re/H|0)*me.j+se)+(Re%H*me.h+be)));Re++}if(Y=0,(me=f(c,m))&&me.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+me.f),m=me.offset),me=me&&me.F,!me||65280>=me)throw new a("marker was not found");if(65488<=me&&65495>=me)m+=2;else break}return(me=f(c,m))&&me.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+me.f),m=me.offset),m-I}function s(c,m){for(var u=m.c,n=m.l,i=new Int16Array(64),l=0;l<n;l++)for(var _=0;_<u;_++){var A=64*((m.c+1)*l+_),k=i,C=m.G,P=m.a;if(!C)throw new a("missing required Quantization Table.");for(var S=0;64>S;S+=8){var E=P[A+S],z=P[A+S+1],D=P[A+S+2],$=P[A+S+3],K=P[A+S+4],Z=P[A+S+5],O=P[A+S+6],H=P[A+S+7];if(E*=C[S],!(z|D|$|K|Z|O|H))E=5793*E+512>>10,k[S]=E,k[S+1]=E,k[S+2]=E,k[S+3]=E,k[S+4]=E,k[S+5]=E,k[S+6]=E,k[S+7]=E;else{z*=C[S+1],D*=C[S+2],$*=C[S+3],K*=C[S+4],Z*=C[S+5],O*=C[S+6],H*=C[S+7];var I=5793*E+128>>8,J=5793*K+128>>8,Y=D,X=O;K=2896*(z-H)+128>>8,H=2896*(z+H)+128>>8,$<<=4,Z<<=4,I=I+J+1>>1,J=I-J,E=3784*Y+1567*X+128>>8,Y=1567*Y-3784*X+128>>8,X=E,K=K+Z+1>>1,Z=K-Z,H=H+$+1>>1,$=H-$,I=I+X+1>>1,X=I-X,J=J+Y+1>>1,Y=J-Y,E=2276*K+3406*H+2048>>12,K=3406*K-2276*H+2048>>12,H=E,E=799*$+4017*Z+2048>>12,$=4017*$-799*Z+2048>>12,Z=E,k[S]=I+H,k[S+7]=I-H,k[S+1]=J+Z,k[S+6]=J-Z,k[S+2]=Y+$,k[S+5]=Y-$,k[S+3]=X+K,k[S+4]=X-K}}for(C=0;8>C;++C)E=k[C],z=k[C+8],D=k[C+16],$=k[C+24],K=k[C+32],Z=k[C+40],O=k[C+48],H=k[C+56],z|D|$|K|Z|O|H?(I=5793*E+2048>>12,J=5793*K+2048>>12,Y=D,X=O,K=2896*(z-H)+2048>>12,H=2896*(z+H)+2048>>12,I=(I+J+1>>1)+4112,J=I-J,E=3784*Y+1567*X+2048>>12,Y=1567*Y-3784*X+2048>>12,X=E,K=K+Z+1>>1,Z=K-Z,H=H+$+1>>1,$=H-$,I=I+X+1>>1,X=I-X,J=J+Y+1>>1,Y=J-Y,E=2276*K+3406*H+2048>>12,K=3406*K-2276*H+2048>>12,H=E,E=799*$+4017*Z+2048>>12,$=4017*$-799*Z+2048>>12,Z=E,E=I+H,H=I-H,z=J+Z,O=J-Z,D=Y+$,Z=Y-$,$=X+K,K=X-K,E=16>E?0:4080<=E?255:E>>4,z=16>z?0:4080<=z?255:z>>4,D=16>D?0:4080<=D?255:D>>4,$=16>$?0:4080<=$?255:$>>4,K=16>K?0:4080<=K?255:K>>4,Z=16>Z?0:4080<=Z?255:Z>>4,O=16>O?0:4080<=O?255:O>>4,H=16>H?0:4080<=H?255:H>>4,P[A+C]=E,P[A+C+8]=z,P[A+C+16]=D,P[A+C+24]=$,P[A+C+32]=K,P[A+C+40]=Z,P[A+C+48]=O,P[A+C+56]=H):(E=5793*E+8192>>14,E=-2040>E?0:2024<=E?255:E+2056>>4,P[A+C]=E,P[A+C+8]=E,P[A+C+16]=E,P[A+C+24]=E,P[A+C+32]=E,P[A+C+40]=E,P[A+C+48]=E,P[A+C+56]=E)}return m.a}function f(c,m){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:m,n=c.length-1;if(u=u<m?u:m,m>=n)return null;var i=c[m]<<8|c[m+1];if(65472<=i&&65534>=i)return{f:null,F:i,offset:m};for(var l=c[u]<<8|c[u+1];!(65472<=l&&65534>=l);){if(++u>=n)return null;l=c[u]<<8|c[u+1]}return{f:i.toString(16),F:l,offset:u}}var b=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);g.prototype={parse:function(c){function m(){var Y=c[_]<<8|c[_+1];return _+=2,Y}function u(){var Y=m();Y=_+Y-2;var X=f(c,Y,_);return X&&X.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+X.f),Y=X.offset),Y=c.subarray(_,Y),_+=Y.length,Y}function n(Y){for(var X=Math.ceil(Y.v/8/Y.s),x=Math.ceil(Y.g/8/Y.u),ce=0;ce<Y.b.length;ce++){I=Y.b[ce];var Q=Math.ceil(Math.ceil(Y.v/8)*I.h/Y.s),te=Math.ceil(Math.ceil(Y.g/8)*I.j/Y.u);I.a=new Int16Array(64*x*I.j*(X*I.h+1)),I.c=Q,I.l=te}Y.P=X,Y.O=x}var i=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,l=i===void 0?null:i,_=0,A=null,k=0;i=[];var C=[],P=[],S=m();if(S!==65496)throw new a("SOI not found");for(S=m();S!==65497;){switch(S){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var E=u();S===65518&&E[0]===65&&E[1]===100&&E[2]===111&&E[3]===98&&E[4]===101&&(A={version:E[5]<<8|E[6],Y:E[7]<<8|E[8],Z:E[9]<<8|E[10],W:E[11]});break;case 65499:S=m()+_-2;for(var z;_<S;){var D=c[_++],$=new Uint16Array(64);if(D>>4)if(D>>4===1)for(E=0;64>E;E++)z=b[E],$[z]=m();else throw new a("DQT - invalid table spec");else for(E=0;64>E;E++)z=b[E],$[z]=c[_++];i[D&15]=$}break;case 65472:case 65473:case 65474:if(K)throw new a("Only single frame JPEGs supported");m();var K={};for(K.X=S===65473,K.S=S===65474,K.precision=c[_++],S=m(),K.g=l||S,K.v=m(),K.b=[],K.C={},E=c[_++],S=$=D=0;S<E;S++){z=c[_];var Z=c[_+1]>>4,O=c[_+1]&15;D<Z&&(D=Z),$<O&&($=O),Z=K.b.push({h:Z,j:O,T:c[_+2],G:null}),K.C[z]=Z-1,_+=3}K.s=D,K.u=$,n(K);break;case 65476:for(z=m(),S=2;S<z;){for(D=c[_++],$=new Uint8Array(16),E=Z=0;16>E;E++,_++)Z+=$[E]=c[_];for(O=new Uint8Array(Z),E=0;E<Z;E++,_++)O[E]=c[_];S+=17+Z,(D>>4?C:P)[D&15]=v($,O)}break;case 65501:m();var H=m();break;case 65498:for(E=++k===1&&!l,m(),D=c[_++],z=[],S=0;S<D;S++){$=K.C[c[_++]];var I=K.b[$];$=c[_++],I.D=P[$>>4],I.o=C[$&15],z.push(I)}S=c[_++],D=c[_++],$=c[_++];try{var J=h(c,_,K,z,H,S,D,$>>4,$&15,E);_+=J}catch(Y){if(Y instanceof r)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(c,{N:Y.g});throw Y}break;case 65500:_+=4;break;case 65535:c[_]!==255&&_--;break;default:if(c[_-3]===255&&192<=c[_-2]&&254>=c[_-2])_-=3;else if((E=f(c,_-2))&&E.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+E.f),_=E.offset;else throw new a("unknown marker "+S.toString(16))}S=m()}for(this.width=K.v,this.height=K.g,this.A=A,this.b=[],S=0;S<K.b.length;S++)I=K.b[S],(H=i[I.T])&&(I.G=H),this.b.push({R:s(K,I),U:I.h/K.s,V:I.j/K.u,c:I.c,l:I.l});this.i=this.b.length},L:function(c,m){var u=this.width/c,n=this.height/m,i,l,_=this.b.length,A=c*m*_,k=new Uint8ClampedArray(A),C=new Uint32Array(c);for(l=0;l<_;l++){var P=this.b[l],S=P.U*u,E=P.V*n,z=l,D=P.R,$=P.c+1<<3;for(i=0;i<c;i++)P=0|i*S,C[i]=(P&4294967288)<<3|P&7;for(S=0;S<m;S++)for(P=0|S*E,P=$*(P&4294967288)|(P&7)<<3,i=0;i<c;i++)k[z]=D[P+C[i]],z+=_}if(n=this.M)for(l=0;l<A;)for(u=P=0;P<_;P++,l++,u+=2)k[l]=(k[l]*n[u]>>8)+n[u+1];return k},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(c){for(var m,u,n,i=0,l=c.length;i<l;i+=3)m=c[i],u=c[i+1],n=c[i+2],c[i]=m-179.456+1.402*n,c[i+1]=m+135.459-.344*u-.714*n,c[i+2]=m-226.816+1.772*u;return c},K:function(c){for(var m,u,n,i,l=0,_=0,A=c.length;_<A;_+=4)m=c[_],u=c[_+1],n=c[_+2],i=c[_+3],c[l++]=-122.67195406894+u*(-660635669420364e-19*u+.000437130475926232*n-54080610064599e-18*m+.00048449797120281*i-.154362151871126)+n*(-.000957964378445773*n+.000817076911346625*m-.00477271405408747*i+1.53380253221734)+m*(.000961250184130688*m-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),c[l++]=107.268039397724+u*(219927104525741e-19*u-.000640992018297945*n+.000659397001245577*m+.000426105652938837*i-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*m+.000770482631801132*i-.151051492775562)+m*(.00126935368114843*m-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),c[l++]=-20.810012546947+u*(-.000570115196973677*u-263409051004589e-19*n+.0020741088115012*m-.00288260236853442*i+.814272968359295)+n*(-153496057440975e-19*n-.000132689043961446*m+.000560833691242812*i-.195152027534049)+m*(.00174418132927582*m-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return c.subarray(0,l)},J:function(c){for(var m,u,n,i=0,l=c.length;i<l;i+=4)m=c[i],u=c[i+1],n=c[i+2],c[i]=434.456-m-1.402*n,c[i+1]=119.541-m+.344*u+.714*n,c[i+2]=481.816-m-1.772*u;return c},H:function(c){for(var m,u,n,i,l=0,_=1/255,A=0,k=c.length;A<k;A+=4)m=c[A]*_,u=c[A+1]*_,n=c[A+2]*_,i=c[A+3]*_,c[l++]=255+m*(-4.387332384609988*m+54.48615194189176*u+18.82290502165302*n+212.25662451639585*i-285.2331026137004)+u*(1.7149763477362134*u-5.6096736904047315*n-17.873870861415444*i-5.497006427196366)+n*(-2.5217340131683033*n-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),c[l++]=255+m*(8.841041422036149*m+60.118027045597366*u+6.871425592049007*n+31.159100130055922*i-79.2970844816548)+u*(-15.310361306967817*u+17.575251261109482*n+131.35250912493976*i-190.9453302588951)+n*(4.444339102852739*n+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),c[l++]=255+m*(.8842522430003296*m+8.078677503112928*u+30.89978309703729*n-.23883238689178934*i-14.183576799673286)+u*(10.49593273432072*u+63.02378494754052*n+50.606957656360734*i-112.23884253719248)+n*(.03296041114873217*n+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return c.subarray(0,l)},getData:function(c,m,u){if(4<this.i)throw new a("Unsupported color mode");if(c=this.L(c,m),this.i===1&&u){u=c.length,m=new Uint8ClampedArray(3*u);for(var n=0,i=0;i<u;i++){var l=c[i];m[n++]=l,m[n++]=l,m[n++]=l}return m}if(this.i===3&&this.w())return this.I(c);if(this.i===4){if(this.w())return u?this.K(c):this.J(c);if(u)return this.H(c)}return c}},w.JpegDecoder=g})()})(),w.encodeImage=function(t,a,r,g){var v={t256:[a],t257:[r],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[r],t279:[a*r*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(g)for(var h in g)v[h]=g[h];for(var s=new Uint8Array(w.encode([v])),f=new Uint8Array(t),b=new Uint8Array(1e3+a*r*4),h=0;h<s.length;h++)b[h]=s[h];for(var h=0;h<f.length;h++)b[1e3+h]=f[h];return b.buffer},w.encode=function(t){var a=new Uint8Array(2e4),r=4,g=w._binBE;a[0]=77,a[1]=77,a[3]=42;var v=8;g.writeUint(a,r,v),r+=4;for(var h=0;h<t.length;h++){var s=w._writeIFD(g,a,v,t[h]);v=s[1],h<t.length-1&&g.writeUint(a,s[0],v)}return a.slice(0,v).buffer},w.decode=function(t){w.decode._decodeG3.allow2D=null;var a=new Uint8Array(t),r=0,g=w._binBE.readASCII(a,r,2);r+=2;var v=g=="II"?w._binLE:w._binBE;v.readUshort(a,r),r+=2;var h=v.readUint(a,r);r+=4;for(var s=[];;){var f=w._readIFD(v,a,h,s,0,!1);if(h=v.readUint(a,f),h==0)break}return s},w.decodeImage=function(t,a,r){var g=new Uint8Array(t),v=w._binBE.readASCII(g,0,2);if(a.t256!=null){a.isLE=v=="II",a.width=a.t256[0],a.height=a.t257[0];var h=a.t259?a.t259[0]:1,s=a.t266?a.t266[0]:1;a.t284&&a.t284[0]==2&&M("PlanarConfiguration 2 should not be used!");var f;a.t258?f=Math.min(32,a.t258[0])*a.t258.length:f=a.t277?a.t277[0]:1,h==1&&a.t279!=null&&a.t278&&a.t262[0]==32803&&(f=Math.round(a.t279[0]*8/(a.width*a.t278[0])));var b=Math.ceil(a.width*f/8)*8,c=a.t273;c==null&&(c=a.t324);var m=a.t279;h==1&&c.length==1&&(m=[a.height*(b>>>3)]),m==null&&(m=a.t325);var u=new Uint8Array(a.height*(b>>>3)),n=0;if(a.t322!=null){for(var i=a.t322[0],l=a.t323[0],_=Math.floor((a.width+i-1)/i),A=Math.floor((a.height+l-1)/l),k=new Uint8Array(Math.ceil(i*l*f/8)|0),C=0;C<A;C++)for(var P=0;P<_;P++){for(var S=C*_+P,E=0;E<k.length;E++)k[E]=0;w.decode._decompress(a,r,g,c[S],m[S],h,k,0,s),h==6?u=k:w._copyTile(k,Math.ceil(i*f/8)|0,l,u,Math.ceil(a.width*f/8)|0,a.height,Math.ceil(P*i*f/8)|0,C*l)}n=u.length*8}else{var z=a.t278?a.t278[0]:a.height;z=Math.min(z,a.height);for(var S=0;S<c.length;S++)w.decode._decompress(a,r,g,c[S],m[S],h,u,Math.ceil(n/8)|0,s),n+=b*z;n=Math.min(n,u.length*8)}a.data=new Uint8Array(u.buffer,0,Math.ceil(n/8)|0)}},w.decode._decompress=function(t,a,r,g,v,h,s,f,b){if(h==1||v==s.length&&h!=32767)for(var c=0;c<v;c++)s[f+c]=r[g+c];else if(h==3)w.decode._decodeG3(r,g,v,s,f,t.width,b);else if(h==4)w.decode._decodeG4(r,g,v,s,f,t.width,b);else if(h==5)w.decode._decodeLZW(r,g,s,f);else if(h==6)w.decode._decodeOldJPEG(t,r,g,v,s,f);else if(h==7)w.decode._decodeNewJPEG(t,r,g,v,s,f);else if(h==8)for(var m=new Uint8Array(r.buffer,g,v),u=T.inflate(m),n=0;n<u.length;n++)s[f+n]=u[n];else h==32767?w.decode._decodeARW(t,r,g,v,s,f):h==32773?w.decode._decodePackBits(r,g,v,s,f):h==32809?w.decode._decodeThunder(r,g,v,s,f):h==34713?w.decode._decodeNikon(t,a,r,g,v,s,f):M("Unknown compression",h);var i=t.t258?Math.min(32,t.t258[0]):1,l=t.t277?t.t277[0]:1,_=i*l>>>3,A=t.t278?t.t278[0]:t.height,k=Math.ceil(i*l*t.width/8);if(i==16&&!t.isLE&&t.t33422==null)for(var C=0;C<A;C++)for(var P=f+C*k,S=1;S<k;S+=2){var E=s[P+S];s[P+S]=s[P+S-1],s[P+S-1]=E}if(t.t317&&t.t317[0]==2)for(var C=0;C<A;C++){var z=f+C*k;if(i==16)for(var c=_;c<k;c+=2){var D=(s[z+c+1]<<8|s[z+c])+(s[z+c-_+1]<<8|s[z+c-_]);s[z+c]=D&255,s[z+c+1]=D>>>8&255}else if(l==3)for(var c=3;c<k;c+=3)s[z+c]=s[z+c]+s[z+c-3]&255,s[z+c+1]=s[z+c+1]+s[z+c-2]&255,s[z+c+2]=s[z+c+2]+s[z+c-1]&255;else for(var c=_;c<k;c++)s[z+c]=s[z+c]+s[z+c-_]&255}},w.decode._ljpeg_diff=function(t,a,r){var g=w.decode._getbithuff,v,h;return v=g(t,a,r[0],r),h=g(t,a,v,0),h&1<<v-1||(h-=(1<<v)-1),h},w.decode._decodeARW=function(t,a,r,g,v,h){var s=t.t256[0],f=t.t257[0],b=t.t258[0],c=t.isLE?w._binLE:w._binBE,m=s*f==g||s*f*1.5==g;if(!m){f+=8;var u=[r,0,0,0],n=new Uint16Array(32770),i=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],x,l,_,K,$,A=0,k=w.decode._ljpeg_diff;for(n[0]=15,_=x=0;x<18;x++)for(var C=32768>>>(i[x]>>>8),l=0;l<C;l++)n[++_]=i[x];for(K=s;K--;)for($=0;$<f+1;$+=2)if($==f&&($=1),A+=k(a,u,n),$<f){var P=A&4095;w.decode._putsF(v,($*s+K)*b,P<<16-b)}return}if(s*f*1.5==g){for(var x=0;x<g;x+=3){var S=a[r+x+0],E=a[r+x+1],z=a[r+x+2];v[h+x]=E<<4|S>>>4,v[h+x+1]=S<<4|z>>>4,v[h+x+2]=z<<4|E>>>4}return}var D=new Uint16Array(16),$,K,Z,O,H,I,J,Y,X,x,ce,Q=new Uint8Array(s+1);for($=0;$<f;$++){for(var te=0;te<s;te++)Q[te]=a[r++];for(ce=0,K=0;K<s-30;ce+=16){for(O=2047&(Z=c.readUint(Q,ce)),H=2047&Z>>>11,I=15&Z>>>22,J=15&Z>>>26,Y=0;Y<4&&128<<Y<=O-H;Y++);for(X=30,x=0;x<16;x++)x==I?D[x]=O:x==J?D[x]=H:(D[x]=((c.readUshort(Q,ce+(X>>3))>>>(X&7)&127)<<Y)+H,D[x]>2047&&(D[x]=2047),X+=7);for(x=0;x<16;x++,K+=2){var P=D[x]<<1;w.decode._putsF(v,($*s+K)*b,P<<16-b)}K-=K&1?1:31}}},w.decode._decodeNikon=function(t,a,r,g,v,h,s){var f=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],b=t.t256[0],c=t.t257[0],m=t.t258[0],u=0,n=0,i=w.decode._make_decoder,l=w.decode._getbithuff,_=a[0].exifIFD.makerNote,A=_.t150?_.t150:_.t140,k=0,C=A[k++],P=A[k++];(C==73||P==88)&&(k+=2110),C==70&&(u=2),m==14&&(u+=3);for(var S=[[0,0],[0,0]],E=t.isLE?w._binLE:w._binBE,Z=0;Z<2;Z++)for(var z=0;z<2;z++)S[Z][z]=E.readShort(A,k),k+=2;var D=1<<m&32767,$=0,K=E.readShort(A,k);k+=2,K>1&&($=Math.floor(D/(K-1))),C==68&&P==32&&$>0&&(n=E.readShort(A,562));var Z,O,H,I,J,Y,X=[0,0],x=i(f[u]),ce=[g,0,0,0];for(O=0;O<c;O++)for(n&&O==n&&(x=i(f[u+1])),H=0;H<b;H++){Z=l(r,ce,x[0],x),I=Z&15,J=Z>>>4,Y=(l(r,ce,I-J,0)<<1)+1<<J>>>1,Y&1<<I-1||(Y-=(1<<I)-(J==0?1:0)),H<2?X[H]=S[O&1][H]+=Y:X[H&1]+=Y;var Q=Math.min(Math.max(X[H&1],0),(1<<m)-1),te=(O*b+H)*m;w.decode._putsF(h,te,Q<<16-m)}},w.decode._putsF=function(t,a,r){r=r<<8-(a&7);var g=a>>>3;t[g]|=r>>>16,t[g+1]|=r>>>8,t[g+2]|=r},w.decode._getbithuff=function(t,a,r,g){var v=0;w.decode._get_byte;var h,s=a[0],f=a[1],b=a[2],c=a[3];if(r==0||b<0)return 0;for(;!c&&b<r&&(h=t[s++])!=-1&&!(c=v);)f=(f<<8)+h,b+=8;if(h=f<<32-b>>>32-r,g?(b-=g[h+1]>>>8,h=g[h+1]&255):b-=r,b<0)throw"e";return a[0]=s,a[1]=f,a[2]=b,a[3]=c,h},w.decode._make_decoder=function(t){var a,r,g,v,h,s=[];for(a=16;a!=0&&!t[a];a--);var f=17;for(s[0]=a,g=r=1;r<=a;r++)for(v=0;v<t[r];v++,++f)for(h=0;h<1<<a-r;h++)g<=1<<a&&(s[g++]=r<<8|t[f]);return s},w.decode._decodeNewJPEG=function(t,a,r,g,v,h){var s=t.t347,f=s?s.length:0,b=new Uint8Array(f+g);if(s){for(var c=216,m=217,u=0,n=0;n<f-1&&!(s[n]==255&&s[n+1]==m);n++)b[u++]=s[n];var i=a[r],l=a[r+1];(i!=255||l!=c)&&(b[u++]=i,b[u++]=l);for(var n=2;n<g;n++)b[u++]=a[r+n]}else for(var n=0;n<g;n++)b[n]=a[r+n];if(t.t262[0]==32803||t.t262[0]==34892){var _=t.t258[0],A=w.LosslessJpegDecode(b),k=A.length;if(_==16)if(t.isLE)for(var n=0;n<k;n++)v[h+(n<<1)]=A[n]&255,v[h+(n<<1)+1]=A[n]>>>8;else for(var n=0;n<k;n++)v[h+(n<<1)]=A[n]>>>8,v[h+(n<<1)+1]=A[n]&255;else if(_==14||_==12)for(var C=16-_,n=0;n<k;n++)w.decode._putsF(v,n*_,A[n]<<C);else throw new Error("unsupported bit depth "+_)}else{var P=new w.JpegDecoder;P.parse(b);for(var S=P.getData(P.width,P.height),n=0;n<S.length;n++)v[h+n]=S[n]}t.t262[0]==6&&(t.t262[0]=2)},w.decode._decodeOldJPEGInit=function(t,a,r,g){var v=216,h=219,s=196,f=221,b=192,c=218,m=0,u=0,n,i,l=!1,_,A,k,C=t.t513,P=C?C[0]:0,S=t.t514,E=S?S[0]:0,z=t.t324||t.t273||C,D=t.t530,$=0,K=0,Z=t.t277?t.t277[0]:1,O=t.t515;if(z&&(u=z[0],l=z.length>1),!l){if(a[r]==255&&a[r+1]==v)return{jpegOffset:r};if(C!=null&&(a[r+P]==255&&a[r+P+1]==v?m=r+P:M("JPEGInterchangeFormat does not point to SOI"),S==null?M("JPEGInterchangeFormatLength field is missing"):(P>=u||P+E<=u)&&M("JPEGInterchangeFormatLength field value is invalid"),m!=null))return{jpegOffset:m}}if(D!=null&&($=D[0],K=D[1]),C!=null&&S!=null)if(E>=2&&P+E<=u){for(a[r+P+E-2]==255&&a[r+P+E-1]==v?n=new Uint8Array(E-2):n=new Uint8Array(E),_=0;_<n.length;_++)n[_]=a[r+P+_];M("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else M("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(n==null){var H=0,I=[];I[H++]=255,I[H++]=v;var J=t.t519;if(J==null)throw new Error("JPEGQTables tag is missing");for(_=0;_<J.length;_++)for(I[H++]=255,I[H++]=h,I[H++]=0,I[H++]=67,I[H++]=_,A=0;A<64;A++)I[H++]=a[r+J[_]+A];for(k=0;k<2;k++){var Y=t[k==0?"t520":"t521"];if(Y==null)throw new Error((k==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(_=0;_<Y.length;_++){I[H++]=255,I[H++]=s;var X=19;for(A=0;A<16;A++)X+=a[r+Y[_]+A];for(I[H++]=X>>>8,I[H++]=X&255,I[H++]=_|k<<4,A=0;A<16;A++)I[H++]=a[r+Y[_]+A];for(A=0;A<X;A++)I[H++]=a[r+Y[_]+16+A]}}if(I[H++]=255,I[H++]=b,I[H++]=0,I[H++]=8+3*Z,I[H++]=8,I[H++]=t.height>>>8&255,I[H++]=t.height&255,I[H++]=t.width>>>8&255,I[H++]=t.width&255,I[H++]=Z,Z==1)I[H++]=1,I[H++]=17,I[H++]=0;else for(_=0;_<3;_++)I[H++]=_+1,I[H++]=_!=0?17:($&15)<<4|K&15,I[H++]=_;O!=null&&O[0]!=0&&(I[H++]=255,I[H++]=f,I[H++]=0,I[H++]=4,I[H++]=O[0]>>>8&255,I[H++]=O[0]&255),n=new Uint8Array(I)}var x=-1;for(_=0;_<n.length-1;){if(n[_]==255&&n[_+1]==b){x=_;break}_++}if(x==-1){var ce=new Uint8Array(n.length+10+3*Z);ce.set(n);var Q=n.length;if(x=n.length,n=ce,n[Q++]=255,n[Q++]=b,n[Q++]=0,n[Q++]=8+3*Z,n[Q++]=8,n[Q++]=t.height>>>8&255,n[Q++]=t.height&255,n[Q++]=t.width>>>8&255,n[Q++]=t.width&255,n[Q++]=Z,Z==1)n[Q++]=1,n[Q++]=17,n[Q++]=0;else for(_=0;_<3;_++)n[Q++]=_+1,n[Q++]=_!=0?17:($&15)<<4|K&15,n[Q++]=_}if(a[u]==255&&a[u+1]==c){var te=a[u+2]<<8|a[u+3];for(i=new Uint8Array(te+2),i[0]=a[u],i[1]=a[u+1],i[2]=a[u+2],i[3]=a[u+3],_=0;_<te-2;_++)i[_+4]=a[u+_+4]}else{i=new Uint8Array(8+2*Z);var se=0;if(i[se++]=255,i[se++]=c,i[se++]=0,i[se++]=6+2*Z,i[se++]=Z,Z==1)i[se++]=1,i[se++]=0;else for(_=0;_<3;_++)i[se++]=_+1,i[se++]=_<<4|_;i[se++]=0,i[se++]=63,i[se++]=0}return{jpegOffset:r,tables:n,sosMarker:i,sofPosition:x}},w.decode._decodeOldJPEG=function(t,a,r,g,v,h){var s,f,b,c,m,u=w.decode._decodeOldJPEGInit(t,a,r,g);if(u.jpegOffset!=null)for(f=r+g-u.jpegOffset,c=new Uint8Array(f),s=0;s<f;s++)c[s]=a[u.jpegOffset+s];else{for(b=u.tables.length,c=new Uint8Array(b+u.sosMarker.length+g+2),c.set(u.tables),m=b,c[u.sofPosition+5]=t.height>>>8&255,c[u.sofPosition+6]=t.height&255,c[u.sofPosition+7]=t.width>>>8&255,c[u.sofPosition+8]=t.width&255,(a[r]!=255||a[r+1]!=SOS)&&(c.set(u.sosMarker,m),m+=sosMarker.length),s=0;s<g;s++)c[m++]=a[r+s];c[m++]=255,c[m++]=EOI}var n=new w.JpegDecoder;n.parse(c);for(var i=n.getData(n.width,n.height),s=0;s<i.length;s++)v[h+s]=i[s];t.t262&&t.t262[0]==6&&(t.t262[0]=2)},w.decode._decodePackBits=function(t,a,r,g,v){for(var h=new Int8Array(t.buffer),s=new Int8Array(g.buffer),f=a+r;a<f;){var b=h[a];if(a++,b>=0&&b<128)for(var c=0;c<b+1;c++)s[v]=h[a],v++,a++;if(b>=-127&&b<0){for(var c=0;c<-b+1;c++)s[v]=h[a],v++;a++}}},w.decode._decodeThunder=function(t,a,r,g,v){for(var h=[0,1,0,-1],s=[0,1,2,3,0,-3,-2,-1],f=a+r,b=v*2,c=0;a<f;){var m=t[a],u=m>>>6,n=m&63;if(a++,u==3&&(c=n&15,g[b>>>1]|=c<<4*(1-b&1),b++),u==0)for(var i=0;i<n;i++)g[b>>>1]|=c<<4*(1-b&1),b++;if(u==2)for(var i=0;i<2;i++){var l=n>>>3*(1-i)&7;l!=4&&(c+=s[l],g[b>>>1]|=c<<4*(1-b&1),b++)}if(u==1)for(var i=0;i<3;i++){var l=n>>>2*(2-i)&3;l!=2&&(c+=h[l],g[b>>>1]|=c<<4*(1-b&1),b++)}}},w.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},w.decode._lens=function(){var t=function(b,c,m,u){for(var n=0;n<c.length;n++)b[c[n]]=m+n*u},a="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",r="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",g="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",v="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",h="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";a=a.split(","),r=r.split(","),g=g.split(","),v=v.split(","),h=h.split(",");var s={},f={};return t(s,a,0,1),t(s,g,64,64),t(s,h,1792,64),t(f,r,0,1),t(f,v,64,64),t(f,h,1792,64),[s,f]}(),w.decode._decodeG4=function(t,a,r,g,v,h,s){for(var f=w.decode,b=a<<3,c=0,m="",u=[],n=[],i=0;i<h;i++)n.push(0);n=f._makeDiff(n);for(var l=0,_=0,A=0,k=0,C=0,P=0,S="",E=0,z=Math.ceil(h/8)*8;b>>>3<a+r;){A=f._findDiff(n,l+(l==0?0:1),1-C),k=f._findDiff(n,A,C);var D=0;if(s==1&&(D=t[b>>>3]>>>7-(b&7)&1),s==2&&(D=t[b>>>3]>>>(b&7)&1),b++,m+=D,S=="H"){if(f._lens[C][m]!=null){var $=f._lens[C][m];m="",c+=$,$<64&&(f._addNtimes(u,c,C),l+=c,C=1-C,c=0,E--,E==0&&(S=""))}}else m=="0001"&&(m="",f._addNtimes(u,k-l,C),l=k),m=="001"&&(m="",S="H",E=2),f._dmap[m]!=null&&(_=A+f._dmap[m],f._addNtimes(u,_-l,C),l=_,m="",C=1-C);u.length==h&&S==""&&(f._writeBits(u,g,v*8+P*z),C=0,P++,l=0,n=f._makeDiff(u),u=[])}},w.decode._findDiff=function(t,a,r){for(var g=0;g<t.length;g+=2)if(t[g]>=a&&t[g+1]==r)return t[g]},w.decode._makeDiff=function(t){var a=[];t[0]==1&&a.push(0,1);for(var r=1;r<t.length;r++)t[r-1]!=t[r]&&a.push(r,t[r]);return a.push(t.length,0,t.length,1),a},w.decode._decodeG3=function(t,a,r,g,v,h,s){for(var f=w.decode,b=a<<3,c=0,m="",u=[],n=[],i=0;i<h;i++)u.push(0);for(var l=0,_=0,A=0,k=0,C=0,P=-1,S="",E=0,z=!1,D=Math.ceil(h/8)*8;b>>>3<a+r;){A=f._findDiff(n,l+(l==0?0:1),1-C),k=f._findDiff(n,A,C);var $=0;if(s==1&&($=t[b>>>3]>>>7-(b&7)&1),s==2&&($=t[b>>>3]>>>(b&7)&1),b++,m+=$,z){if(f._lens[C][m]!=null){var K=f._lens[C][m];m="",c+=K,K<64&&(f._addNtimes(u,c,C),C=1-C,c=0)}}else if(S=="H"){if(f._lens[C][m]!=null){var K=f._lens[C][m];m="",c+=K,K<64&&(f._addNtimes(u,c,C),l+=c,C=1-C,c=0,E--,E==0&&(S=""))}}else m=="0001"&&(m="",f._addNtimes(u,k-l,C),l=k),m=="001"&&(m="",S="H",E=2),f._dmap[m]!=null&&(_=A+f._dmap[m],f._addNtimes(u,_-l,C),l=_,m="",C=1-C);m.endsWith("000000000001")&&(P>=0&&f._writeBits(u,g,v*8+P*D),s==1&&(z=(t[b>>>3]>>>7-(b&7)&1)==1),s==2&&(z=(t[b>>>3]>>>(b&7)&1)==1),b++,f._decodeG3.allow2D==null&&(f._decodeG3.allow2D=z),f._decodeG3.allow2D||(z=!0,b--),m="",C=0,P++,l=0,n=f._makeDiff(u),u=[])}u.length==h&&f._writeBits(u,g,v*8+P*D)},w.decode._addNtimes=function(t,a,r){for(var g=0;g<a;g++)t.push(r)},w.decode._writeBits=function(t,a,r){for(var g=0;g<t.length;g++)a[r+g>>>3]|=t[g]<<7-(r+g&7)},w.decode._decodeLZW=function(t,a,r,g){if(w.decode._lzwTab==null){for(var v=new Uint32Array(65535),h=new Uint16Array(65535),m=new Uint8Array(2e6),s=0;s<256;s++)m[s<<2]=s,v[s]=s<<2,h[s]=1;w.decode._lzwTab=[v,h,m]}for(var f=w.decode._copyData,b=w.decode._lzwTab[0],c=w.decode._lzwTab[1],m=w.decode._lzwTab[2],u=258,n=1032,i=9,l=a<<3,_=256,A=257,k=0,C=0,P=0;k=t[l>>>3]<<16|t[l+8>>>3]<<8|t[l+16>>>3],C=k>>24-(l&7)-i&(1<<i)-1,l+=i,C!=A;){if(C==_){if(i=9,u=258,n=1032,k=t[l>>>3]<<16|t[l+8>>>3]<<8|t[l+16>>>3],C=k>>24-(l&7)-i&(1<<i)-1,l+=i,C==A)break;r[g]=C,g++}else if(C<u){var S=b[C],E=c[C];if(f(m,S,r,g,E),g+=E,P>=u)b[u]=n,m[b[u]]=S[0],c[u]=1,n=n+1+3&-4,u++;else{b[u]=n;var z=b[P],D=c[P];f(m,z,m,n,D),m[n+D]=m[S],D++,c[u]=D,u++,n=n+D+3&-4}u+1==1<<i&&i++}else{if(P>=u)b[u]=n,c[u]=0,u++;else{b[u]=n;var z=b[P],D=c[P];f(m,z,m,n,D),m[n+D]=m[n],D++,c[u]=D,u++,f(m,n,r,g,D),g+=D,n=n+D+3&-4}u+1==1<<i&&i++}P=C}},w.decode._copyData=function(t,a,r,g,v){for(var h=0;h<v;h+=4)r[g+h]=t[a+h],r[g+h+1]=t[a+h+1],r[g+h+2]=t[a+h+2],r[g+h+3]=t[a+h+3]},w.tags={},w.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},w._readIFD=function(t,a,r,g,v,h){var s=t.readUshort(a,r);r+=2;var f={};g.push(f),h&&M("   ".repeat(v),g.length-1,">>>----------------");for(var b=0;b<s;b++){var c=t.readUshort(a,r);r+=2;var m=t.readUshort(a,r);r+=2;var u=t.readUint(a,r);r+=4;var n=t.readUint(a,r);r+=4;var i=[];if((m==1||m==7)&&(i=new Uint8Array(a.buffer,u<5?r-4:n,u)),m==2){var l=u<5?r-4:n,_=a[l];_<128?i.push(t.readASCII(a,l,u-1)):i=new Uint8Array(a.buffer,l,u-1)}if(m==3)for(var A=0;A<u;A++)i.push(t.readUshort(a,(u<3?r-4:n)+2*A));if(m==4)for(var A=0;A<u;A++)i.push(t.readUint(a,(u<2?r-4:n)+4*A));if(m==5)for(var A=0;A<u;A++)i.push(t.readUint(a,n+A*8)/t.readUint(a,n+A*8+4));if(m==8)for(var A=0;A<u;A++)i.push(t.readShort(a,(u<3?r-4:n)+2*A));if(m==9)for(var A=0;A<u;A++)i.push(t.readInt(a,(u<2?r-4:n)+4*A));if(m==10)for(var A=0;A<u;A++)i.push(t.readInt(a,n+A*8)/t.readInt(a,n+A*8+4));if(m==11)for(var A=0;A<u;A++)i.push(t.readFloat(a,n+A*4));if(m==12)for(var A=0;A<u;A++)i.push(t.readDouble(a,n+A*8));if(f["t"+c]=i,u!=0&&i.length==0&&M("unknown TIFF tag type: ",m,"num:",u),h&&M("   ".repeat(v),c,m,w.tags[c],i),!(c==330&&f.t272&&f.t272[0]=="DSLR-A100")){if(c==330||c==34665||c==50740&&t.readUshort(a,t.readUint(i,0))<300){for(var k=c==50740?[t.readUint(i,0)]:i,C=[],A=0;A<k.length;A++)w._readIFD(t,a,k[A],C,v+1,h);c==330&&(f.subIFD=C),c==34665&&(f.exifIFD=C[0]),c==50740&&(f.dngPrvt=C[0])}}if(c==37500){var P=i;if(t.readASCII(P,0,5)=="Nikon")f.makerNote=w.decode(P.slice(10).buffer)[0];else if(t.readUshort(a,n)<300){var S=[];w._readIFD(t,a,n,S,v+1,h),f.makerNote=S[0]}}}return h&&M("   ".repeat(v),"<<<---------------"),r},w._writeIFD=function(t,a,r,g){var v=Object.keys(g);t.writeUshort(a,r,v.length),r+=2;for(var h=r+v.length*12+4,s=0;s<v.length;s++){var f=v[s],b=parseInt(f.slice(1)),c=w.ttypes[b];if(c==null)throw new Error("unknown type of tag: "+b);var m=g[f];c==2&&(m=m[0]+"\0");var u=m.length;t.writeUshort(a,r,b),r+=2,t.writeUshort(a,r,c),r+=2,t.writeUint(a,r,u),r+=4;var n=[-1,1,1,2,4,8,0,0,0,0,0,0,8][c]*u,i=r;if(n>4&&(t.writeUint(a,r,h),i=h),c==2&&t.writeASCII(a,i,m),c==3)for(var l=0;l<u;l++)t.writeUshort(a,i+2*l,m[l]);if(c==4)for(var l=0;l<u;l++)t.writeUint(a,i+4*l,m[l]);if(c==5)for(var l=0;l<u;l++)t.writeUint(a,i+8*l,Math.round(m[l]*1e4)),t.writeUint(a,i+8*l+4,1e4);if(c==12)for(var l=0;l<u;l++)t.writeDouble(a,i+8*l,m[l]);n>4&&(n+=n&1,h+=n),r+=4}return[r,h]},w.toRGBA8=function(t){var a=t.width,r=t.height,g=a*r,v=g*4,h=t.data,s=new Uint8Array(g*4),f=t.t262?t.t262[0]:2,b=t.t258?Math.min(32,t.t258[0]):1;if(f==0)for(var c=Math.ceil(b*a/8),m=0;m<r;m++){var u=m*c,n=m*a;if(b==1)for(var i=0;i<a;i++){var l=n+i<<2,_=h[u+(i>>3)]>>7-(i&7)&1;s[l]=s[l+1]=s[l+2]=(1-_)*255,s[l+3]=255}if(b==4)for(var i=0;i<a;i++){var l=n+i<<2,_=h[u+(i>>1)]>>4-4*(i&1)&15;s[l]=s[l+1]=s[l+2]=(15-_)*17,s[l+3]=255}if(b==8)for(var i=0;i<a;i++){var l=n+i<<2,_=h[u+i];s[l]=s[l+1]=s[l+2]=255-_,s[l+3]=255}}else if(f==1)for(var c=Math.ceil(b*a/8),m=0;m<r;m++){var u=m*c,n=m*a;if(b==1)for(var i=0;i<a;i++){var l=n+i<<2,_=h[u+(i>>3)]>>7-(i&7)&1;s[l]=s[l+1]=s[l+2]=_*255,s[l+3]=255}if(b==2)for(var i=0;i<a;i++){var l=n+i<<2,_=h[u+(i>>2)]>>6-2*(i&3)&3;s[l]=s[l+1]=s[l+2]=_*85,s[l+3]=255}if(b==8)for(var i=0;i<a;i++){var l=n+i<<2,_=h[u+i];s[l]=s[l+1]=s[l+2]=_,s[l+3]=255}if(b==16)for(var i=0;i<a;i++){var l=n+i<<2,_=h[u+(2*i+1)];s[l]=s[l+1]=s[l+2]=Math.min(255,_),s[l+3]=255}}else if(f==2){var A=t.t258?t.t258.length:3;if(b==8){if(A==4)for(var i=0;i<v;i++)s[i]=h[i];if(A==3)for(var i=0;i<g;i++){var l=i<<2,k=i*3;s[l]=h[k],s[l+1]=h[k+1],s[l+2]=h[k+2],s[l+3]=255}}else{if(A==4)for(var i=0;i<g;i++){var l=i<<2,k=i*8+1;s[l]=h[k],s[l+1]=h[k+2],s[l+2]=h[k+4],s[l+3]=h[k+6]}if(A==3)for(var i=0;i<g;i++){var l=i<<2,k=i*6+1;s[l]=h[k],s[l+1]=h[k+2],s[l+2]=h[k+4],s[l+3]=255}}}else if(f==3)for(var C=t.t320,i=0;i<g;i++){var l=i<<2,P=h[i];s[l]=C[P]>>8,s[l+1]=C[256+P]>>8,s[l+2]=C[512+P]>>8,s[l+3]=255}else if(f==5)for(var A=t.t258?t.t258.length:4,S=A>4?1:0,i=0;i<g;i++){var l=i<<2,E=i*A,z=255-h[E],D=255-h[E+1],$=255-h[E+2],K=(255-h[E+3])*(1/255);s[l]=~~(z*K+.5),s[l+1]=~~(D*K+.5),s[l+2]=~~($*K+.5),s[l+3]=255*(1-S)+h[E+4]*S}else M("Unknown Photometric interpretation: "+f);return s},w.replaceIMG=function(t){t==null&&(t=document.getElementsByTagName("img"));for(var a=["tif","tiff","dng","cr2","nef"],r=0;r<t.length;r++){var g=t[r],v=g.getAttribute("src");if(v!=null){var h=v.split(".").pop().toLowerCase();if(a.indexOf(h)!=-1){var s=new XMLHttpRequest;w._xhrs.push(s),w._imgs.push(g),s.open("GET",v),s.responseType="arraybuffer",s.onload=w._imgLoaded,s.send()}}}},w._xhrs=[],w._imgs=[],w._imgLoaded=function(t){var a=t.target.response,r=w.decode(a),g=r,v=0,h=g[0];r[0].subIFD&&(g=g.concat(r[0].subIFD));for(var s=0;s<g.length;s++){var n=g[s];if(!(n.t258==null||n.t258.length<3)){var f=n.t256*n.t257;f>v&&(v=f,h=n)}}w.decodeImage(a,h,r);var b=w.toRGBA8(h),c=h.width,m=h.height,u=w._xhrs.indexOf(t.target),n=w._imgs[u];w._xhrs.splice(u,1),w._imgs.splice(u,1);var i=document.createElement("canvas");i.width=c,i.height=m;for(var l=i.getContext("2d"),_=l.createImageData(c,m),s=0;s<b.length;s++)_.data[s]=b[s];l.putImageData(_,0,0),n.setAttribute("src",i.toDataURL())},w._binBE={nextZero:function(t,a){for(;t[a]!=0;)a++;return a},readUshort:function(t,a){return t[a]<<8|t[a+1]},readShort:function(t,a){var r=w._binBE.ui8;return r[0]=t[a+1],r[1]=t[a+0],w._binBE.i16[0]},readInt:function(t,a){var r=w._binBE.ui8;return r[0]=t[a+3],r[1]=t[a+2],r[2]=t[a+1],r[3]=t[a+0],w._binBE.i32[0]},readUint:function(t,a){var r=w._binBE.ui8;return r[0]=t[a+3],r[1]=t[a+2],r[2]=t[a+1],r[3]=t[a+0],w._binBE.ui32[0]},readASCII:function(t,a,r){for(var g="",v=0;v<r;v++)g+=String.fromCharCode(t[a+v]);return g},readFloat:function(t,a){for(var r=w._binBE.ui8,g=0;g<4;g++)r[g]=t[a+3-g];return w._binBE.fl32[0]},readDouble:function(t,a){for(var r=w._binBE.ui8,g=0;g<8;g++)r[g]=t[a+7-g];return w._binBE.fl64[0]},writeUshort:function(t,a,r){t[a]=r>>8&255,t[a+1]=r&255},writeUint:function(t,a,r){t[a]=r>>24&255,t[a+1]=r>>16&255,t[a+2]=r>>8&255,t[a+3]=r>>0&255},writeASCII:function(t,a,r){for(var g=0;g<r.length;g++)t[a+g]=r.charCodeAt(g)},writeDouble:function(t,a,r){w._binBE.fl64[0]=r;for(var g=0;g<8;g++)t[a+g]=w._binBE.ui8[7-g]}},w._binBE.ui8=new Uint8Array(8),w._binBE.i16=new Int16Array(w._binBE.ui8.buffer),w._binBE.i32=new Int32Array(w._binBE.ui8.buffer),w._binBE.ui32=new Uint32Array(w._binBE.ui8.buffer),w._binBE.fl32=new Float32Array(w._binBE.ui8.buffer),w._binBE.fl64=new Float64Array(w._binBE.ui8.buffer),w._binLE={nextZero:w._binBE.nextZero,readUshort:function(t,a){return t[a+1]<<8|t[a]},readShort:function(t,a){var r=w._binBE.ui8;return r[0]=t[a+0],r[1]=t[a+1],w._binBE.i16[0]},readInt:function(t,a){var r=w._binBE.ui8;return r[0]=t[a+0],r[1]=t[a+1],r[2]=t[a+2],r[3]=t[a+3],w._binBE.i32[0]},readUint:function(t,a){var r=w._binBE.ui8;return r[0]=t[a+0],r[1]=t[a+1],r[2]=t[a+2],r[3]=t[a+3],w._binBE.ui32[0]},readASCII:w._binBE.readASCII,readFloat:function(t,a){for(var r=w._binBE.ui8,g=0;g<4;g++)r[g]=t[a+g];return w._binBE.fl32[0]},readDouble:function(t,a){for(var r=w._binBE.ui8,g=0;g<8;g++)r[g]=t[a+g];return w._binBE.fl64[0]}},w._copyTile=function(t,a,r,g,v,h,s,f){for(var b=Math.min(a,v-s),c=Math.min(r,h-f),m=0;m<c;m++)for(var u=(f+m)*v+s,n=m*a,i=0;i<b;i++)g[u+i]=t[n+i]},w.LosslessJpegDecode=function(){function t(v){this.w=v,this.N=0,this._=0,this.G=0}t.prototype={t:function(v){this.N=Math.max(0,Math.min(this.w.length,v))},i:function(){return this.w[this.N++]},l:function(){var v=this.N;return this.N+=2,this.w[v]<<8|this.w[v+1]},J:function(){return this._==0&&(this.G=this.w[this.N],this.N+=1+(this.G+1>>>8),this._=8),this.G>>>--this._&1},Z:function(v){var h=this._,s=this.G,f=Math.min(h,v);v-=f,h-=f;for(var b=s>>>h&(1<<f)-1;v>0;)s=this.w[this.N],this.N+=1+(s+1>>>8),f=Math.min(8,v),v-=f,h=8-f,b<<=f,b|=s>>>h&(1<<f)-1;return this._=h,this.G=s,b}};var a={};a.X=function(){return[0,0,-1]},a.s=function(v,h,s){v[a.Y(v,0,s)+2]=h},a.Y=function(v,h,s){if(v[h+2]!=-1)return 0;if(s==0)return h;for(var f=0;f<2;f++){v[h+f]==0&&(v[h+f]=v.length,v.push(0),v.push(0),v.push(-1));var b=a.Y(v,v[h+f],s-1);if(b!=0)return b}return 0},a.B=function(v,h){for(var s=0,f=0,b=0,c=h._,m=h.G,u=h.N;;)if(c==0&&(m=h.w[u],u+=1+(m+1>>>8),c=8),b=m>>>--c&1,s=v[s+b],f=v[s+2],f!=-1)return h._=c,h.G=m,h.N=u,f;return-1};function r(v){this.z=new t(v),this.D(this.z)}r.prototype={$:function(v,h){this.Q=v.i(),this.F=v.l(),this.o=v.l();var s=this.O=v.i();this.L=[];for(var f=0;f<s;f++){var b=v.i();v.i(),v.i(),this.L[b]=f}v.t(v.N+h-(6+s*3))},e:function(){var v=0,h=this.z.i();this.H==null&&(this.H={});for(var s=this.H[h]=a.X(),f=[],b=0;b<16;b++)f[b]=this.z.i(),v+=f[b];for(var b=0;b<16;b++)for(var c=0;c<f[b];c++)a.s(s,this.z.i(),b+1);return v+17},W:function(v){for(;v>0;)v-=this.e()},p:function(v,h){var s=v.i();this.U||(this.U=[]);for(var f=0;f<s;f++){var b=v.i(),c=v.i();this.U[this.L[b]]=this.H[c>>>4]}this.g=v.i(),v.t(v.N+h-(2+s*2))},D:function(v){var h=!1,s=v.l();if(s===r.q)do{var s=v.l(),f=v.l()-2;switch(s){case r.m:this.$(v,f);break;case r.K:this.W(f);break;case r.V:this.p(v,f),h=!0;break;default:v.t(v.N+f);break}}while(!h)},I:function(v,h){var s=a.B(h,v);if(s==16)return-32768;var f=v.Z(s);return f&1<<s-1||(f-=(1<<s)-1),f},B:function(v,h){for(var s=this.z,f=this.O,b=this.F,c=this.I,m=this.g,u=this.o*f,n=this.U,i=0;i<f;i++)v[i]=c(s,n[i])+(1<<this.Q-1);for(var l=f;l<u;l+=f)for(var i=0;i<f;i++)v[l+i]=c(s,n[i])+v[l+i-f];for(var _=h,A=1;A<b;A++){for(var i=0;i<f;i++)v[_+i]=c(s,n[i])+v[_+i-h];for(var l=f;l<u;l+=f)for(var i=0;i<f;i++){var k=_+l+i,C=v[k-f];m==6&&(C=v[k-h]+(C-v[k-f-h]>>>1)),v[k]=C+c(s,n[i])}_+=h}}},r.m=65475,r.K=65476,r.q=65496,r.V=65498;function g(v){var h=new r(v),s=h.Q>8?Uint16Array:Uint8Array,f=new s(h.o*h.F*h.O),b=h.o*h.O;return h.B(f,b),f}return g}()})(L,G)})()}(ja)),ja.exports}var et=ui();const ci={__name:"TiffViewer",props:{tiffUrl:String,isModal:{type:Boolean,default:!1},zoomLevel:{type:Number,default:1},rotationDegree:{type:Number,default:0},translateX:{type:Number,default:0}},emits:["error"],setup(R,{emit:L}){const G=R,M=_e(null),w=_e(!1),T=_e(!1),t=L,a=Ve(()=>({width:G.isModal?"100%":`${250*G.zoomLevel}px`,height:G.isModal?"100%":`${250*G.zoomLevel}px`,transform:`scale(${G.zoomLevel}) rotate(${G.rotationDegree}deg)  translateX(${G.translateX}px)`,objectFit:"contain",transformOrigin:"left"}));return rt(()=>[G.tiffUrl,G.rotationDegree],async()=>{if(G.tiffUrl){T.value=!0;try{const v=await(await fetch(G.tiffUrl)).arrayBuffer(),h=et.decode(v);et.decodeImage(v,h[0]);const s=et.toRGBA8(h[0]);if(M.value){const f=M.value,b=f.getContext("2d");f.width=h[0].width,f.height=h[0].height;const c=new ImageData(new Uint8ClampedArray(s),h[0].width,h[0].height);b.clearRect(0,0,f.width,f.height),b.save(),b.translate(f.width/2,f.height/2),b.rotate(G.rotationDegree*Math.PI/180),b.drawImage(f,-f.width/2,-f.height/2),b.restore(),b.putImageData(c,0,0)}T.value=!1}catch(g){T.value=!1,w.value=!0,t("error"),console.error("Erro ao carregar TIFF:",g)}}},{immediate:!0}),(g,v)=>(de(),Se(da,null,[y(T)?(de(),Ae(Mt,{key:0,style:{"margin-left":"200px"},class:"loading-spinner",indeterminate:"",size:"64"})):ze("",!0),y(w)?ze("",!0):(de(),Se("canvas",{key:1,ref_key:"tiffCanvas",ref:M,style:za(y(a))},null,4))],64))}},fi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAlmSURBVHic7Z1rjF1VFcd/zLSlUqYzLfJohxlKIBJTFAmmMcpjLNUAAY0JBIMxtISPimKCWm2V1wc/QpRHFCEYjSmvKtgXA8jDWkWKtFFMEGKlkKD2QaudaTvtjB/WvWFyufesfR57n33OXb9kfbkn9+z/3nudffZj7X3AMAzDMAzDMAzDMAzDMAzDMIw6c0zZAnIwH/g8cCHwceBE4ARghud0jwC7gf8ALwHPAY8DezynazQ4E3gAGAOmIrEx4H7gDI/57npmAKuBccqv8CRHWI3/Vqjr6AOeoPwKdrUngQEvJdGFzAVeofxKTWt/bmg3cjAD2ET5lZnVNmKvg1x8m/IrMa99s/BS6RJOBw5QfgXmtQPAomKLpju4C7cCfgm4FhgCegPo6gWGG2luddT4owC6asVcYD/JhToJfAfoKUkjjbRXNbQkad2PdQhTsRz9qVpVlrg2fA9d74rS1FWQdSQX5jbCNPeu9ALbSda8vjR1FWMecIjkwry+NHWduZ5kzYeR9QtD4TqqWZAD6I5rrwEHNpBciOvKk6ayHnsN5MKl+V9eljgHVlCx1itrPEA/cClwBfAxYLDxm28mgFOId+19PvAOMNNzOhPAv4G3gNeRhbINyHDTK8PIWrz2lPqyKjSh2mvAlx0Efgqc6iNTvcDtlL8WX4VOlNaJ9W1jwC0UOEyOZS0+uvdnB1xGAyFsIwXEJAwAf4kgM1PIO64qaCOZULadHFPQvYgXlZ2Jpl2ZNSMlcBXll1fT1pHxdXB7BOKbtp5qRTD3ENfDc3PaDAxTfofvKDLE+T4wO20GImA2UvCvI3kpsyzHkKG6Mw843nj6Wrzvsa/xHjNJH5Nwn+vN+9F7sUeBb1GtZrmu9AAr0VuZg8iITuWLyo2mkMo34mIler1d5XKjXyg32Yo9+THSA7xMct39rPVP7UKWz1USurNxs6rQB5yP5OujyLtzGDgOmeeYQAI39yL7/f4GvIb0bzYjHagqMAn8ENmi1olzXG6kxeIN55IZhkHgRuAFpIKz9p4PIZs/vwacFDQH2VhEcn72utxE60zEvNFhGTJt7WPYdRj4NdKaxMpM9M67ilYQMbIU2ELxld7JnkW2pcdI7vqrkgMsQDo2oSq+1R4CTvaQryHgEeR1vB9YC5zl+N+ucYBrgHcpr/Kbtgf4QoH5GkIOoGiXzpDD/2vvAMciPd2yK366TSKjo1kF5O+RhHQecvh/rR3gBKRnX3aFd7IngeNz5jFpFLbP4f+p6q/dhI5WyWVNAp0MjAIfyfDfw0gncRQZ5+9o2CHee2oXAIuBs4ElSMcyyxP9J+AyYFeG/4I4QKcp233oQR656y/GFmA+8FcHba32PDL9meWpnIcstoxmSPfFjGmCdPg63XeNw/9r9wqYjVRkmgpYi5wcVhSfIP36/iaytSBnIR2+1vvtwi3gs3YO8GMHTU17E/icRy3LgJ0p9NyRMZ0hpMO3r2FrcI/2rZUDfNlBz/Tm0Wm5MyfzgYcdNU1S7BDRhdo4wEJk7tqloH9A+M7pzY7a9uBnsqgTtXGAxxy0TAFfDaiplZsSdE23BwNqqoUDXOSgo/nkl81q3F4FoRaRauEAf3DQsYY4AlOOQc4K1vQ+E0hP5R1gxEHDm4Tp8LkyALyBrvtTAbRU3gFcniafQ72sXI6ue20AHZV2gFPQI3hCFGJWtFnDw8AHPWuotAN8wyH9Imf4iuYcdP1f8ayh0g7wrJL2857TLwJttfJpz+lX1gH6kSYyKe0qbBBdTnIexoEPeEy/sg7wWSXdQ+Rfaw/BHPQzji/2mH6q+ivzmNVWlijXtwD/CyEkJweQmIAkzgshxIWYHGCxcv2pICqK4ffKddcAT+/E5ACnK9dfDaKiGLYo180B2qDtX98RQkRB7FSuLwiiwoGYHECLddsRQkRB7FauR3N0fEwOMEe5Ph5ERTFoDhDNOkZMDjCpXK/SCSTaHrxoyj0aIcg4P4ljg6goBq2Jj2bLeUwOoMXRnxhERTFoWt8NosKBmBzgX8p1bZ4gJj6kXH8riAoHYnKAvyvXzw6iohg0rf8MosKBmBxAm+jRpopjYkS5vj2EiKzEvBg0z2P6RTEH/dP2n/GYfmVXA/uAI0ra13pMvyi+RLmrmpV1AND3AI56Tr8ItLCw5zynX2kHuNEh/ZgPaToX/SuiN3jWUGkHGEQPCt3oWUMetA9rHEECX31SaQcAOYpN07AsgI60uISFPxZAR+UdYKmDhp3E9fmYAWS1UtM9EkBL5R0A3M4BejSQFhceRdf7u0BaauEAFznomCLDlzA8cCtuWi8IpKcWDgByQoZLwd4UUFMrNyTomm6/DKipNg6wkPZn5bSz1YTfKXyLo7a9hA0Bq40DgJwG6lLIU8im0tzfyXNgALd3ftOcPtJQILVyAIB7HDQ17Q1kOOaLy4F/pNBzt0ctnaidA8wi/TFxozh+HMGR80j/9dSnKSeMrXYOANLsvuKgrdVeQPbqaQGn7TgOWdjJclDkVsK8jtqRqv6qdlTsJrI92WPIdq3NwB+RE0Z2N+woshJ5ErJhYzEyYfNJsm3i3Ibs/dMig32Ru/5ibAGaDBD3YdHPILucy6SWr4DpzALupfzKbrW7iCNyufYO0OQa3OcJfNou4GrPeU1D1zgAyGSR64yhD1tD2FNAXegqB2gygnTwQlX8ZsIc+ZaFrnSAJkuBX5HvW4GdbAKJVYj1a2FNutoBmiwEvg78lvwfjnwK+XBkbE19J1LVX5XmAbJyPPLBhyXAh4EzkbCs/ob1IAs2+4G3kenkV5GvfrxINY6lmU6q+usGB+g2UtVfu51Bddqm3W1odTPR+kM7B9CavGiONzHeh3bMzjutP7RzAO18m087yzFCs1S5/rbLTX5Oci9yK3FtKjWEHvQVU6cvl1yt3GQKWFmsdqMAVqHXm9NRu3OBg8qNjiJOYC1B+fQA30XfkjZOisOpXD/O/DKwAjgNGx2EZCawCLgO90CZn7S7Uacx/SDwGhIVY1SfceTYmvcdTdPb4Q//RdbdR/xpMgJyG/CbtH/qIX0gpFl8toHOD7pKP3KeTdmZMMtm2yjgWNo+3LZsm8Vl6ykwPrEX2YipHX5kVr4dQLbKeRmiDwL3oc8TmIW3cWSot7Bj7bUh69JuH3AJcAWyvj6EBEzYXEA49iLrNtuQfZEbqV7sgmEYhmEYhmEYhmEYhmEYhmEYnvk/IOetxTmdx/8AAAAASUVORK5CYII=",ft=Symbol.for("vuetify:v-slider");function vi(R,L,G){const M=G==="vertical",w=L.getBoundingClientRect(),T="touches"in R?R.touches[0]:R;return M?T.clientY-(w.top+w.height/2):T.clientX-(w.left+w.width/2)}function hi(R,L){return"touches"in R&&R.touches.length?R.touches[0][L]:"changedTouches"in R&&R.changedTouches.length?R.changedTouches[0][L]:R[L]}const _i=Ka({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:R=>typeof R=="boolean"||R==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:R=>typeof R=="boolean"||R==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:R=>["vertical","horizontal"].includes(R)},reverse:Boolean,...tr(),...rr({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),mi=R=>{const L=Ve(()=>parseFloat(R.min)),G=Ve(()=>parseFloat(R.max)),M=Ve(()=>+R.step>0?parseFloat(R.step):0),w=Ve(()=>Math.max(_t(M.value),_t(L.value)));function T(t){if(t=parseFloat(t),M.value<=0)return t;const a=Lt(t,L.value,G.value),r=L.value%M.value,g=Math.round((a-r)/M.value)*M.value+r;return parseFloat(Math.min(g,G.value).toFixed(w.value))}return{min:L,max:G,step:M,decimals:w,roundValue:T}},pi=R=>{let{props:L,steps:G,onSliderStart:M,onSliderMove:w,onSliderEnd:T,getActiveThumb:t}=R;const{isRtl:a}=it(),r=la(L,"reverse"),g=Ve(()=>L.direction==="vertical"),v=Ve(()=>g.value!==r.value),{min:h,max:s,step:f,decimals:b,roundValue:c}=G,m=Ve(()=>parseInt(L.thumbSize,10)),u=Ve(()=>parseInt(L.tickSize,10)),n=Ve(()=>parseInt(L.trackSize,10)),i=Ve(()=>(s.value-h.value)/f.value),l=la(L,"disabled"),_=Ve(()=>L.error||L.disabled?void 0:L.thumbColor??L.color),A=Ve(()=>L.error||L.disabled?void 0:L.trackColor??L.color),k=Ve(()=>L.error||L.disabled?void 0:L.trackFillColor??L.color),C=mt(!1),P=mt(0),S=_e(),E=_e();function z(te){var Le;const se=L.direction==="vertical",be=se?"top":"left",Be=se?"height":"width",Ke=se?"clientY":"clientX",{[be]:Re,[Be]:we}=(Le=S.value)==null?void 0:Le.$el.getBoundingClientRect(),$e=hi(te,Ke);let Ze=Math.min(Math.max(($e-Re-P.value)/we,0),1)||0;return(se?v.value:v.value!==a.value)&&(Ze=1-Ze),c(h.value+Ze*(s.value-h.value))}const D=te=>{T({value:z(te)}),C.value=!1,P.value=0},$=te=>{E.value=t(te),E.value&&(E.value.focus(),C.value=!0,E.value.contains(te.target)?P.value=vi(te,E.value,L.direction):(P.value=0,w({value:z(te)})),M({value:z(te)}))},K={passive:!0,capture:!0};function Z(te){w({value:z(te)})}function O(te){te.stopPropagation(),te.preventDefault(),D(te),window.removeEventListener("mousemove",Z,K),window.removeEventListener("mouseup",O)}function H(te){var se;D(te),window.removeEventListener("touchmove",Z,K),(se=te.target)==null||se.removeEventListener("touchend",H)}function I(te){var se;$(te),window.addEventListener("touchmove",Z,K),(se=te.target)==null||se.addEventListener("touchend",H,{passive:!1})}function J(te){te.preventDefault(),$(te),window.addEventListener("mousemove",Z,K),window.addEventListener("mouseup",O,{passive:!1})}const Y=te=>{const se=(te-h.value)/(s.value-h.value)*100;return Lt(isNaN(se)?0:se,0,100)},X=la(L,"showTicks"),x=Ve(()=>X.value?L.ticks?Array.isArray(L.ticks)?L.ticks.map(te=>({value:te,position:Y(te),label:te.toString()})):Object.keys(L.ticks).map(te=>({value:parseFloat(te),position:Y(parseFloat(te)),label:L.ticks[te]})):i.value!==1/0?ir(i.value+1).map(te=>{const se=h.value+te*f.value;return{value:se,position:Y(se)}}):[]:[]),ce=Ve(()=>x.value.some(te=>{let{label:se}=te;return!!se})),Q={activeThumbRef:E,color:la(L,"color"),decimals:b,disabled:l,direction:la(L,"direction"),elevation:la(L,"elevation"),hasLabels:ce,isReversed:r,indexFromEnd:v,min:h,max:s,mousePressed:C,numTicks:i,onSliderMousedown:J,onSliderTouchstart:I,parsedTicks:x,parseMouseMove:z,position:Y,readonly:la(L,"readonly"),rounded:la(L,"rounded"),roundValue:c,showTicks:X,startOffset:P,step:f,thumbSize:m,thumbColor:_,thumbLabel:la(L,"thumbLabel"),ticks:la(L,"ticks"),tickSize:u,trackColor:A,trackContainerRef:S,trackFillColor:k,trackSize:n,vertical:g};return nr(ft,Q),Q},gi=Ka({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Kt()},"VSliderThumb"),bi=nt()({name:"VSliderThumb",directives:{Ripple:or},props:gi(),emits:{"update:modelValue":R=>!0},setup(R,L){let{slots:G,emit:M}=L;const w=Tt(ft),{isRtl:T,rtlClasses:t}=it();if(!w)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:r,disabled:g,thumbSize:v,thumbLabel:h,direction:s,isReversed:f,vertical:b,readonly:c,elevation:m,mousePressed:u,decimals:n,indexFromEnd:i}=w,l=Ve(()=>g.value?void 0:m.value),{elevationClasses:_}=lr(l),{textColorClasses:A,textColorStyles:k}=sr(a),{pageup:C,pagedown:P,end:S,home:E,left:z,right:D,down:$,up:K}=cr,Z=[C,P,S,E,z,D,$,K],O=Ve(()=>r.value?[1,2,3]:[1,5,10]);function H(J,Y){if(!Z.includes(J.key))return;J.preventDefault();const X=r.value||.1,x=(R.max-R.min)/X;if([z,D,$,K].includes(J.key)){const Q=(b.value?[T.value?z:D,f.value?$:K]:i.value!==T.value?[z,K]:[D,K]).includes(J.key)?1:-1,te=J.shiftKey?2:J.ctrlKey?1:0;Y=Y+Q*X*O.value[te]}else if(J.key===E)Y=R.min;else if(J.key===S)Y=R.max;else{const ce=J.key===P?1:-1;Y=Y-ce*X*(x>100?x/10:10)}return Math.max(R.min,Math.min(R.max,Y))}function I(J){const Y=H(J,R.modelValue);Y!=null&&M("update:modelValue",Y)}return ot(()=>{const J=Aa(i.value?100-R.position:R.position,"%");return B("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":R.focused,"v-slider-thumb--pressed":R.focused&&u.value},R.class,t.value],style:[{"--v-slider-thumb-position":J,"--v-slider-thumb-size":Aa(v.value)},R.style],role:"slider",tabindex:g.value?-1:0,"aria-label":R.name,"aria-valuemin":R.min,"aria-valuemax":R.max,"aria-valuenow":R.modelValue,"aria-readonly":!!c.value,"aria-orientation":s.value,onKeydown:c.value?void 0:I},[B("div",{class:["v-slider-thumb__surface",A.value,_.value],style:{...k.value}},null),We(B("div",{class:["v-slider-thumb__ripple",A.value],style:k.value},null),[[Ia("ripple"),R.ripple,null,{circle:!0,center:!0}]]),B(dr,{origin:"bottom center"},{default:()=>{var Y;return[We(B("div",{class:"v-slider-thumb__label-container"},[B("div",{class:["v-slider-thumb__label"]},[B("div",null,[((Y=G["thumb-label"])==null?void 0:Y.call(G,{modelValue:R.modelValue}))??R.modelValue.toFixed(r.value?n.value:1)])])]),[[ur,h.value&&R.focused||h.value==="always"]])]}})])}),{}}}),Ai=Ka({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Kt()},"VSliderTrack"),wi=nt()({name:"VSliderTrack",props:Ai(),emits:{},setup(R,L){let{slots:G}=L;const M=Tt(ft);if(!M)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:w,parsedTicks:T,rounded:t,showTicks:a,tickSize:r,trackColor:g,trackFillColor:v,trackSize:h,vertical:s,min:f,max:b,indexFromEnd:c}=M,{roundedClasses:m}=fr(t),{backgroundColorClasses:u,backgroundColorStyles:n}=pt(v),{backgroundColorClasses:i,backgroundColorStyles:l}=pt(g),_=Ve(()=>`inset-${s.value?"block":"inline"}-${c.value?"end":"start"}`),A=Ve(()=>s.value?"height":"width"),k=Ve(()=>({[_.value]:"0%",[A.value]:"100%"})),C=Ve(()=>R.stop-R.start),P=Ve(()=>({[_.value]:Aa(R.start,"%"),[A.value]:Aa(C.value,"%")})),S=Ve(()=>a.value?(s.value?T.value.slice().reverse():T.value).map((z,D)=>{var K;const $=z.value!==f.value&&z.value!==b.value?Aa(z.position,"%"):void 0;return B("div",{key:z.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":z.position>=R.start&&z.position<=R.stop,"v-slider-track__tick--first":z.value===f.value,"v-slider-track__tick--last":z.value===b.value}],style:{[_.value]:$}},[(z.label||G["tick-label"])&&B("div",{class:"v-slider-track__tick-label"},[((K=G["tick-label"])==null?void 0:K.call(G,{tick:z,index:D}))??z.label])])}):[]);return ot(()=>B("div",{class:["v-slider-track",m.value,R.class],style:[{"--v-slider-track-size":Aa(h.value),"--v-slider-tick-size":Aa(r.value)},R.style]},[B("div",{class:["v-slider-track__background",i.value,{"v-slider-track__background--opacity":!!w.value||!v.value}],style:{...k.value,...l.value}},null),B("div",{class:["v-slider-track__fill",u.value],style:{...P.value,...n.value}},null),a.value&&B("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[S.value])])),{}}}),ki=Ka({...vr(),..._i(),...hr(),modelValue:{type:[Number,String],default:0}},"VSlider"),yi=nt()({name:"VSlider",props:ki(),emits:{"update:focused":R=>!0,"update:modelValue":R=>!0,start:R=>!0,end:R=>!0},setup(R,L){let{slots:G,emit:M}=L;const w=_e(),{rtlClasses:T}=it(),t=mi(R),a=_r(R,"modelValue",void 0,A=>t.roundValue(A??t.min.value)),{min:r,max:g,mousePressed:v,roundValue:h,onSliderMousedown:s,onSliderTouchstart:f,trackContainerRef:b,position:c,hasLabels:m,readonly:u}=pi({props:R,steps:t,onSliderStart:()=>{M("start",a.value)},onSliderEnd:A=>{let{value:k}=A;const C=h(k);a.value=C,M("end",C)},onSliderMove:A=>{let{value:k}=A;return a.value=h(k)},getActiveThumb:()=>{var A;return(A=w.value)==null?void 0:A.$el}}),{isFocused:n,focus:i,blur:l}=mr(R),_=Ve(()=>c(a.value));return ot(()=>{const A=gt.filterProps(R),k=!!(R.label||G.label||G.prepend);return B(gt,Ut({class:["v-slider",{"v-slider--has-labels":!!G["tick-label"]||m.value,"v-slider--focused":n.value,"v-slider--pressed":v.value,"v-slider--disabled":R.disabled},T.value,R.class],style:R.style},A,{focused:n.value}),{...G,prepend:k?C=>{var P,S;return B(da,null,[((P=G.label)==null?void 0:P.call(G,C))??(R.label?B(pr,{id:C.id.value,class:"v-slider__label",text:R.label},null):void 0),(S=G.prepend)==null?void 0:S.call(G,C)])}:void 0,default:C=>{let{id:P,messagesId:S}=C;return B("div",{class:"v-slider__container",onMousedown:u.value?void 0:s,onTouchstartPassive:u.value?void 0:f},[B("input",{id:P.value,name:R.name||P.value,disabled:!!R.disabled,readonly:!!R.readonly,tabindex:"-1",value:a.value},null),B(wi,{ref:b,start:0,stop:_.value},{"tick-label":G["tick-label"]}),B(bi,{ref:w,"aria-describedby":S.value,focused:n.value,min:r.value,max:g.value,modelValue:a.value,"onUpdate:modelValue":E=>a.value=E,position:_.value,elevation:R.elevation,onFocus:i,onBlur:l,ripple:R.ripple,name:R.name},{"thumb-label":G["thumb-label"]})])}})}),{}}}),xi=["src"],Ei={key:2,src:fi},Ci={__name:"ReconhecimentoFacial",setup(R){const L=_e(null),G=_e([]),M=_e(""),w=_e(!1),T=_e(null),t=_e(null),a=Ba(),{id:r}=a.params,g=_e(1),h=De("pessoa_token").value,f=De("user-data").value.nome,b=fa(),c=`${b.public.managemant}/upload`,m=`${b.public.managemant}/getLinkTipo`,u=`${b.public.managemant}/download`,{$toast:n}=ma(),i=Ve(()=>!!t.value),l=Ve(()=>!!T.value),_=_e(!1),A=async()=>{const z=await navigator.mediaDevices.enumerateDevices();G.value=z.filter(D=>D.kind==="videoinput").map(D=>({deviceId:D.deviceId,label:D.label||`Camera ${G.value.length+1}`}))},k=async()=>{w.value=!0;try{await navigator.mediaDevices.getUserMedia({video:!0}),await A()}catch(z){console.error("Erro ao acessar dispositivos de mídia:",z)}},C=()=>{w.value=!1;const z=L.value.srcObject;z&&z.getTracks().forEach($=>$.stop())},P=async()=>{if(M.value){const z=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:M.value}}});L.value.srcObject=z}},S=async()=>{const z=document.createElement("canvas"),D=z.getContext("2d"),$=L.value.videoWidth,K=L.value.videoHeight,Z=$*g.value,O=K*g.value,H=($-Z)/2,I=(K-O)/2;z.width=$,z.height=K,D.drawImage(L.value,H,I,Z,O),z.toBlob(async J=>{const Y=new FormData;Y.append("file",J,`${f}.jpg`),Y.append("cartorio_token",De("user-data").value.cartorio_token),Y.append("token",h),Y.append("tipo","foto");const{status:X}=await qe(c,{method:"POST",body:Y},"$fRRPU47ULS");if(X.value==="success"){n.success("Imagem enviada!");const x=URL.createObjectURL(J);T.value=x,C()}else n.error("Erro ao enviar imagem para o sistema.")},"image/jpeg")};return r&&(async z=>{var O;if(!z)return;const{data:D}=await qe(m,{method:"POST",body:{tipo:"foto",id:z}},"$N16ZtKMkSh");if(!((O=D.value)!=null&&O.link))return;const{data:$}=await qe(u,{method:"POST",body:{bucket:De("user-data").value.cartorio_token,path:D.value.link}},"$mC9TAMOeqI"),K=D.value.link,Z=$.value;/\.(tr7|tiff)$/i.test(K)?(t.value=Z,_.value=!1):T.value=Z})(r),La(async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await A()}catch(z){console.error("Erro ao acessar dispositivos de mídia:",z)}}),(z,D)=>{const $=ci;return de(),Ae(ve,{cols:"auto"},{default:j(()=>[B(Ta,{"max-width":"700",modelValue:y(w),"onUpdate:modelValue":D[3]||(D[3]=K=>_a(w)?w.value=K:null)},{activator:j(({props:K})=>[B(Ge,Ut(K,{variant:"outlined",style:{width:"300px",height:"300px"},onClick:k}),{default:j(()=>[y(i)&&!y(_)?(de(),Ae($,{key:0,"tiff-url":y(t),onError:D[0]||(D[0]=Z=>_.value=!0)},null,8,["tiff-url"])):y(l)?(de(),Se("img",{key:1,src:y(T),style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,xi)):(de(),Se("img",Ei))]),_:2},1040)]),default:j(({isActive:K})=>[B(Ua,{title:"Biometria"},{default:j(()=>[B(Ie,null,{default:j(()=>[B(ve,null,{default:j(()=>[B(ia,null,{default:j(()=>[B(jt,{items:y(G),modelValue:y(M),"onUpdate:modelValue":D[1]||(D[1]=Z=>_a(M)?M.value=Z:null),"item-title":"label","item-value":"deviceId",label:"Selecionar Webcam"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),B(Ie,null,{default:j(()=>[B(ve,null,{default:j(()=>[B(Ge,{size:"large",class:"ml-5",onClick:P},{default:j(()=>D[4]||(D[4]=[Ne("Exibir")])),_:1})]),_:1})]),_:1}),B(ia,null,{default:j(()=>[B(yi,{modelValue:y(g),"onUpdate:modelValue":D[2]||(D[2]=Z=>_a(g)?g.value=Z:null),min:1,max:3,step:"0.1",label:"Zoom"},null,8,["modelValue"])]),_:1}),B(Ie,null,{default:j(()=>[B(ia,{style:{overflow:"hidden"}},{default:j(()=>[B(ve,{class:"d-flex justify-center align-center"},{default:j(()=>[Ee("video",{ref_key:"video",ref:L,width:"360",height:"300",autoplay:"",style:za({transform:`scale(${y(g)})`,transformOrigin:"center center"})},null,4)]),_:1})]),_:1})]),_:1}),B(Ie,{class:"mt-10 mb-5 ml-5"},{default:j(()=>[B(Ge,{color:"red",size:"large",onClick:C},{default:j(()=>D[5]||(D[5]=[Ne("Fechar")])),_:1}),B(Ge,{color:"green",size:"large",class:"ml-5",onClick:S},{default:j(()=>D[6]||(D[6]=[Ne("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Vi=""+new URL("escanearFicha.CgD8l9Wn.png",import.meta.url).href,Si={__name:"Scanner",setup(R){const L=fa(),{$toast:G}=ma(),M=`${L.public.envioDoc}/upload`,w=`${L.public.biometria}/run-scanner?format=img`,t=De("pessoa_token").value;async function a(){try{await r(),await g()}catch(v){G.error("Erro ao executar scanner ou listar arquivos:",v)}}async function r(){try{const{data:v}=await qe(w,{method:"GET"},"$qlTK399Ixo")}catch(v){G.error("Erro ao acionar o scanner:",v)}}async function g(){try{const{status:v}=await qe(M,{method:"POST",body:{tipo:"ficha",token:t,cartorio_token:De("user-data").value.cartorio_token}},"$JkvEThvk9m");v.value==="success"&&G.success("Arquivo enviado com sucesso!")}catch(v){G.error(v),console.error("Erro ao enviar o arquivo:",v)}}return(v,h)=>(de(),Se("div",null,[Ee("img",{onClick:a,src:Vi,style:{width:"280px",height:"120px",cursor:"pointer","margin-top":"30px"}})]))}},Di=""+new URL("imprimirFicha.BlhLZ85F.png",import.meta.url).href,Bi={style:{display:"flex","flex-direction":"column"}},Ii={key:0},Ri={__name:"Impressao",props:{linkFicha:String},setup(R){const L=R,G=_e(""),M=fa(),w=`${M.public.managemant}/gerarRelatorioPessoa`,T=`${M.public.managemant}/download`,t=_e(null),a=_e(!1),r=_e(!1),g=_e({}),v=async()=>{const f=await qe(w,{method:"POST",body:{consulta:"FICHA ASSINATURA",pessoa_token:De("pessoa_token").value}},"$LOyFO5WGQE");G.value=f.data.value},h=async()=>{if(r.value=!0,a.value=!0,L.linkFicha){g.value={token:De("pessoa_token").value,link_ficha:L.linkFicha};const{data:f}=await qe(T,{method:"POST",body:{bucket:De("user-data").value.cartorio_token,path:L.linkFicha}},"$BxSla0y3eT");t.value=f.value}},s=async()=>{await v();const f=document.createElement("iframe");f.style.position="absolute",f.style.width="0px",f.style.height="0px",f.style.border="none",document.body.appendChild(f);const b=f.contentWindow.document;b.open(),b.write(G.value),b.close(),f.contentWindow.focus(),f.contentWindow.print(),document.body.removeChild(f)};return(f,b)=>{const c=Si,m=Ar;return de(),Se(da,null,[B(ve,{cols:"auto"},{default:j(()=>[Ee("div",Bi,[Ee("img",{onClick:b[0]||(b[0]=u=>s()),src:Di,style:{width:"280px",height:"120px",cursor:"pointer"}}),B(c)]),L.linkFicha?(de(),Se("div",Ii,[Ee("img",{onClick:b[1]||(b[1]=u=>h()),style:{width:"80px",height:"80px",cursor:"pointer"},src:Jt,alt:"Ver ficha"})])):ze("",!0)]),_:1}),y(r)?(de(),Ae(m,{key:0,show:y(r),"link-view":y(t),"is-view":!0,"pessoa-obj":y(g),onClose:b[2]||(b[2]=u=>r.value=!1)},null,8,["show","link-view","pessoa-obj"])):ze("",!0)],64)}}},Ni={__name:"Index",props:{isModal:{type:Boolean,default:!1},linkFicha:String},emits:["close-modal"],setup(R,{emit:L}){const G=Sa(),M=L,w=R,T=()=>{if(w.isModal===!0){M("close-modal");return}G.push("/pessoas/lista")};return(t,a)=>{const r=ei,g=Ci,v=Ri;return de(),Se(da,null,[B(ia,null,{default:j(()=>[B(Ie,{class:"d-flex align-items-center"},{default:j(()=>[B(r),B(g,{class:"ml-5 mr-5"}),B(v,{"link-ficha":w.linkFicha},null,8,["link-ficha"])]),_:1})]),_:1}),B(Ge,{onClick:T,class:"mt-10",size:"large",color:"red"},{default:j(()=>a[0]||(a[0]=[Ne("Voltar")])),_:1})],64)}}},Pi={},zi={style:{height:"425px"}};function Mi(R,L){return de(),Se("div",zi,L[0]||(L[0]=[Ee("h1",null,"Restrições",-1)]))}const $i=Ot(Pi,[["render",Mi]]),Oi={style:{"background-color":"#f5f2f2",padding:"5px 0px 0px 20px"}},Li={__name:"RegistroPessoas",props:{show:Boolean},emits:["close"],setup(R,{emit:L}){const G=R,M=_e(G.show),w=L,T=_e("dados"),t=_e(!1),a=_e(!1),r=_e(!1),g=Da({tipo_pessoa:"FISICA"}),v=[{label:"FÍSICA",value:"FISICA"},{label:"JURÍDICA",value:"JURIDICA"},{label:"ESTRANGEIRA",value:"ESTRANGEIRA"}],h=()=>{t.value=!0,r.value=!0},s=()=>{a.value=!0,r.value=!0};rt(()=>G.show,b=>{M.value=b});const f=()=>{M.value=!1,w("close")};return(b,c)=>{const m=xr,u=Cr,n=$r,i=Tr,l=Jr,_=Ni,A=$i;return de(),Ae(Ta,{persistent:"",modelValue:y(M),"onUpdate:modelValue":c[3]||(c[3]=k=>_a(M)?M.value=k:null),"max-width":"900"},{default:j(()=>[B(Ua,null,{default:j(()=>[B(ia,null,{default:j(()=>[c[10]||(c[10]=Ee("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Cadastramento de pessoas ",-1)),Ee("div",Oi,[B(Ye,{modelValue:y(g).tipo_pessoa,"onUpdate:modelValue":c[0]||(c[0]=k=>y(g).tipo_pessoa=k),style:{width:"200px"},items:v,"item-title":"label","item-value":"value",label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:y(r)},null,8,["modelValue","disabled"])]),B(wr,{modelValue:y(T),"onUpdate:modelValue":c[1]||(c[1]=k=>_a(T)?T.value=k:null),"bg-color":"#f5f2f2"},{default:j(()=>[B(xa,{value:"dados"},{default:j(()=>c[4]||(c[4]=[Ne("Dados")])),_:1}),y(t)?(de(),Ae(xa,{key:0,value:"documento"},{default:j(()=>c[5]||(c[5]=[Ne("Documentos")])),_:1})):ze("",!0),y(a)?(de(),Ae(xa,{key:1,value:"representante"},{default:j(()=>c[6]||(c[6]=[Ne("Representantes")])),_:1})):ze("",!0),y(a)||y(t)?(de(),Ae(xa,{key:2,value:"endereco"},{default:j(()=>c[7]||(c[7]=[Ne("Endereços")])),_:1})):ze("",!0),y(t)?(de(),Ae(xa,{key:3,value:"biometria"},{default:j(()=>c[8]||(c[8]=[Ne("Biometria")])),_:1})):ze("",!0),y(a)||y(t)?(de(),Ae(xa,{key:4,value:"restricao"},{default:j(()=>c[9]||(c[9]=[Ne("Restrições")])),_:1})):ze("",!0)]),_:1},8,["modelValue"]),B(kr,{modelValue:y(T),"onUpdate:modelValue":c[2]||(c[2]=k=>_a(T)?T.value=k:null)},{default:j(()=>[B(Ea,{value:"dados"},{default:j(()=>[y(g).tipo_pessoa==="FISICA"?(de(),Ae(m,{key:0,onSaved:h,onCloseModal:f,isModal:!0})):y(g).tipo_pessoa==="JURIDICA"?(de(),Ae(u,{key:1,onSaved:s,onCloseModal:f,isModal:!0})):ze("",!0)]),_:1}),b.showTabs?(de(),Ae(Ea,{key:0,value:"documento"},{default:j(()=>[B(n,{onCloseModal:f,isModal:!0})]),_:1})):ze("",!0),y(a)?(de(),Ae(Ea,{key:1,value:"representante"},{default:j(()=>[B(i,{onCloseModal:f,isModal:!0})]),_:1})):ze("",!0),y(a)||y(t)?(de(),Ae(Ea,{key:2,value:"endereco"},{default:j(()=>[B(l,{onCloseModal:f,isModal:!0})]),_:1})):ze("",!0),b.showTabs?(de(),Ae(Ea,{key:3,value:"biometria"},{default:j(()=>[B(ia,null,{default:j(()=>[B(_,{onCloseModal:f,isModal:!0})]),_:1})]),_:1})):ze("",!0),b.showTabs?(de(),Ae(Ea,{key:4,value:"restricao"},{default:j(()=>[B(A,{onCloseModal:f,isModal:!0})]),_:1})):ze("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{Li as _,Vr as a,Sr as b,ci as c,Cr as d,$r as e,Tr as f,Jr as g,Ni as h,$i as i,xr as j};
