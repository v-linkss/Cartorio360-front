import{_ as ye,a as $e,b as xe,c as ke,d as Be,e as Ce}from"./CZL_t04L.js";import{_ as te}from"./Cxp4Sdtu.js";import{_ as oe}from"./7M-Um4A2.js";import{_ as Ae,a as se,b as ie,c as ue}from"./BB50QKf3.js";import{_ as ne}from"./CndiGs6d.js";import{z as re,D as X,u as de,r as m,m as h,A as ce,E as R,o as E,q as me,w as l,b as e,v as s,a as r,t as Z,c as W,F as N,d as b,G as _e,H as q,s as Y,V as v,I as Te}from"./Caqe_Evm.js";import{u as A}from"./BLqYOKPT.js";import{V as i}from"./DOUcgSSU.js";import{V as Q}from"./C4GFCH-t.js";import{V}from"./ChtuZHyl.js";import{V as B}from"./BcXrensE.js";import{V as pe}from"./BRurQWJW.js";import{V as fe,a as ee,b as ve,c as Ve,d as be}from"./DJUpc0ur.js";import{V as ge}from"./CPmQWUXx.js";import{f as ae}from"./dtbcsJGr.js";import{V as we,a as U,b as Pe,c as z}from"./ZaRICACb.js";import"./DsyyM_ZC.js";import"./BxM8NSod.js";import"./CdP3NN9a.js";import"./AfGsJJto.js";import"./C9ibVpFP.js";import"./CxiUa29x.js";import"./CAm-KLGi.js";import"./D8H6kwwQ.js";const Ue={style:{width:"800px","font-weight":"500"}},ze=["onClick"],Se=["onClick"],De=["onClick"],Oe={key:0,style:{width:"30px",height:"30px"},src:ie,alt:"Reativar",title:"Reativar"},Ee={key:1,src:ue,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Ie={__name:"Bens",async setup(le){let u,y;const T=re(),x=X(),p=Y(),{$toast:w}=de(),P=`${p.public.managemant}/atos_bens`,I=`${p.public.managemant}/atos_bens`,M=`${p.public.managemant}/atos_bens`,F=`${p.public.managemant}/listarTipoBens`,S=m(h("user-data").value.cartorio_token),f=m(h("user-data").value.usuario_id).value,$=m([]),_=m([]),g=m(!1),G=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"valor_mercado"},{align:"end",value:"actions"}],d=ce({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),j=async()=>{if(!d.vlr_alienacao&&!d.descricao){w.error("Os campos Descrição e Valor são Obrigatorios!");return}const{data:c,status:a}=await A(`${P}`,{method:"POST",body:{descricao:d.descricao,tipo_id:d.tipo_id,valor_mercado:d.vlr_alienacao,user_id:f,ato_id:Number.parseInt(x.query.ato_id),token:x.query.ato_token_edit}},"$aGIwRtPn6M");a.value==="success"&&(w.success("Bem registrado com sucesso!"),$.value.push(c.value),Object.assign(d,{vlr_alienacao:null,descricao:null,tipo_id:null}))},L=async c=>{const{status:a}=await A(`${I}/${c}`,{method:"PUT",body:{descricao:_.value.descricao,tipo_id:_.value.tipo_id,valor_mercado:_.value.valor_mercado}},"$4hUMyAQlzU");a.value==="success"&&(w.success("Bem Atualizado com sucesso!"),g.value=!1)},J=c=>{const a=$.value.find(C=>C.id===c);a&&(_.value=a,g.value=!0)},{data:k}=([u,y]=R(()=>A(`${F}`,{method:"POST",body:{cartorio_token:S.value,imoveis:!1}},"$da802I2H8c")),u=await u,y(),u);d.tiposBens=k.value;const{data:t}=([u,y]=R(()=>A(`${M}/${x.query.ato_id}`,{method:"GET"},"$iXfJJrO35d")),u=await u,y(),u);$.value=t.value;async function o(c){c.excluido=!c.excluido;try{await A(`${I}/${c.id}`,{method:"PUT",body:JSON.stringify({excluido:c.excluido})},"$PGKHfsa7Pl")}catch(a){console.error("Erro ao excluir pessoa:",a)}}const D=()=>{const c=x.query.origem||"criar",a=x.query.id;c==="atualizar"?T.push(`/os/atualizar/${a}`):T.push("/os/criar-registro")};return(c,a)=>{const C=te,K=oe;return E(),me(ge,null,{default:l(()=>[e(i,{class:"mt-5",cols:"12"},{default:l(()=>[e(Q,{label:"Descrição",modelValue:s(d).descricao,"onUpdate:modelValue":a[0]||(a[0]=n=>s(d).descricao=n)},null,8,["modelValue"])]),_:1}),e(V,{class:"ml-1 mb-3"},{default:l(()=>[e(i,{class:"mt-6",cols:"8"},{default:l(()=>[e(B,{label:"Selecione o Tipo",items:s(d).tiposBens,modelValue:s(d).tipo_id,"onUpdate:modelValue":a[1]||(a[1]=n=>s(d).tipo_id=n),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(i,{class:"ml-5",cols:"3"},{default:l(()=>[a[9]||(a[9]=r("label",null,"Valor",-1)),e(C,{modelValue:s(d).vlr_alienacao,"onUpdate:modelValue":a[2]||(a[2]=n=>s(d).vlr_alienacao=n)},null,8,["modelValue"])]),_:1}),r("div",null,[r("img",{class:"mt-7 ml-4",src:Ae,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:j})])]),_:1}),e(V,null,{default:l(()=>[e(i,null,{default:l(()=>[e(pe,{style:{height:"465px"},headers:G,items:s($)},{"item.descricao":l(({item:n})=>[r("h3",Ue,Z(n.descricao),1)]),"item.actions":l(({item:n})=>[e(V,{style:{"margin-top":"-8px"},justify:"end"},{default:l(()=>[r("div",{style:{cursor:"pointer"},class:"mr-2",onClick:H=>c.redirectToFicha(n),title:"Visualizar Ficha"},a[10]||(a[10]=[r("img",{style:{width:"30px",height:"30px"},src:ne,alt:"Visualizar"},null,-1)]),8,ze),r("div",{style:{cursor:"pointer"},class:"mr-2",onClick:H=>J(n.id),title:"Alterar Papel"},a[11]||(a[11]=[r("img",{style:{width:"30px",height:"30px"},src:se,alt:"Editar"},null,-1)]),8,Se),r("div",{style:{cursor:"pointer"},class:"mr-2",onClick:H=>o(n),title:"Deletar Pessoa"},[n.excluido?(E(),W("img",Oe)):(E(),W("img",Ee))],8,De)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(fe,{modelValue:s(g),"onUpdate:modelValue":a[8]||(a[8]=n=>N(g)?g.value=n:null),"max-width":"600px"},{default:l(()=>[e(ee,null,{default:l(()=>[e(ve,{style:{color:"green"}},{default:l(()=>a[12]||(a[12]=[b("Atualizar Bem")])),_:1}),e(Ve,null,{default:l(()=>[e(i,{class:"mt-1",cols:"12"},{default:l(()=>[e(Q,{label:"Descrição",modelValue:s(_).descricao,"onUpdate:modelValue":a[3]||(a[3]=n=>s(_).descricao=n)},null,8,["modelValue"])]),_:1}),e(V,null,{default:l(()=>[e(i,{class:"mt-6 ml-3",cols:"8"},{default:l(()=>[e(B,{label:"Selecione o Tipo",items:s(d).tiposBens,modelValue:s(_).tipo_id,"onUpdate:modelValue":a[4]||(a[4]=n=>s(_).tipo_id=n),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(i,{class:"ml-5",cols:"3"},{default:l(()=>[a[13]||(a[13]=r("label",null,"Valor",-1)),e(C,{modelValue:s(_).valor_mercado,"onUpdate:modelValue":a[5]||(a[5]=n=>s(_).valor_mercado=n)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(be,null,{default:l(()=>[e(_e),e(q,{color:"green",text:"",onClick:a[6]||(a[6]=n=>g.value=!1)},{default:l(()=>a[14]||(a[14]=[b("Cancelar")])),_:1}),e(q,{color:"green",text:"",onClick:a[7]||(a[7]=n=>L(s(_).id))},{default:l(()=>a[15]||(a[15]=[b("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(V,null,{default:l(()=>[e(K,{onClick:D},{default:l(()=>[e(q,{size:"large",color:"red"},{default:l(()=>a[16]||(a[16]=[b("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Ne={style:{width:"800px","font-weight":"500"}},qe=["onClick"],Re=["onClick"],Me=["onClick"],Fe={key:0,style:{width:"30px",height:"30px"},src:ie,alt:"Reativar",title:"Reativar"},Ge={key:1,src:ue,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Le={__name:"Imoveis",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0}},async setup(le){let u,y;const T=re(),x=X(),p=Y(),{$toast:w}=de();`${p.public.managemant}`;const P=`${p.public.managemant}/atos_bens`,I=`${p.public.managemant}/atos_bens`,M=`${p.public.managemant}/listarTipoBens`,F=m(h("user-data").value.cartorio_token);m(h("user-data").value.usuario_id).value;const S=m([]),f=m([]),$=m(!1),_=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"valor_mercado"},{align:"end",value:"actions"}],g=ce({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),G=async t=>{const{status:o}=await A(`${P}/${t}`,{method:"PUT",body:{descricao:f.value.descricao,tipo_id:f.value.tipo_id,valor_mercado:f.value.valor_mercado}},"$emCqVdAoWQ");o.value==="success"&&(w.success("Bem Atualizado com sucesso!"),$.value=!1)},d=t=>{const o=S.value.find(D=>D.id===t);o&&(f.value=o,$.value=!0)},{data:j}=([u,y]=R(()=>A(`${M}`,{method:"POST",body:{cartorio_token:F.value,imoveis:!1}},"$4w6N3eZ5Eo")),u=await u,y(),u);g.tiposBens=j.value;const{data:L}=([u,y]=R(()=>A(`${I}/${x.query.ato_id}`,{method:"GET"},"$JNNyuNGPqs")),u=await u,y(),u);S.value=L.value;async function J(t){t.excluido=!t.excluido;try{await A(`${P}/${t.id}`,{method:"PUT",body:JSON.stringify({excluido:t.excluido})},"$Ws9ScoCJyh")}catch(o){console.error("Erro ao excluir pessoa:",o)}}const k=()=>{const t=x.query.origem||"criar",o=x.query.id;t==="atualizar"?T.push(`/os/atualizar/${o}`):T.push("/os/criar-registro")};return(t,o)=>{const D=te,c=oe;return E(),me(ge,null,{default:l(()=>[e(V,null,{default:l(()=>[e(i,{class:"mt-5",cols:"12"},{default:l(()=>[e(Q,{label:"Descrição",modelValue:s(g).descricao,"onUpdate:modelValue":o[0]||(o[0]=a=>s(g).descricao=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(V,null,{default:l(()=>[e(i,{cols:"3"},{default:l(()=>[e(B,{label:"Selecione o Tipo de Registro"})]),_:1}),e(i,{cols:"2"},{default:l(()=>[e(v,{label:"Cartório"})]),_:1}),e(i,{cols:"2"},{default:l(()=>[e(v,{label:"Matricula"})]),_:1}),e(i,null,{default:l(()=>[e(v,{label:"Letra"})]),_:1}),e(i,{cols:"2"},{default:l(()=>[e(B,{label:"Natureza"})]),_:1}),e(i,{cols:"2"},{default:l(()=>[e(v,{label:"CIB"})]),_:1})]),_:1}),e(V,null,{default:l(()=>[e(i,{cols:"3"},{default:l(()=>[e(B,{label:"Selecione a Cidade"})]),_:1}),e(i,{cols:"2"},{default:l(()=>[e(v,{label:"Quadra"})]),_:1}),e(i,{cols:"2"},{default:l(()=>[e(v,{label:"Lote"})]),_:1}),e(i,{cols:"4"},{default:l(()=>[e(B,{label:"Logradouro"})]),_:1}),e(i,{cols:"1"},{default:l(()=>[e(v,{label:"N*"})]),_:1})]),_:1}),e(V,null,{default:l(()=>[e(i,null,{default:l(()=>[e(v,{label:"Bairro"})]),_:1}),e(i,null,{default:l(()=>[e(v,{label:"CEP"})]),_:1}),e(i,null,{default:l(()=>[e(v,{label:"Complemento"})]),_:1}),e(i,{cols:"3"},{default:l(()=>[e(B,{label:"Selecione o tipo de imovel"})]),_:1}),e(i,{cols:"3"},{default:l(()=>[e(v,{label:"Inscrição Municipal"})]),_:1})]),_:1}),e(V,null,{default:l(()=>[e(i,{cols:"3"},{default:l(()=>[e(B,{label:"Selecione a Situação"})]),_:1}),e(i,null,{default:l(()=>[e(v,{label:"Valor Alienação"})]),_:1}),e(i,null,{default:l(()=>[e(v,{label:"Valor Avaliação"})]),_:1}),e(i,null,{default:l(()=>[e(v,{label:"Valor Mercado"})]),_:1}),e(i,{cols:"1"},{default:l(()=>[e(v,{label:"%ITB"})]),_:1}),e(i,null,{default:l(()=>[e(v,{label:"Valor ITB"})]),_:1})]),_:1}),e(V,null,{default:l(()=>[e(i,null,{default:l(()=>[e(pe,{style:{height:"465px"},headers:_,items:s(S)},{"item.descricao":l(({item:a})=>[r("h3",Ne,Z(a.descricao),1)]),"item.actions":l(({item:a})=>[e(V,{style:{"margin-top":"-8px"},justify:"end"},{default:l(()=>[r("div",{style:{cursor:"pointer"},class:"mr-2",onClick:C=>t.redirectToFicha(a),title:"Visualizar Ficha"},o[7]||(o[7]=[r("img",{style:{width:"30px",height:"30px"},src:ne,alt:"Visualizar"},null,-1)]),8,qe),r("div",{style:{cursor:"pointer"},class:"mr-2",onClick:C=>d(a.id),title:"Alterar Papel"},o[8]||(o[8]=[r("img",{style:{width:"30px",height:"30px"},src:se,alt:"Editar"},null,-1)]),8,Re),r("div",{style:{cursor:"pointer"},class:"mr-2",onClick:C=>J(a),title:"Deletar Pessoa"},[a.excluido?(E(),W("img",Fe)):(E(),W("img",Ge))],8,Me)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(fe,{modelValue:s($),"onUpdate:modelValue":o[6]||(o[6]=a=>N($)?$.value=a:null),"max-width":"600px"},{default:l(()=>[e(ee,null,{default:l(()=>[e(ve,{style:{color:"green"}},{default:l(()=>o[9]||(o[9]=[b("Atualizar Bem")])),_:1}),e(Ve,null,{default:l(()=>[e(i,{class:"mt-1",cols:"12"},{default:l(()=>[e(Q,{label:"Descrição",modelValue:s(f).descricao,"onUpdate:modelValue":o[1]||(o[1]=a=>s(f).descricao=a)},null,8,["modelValue"])]),_:1}),e(V,null,{default:l(()=>[e(i,{class:"mt-6 ml-3",cols:"8"},{default:l(()=>[e(B,{label:"Selecione o Tipo",items:s(g).tiposBens,modelValue:s(f).tipo_id,"onUpdate:modelValue":o[2]||(o[2]=a=>s(f).tipo_id=a),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(i,{class:"ml-5",cols:"3"},{default:l(()=>[o[10]||(o[10]=r("label",null,"Valor",-1)),e(D,{modelValue:s(f).valor_mercado,"onUpdate:modelValue":o[3]||(o[3]=a=>s(f).valor_mercado=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(be,null,{default:l(()=>[e(_e),e(q,{color:"green",text:"",onClick:o[4]||(o[4]=a=>$.value=!1)},{default:l(()=>o[11]||(o[11]=[b("Cancelar")])),_:1}),e(q,{color:"green",text:"",onClick:o[5]||(o[5]=a=>G(s(f).id))},{default:l(()=>o[12]||(o[12]=[b("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(V,null,{default:l(()=>[e(c,{onClick:k},{default:l(()=>[e(q,{size:"large",color:"red"},{default:l(()=>o[13]||(o[13]=[b("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Je={class:"mb-10"},he={style:{color:"red","margin-left":"30px"}},vl={__name:"[id]",async setup(le){let u,y;const T=m(null),x=m(null),p=m(null),w=Y(),P=X(),I=`${w.public.auth}/service/gerencia/listarSituacoes`,M=`${w.public.auth}/service/gerencia/getAtos`,F=m(h("user-data").value.cartorio_token),S=P.query.id?{ato_token:"xkyaA"}:{cartorio_token:F},f=m([]),$=m([]),_=m("PROCURAÇÕES"),g=m("PROCURAÇÃO COM BENS");async function G(){try{const{data:k}=await ae(`${M}/${P.query.ato_id}`,{method:"GET"});$.value=k.value}catch(k){console.log(k)}}[u,y]=R(()=>G()),await u,y();const{data:d,status:j}=([u,y]=R(()=>ae(I,{method:"POST",body:S})),u=await u,y(),u);f.value=d.value;const L=k=>{T.value=k},J=k=>{x.value=k};return(k,t)=>{const o=ye,D=$e,c=Ie,a=Le,C=xe,K=ke,n=Be,H=Ce;return E(),W(Te,null,[r("div",Je,[e(V,{class:"mb-5 mt-5"},{default:l(()=>[t[4]||(t[4]=r("h1",null,"Ordem de Serviço nº",-1)),r("h1",he,Z(s(P).query.numero_os),1)]),_:1}),e(V,null,{default:l(()=>[e(i,{md:"6"},{default:l(()=>[e(B,{class:"mr-5",modelValue:s(_),"onUpdate:modelValue":t[0]||(t[0]=O=>N(_)?_.value=O:null),disabled:""},null,8,["modelValue"])]),_:1}),e(i,{md:"6"},{default:l(()=>[e(B,{modelValue:s(g),"onUpdate:modelValue":t[1]||(t[1]=O=>N(g)?g.value=O:null),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),e(ee,{width:"1300"},{default:l(()=>[e(we,{modelValue:s(p),"onUpdate:modelValue":t[2]||(t[2]=O=>N(p)?p.value=O:null),"bg-color":"#f5f2f2"},{default:l(()=>[e(U,{value:"dados"},{default:l(()=>t[5]||(t[5]=[b("Dados")])),_:1}),e(U,{value:"partes"},{default:l(()=>t[6]||(t[6]=[b("Partes")])),_:1}),e(U,{value:"bens"},{default:l(()=>t[7]||(t[7]=[b("Bens")])),_:1}),e(U,{value:"imoveis"},{default:l(()=>t[8]||(t[8]=[b("Imoveis")])),_:1}),e(U,{value:"minuta"},{default:l(()=>t[9]||(t[9]=[b("Minuta")])),_:1}),e(U,{value:"livro"},{default:l(()=>t[10]||(t[10]=[b("Livro")])),_:1}),e(U,{value:"observacao"},{default:l(()=>t[11]||(t[11]=[b("Observações")])),_:1}),e(U,{value:"anexo"},{default:l(()=>t[12]||(t[12]=[b("Anexos")])),_:1})]),_:1},8,["modelValue"]),e(Pe,{modelValue:s(p),"onUpdate:modelValue":t[3]||(t[3]=O=>N(p)?p.value=O:null)},{default:l(()=>[e(z,{value:"dados"},{default:l(()=>[e(o,{item_dados:s($),item_situacoes:s(f)},null,8,["item_dados","item_situacoes"])]),_:1}),e(z,{value:"partes"},{default:l(()=>[e(D)]),_:1}),e(z,{value:"bens"},{default:l(()=>[e(c)]),_:1}),e(z,{value:"imoveis"},{default:l(()=>[e(a)]),_:1}),e(z,{value:"minuta"},{default:l(()=>[e(C,{onPage:L,onDoc:J})]),_:1}),e(z,{value:"livro"},{default:l(()=>[e(K,{pages:s(T),document:s(x)},null,8,["pages","document"])]),_:1}),e(z,{value:"observacao"},{default:l(()=>[e(n)]),_:1}),e(z,{value:"anexo"},{default:l(()=>[e(H)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{vl as default};
