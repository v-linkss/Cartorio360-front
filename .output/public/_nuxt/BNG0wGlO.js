import{_ as V}from"./BqFFKiU5.js";import{r as g,m as v,n as w,z as b,p as k,w as i,v as D,o as I,b as e,B as p,C as m,q as o}from"./C_QhtBLz.js";import{u as $}from"./B4vN6-cw.js";import{V as C}from"./DwnRXDNo.js";import{V as u}from"./DrkeLF9P.js";import{V as S}from"./DmcIHE_P.js";import"./0Ioi84f3.js";const P={__name:"livro-diario",setup(x){const f=`${D().public.managemant}/relatorios`,_=g(v("user-data").value.cartorio_token),t=w({data_inicial:s(),data_final:s(),paginaInicial:0,livro:0});function s(){const l=new Date,a=l.getFullYear(),r=String(l.getMonth()+1).padStart(2,"0");return`${String(l.getDate()).padStart(2,"0")}-${r}-${a}`}function c(l){if(!l)return null;const[a,r,d]=l.split("/");return`${d}-${r}-${a}`}const y=async()=>{const{data:l}=await $(f,{method:"POST",body:{cartorio_token:_,data_inicial:c(t.data_inicial),data_final:c(t.data_final),livro:t.livro,paginaInicial:t.paginaInicial}},"$YxyRzXktgB");if(l.value){const a=window.open();a&&(a.document.open(),a.document.writeln(l.value),a.document.close())}};return(l,a)=>{const r=V,d=b("mask");return I(),k(C,null,{default:i(()=>[e(S,{class:"mt-1"},{default:i(()=>[e(u,null,{default:i(()=>[p(e(m,{modelValue:o(t).data_inicial,"onUpdate:modelValue":a[0]||(a[0]=n=>o(t).data_inicial=n),label:"Data Inicial",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[d,"##/##/####"]])]),_:1}),e(u,null,{default:i(()=>[p(e(m,{modelValue:o(t).data_final,"onUpdate:modelValue":a[1]||(a[1]=n=>o(t).data_final=n),label:"Data Final",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[d,"##/##/####"]])]),_:1}),e(u,null,{default:i(()=>[e(m,{label:"N* Livro",type:"number",modelValue:o(t).livro,"onUpdate:modelValue":a[2]||(a[2]=n=>o(t).livro=n)},null,8,["modelValue"])]),_:1}),e(u,null,{default:i(()=>[e(m,{label:"Pagina Inicial",type:"number",modelValue:o(t).paginaInicial,"onUpdate:modelValue":a[3]||(a[3]=n=>o(t).paginaInicial=n)},null,8,["modelValue"])]),_:1}),e(u,null,{default:i(()=>[e(r,{text:"Imprimir",onSave:y})]),_:1})]),_:1})]),_:1})}}};export{P as default};
