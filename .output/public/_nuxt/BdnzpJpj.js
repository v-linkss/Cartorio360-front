import{_ as N,a as R}from"./CnSj72HB.js";import{_ as A,D as P,u as U,r as a,A as E,B as T,h as j,w as u,k as q,o as D,b as t,s as g,i as l,j as p,a as F,V as M,S as O,d as Y}from"./DIh3iBP7.js";import{u as z}from"./BQJLdd69.js";import{V as G}from"./jqKSmnyx.js";import{V as H}from"./CYRBPCY1.js";import{V as x}from"./VYveTWT_.js";import{V as J}from"./Cd-2tGfP.js";import"./oCZxvt0a.js";import"./CzK4s68z.js";const K={__name:"index",setup(L){P();const{$toast:v}=U();a({senha:"",email:""});const d=a(!1),c=a(!1),f=a(!1),s=a(""),n=a("");a(!1),a(!1),a(!1),a(!1);const _=a(!1),C=a(""),b=a(!1),V=q();`${V.public.auth}`,V.public.auth;const S=V.public.managemant,w=a(!1),r=a(""),$=async()=>{var i,e,m,o,h;if(s.value!==n.value){b.value=!0,v.error("As senhas não coincidem.");return}b.value=!1;try{const{data:k,status:I,error:y}=await z(`${S}/verifica_codigo_recuperacao`,{method:"POST",body:{acao:"recuperar",token:r.value,senha:s.value}},"$6PqqSha0mY");I.value==="success"?v.success(k.value.status_mensagem||"Senha alterada com sucesso!"):(console.log(y.value.data),v.error(((m=(e=(i=y.value)==null?void 0:i.data)==null?void 0:e.menssage)==null?void 0:m.details)||((h=(o=y.value)==null?void 0:o.data)==null?void 0:h.status_mensagem)||"Erro desconhecido ao alterar a senha.")),_.value=!1,w.value=!1,C.value="",r.value="",s.value="",n.value=""}catch{}},B=E(()=>s.value&&n.value&&s.value===n.value);return(i,e)=>{const m=T("center");return D(),j(G,{style:{"background-color":"#0a063b"}},{default:u(()=>[t(J,{cols:"5",class:"d-flex align-center justify-center"},{default:u(()=>[t(H,{style:{"max-width":"650px"}},{default:u(()=>[t(m,null,{default:u(()=>[t(x,{style:{"margin-bottom":"30px"},width:400,height:330,src:N})]),_:1}),t(g,{modelValue:l(r),"onUpdate:modelValue":e[0]||(e[0]=o=>p(r)?r.value=o:null),class:"input mt-5",type:i.text,density:"compact",style:{"background-color":"aliceblue"},"hide-details":"",placeholder:"Código de verificação",variant:"outlined"},null,8,["modelValue","type"]),t(g,{modelValue:l(s),"onUpdate:modelValue":e[1]||(e[1]=o=>p(s)?s.value=o:null),class:"input mt-5","append-inner-icon":l(d)?"mdi-eye-off":"mdi-eye",type:l(d)?"text":"password",density:"compact",style:{"background-color":"aliceblue"},"hide-details":"",placeholder:"Nova Senha","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":e[2]||(e[2]=o=>d.value=!l(d))},null,8,["modelValue","append-inner-icon","type"]),t(g,{modelValue:l(n),"onUpdate:modelValue":e[3]||(e[3]=o=>p(n)?n.value=o:null),class:"input mt-3","append-inner-icon":l(c)?"mdi-eye-off":"mdi-eye",type:l(c)?"text":"password",density:"compact",style:{"background-color":"aliceblue"},"hide-details":"",placeholder:"Confirmar Senha","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":e[4]||(e[4]=o=>c.value=!l(c))},null,8,["modelValue","append-inner-icon","type"]),F("div",null,[t(M,O({rounded:"",class:"mb-10 mt-4 ml-1"},i.activatorProps,{color:"primary",onClick:$,modelValue:l(f),"onUpdate:modelValue":e[5]||(e[5]=o=>p(f)?f.value=o:null),block:"",disabled:!l(B)}),{default:u(()=>e[6]||(e[6]=[Y(" Alterar Senha ")])),_:1},16,["modelValue","disabled"])])]),_:1})]),_:1}),t(x,{src:R,cover:""})]),_:1})}}},se=A(K,[["__scopeId","data-v-7db2d31a"]]);export{se as default};
