import{_ as ke}from"./Dbi11VSu.js";import{a6 as be,ar as it,as as ut,M as D,at as Te,au as Ve,av as J,ad as Fe,r as N,aw as dt,$ as ct,ap as Re,ax as Le,a9 as we,ay as mt,az as Me,aA as vt,aB as pt,ae as xe,ao as ae,b as e,I as he,H as Oe,aC as ft,aD as gt,aE as bt,aF as _t,aG as $e,aH as yt,a7 as ht,ab as At,ac as kt,ag as Ne,O as pe,aI as Vt,z as He,n as ce,E as _e,D as X,F as je,G as Ce,q as a,o as M,A as oe,w as r,s as H,a as z,J as qe,c as Q,y as Z,d as W,v as de,B as Ye,C as fe,x as ie,_ as Ee,Z as Ge,aJ as ze,K as Ae,aK as wt}from"./DRR9lf64.js";import{a as Qe,u as Y}from"./DpQ56Y3J.js";import{_ as Ue}from"./BUe_X6z7.js";import{_ as Ke,a as Se}from"./CrE-eFFQ.js";import{a as Je,_ as We}from"./qu7Wfn_m.js";import{c as re,r as ne,u as Xe,V as te}from"./CzE9nWNi.js";import{V as K}from"./Cml2SLMY.js";import{V as A}from"./D7D83Ict.js";import{V as Be,a as De,c as Ze,d as et,b as tt}from"./Cq5hbXRZ.js";import{V as ge}from"./BaMkntfk.js";import{_ as xt}from"./37abXc2X.js";const Ie=Symbol.for("vuetify:v-slider");function Ct(o,s,p){const f=p==="vertical",_=s.getBoundingClientRect(),k="touches"in o?o.touches[0]:o;return f?k.clientY-(_.top+_.height/2):k.clientX-(_.left+_.width/2)}function Et(o,s){return"touches"in o&&o.touches.length?o.touches[0][s]:"changedTouches"in o&&o.changedTouches.length?o.changedTouches[0][s]:o[s]}const St=be({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:o=>typeof o=="boolean"||o==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:o=>typeof o=="boolean"||o==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:o=>["vertical","horizontal"].includes(o)},reverse:Boolean,...it(),...ut({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Bt=o=>{const s=D(()=>parseFloat(o.min)),p=D(()=>parseFloat(o.max)),f=D(()=>+o.step>0?parseFloat(o.step):0),_=D(()=>Math.max(Te(f.value),Te(s.value)));function k(c){if(c=parseFloat(c),f.value<=0)return c;const b=Re(c,s.value,p.value),x=s.value%f.value,P=Math.round((b-x)/f.value)*f.value+x;return parseFloat(Math.min(P,p.value).toFixed(_.value))}return{min:s,max:p,step:f,decimals:_,roundValue:k}},Dt=o=>{let{props:s,steps:p,onSliderStart:f,onSliderMove:_,onSliderEnd:k,getActiveThumb:c}=o;const{isRtl:b}=Ve(),x=J(s,"reverse"),P=D(()=>s.direction==="vertical"),w=D(()=>P.value!==x.value),{min:V,max:B,step:d,decimals:q,roundValue:I}=p,i=D(()=>parseInt(s.thumbSize,10)),S=D(()=>parseInt(s.tickSize,10)),h=D(()=>parseInt(s.trackSize,10)),m=D(()=>(B.value-V.value)/d.value),y=J(s,"disabled"),T=D(()=>s.error||s.disabled?void 0:s.thumbColor??s.color),E=D(()=>s.error||s.disabled?void 0:s.trackColor??s.color),O=D(()=>s.error||s.disabled?void 0:s.trackFillColor??s.color),F=Fe(!1),$=Fe(0),U=N(),v=N();function t(g){var Pe;const j=s.direction==="vertical",at=j?"top":"left",ot=j?"height":"width",lt=j?"clientY":"clientX",{[at]:st,[ot]:rt}=(Pe=U.value)==null?void 0:Pe.$el.getBoundingClientRect(),nt=Et(g,lt);let ye=Math.min(Math.max((nt-st-$.value)/rt,0),1)||0;return(j?w.value:w.value!==b.value)&&(ye=1-ye),I(V.value+ye*(B.value-V.value))}const l=g=>{k({value:t(g)}),F.value=!1,$.value=0},n=g=>{v.value=c(g),v.value&&(v.value.focus(),F.value=!0,v.value.contains(g.target)?$.value=Ct(g,v.value,s.direction):($.value=0,_({value:t(g)})),f({value:t(g)}))},C={passive:!0,capture:!0};function u(g){_({value:t(g)})}function G(g){g.stopPropagation(),g.preventDefault(),l(g),window.removeEventListener("mousemove",u,C),window.removeEventListener("mouseup",G)}function le(g){var j;l(g),window.removeEventListener("touchmove",u,C),(j=g.target)==null||j.removeEventListener("touchend",le)}function se(g){var j;n(g),window.addEventListener("touchmove",u,C),(j=g.target)==null||j.addEventListener("touchend",le,{passive:!1})}function R(g){g.preventDefault(),n(g),window.addEventListener("mousemove",u,C),window.addEventListener("mouseup",G,{passive:!1})}const L=g=>{const j=(g-V.value)/(B.value-V.value)*100;return Re(isNaN(j)?0:j,0,100)},ee=J(s,"showTicks"),ue=D(()=>ee.value?s.ticks?Array.isArray(s.ticks)?s.ticks.map(g=>({value:g,position:L(g),label:g.toString()})):Object.keys(s.ticks).map(g=>({value:parseFloat(g),position:L(parseFloat(g)),label:s.ticks[g]})):m.value!==1/0?dt(m.value+1).map(g=>{const j=V.value+g*d.value;return{value:j,position:L(j)}}):[]:[]),me=D(()=>ue.value.some(g=>{let{label:j}=g;return!!j})),ve={activeThumbRef:v,color:J(s,"color"),decimals:q,disabled:y,direction:J(s,"direction"),elevation:J(s,"elevation"),hasLabels:me,isReversed:x,indexFromEnd:w,min:V,max:B,mousePressed:F,numTicks:m,onSliderMousedown:R,onSliderTouchstart:se,parsedTicks:ue,parseMouseMove:t,position:L,readonly:J(s,"readonly"),rounded:J(s,"rounded"),roundValue:I,showTicks:ee,startOffset:$,step:d,thumbSize:i,thumbColor:T,thumbLabel:J(s,"thumbLabel"),ticks:J(s,"ticks"),tickSize:S,trackColor:E,trackContainerRef:U,trackFillColor:O,trackSize:h,vertical:P};return ct(Ie,ve),ve},It=be({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Le()},"VSliderThumb"),Pt=we()({name:"VSliderThumb",directives:{Ripple:mt},props:It(),emits:{"update:modelValue":o=>!0},setup(o,s){let{slots:p,emit:f}=s;const _=Me(Ie),{isRtl:k,rtlClasses:c}=Ve();if(!_)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:b,step:x,disabled:P,thumbSize:w,thumbLabel:V,direction:B,isReversed:d,vertical:q,readonly:I,elevation:i,mousePressed:S,decimals:h,indexFromEnd:m}=_,y=D(()=>P.value?void 0:i.value),{elevationClasses:T}=vt(y),{textColorClasses:E,textColorStyles:O}=pt(b),{pageup:F,pagedown:$,end:U,home:v,left:t,right:l,down:n,up:C}=bt,u=[F,$,U,v,t,l,n,C],G=D(()=>x.value?[1,2,3]:[1,5,10]);function le(R,L){if(!u.includes(R.key))return;R.preventDefault();const ee=x.value||.1,ue=(o.max-o.min)/ee;if([t,l,n,C].includes(R.key)){const ve=(q.value?[k.value?t:l,d.value?n:C]:m.value!==k.value?[t,C]:[l,C]).includes(R.key)?1:-1,g=R.shiftKey?2:R.ctrlKey?1:0;L=L+ve*ee*G.value[g]}else if(R.key===v)L=o.min;else if(R.key===U)L=o.max;else{const me=R.key===$?1:-1;L=L-me*ee*(ue>100?ue/10:10)}return Math.max(o.min,Math.min(o.max,L))}function se(R){const L=le(R,o.modelValue);L!=null&&f("update:modelValue",L)}return xe(()=>{const R=ae(m.value?100-o.position:o.position,"%");return e("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":o.focused,"v-slider-thumb--pressed":o.focused&&S.value},o.class,c.value],style:[{"--v-slider-thumb-position":R,"--v-slider-thumb-size":ae(w.value)},o.style],role:"slider",tabindex:P.value?-1:0,"aria-label":o.name,"aria-valuemin":o.min,"aria-valuemax":o.max,"aria-valuenow":o.modelValue,"aria-readonly":!!I.value,"aria-orientation":B.value,onKeydown:I.value?void 0:se},[e("div",{class:["v-slider-thumb__surface",E.value,T.value],style:{...O.value}},null),he(e("div",{class:["v-slider-thumb__ripple",E.value],style:O.value},null),[[Oe("ripple"),o.ripple,null,{circle:!0,center:!0}]]),e(ft,{origin:"bottom center"},{default:()=>{var L;return[he(e("div",{class:"v-slider-thumb__label-container"},[e("div",{class:["v-slider-thumb__label"]},[e("div",null,[((L=p["thumb-label"])==null?void 0:L.call(p,{modelValue:o.modelValue}))??o.modelValue.toFixed(x.value?h.value:1)])])]),[[gt,V.value&&o.focused||V.value==="always"]])]}})])}),{}}}),Tt=be({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Le()},"VSliderTrack"),Ft=we()({name:"VSliderTrack",props:Tt(),emits:{},setup(o,s){let{slots:p}=s;const f=Me(Ie);if(!f)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:_,parsedTicks:k,rounded:c,showTicks:b,tickSize:x,trackColor:P,trackFillColor:w,trackSize:V,vertical:B,min:d,max:q,indexFromEnd:I}=f,{roundedClasses:i}=_t(c),{backgroundColorClasses:S,backgroundColorStyles:h}=$e(w),{backgroundColorClasses:m,backgroundColorStyles:y}=$e(P),T=D(()=>`inset-${B.value?"block":"inline"}-${I.value?"end":"start"}`),E=D(()=>B.value?"height":"width"),O=D(()=>({[T.value]:"0%",[E.value]:"100%"})),F=D(()=>o.stop-o.start),$=D(()=>({[T.value]:ae(o.start,"%"),[E.value]:ae(F.value,"%")})),U=D(()=>b.value?(B.value?k.value.slice().reverse():k.value).map((t,l)=>{var C;const n=t.value!==d.value&&t.value!==q.value?ae(t.position,"%"):void 0;return e("div",{key:t.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":t.position>=o.start&&t.position<=o.stop,"v-slider-track__tick--first":t.value===d.value,"v-slider-track__tick--last":t.value===q.value}],style:{[T.value]:n}},[(t.label||p["tick-label"])&&e("div",{class:"v-slider-track__tick-label"},[((C=p["tick-label"])==null?void 0:C.call(p,{tick:t,index:l}))??t.label])])}):[]);return xe(()=>e("div",{class:["v-slider-track",i.value,o.class],style:[{"--v-slider-track-size":ae(V.value),"--v-slider-tick-size":ae(x.value)},o.style]},[e("div",{class:["v-slider-track__background",m.value,{"v-slider-track__background--opacity":!!_.value||!w.value}],style:{...O.value,...y.value}},null),e("div",{class:["v-slider-track__fill",S.value],style:{...$.value,...h.value}},null),b.value&&e("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":b.value==="always"}]},[U.value])])),{}}}),$t=be({...yt(),...St(),...ht(),modelValue:{type:[Number,String],default:0}},"VSlider"),Nt=we()({name:"VSlider",props:$t(),emits:{"update:focused":o=>!0,"update:modelValue":o=>!0,start:o=>!0,end:o=>!0},setup(o,s){let{slots:p,emit:f}=s;const _=N(),{rtlClasses:k}=Ve(),c=Bt(o),b=At(o,"modelValue",void 0,E=>c.roundValue(E??c.min.value)),{min:x,max:P,mousePressed:w,roundValue:V,onSliderMousedown:B,onSliderTouchstart:d,trackContainerRef:q,position:I,hasLabels:i,readonly:S}=Dt({props:o,steps:c,onSliderStart:()=>{f("start",b.value)},onSliderEnd:E=>{let{value:O}=E;const F=V(O);b.value=F,f("end",F)},onSliderMove:E=>{let{value:O}=E;return b.value=V(O)},getActiveThumb:()=>{var E;return(E=_.value)==null?void 0:E.$el}}),{isFocused:h,focus:m,blur:y}=kt(o),T=D(()=>I(b.value));return xe(()=>{const E=Ne.filterProps(o),O=!!(o.label||p.label||p.prepend);return e(Ne,He({class:["v-slider",{"v-slider--has-labels":!!p["tick-label"]||i.value,"v-slider--focused":h.value,"v-slider--pressed":w.value,"v-slider--disabled":o.disabled},k.value,o.class],style:o.style},E,{focused:h.value}),{...p,prepend:O?F=>{var $,U;return e(pe,null,[(($=p.label)==null?void 0:$.call(p,F))??(o.label?e(Vt,{id:F.id.value,class:"v-slider__label",text:o.label},null):void 0),(U=p.prepend)==null?void 0:U.call(p,F)])}:void 0,default:F=>{let{id:$,messagesId:U}=F;return e("div",{class:"v-slider__container",onMousedown:S.value?void 0:B,onTouchstartPassive:S.value?void 0:d},[e("input",{id:$.value,name:o.name||$.value,disabled:!!o.disabled,readonly:!!o.readonly,tabindex:"-1",value:b.value},null),e(Ft,{ref:q,start:0,stop:T.value},{"tick-label":p["tick-label"]}),e(Pt,{ref:_,"aria-describedby":U.value,focused:h.value,min:x.value,max:P.value,modelValue:b.value,"onUpdate:modelValue":v=>b.value=v,position:T.value,elevation:o.elevation,onFocus:m,onBlur:y,ripple:o.ripple,name:o.name},{"thumb-label":p["thumb-label"]})])}})}),{}}}),zt=["onClick"],Ut=z("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:We,alt:"editar"},null,-1),Rt=[Ut],Lt=["onClick"],Mt={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:Je,alt:"deletar",title:"Reativar"},Ot={key:1,src:Se,alt:"reativar",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"reativar"},Pa={__name:"Documentos",async setup(o){let s,p;const{$toast:f}=ce(),_=_e(),{id:k}=_.params,c=ie(),b=`${c.public.managemant}/listarTipoDocumento`,x=`${c.public.managemant}/listarUF`,P=`${c.public.managemant}/getPessoaDocById`,w=`${c.public.managemant}/createPessoaDoc`,V=`${c.public.managemant}/updatePessoaDoc`,B=N(!1),d=N(null),q=N(X("user-data").value.usuario_id).value,I=Number(X("pessoa-id").value||k),i=je({tabvalores_tipodoc_id:"",emissor:"",validade:"",numero:"",data_emissao:"",data_vencimento:"",tabvalores_ufemissor_id:""}),S=[{title:"Tipo",value:"tipoDocumento.descricao"},{title:"Número",value:"numero"},{title:"Emissor",value:"emissor"},{title:"UF",value:"ufEmissor.descricao"},{title:"Emissão",value:"data_emissao"},{title:"Validade",value:"data_vencimento"},{value:"actions"}],h={numero:{required:re.withMessage("O campo é obrigatorio",ne)},emissor:{required:re.withMessage("O campo é obrigatorio",ne)}},m=Xe(h,i),{data:y,pending:T,refresh:E}=([s,p]=Ce(async()=>Qe("cliente-documentos",async()=>{const[v,t,l]=await Promise.all([$fetch(b),$fetch(x),$fetch(`${P}/${I}`)]),n=l.map(C=>({...C,data_emissao:Ue(C.data_emissao),data_vencimento:Ue(C.data_vencimento)}));return{tipoDocumentoItems:v,ufItems:t,pessoasDocsItems:n}})),s=await s,p(),s);async function O(){if(await m.value.$validate()){const v={...i};for(const u in v)v[u]===""&&(v[u]=null);const t={...v,user_id:q,pessoa_id:I},{data:l,error:n,status:C}=await Y(w,{method:"POST",body:t},"$cLGZtMLuJD");if(C.value==="error"&&n.value.statusCode===500)f.error("Erro ao cadastrar documento,erro no sistema.");else{f.success("Documento cadastrado com sucesso!"),E();for(const u in i)i[u]="";m.value.$reset()}}else f.error("Erro ao cadastrar documento, preencha os campos obrigatorios.")}function F(v){const t=y.value.pessoasDocsItems.find(l=>l.id===v);t&&(d.value=t,B.value=!0)}async function $(v){const t={tabvalores_tipodoc_id:d.value.tabvalores_tipodoc_id,numero:d.value.numero,emissor:d.value.emissor,tabvalores_ufemissor_id:d.value.tabvalores_ufemissor_id,data_vencimento:d.value.data_vencimento,data_emissao:d.value.data_emissao},{status:l}=await Y(`${V}/${v}`,{method:"PUT",body:t},"$2fkU5kgcxs");l.value==="success"&&(B.value=!1,f.success("Pessoa atualizada com sucesso!"),E())}async function U(v){v.excluido=!v.excluido;try{await Y(`${V}/${v.id}`,{method:"PUT",body:JSON.stringify({excluido:v.excluido})},"$lMq37v4cfh")}catch(t){console.error("Erro ao excluir pessoa:",t)}}return(v,t)=>{const l=ke;return a(T)?fe("",!0):(M(),oe(ge,{key:0,class:"mt-5"},{default:r(()=>[e(K,null,{default:r(()=>[e(A,{md:"2"},{default:r(()=>[e(te,{modelValue:a(i).tabvalores_tipodoc_id,"onUpdate:modelValue":t[0]||(t[0]=n=>a(i).tabvalores_tipodoc_id=n),items:a(y).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(A,null,{default:r(()=>[e(H,{modelValue:a(i).numero,"onUpdate:modelValue":t[1]||(t[1]=n=>a(i).numero=n),"error-messages":a(m).numero.$errors.map(n=>n.$message),label:"Numero",required:"",onBlur:a(m).numero.$touch,onInput:a(m).numero.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),e(A,{md:"2"},{default:r(()=>[e(H,{modelValue:a(i).emissor,"onUpdate:modelValue":t[2]||(t[2]=n=>a(i).emissor=n),"error-messages":a(m).emissor.$errors.map(n=>n.$message),required:"",onBlur:a(m).emissor.$touch,onInput:a(m).emissor.$touch,label:"Emissor"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),e(A,null,{default:r(()=>[e(te,{modelValue:a(i).tabvalores_ufemissor_id,"onUpdate:modelValue":t[3]||(t[3]=n=>a(i).tabvalores_ufemissor_id=n),items:a(y).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(A,{md:"2"},{default:r(()=>[e(H,{modelValue:a(i).data_emissao,"onUpdate:modelValue":t[4]||(t[4]=n=>a(i).data_emissao=n),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),e(A,{md:"2"},{default:r(()=>[e(H,{modelValue:a(i).data_vencimento,"onUpdate:modelValue":t[5]||(t[5]=n=>a(i).data_vencimento=n),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1}),z("div",{class:"mt-3"},[z("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ke,alt:"novo",onClick:O})])]),_:1}),e(qe,{headers:S,items:a(y).pessoasDocsItems,"item-key":"id"},{"item.actions":r(({item:n})=>[e(K,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:r(()=>[z("div",{onClick:C=>F(n.id),title:"editar"},Rt,8,zt),z("div",{onClick:C=>U(n),title:"deletar"},[n.excluido?(M(),Q("img",Mt)):(M(),Q("img",Ot))],8,Lt)]),_:2},1024)]),_:1},8,["items"]),e(l,{to:"/pessoas/registros"},{default:r(()=>[e(Z,{size:"large",color:"red"},{default:r(()=>[W("Voltar")]),_:1})]),_:1}),e(Be,{modelValue:a(B),"onUpdate:modelValue":t[14]||(t[14]=n=>de(B)?B.value=n:null),"max-width":"600px"},{default:r(()=>[e(De,null,{default:r(()=>[e(Ze,{style:{color:"green"}},{default:r(()=>[W("Atualizar Endereço")]),_:1}),e(et,null,{default:r(()=>[e(K,null,{default:r(()=>[e(A,{cols:"12",md:"6"},{default:r(()=>[e(te,{modelValue:a(d).tabvalores_tipodoc_id,"onUpdate:modelValue":t[6]||(t[6]=n=>a(d).tabvalores_tipodoc_id=n),items:a(y).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(A,{cols:"12",md:"6"},{default:r(()=>[e(H,{modelValue:a(d).numero,"onUpdate:modelValue":t[7]||(t[7]=n=>a(d).numero=n),label:"Número"},null,8,["modelValue"])]),_:1}),e(A,{cols:"12",md:"6"},{default:r(()=>[e(H,{modelValue:a(d).emissor,"onUpdate:modelValue":t[8]||(t[8]=n=>a(d).emissor=n),label:"Número"},null,8,["modelValue"])]),_:1}),e(A,{cols:"12",md:"6"},{default:r(()=>[e(te,{modelValue:a(d).tabvalores_ufemissor_id,"onUpdate:modelValue":t[9]||(t[9]=n=>a(d).tabvalores_ufemissor_id=n),items:a(y).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(A,{cols:"12",md:"6"},{default:r(()=>[e(H,{modelValue:a(d).data_emissao,"onUpdate:modelValue":t[10]||(t[10]=n=>a(d).data_emissao=n),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),e(A,{cols:"12",md:"6"},{default:r(()=>[e(H,{modelValue:a(d).data_vencimento,"onUpdate:modelValue":t[11]||(t[11]=n=>a(d).data_vencimento=n),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(tt,null,{default:r(()=>[e(Ye),e(Z,{color:"green",text:"",onClick:t[12]||(t[12]=n=>B.value=!1)},{default:r(()=>[W("Cancelar")]),_:1}),e(Z,{color:"green",text:"",onClick:t[13]||(t[13]=n=>$(a(d).id))},{default:r(()=>[W("Salvar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}}},Ht=["onClick"],jt=z("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:We,alt:"Visualizar"},null,-1),qt=[jt],Yt=["onClick"],Gt={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:Je,alt:"Visualizar",title:"Reativar"},Qt={key:1,src:Se,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},Ta={__name:"Endereco",async setup(o){let s,p;const{$toast:f}=ce(),_=_e(),{id:k}=_.params,c=ie(),b=`${c.public.managemant}/listarPais`,x=`${c.public.managemant}/getPessoaEnderecoById`,P=`${c.public.managemant}/createPessoaEndereco`,w=`${c.public.managemant}/updatePessoaEndereco`,V=N(X("user-data").value.usuario_id).value,B=Number(X("pessoa-id").value||k),d=je({tabvalores_pais_id:"",cidade_id:"",codcep:"",logradouro:"",numero:"",bairro:"",data_vencimento:"",tabvalores_ufemissor_id:"",complemento:"",cidade_estrangeira:""}),q=[{title:"País",value:"pais.descricao"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro",width:"200px"},{title:"N*",value:"numero"},{title:"Complemento",value:"complemento"},{title:"Bairro",value:"bairro"},{title:"Cidade",value:"cidades.nome"},{value:"actions"}],I=N(!1),i=N(null),S=D(()=>{const t=y.value.paisItems.find(l=>l.id===d.tabvalores_pais_id);return t?t.estrangeiro:!1}),h={numero:{required:re.withMessage("O campo é obrigatorio",ne)},bairro:{required:re.withMessage("O campo é obrigatorio",ne)},logradouro:{required:re.withMessage("O campo é obrigatorio",ne)},codcep:{required:re.withMessage("O campo é obrigatorio e precisa de 8 digitos",ne)}},m=Xe(h,d),{data:y,status:T,pending:E,refresh:O}=([s,p]=Ce(async()=>Qe("cliente-enderecos",async()=>{const[t,l,n]=await Promise.all([$fetch(b),$fetch(`${x}/${B}`),$fetch(`${c.public.managemant}/listarCidades`)]);return{paisItems:t,enderecosItems:l,cidadesItems:n}})),s=await s,p(),s);async function F(){if(await m.value.$validate()){const t={...d};for(const G in t)t[G]===""&&(t[G]=null);const l={...t,user_id:V,pessoa_id:B},{data:n,error:C,status:u}=await Y(P,{method:"POST",body:l},"$xTfPNGciav");if(u.value==="error"&&C.value.statusCode===500)f.error("Erro ao cadastrar endereço,erro no sistema.");else{f.success("Endereço cadastrado com sucesso!"),O();for(const G in d)d[G]="";m.value.$reset()}}else f.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}function $(t){const l=y.value.enderecosItems.find(n=>n.id===t);l&&(i.value=l,I.value=!0)}async function U(t){const l={tabvalores_pais_id:i.value.tabvalores_pais_id,cidade_id:i.value.cidade_id,codcep:i.value.codcep,logradouro:i.value.logradouro,numero:i.value.numero,bairro:i.value.bairro,complemento:i.value.complemento},{status:n}=await Y(`${w}/${t}`,{method:"PUT",body:l},"$DfOGkJVB8l");n.value==="success"&&(I.value=!1,f.success("Endereço atualizado com sucesso!"),O())}async function v(t){t.excluido=!t.excluido;try{await Y(`${w}/${t.id}`,{method:"PUT",body:JSON.stringify({excluido:t.excluido})},"$u4gWF5EA7L")}catch(l){console.error("Erro ao excluir pessoa:",l)}}return(t,l)=>{const n=ke,C=Oe("mask");return a(E)?fe("",!0):(M(),oe(ge,{key:0,class:"mt-5"},{default:r(()=>[e(K,null,{default:r(()=>[e(A,{md:"2"},{default:r(()=>[e(te,{modelValue:a(d).tabvalores_pais_id,"onUpdate:modelValue":l[0]||(l[0]=u=>a(d).tabvalores_pais_id=u),items:a(y).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(A,{md:"2"},{default:r(()=>[he(e(H,{modelValue:a(d).codcep,"onUpdate:modelValue":l[1]||(l[1]=u=>a(d).codcep=u),"error-messages":a(m).codcep.$errors.map(u=>u.$message),required:"",onBlur:a(m).codcep.$touch,onInput:a(m).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"]),[[C,"########"]])]),_:1}),e(A,{md:"6"},{default:r(()=>[e(H,{modelValue:a(d).logradouro,"onUpdate:modelValue":l[2]||(l[2]=u=>a(d).logradouro=u),label:"Endereço","error-messages":a(m).logradouro.$errors.map(u=>u.$message),required:"",onBlur:a(m).logradouro.$touch,onInput:a(m).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),e(A,{md:"1"},{default:r(()=>[e(H,{modelValue:a(d).numero,"onUpdate:modelValue":l[3]||(l[3]=u=>a(d).numero=u),"error-messages":a(m).numero.$errors.map(u=>u.$message),required:"",onBlur:a(m).numero.$touch,onInput:a(m).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),z("div",{class:"mt-3"},[z("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ke,alt:"novo",onClick:F})]),e(A,{md:"5"},{default:r(()=>[e(H,{modelValue:a(d).complemento,"onUpdate:modelValue":l[4]||(l[4]=u=>a(d).complemento=u),label:"Complemento"},null,8,["modelValue"])]),_:1}),e(A,{md:"3"},{default:r(()=>[e(H,{modelValue:a(d).bairro,"onUpdate:modelValue":l[5]||(l[5]=u=>a(d).bairro=u),"error-messages":a(m).bairro.$errors.map(u=>u.$message),required:"",onBlur:a(m).bairro.$touch,onInput:a(m).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),e(A,{md:"3"},{default:r(()=>[a(S)?(M(),oe(H,{key:1,modelValue:a(d).cidade_estrangeira,"onUpdate:modelValue":l[7]||(l[7]=u=>a(d).cidade_estrangeira=u),label:"Cidade Estrangeira"},null,8,["modelValue"])):(M(),oe(te,{key:0,modelValue:a(d).cidade_id,"onUpdate:modelValue":l[6]||(l[6]=u=>a(d).cidade_id=u),items:a(y).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"]))]),_:1})]),_:1}),e(qe,{headers:q,items:a(y).enderecosItems,"item-key":"id"},{"item.actions":r(({item:u})=>[e(K,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:r(()=>[z("div",{onClick:G=>$(u.id),title:"Visualizar"},qt,8,Ht),z("div",{onClick:G=>v(u),title:"Visualizar"},[u.excluido?(M(),Q("img",Gt)):(M(),Q("img",Qt))],8,Yt)]),_:2},1024)]),_:1},8,["items"]),e(n,{to:"/pessoas/registros"},{default:r(()=>[e(Z,{size:"large",color:"red"},{default:r(()=>[W("Voltar")]),_:1})]),_:1}),e(Be,{modelValue:a(I),"onUpdate:modelValue":l[17]||(l[17]=u=>de(I)?I.value=u:null),"max-width":"600px"},{default:r(()=>[e(De,null,{default:r(()=>[e(Ze,{style:{color:"green"}},{default:r(()=>[W("Atualizar Endereço")]),_:1}),e(et,null,{default:r(()=>[e(K,null,{default:r(()=>[e(A,{cols:"12",md:"6"},{default:r(()=>[e(te,{modelValue:a(i).tabvalores_pais_id,"onUpdate:modelValue":l[8]||(l[8]=u=>a(i).tabvalores_pais_id=u),items:a(y).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(A,{cols:"12",md:"6"},{default:r(()=>[e(H,{modelValue:a(i).logradouro,"onUpdate:modelValue":l[9]||(l[9]=u=>a(i).logradouro=u),label:"Logradouro"},null,8,["modelValue"])]),_:1}),e(A,{cols:"12",md:"6"},{default:r(()=>[e(H,{modelValue:a(i).complemento,"onUpdate:modelValue":l[10]||(l[10]=u=>a(i).complemento=u),label:"Complemento"},null,8,["modelValue"])]),_:1}),e(A,{cols:"12",md:"6"},{default:r(()=>[e(H,{modelValue:a(i).numero,"onUpdate:modelValue":l[11]||(l[11]=u=>a(i).numero=u),label:"Número"},null,8,["modelValue"])]),_:1}),e(A,{cols:"12",md:"6"},{default:r(()=>[e(H,{modelValue:a(i).bairro,"onUpdate:modelValue":l[12]||(l[12]=u=>a(i).bairro=u),label:"Bairro"},null,8,["modelValue"])]),_:1}),e(A,{cols:"12",md:"6"},{default:r(()=>[e(H,{modelValue:a(i).codcep,"onUpdate:modelValue":l[13]||(l[13]=u=>a(i).codcep=u),label:"CEP"},null,8,["modelValue"])]),_:1}),e(A,{cols:"12",md:"6"},{default:r(()=>[e(te,{modelValue:a(i).cidade_id,"onUpdate:modelValue":l[14]||(l[14]=u=>a(i).cidade_id=u),items:a(y).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(tt,null,{default:r(()=>[e(Ye),e(Z,{color:"green",text:"",onClick:l[15]||(l[15]=u=>I.value=!1)},{default:r(()=>[W("Cancelar")]),_:1}),e(Z,{color:"green",text:"",onClick:l[16]||(l[16]=u=>U(a(i).id))},{default:r(()=>[W("Salvar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}}},Kt={class:"finger-container"},Jt=["onClick"],Wt=["onClick"],Xt={__name:"Digital",setup(o){const s=N(["E1","E2","E3","E4","E5"]);var p=N(["red","red","red","red","red"]);const f=N(["D1","D2","D3","D4","D5"]);var _=N(["red","red","red","red","red"]);const k=_e(),{$toast:c}=ce(),b=ie(),{id:x}=k.params,P=N(X("pessoa-id").value).value;`${b.public.biometria}`;const w=`${b.public.managemant}/createPessoaBiometria`,V=`${b.public.managemant}/getPessoaBiometriaById`;async function B(){const{status:i,data:S}=await Y(`${V}/${x||P}`,{method:"GET"},"$wrCckM1pY4");i.value==="success"&&S.value&&S.value.forEach(h=>{(s.value.includes(h.dedo)||f.value.includes(h.dedo))&&q(h.dedo,"green")})}Ge(()=>{B()});async function d(i){const{status:S,data:h}=await Y("http://localhost:5000/apiservice/capture-finger",{method:"GET"},"$b5yqRnLFV9");if(S.value==="success"){const m=h.value.hash,y={user_id:X("user-data").value.usuario_id,pessoa_id:Number(x)||P,dedo:i,hash:m},{status:T}=await Y(w,{method:"POST",body:y},"$cWP9jlCX2Z");T.value==="success"?(c.success("Biometria enviada com sucesso!"),q(i,"green")):c.error("Falha ao enviar a biometria.")}else c.error("Erro ao Capturar biometria para o sistema.")}function q(i,S){const h=s.value.findIndex(m=>m===i);if(h!==-1)p.value[h]=S;else{const m=f.value.findIndex(y=>y===i);m!==-1&&(_.value[m]=S)}}function I(i,S){const m={E1:{top:82,left:-10},E2:{top:35,left:4},E3:{top:0,left:30},E4:{top:15,left:75},E5:{top:50,left:170},D1:{top:50,left:210},D2:{top:18,left:300},D3:{top:5,left:350},D4:{top:35,left:375},D5:{top:80,left:390}}[i];let y="red";if(S==="left"){const T=s.value.indexOf(i);T!==-1&&(y=p.value[T])}else if(S==="right"){const T=f.value.indexOf(i);T!==-1&&(y=_.value[T])}return{backgroundColor:y,top:`${m.top}px`,left:`${m.left}px`}}return(i,S)=>(M(),oe(A,{style:{"margin-top":"20px"},cols:"auto",class:"biometria-container"},{default:r(()=>[z("div",Kt,[(M(!0),Q(pe,null,ze(a(s),(h,m)=>(M(),Q("div",{key:m,class:"finger",style:Ae(I(h,"left")),onClick:y=>d(h)},null,12,Jt))),128)),(M(!0),Q(pe,null,ze(a(f),(h,m)=>(M(),Q("div",{key:m,class:"finger",style:Ae(I(h,"right")),onClick:y=>d(h)},null,12,Wt))),128))])]),_:1}))}},Zt=Ee(Xt,[["__scopeId","data-v-2eb08184"]]),ea="data:image/png;base64,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",ta="data:image/png;base64,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",aa={key:0,src:ea},oa=["src"],la=z("img",{style:{cursor:"pointer"},src:ta,alt:"Excluir"},null,-1),sa=[la],ra=z("img",{style:{cursor:"pointer"},src:xt,alt:"Salvar"},null,-1),na=[ra],ia={__name:"ReconhecimentoFacial",async setup(o){let s,p;const f=N(null),_=N([]),k=N(""),c=N(!1),b=N(null),x=N(null),P=_e(),{id:w}=P.params,V=N(1),d=X("pessoa_token").value,I=X("user-data").value.nome,i=ie(),S=`${i.public.managemant}/uploadPessoa`,h=`${i.public.managemant}/getLinkTipo`,{$toast:m}=ce(),y=async()=>{const v=await navigator.mediaDevices.enumerateDevices();_.value=v.filter(t=>t.kind==="videoinput").map(t=>({deviceId:t.deviceId,label:t.label||`Camera ${_.value.length+1}`}))},T=async()=>{c.value=!0;try{await navigator.mediaDevices.getUserMedia({video:!0}),await y()}catch(v){console.error("Erro ao acessar dispositivos de mídia:",v)}},E=()=>{c.value=!1;const v=f.value.srcObject;v&&v.getTracks().forEach(l=>l.stop())},O=async()=>{if(k.value){const v=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:k.value}}});f.value.srcObject=v}},F=async()=>{const v=document.createElement("canvas"),t=v.getContext("2d"),l=f.value.videoWidth,n=f.value.videoHeight,C=l*V.value,u=n*V.value,G=(l-C)/2,le=(n-u)/2;v.width=l,v.height=n,t.drawImage(f.value,G,le,C,u),v.toBlob(async se=>{const R=new FormData;R.append("file",se,`${I}.jpg`),R.append("pessoa_token",d),R.append("tipo","foto");const{status:L}=await Y(S,{method:"POST",body:R},"$fRRPU47ULS");if(L.value==="success"){m.success("Imagem enviada!");const ee=URL.createObjectURL(se);x.value=ee,E()}else m.error("Erro ao enviar imagem para o sistema.")},"image/jpeg")},$=()=>{b.value=null},{data:U}=([s,p]=Ce(()=>Y(h,{method:"POST",body:{tipo:"foto",id:w}},"$N16ZtKMkSh")),s=await s,p(),s);return x.value=`data:image/jpeg;base64,${U.value.link}`,Ge(async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await y()}catch(v){console.error("Erro ao acessar dispositivos de mídia:",v)}}),(v,t)=>(M(),oe(A,{cols:"auto"},{default:r(()=>[e(Be,{"max-width":"700",modelValue:a(c),"onUpdate:modelValue":t[2]||(t[2]=l=>de(c)?c.value=l:null)},{activator:r(({props:l})=>[e(Z,He(l,{variant:"outlined",style:{width:"300px",height:"300px"},onClick:T}),{default:r(()=>[a(U).link===null?(M(),Q("img",aa)):fe("",!0),a(U).link!==null?(M(),Q("img",{key:1,src:a(x),style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,oa)):fe("",!0)]),_:2},1040)]),default:r(({isActive:l})=>[e(De,{title:"Biometria"},{default:r(()=>[e(K,null,{default:r(()=>[e(A,null,{default:r(()=>[e(wt,{items:a(_),modelValue:a(k),"onUpdate:modelValue":t[0]||(t[0]=n=>de(k)?k.value=n:null),"item-title":"label","item-value":"deviceId",label:"Selecionar Webcam"},null,8,["items","modelValue"])]),_:1})]),_:1}),e(K,null,{default:r(()=>[e(A,null,{default:r(()=>[e(Z,{onClick:O},{default:r(()=>[W("Exibir")]),_:1})]),_:1})]),_:1}),e(K,null,{default:r(()=>[e(ge,{style:{overflow:"hidden"}},{default:r(()=>[e(A,null,{default:r(()=>[z("video",{class:"ml-3",ref_key:"video",ref:f,width:"640",height:"480",autoplay:"",style:Ae({transform:`scale(${a(V)})`,transformOrigin:"center center"})},null,4)]),_:1})]),_:1})]),_:1}),e(ge,null,{default:r(()=>[e(Nt,{modelValue:a(V),"onUpdate:modelValue":t[1]||(t[1]=n=>de(V)?V.value=n:null),min:1,max:3,step:"0.1",label:"Zoom"},null,8,["modelValue"])]),_:1}),e(K,{class:"mt-10 justify-space-around"},{default:r(()=>[z("div",{onClick:E},sa),z("div",{onClick:F},na)]),_:1})]),_:1})]),_:1},8,["modelValue"]),z("img",{onClick:$,style:{width:"40px","margin-left":"10px",cursor:"pointer"},src:Se,alt:"Excluir"})]),_:1}))}},ua=""+new URL("escanearFicha.CgD8l9Wn.png",import.meta.url).href,da={__name:"Scanner",setup(o){const s=ie(),{$toast:p}=ce(),f=`${s.public.envioDoc}`,_=`${s.public.biometria}/run-scanner`,c=X("pessoa_token").value;async function b(){try{await x(),await P()}catch(w){console.error("Erro ao executar scanner ou listar arquivos:",w)}}async function x(){try{const{data:w}=await Y(_,{method:"GET"},"$qlTK399Ixo")}catch(w){p.error("Erro ao acionar o scanner:",w)}}async function P(){try{const{status:w}=await Y(f,{method:"POST",body:{tipo:"ficha",pessoa_token:c}},"$JkvEThvk9m");console.log(w.value)}catch(w){console.error("Erro ao enviar o arquivo:",w)}}return(w,V)=>(M(),Q("div",null,[z("img",{onClick:b,src:ua,style:{width:"280px",height:"120px",cursor:"pointer","margin-top":"30px"}})]))}},ca=""+new URL("imprimirFicha.BlhLZ85F.png",import.meta.url).href,ma={style:{display:"flex","flex-direction":"column"}},va={__name:"Impressao",setup(o){const s=N(""),f=`${ie().public.managemant}/gerarRelatorio`,_=async()=>{const c=await Y(f,{method:"POST",body:{consulta:"FICHA ASSINATURA",pessoa_token:X("pessoa_token").value}},"$LOyFO5WGQE");s.value=c.data.value},k=async()=>{await _();const c=document.createElement("iframe");c.style.position="absolute",c.style.width="0px",c.style.height="0px",c.style.border="none",document.body.appendChild(c);const b=c.contentWindow.document;b.open(),b.write(s.value),b.close(),c.contentWindow.focus(),c.contentWindow.print(),document.body.removeChild(c)};return(c,b)=>{const x=da;return M(),oe(A,{cols:"auto"},{default:r(()=>[z("div",ma,[z("img",{onClick:b[0]||(b[0]=P=>k()),src:ca,style:{width:"280px",height:"120px",cursor:"pointer"}}),e(x)])]),_:1})}}},pa={};function fa(o,s){const p=Zt,f=ia,_=va,k=ke;return M(),Q(pe,null,[e(K,{class:"d-flex align-items-center justify-space-between"},{default:r(()=>[e(p),e(f),e(_)]),_:1}),e(k,{to:"/pessoas/registros"},{default:r(()=>[e(Z,{class:"mt-10",size:"large",color:"red"},{default:r(()=>[W("Voltar")]),_:1})]),_:1})],64)}const Fa=Ee(pa,[["render",fa]]),ga={},ba=z("h1",null,"Restrições",-1),_a=[ba];function ya(o,s){return M(),Q("div",null,_a)}const $a=Ee(ga,[["render",ya]]);export{Pa as _,Ta as a,Fa as b,$a as c};
