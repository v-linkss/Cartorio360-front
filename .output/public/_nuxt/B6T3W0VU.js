import{_ as D,L as I,o as P,c as R,M as A,bS as j,a as U}from"./BtwXmbeX.js";var q=Object.defineProperty,L=(n,e,t)=>e in n?q(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,v=(n,e,t)=>(L(n,typeof e!="symbol"?e+"":e,t),t);const d={debug:!1,masked:!1,prefix:"",suffix:"",thousands:",",decimal:".",precision:2,disableNegative:!1,disabled:!1,min:null,max:null,allowBlank:!1,minimumNumberOfCharacters:0,modelModifiers:{number:!1},shouldRound:!0,focusOnRight:!1},S=["+","-"],_=["decimal","thousands","prefix","suffix"];function l(n){return Math.max(0,Math.min(n,1e3))}function m(n,e){return n=n.padStart(e+1,"0"),e===0?n:`${n.slice(0,-e)}.${n.slice(-e)}`}function B(n){return n=n?n.toString():"",n.replace(/\D+/g,"")||"0"}function z(n,e){return n.replace(/(\d)(?=(?:\d{3})+\b)/gm,`$1${e}`)}function W(n,e,t){return e?n+t+e:n}function Z(n,e){return S.includes(n)?(console.warn(`v-money3 "${e}" property don't accept "${n}" as a value.`),!1):/\d/g.test(n)?(console.warn(`v-money3 "${e}" property don't accept "${n}" (any number) as a value.`),!1):!0}function G(n){for(const e of _)if(!Z(n[e],e))return!1;return!0}function b(n){for(const e of _){n[e]=n[e].replace(/\d+/g,"");for(const t of S)n[e]=n[e].replaceAll(t,"")}return n}function T(n){const e=n.length,t=n.indexOf(".");return e-(t+1)}function x(n){return n.replace(/^(-?)0+(?!\.)(.+)/,"$1$2")}function E(n){return/^-?[\d]+$/g.test(n)}function M(n){return/^-?[\d]+(\.[\d]+)$/g.test(n)}function y(n,e,t){return e>n.length-1?n:n.substring(0,e)+t+n.substring(e+1)}function F(n,e){const t=e-T(n);if(t>=0)return n;let i=n.slice(0,t);const o=n.slice(t);if(i.charAt(i.length-1)==="."&&(i=i.slice(0,-1)),parseInt(o.charAt(0),10)>=5){for(let s=i.length-1;s>=0;s-=1){const u=i.charAt(s);if(u!=="."&&u!=="-"){const a=parseInt(u,10)+1;if(a<10)return y(i,s,a);i=y(i,s,"0")}}return`1${i}`}return i}function O(n,e){const t=()=>{n.setSelectionRange(e,e)};n===document.activeElement&&(t(),setTimeout(t,1))}function V(n){return new Event(n,{bubbles:!0,cancelable:!1})}function r({debug:n=!1},...e){n&&console.log(...e)}class f{constructor(e){v(this,"number",0n),v(this,"decimal",0),this.setNumber(e)}getNumber(){return this.number}getDecimalPrecision(){return this.decimal}setNumber(e){this.decimal=0,typeof e=="bigint"?this.number=e:typeof e=="number"?this.setupString(e.toString()):this.setupString(e)}toFixed(e=0,t=!0){let i=this.toString();const o=e-this.getDecimalPrecision();return o>0?(i.includes(".")||(i+="."),i.padEnd(i.length+o,"0")):o<0?t?F(i,e):i.slice(0,o):i}toString(){let e=this.number.toString();if(this.decimal){let t=!1;return e.charAt(0)==="-"&&(e=e.substring(1),t=!0),e=e.padStart(e.length+this.decimal,"0"),e=`${e.slice(0,-this.decimal)}.${e.slice(-this.decimal)}`,e=x(e),(t?"-":"")+e}return e}lessThan(e){const[t,i]=this.adjustComparisonNumbers(e);return t<i}biggerThan(e){const[t,i]=this.adjustComparisonNumbers(e);return t>i}isEqual(e){const[t,i]=this.adjustComparisonNumbers(e);return t===i}setupString(e){if(e=x(e),E(e))this.number=BigInt(e);else if(M(e))this.decimal=T(e),this.number=BigInt(e.replace(".",""));else throw new Error(`BigNumber has received and invalid format for the constructor: ${e}`)}adjustComparisonNumbers(e){let t;e.constructor.name!=="BigNumber"?t=new f(e):t=e;const i=this.getDecimalPrecision()-t.getDecimalPrecision();let o=this.getNumber(),s=t.getNumber();return i>0?s=t.getNumber()*10n**BigInt(i):i<0&&(o=this.getNumber()*10n**BigInt(i*-1)),[o,s]}}function H(n,e=d,t=""){if(r(e,"utils format() - caller",t),r(e,"utils format() - input1",n),n==null)n="";else if(typeof n=="number")e.shouldRound?n=n.toFixed(l(e.precision)):n=n.toFixed(l(e.precision)+1).slice(0,-1);else if(e.modelModifiers&&e.modelModifiers.number&&E(n))n=Number(n).toFixed(l(e.precision));else if(!e.disableNegative&&n==="-")return n;r(e,"utils format() - input2",n);const i=e.disableNegative?"":n.indexOf("-")>=0?"-":"";let o=n.replace(e.prefix,"").replace(e.suffix,"");r(e,"utils format() - filtered",o),!e.precision&&e.thousands!=="."&&M(o)&&(o=F(o,0),r(e,"utils format() - !opt.precision && isValidFloat()",o));const s=B(o);r(e,"utils format() - numbers",s),r(e,"utils format() - numbersToCurrency",i+m(s,e.precision));const u=new f(i+m(s,e.precision));r(e,"utils format() - bigNumber1",u.toString()),e.max&&u.biggerThan(e.max)&&u.setNumber(e.max),e.min&&u.lessThan(e.min)&&u.setNumber(e.min);const a=u.toFixed(l(e.precision),e.shouldRound);if(r(e,"utils format() - bigNumber2",u.toFixed(l(e.precision))),/^0(\.0+)?$/g.test(a)&&e.allowBlank)return"";let[c,p]=a.split(".");const C=p!==void 0?p.length:0;c=c.padStart(e.minimumNumberOfCharacters-C,"0"),c=z(c,e.thousands);const h=e.prefix+W(c,p,e.decimal)+e.suffix;return r(e,"utils format() - output",h),h}function N(n,e=d,t=""){if(r(e,"utils unformat() - caller",t),r(e,"utils unformat() - input",n),!e.disableNegative&&n==="-")return r(e,"utils unformat() - return netagive symbol",n),n;const i=e.disableNegative?"":n.indexOf("-")>=0?"-":"",o=n.replace(e.prefix,"").replace(e.suffix,"");r(e,"utils unformat() - filtered",o);const s=B(o);r(e,"utils unformat() - numbers",s);const u=new f(i+m(s,e.precision));r(e,"utils unformat() - bigNumber1",s.toString()),e.max&&u.biggerThan(e.max)&&u.setNumber(e.max),e.min&&u.lessThan(e.min)&&u.setNumber(e.min);let a=u.toFixed(l(e.precision),e.shouldRound);return e.modelModifiers&&e.modelModifiers.number&&(a=parseFloat(a)),r(e,"utils unformat() - output",a),a}const g=(n,e,t)=>{if(r(e,"directive setValue() - caller",t),!G(e)){r(e,"directive setValue() - validateRestrictedOptions() return false. Stopping here...",n.value);return}let i=n.value.length-(n.selectionEnd||0);n.value=H(n.value,e,t),i=Math.max(i,e.suffix.length),i=n.value.length-i,i=Math.max(i,e.prefix.length),O(n,i),n.dispatchEvent(V("change"))},w=(n,e)=>{const t=n.currentTarget,i=n.code==="Backspace"||n.code==="Delete",o=t.value.length-(t.selectionEnd||0)===0;if(r(e,"directive onkeydown() - el.value",t.value),r(e,"directive onkeydown() - backspacePressed",i),r(e,"directive onkeydown() - isAtEndPosition",o),e.allowBlank&&i&&o&&N(t.value,e,"directive onkeydown allowBlank")===0&&(r(e,'directive onkeydown() - set el.value = ""',t.value),t.value="",t.dispatchEvent(V("change"))),r(e,"directive onkeydown() - e.key",n.key),n.key==="+"){r(e,"directive onkeydown() - unformat el.value",t.value);let s=N(t.value,e,"directive onkeydown +");typeof s=="string"&&(s=parseFloat(s)),s<0&&(t.value=String(s*-1))}},k=(n,e)=>{const t=n.currentTarget;r(e,"directive oninput()",t.value),/^[1-9]$/.test(t.value)&&(t.value=m(t.value,l(e.precision)),r(e,"directive oninput() - is 1-9",t.value)),g(t,e,"directive oninput")},$=(n,e)=>{const t=n.currentTarget;r(e,"directive onFocus()",t.value),e.focusOnRight&&O(t,t.value.length-e.suffix.length)},J={mounted(n,e){if(!e.value)return;const t=b({...d,...e.value});if(r(t,"directive mounted() - opt",t),n.tagName.toLocaleUpperCase()!=="INPUT"){const i=n.getElementsByTagName("input");i.length!==1||(n=i[0])}n.onkeydown=i=>{w(i,t)},n.oninput=i=>{k(i,t)},n.onfocus=i=>{$(i,t)},r(t,"directive mounted() - el.value",n.value),g(n,t,"directive mounted")},updated(n,e){if(!e.value)return;const t=b({...d,...e.value});n.onkeydown=i=>{w(i,t)},n.oninput=i=>{k(i,t)},n.onfocus=i=>{$(i,t)},r(t,"directive updated() - el.value",n.value),r(t,"directive updated() - opt",t),g(n,t,"directive updated")},beforeUnmount(n){n.onkeydown=null,n.oninput=null,n.onfocus=null}},K={name:"MoneyInput",props:{modelValue:{type:String,default:"0.00"}},data(){return{amount:this.modelValue,config:{thousands:",",decimal:".",precision:2}}},directives:{money3:J},watch:{amount(n){this.$emit("update:modelValue",n)},modelValue(n){this.amount=n}}},Q={class:"input-wrapper"};function X(n,e,t,i,o,s){const u=I("money3");return P(),R("div",Q,[A(U("input",{id:"valor",style:{"border-bottom":"1px solid black","background-color":"#f5f3f2",padding:"7px 0px 7px 7px"},"onUpdate:modelValue":e[0]||(e[0]=a=>o.amount=a)},null,512),[[j,o.amount,void 0,{lazy:!0}],[u,o.config]])])}const ee=D(K,[["render",X]]);export{ee as _};
