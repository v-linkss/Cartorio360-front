import{_ as P,a as R}from"./DWNOSVkL.js";import{_ as A,C as B,u as U,r as a,y as E,z as T,j,w as u,l as q,o as F,b as t,V as g,i as l,A as p,a as z,v as D,P as M,d as O}from"./53wtz2vB.js";import{u as Y}from"./DEp3O3ub.js";import{V as G}from"./CQ4VLSVb.js";import{V as H}from"./CesdksN3.js";import{V as _}from"./Q2QVRxWJ.js";import{V as J}from"./ByL2bqCk.js";import"./BEP5wVTu.js";import"./75KM1rpg.js";const K={__name:"index",setup(L){B();const{$toast:v}=U();a({senha:"",email:""});const d=a(!1),c=a(!1),f=a(!1),n=a(""),s=a("");a(!1),a(!1),a(!1),a(!1);const k=a(!1),C=a(""),b=a(!1),y=q();`${y.public.auth}`,y.public.auth;const w=y.public.managemant,S=a(!1),r=a(""),$=async()=>{var i,e,m,o,h;if(n.value!==s.value){b.value=!0,v.error("As senhas não coincidem.");return}b.value=!1;try{const{data:x,status:N,error:V}=await Y(`${w}/verifica_codigo_recuperacao`,{method:"POST",body:{acao:"recuperar",token:r.value,senha:n.value}},"$6PqqSha0mY");N.value==="success"?v.success(x.value.status_mensagem||"Senha alterada com sucesso!"):(console.log(V.value.data),v.error(((m=(e=(i=V.value)==null?void 0:i.data)==null?void 0:e.menssage)==null?void 0:m.details)||((h=(o=V.value)==null?void 0:o.data)==null?void 0:h.status_mensagem)||"Erro desconhecido ao alterar a senha.")),k.value=!1,S.value=!1,C.value="",r.value="",n.value="",s.value=""}catch{}},I=E(()=>n.value&&s.value&&n.value===s.value);return(i,e)=>{const m=T("center");return F(),j(G,{style:{"background-color":"#0a063b"}},{default:u(()=>[t(J,{cols:"5",class:"d-flex align-center justify-center"},{default:u(()=>[t(H,{style:{"max-width":"650px"}},{default:u(()=>[t(m,null,{default:u(()=>[t(_,{style:{"margin-bottom":"30px"},width:400,height:330,src:P})]),_:1}),t(g,{modelValue:l(r),"onUpdate:modelValue":e[0]||(e[0]=o=>p(r)?r.value=o:null),class:"input mt-5",type:i.text,density:"compact",style:{"background-color":"aliceblue"},"hide-details":"",placeholder:"Código de verificação",variant:"outlined"},null,8,["modelValue","type"]),t(g,{modelValue:l(n),"onUpdate:modelValue":e[1]||(e[1]=o=>p(n)?n.value=o:null),class:"input mt-5","append-inner-icon":l(d)?"mdi-eye-off":"mdi-eye",type:l(d)?"text":"password",density:"compact",style:{"background-color":"aliceblue"},"hide-details":"",placeholder:"Nova Senha","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":e[2]||(e[2]=o=>d.value=!l(d))},null,8,["modelValue","append-inner-icon","type"]),t(g,{modelValue:l(s),"onUpdate:modelValue":e[3]||(e[3]=o=>p(s)?s.value=o:null),class:"input mt-3","append-inner-icon":l(c)?"mdi-eye-off":"mdi-eye",type:l(c)?"text":"password",density:"compact",style:{"background-color":"aliceblue"},"hide-details":"",placeholder:"Confirmar Senha","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":e[4]||(e[4]=o=>c.value=!l(c))},null,8,["modelValue","append-inner-icon","type"]),z("div",null,[t(D,M({rounded:"",class:"mb-10 mt-4 ml-1"},i.activatorProps,{color:"primary",onClick:$,modelValue:l(f),"onUpdate:modelValue":e[5]||(e[5]=o=>p(f)?f.value=o:null),block:"",disabled:!l(I)}),{default:u(()=>e[6]||(e[6]=[O(" Alterar Senha ")])),_:1},16,["modelValue","disabled"])])]),_:1})]),_:1}),t(_,{src:R,cover:""})]),_:1})}}},ne=A(K,[["__scopeId","data-v-7db2d31a"]]);export{ne as default};
