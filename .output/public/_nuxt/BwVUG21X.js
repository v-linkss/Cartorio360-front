import{a as x}from"./BuU1SgSQ.js";import{r as p,h as C,o as B,v as T,w as a,b as t,d as r,a as $,x as h,y as _,C as R,z as F}from"./DQRVO41G.js";import{u as b}from"./hl9e6ElK.js";import{a as j,b as O,d as P,V as q}from"./CvdiJAH5.js";const M={class:"d-flex justify-center align-center"},A={__name:"FichaCard",props:{show:Boolean,item:Object},emits:["close","confirmar"],setup(V,{emit:g}){const i=V,u=F(),k=`${u.public.managemant}/getLinkTipo`,w=`${u.public.managemant}/download`,o=p(i.show),l=p(),d=g;C(()=>i.show,async e=>{o.value=e,await y()});const v=()=>{d("confirmar"),m()},y=async()=>{var f;if(!i.item.id)return;const{data:e}=await b(k,{method:"POST",body:{tipo:"ficha",id:i.item.id}},"$4omB3S9Tg3");if(!((f=e.value)!=null&&f.link))return;const{data:s}=await b(w,{method:"POST",body:{bucket:"qvgjz",path:e.value.link}},"$yanMHqBuqW"),c=e.value.link,n=s.value;/\.(tr7|tiff)$/i.test(c)?l.value=n:fotoRender.value=`data:image/jpeg;base64,${n}`},m=()=>{o.value=!1,l.value=null,d("close")};return(e,s)=>{const c=x;return B(),T(q,{persistent:"",modelValue:h(o),"onUpdate:modelValue":s[0]||(s[0]=n=>R(o)?o.value=n:null),"max-width":"700"},{default:a(()=>[t(j,null,{default:a(()=>[t(O,{class:"text-h5"},{default:a(()=>[r("Ficha de Firma")]),_:1}),$("div",M,[t(c,{"tiff-url":h(l)},null,8,["tiff-url"])]),t(P,null,{default:a(()=>[t(_,{style:{"background-color":"#429946",color:"white"},onClick:v},{default:a(()=>[r("Reconhecer")]),_:1}),t(_,{style:{"background-color":"red",color:"white"},onClick:m},{default:a(()=>[r("Voltar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{A as _};
