import{n as Ce,u as he,A as Z,r as q,s as we,B as xe,M as Ie,o as D,c as ee,x as a,v as H,G as At,t as Ne,H as oe,w as l,b as t,V as L,N as ce,y as te,d as Q,I as me,z as fe,q as $e,F as Ae,a as X,C as _e,D as ot,Q as W,_ as lt,ba as Ke,O as ze,bS as ve,c7 as Tt,c8 as Bt,c9 as Je,ca as Te,bq as le,bj as Se,cb as Dt,E as st,c6 as nt,cc as Be,bV as pe,cd as Mt,aL as De,ce as Ut,cf as it,bZ as ge,c5 as de,cg as Ft,bH as rt,ch as Rt,ci as Nt,cj as Oe,ck as zt,bT as Ot,bX as Le,bY as Lt,b$ as Qe,cl as jt,K as ye,cm as ut,cn as Wt,c3 as qt,co as Yt,cp as Ht,cq as dt,cr as ct,cs as Xt,ct as Gt,cu as Kt,cv as Jt,h as mt,cw as Qt,cx as Zt,cy as ea,cz as ta,cA as aa,aW as oa,cB as la,cC as sa,cD as na,cE as ia,cF as ra}from"./C4FAeO2-.js";import{b as je,u as K}from"./D4WZrT_y.js";import{c as ne,r as re,u as Me}from"./5ii8qVdc.js";import{c as ua}from"./ehrjrB3b.js";import{V as J}from"./Od6SCwJi.js";import{V as T}from"./Cm_pm_yW.js";import{V as vt,m as da,a as Ze}from"./CaTp4eZw.js";import{V as se}from"./Bbbgie3G.js";import{V as ue}from"./C_qyT3n_.js";import{_ as ft}from"./Chp3-9lv.js";import{_ as et}from"./DfjuBLsA.js";import{_ as Ee,V as We,a as qe,b as Ye,c as pt}from"./DpDuX1Ot.js";import{V as Ue,a as Fe,b as gt,c as bt,d as _t}from"./DnzoUjfZ.js";import{u as ca}from"./BGpK23m7.js";import{_ as ma}from"./CMTtdTlC.js";const va={key:1},fa={__name:"Dados",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],async setup(e,{emit:o}){let s,n;const v=e,p=o,i=Ce(),{$toast:c}=he(),g=fe(),A=`${g.public.managemant}/createPessoa`,S=`${g.public.managemant}/updatePessoa`,F=`${g.public.managemant}/listarEstadoCivil`,M=`${g.public.managemant}/listarCapacidadeCivil`,I=`${g.public.managemant}/listarCidades`,B=`${g.public.managemant}/listarSexo`,y={nome:null,nome_pai:null,nome_mae:null,profissao:null,local_trabalho:null,data_nascimento:null,doc_identificacao:null,cpf_pai:null,cpf_mae:null,tipo_pessoa:"FISICA",tabvalores_estadocivil_id:null,tabvalores_capacidadecivil_id:null,tabvalores_sexo_id:null,cidade_natural_id:null,cartorio_id:Z("user-data").value.cartorio_id,user_id:Z("user-data").value.usuario_id},z=q(!1),u=Z("pessoa-id"),m=we({...y});function $(C){if(C)return C.replace(/[.\-]/g,"");C=null}const{data:r,status:_,pending:P,error:w}=([s,n]=xe(async()=>je("cliente-dados",async()=>{const[C,f,j,h]=await Promise.all([$fetch(F),$fetch(M),$fetch(I),$fetch(B)]);return{estadoCivilItems:C,capacidadeCivilItems:f,cidadeNascimentoItems:j,sexoItems:h}})),s=await s,n(),s),x={nome:{required:ne.withMessage("O campo é obrigatorio",re)},nome_mae:{required:ne.withMessage("O campo é obrigatorio",re)},doc_identificacao:{required:ne.withMessage("O campo é obrigatorio",re),cpf:ua}},U=Me(x,m);async function N(){if(await U.value.$validate()){const C={...m};for(const G in C)C[G]===""&&(C[G]=null);const f={...C,doc_identificacao:$(m.doc_identificacao),cpf_pai:$(m.cpf_pai),cpf_mae:$(m.cpf_mae)},{data:j,error:h,status:k}=await K(A,{method:"POST",body:f},"$fcbWHpl5XR");if(k.value==="error"&&h.value.statusCode===500)c.error("Erro ao cadastrar pessoa,o CPF já está cadastrado.");else{c.success("Pessoa cadastrada com sucesso!");const G=j.value.id;u.value=G;const V=Z("pessoa_token");V.value=j.value.token,z.value=!0,p("saved")}}else c.error("Erro ao cadastrar pessoa, preencha os campos obrigatorios.")}async function R(){const C={...m};for(const G in C)C[G]===""&&(C[G]=null);const f={...C,doc_identificacao:$(m.doc_identificacao),cpf_mae:$(m.cpf_mae)},{data:j,error:h,status:k}=await K(`${S}/${u.value}`,{method:"PUT",body:f},"$S30ZRYxneo");if(k.value==="success"){if(v.isModal===!0){c.success("Pessoa atualizada com sucesso!"),p("close-modal");return}c.success("Pessoa atualizada com sucesso!"),i.push("/pessoas/lista")}}const E=()=>{if(v.isModal===!0){p("close-modal");return}i.push("/pessoas/lista")};return(C,f)=>{const j=Ie("mask");return D(),ee(me,null,[a(P)?(D(),H(At,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):a(w)?(D(),ee("div",va,Ne(a(w).message),1)):oe("",!0),a(P)?oe("",!0):(D(),H(ue,{key:2},{default:l(()=>[t(J,null,{default:l(()=>[t(T,{md:"6"},{default:l(()=>[t(L,{modelValue:a(m).nome,"onUpdate:modelValue":f[0]||(f[0]=h=>a(m).nome=h),"error-messages":a(U).nome.$errors.map(h=>h.$message),label:"Nome",required:"",onBlur:a(U).nome.$touch,onInput:a(U).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(T,{md:"4"},{default:l(()=>[ce(t(L,{modelValue:a(m).doc_identificacao,"onUpdate:modelValue":f[1]||(f[1]=h=>a(m).doc_identificacao=h),"error-messages":a(U).doc_identificacao.$errors.map(h=>h.$message),label:"CPF",required:"",onBlur:a(U).doc_identificacao.$touch,onInput:a(U).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[j,"###.###.###-##"]])]),_:1}),t(T,{md:"2"},{default:l(()=>[t(vt,{label:"Sexo",modelValue:a(m).tabvalores_sexo_id,"onUpdate:modelValue":f[2]||(f[2]=h=>a(m).tabvalores_sexo_id=h),items:a(r).sexoItems,"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(J,null,{default:l(()=>[t(T,{md:"4"},{default:l(()=>[t(se,{modelValue:a(m).tabvalores_estadocivil_id,"onUpdate:modelValue":f[3]||(f[3]=h=>a(m).tabvalores_estadocivil_id=h),items:a(r).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(L,{modelValue:a(m).profissao,"onUpdate:modelValue":f[4]||(f[4]=h=>a(m).profissao=h),label:"Profissão"},null,8,["modelValue"])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(L,{modelValue:a(m).local_trabalho,"onUpdate:modelValue":f[5]||(f[5]=h=>a(m).local_trabalho=h),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),t(J,null,{default:l(()=>[t(T,{md:"4"},{default:l(()=>[t(L,{modelValue:a(m).data_nascimento,"onUpdate:modelValue":f[6]||(f[6]=h=>a(m).data_nascimento=h),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(se,{modelValue:a(m).tabvalores_capacidadecivil_id,"onUpdate:modelValue":f[7]||(f[7]=h=>a(m).tabvalores_capacidadecivil_id=h),items:a(r).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(se,{modelValue:a(m).cidade_natural_id,"onUpdate:modelValue":f[8]||(f[8]=h=>a(m).cidade_natural_id=h),items:a(r).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(J,null,{default:l(()=>[t(T,{md:"4"},{default:l(()=>[ce(t(L,{modelValue:a(m).cpf_pai,"onUpdate:modelValue":f[9]||(f[9]=h=>a(m).cpf_pai=h),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[j,"###.###.###-##"]])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(L,{modelValue:a(m).nome_pai,"onUpdate:modelValue":f[10]||(f[10]=h=>a(m).nome_pai=h),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),t(J,null,{default:l(()=>[t(T,{md:"4"},{default:l(()=>[ce(t(L,{modelValue:a(m).cpf_mae,"onUpdate:modelValue":f[11]||(f[11]=h=>a(m).cpf_mae=h),modelModifiers:{date:!0},label:"CPF da Mãe"},null,8,["modelValue"]),[[j,"###.###.###-##"]])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(L,{modelValue:a(m).nome_mae,"onUpdate:modelValue":f[12]||(f[12]=h=>a(m).nome_mae=h),modelModifiers:{date:!0},"error-messages":a(U).nome_mae.$errors.map(h=>h.$message),label:"Nome da Mãe",required:"",onBlur:a(U).nome_mae.$touch,onInput:a(U).nome_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),t(J,{class:"mb-3"},{default:l(()=>[t(te,{onClick:E,size:"large",color:"red"},{default:l(()=>[Q("Voltar")]),_:1}),t(te,{onClick:f[13]||(f[13]=h=>a(z)?R():N()),class:"ml-4",size:"large",color:"green"},{default:l(()=>[Q("Salvar")]),_:1})]),_:1})]),_:1}))],64)}}},pa=ne.withMessage("CNPJ inválido",e=>{if(!e)return!1;const o=e.replace(/[^\d]+/g,"");if(o.length!==14||/^(\d)\1+$/.test(o))return!1;let s=o.length-2,n=o.substring(0,s);const v=o.substring(s);let p=0,i=s-7;for(let g=s;g>=1;g--)p+=parseInt(n.charAt(s-g),10)*i--,i<2&&(i=9);let c=p%11<2?0:11-p%11;if(c!==parseInt(v.charAt(0),10))return!1;s+=1,n=o.substring(0,s),p=0,i=s-7;for(let g=s;g>=1;g--)p+=parseInt(n.charAt(s-g),10)*i--,i<2&&(i=9);return c=p%11<2?0:11-p%11,c===parseInt(v.charAt(1),10)}),ga={__name:"DadosJuridica",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],setup(e,{emit:o}){const s=e,n=o,v=Ce(),p=$e(),{$toast:i}=he(),c=fe(),g=`${c.public.managemant}/getPessoaById`,A=`${c.public.managemant}/createPessoa`,S=`${c.public.managemant}/updatePessoa`,{id:F}=p.params,M={nome:null,nome_fantasia:null,inscricao_estadual:null,observacao:null,doc_identificacao:null,tipo_pessoa:"JURIDICA",cartorio_id:Z("user-data").value.cartorio_id,user_id:Z("user-data").value.usuario_id},I=q(!1),B=Z("pessoa-id"),y=we({...M});function z(w){return w?w.replace(/[.\-/]/g,""):null}const u={nome:{required:ne.withMessage("O campo é obrigatorio",re)},doc_identificacao:{required:ne.withMessage("O campo é obrigatorio",re),cnpj:pa}},m=Me(u,y);async function $(){if(await m.value.$validate()){const w={...y};for(const E in w)w[E]===""&&(w[E]=null);const x={...w,doc_identificacao:z(y.doc_identificacao)},{data:U,error:N,status:R}=await K(A,{method:"POST",body:x},"$kpCGWBoNdd");if(R.value==="error"&&N.value.statusCode===500)i.error("Erro ao cadastrar Pessoa Juridica,o CNPJ já está cadastrado.");else{i.success("Pessoa Juridica cadastrada com sucesso!");const E=U.value.id;B.value=E;const C=Z("pessoa_token");C.value=U.value.token,I.value=!0,n("saved")}}else i.error("Erro ao cadastrar pessoa juridica, preencha os campos obrigatorios.")}async function r(){const w={...y};for(const E in w)w[E]===""&&(w[E]=null);const x={...w,doc_identificacao:z(y.doc_identificacao)},{data:U,error:N,status:R}=await K(`${S}/${F||B.value}`,{method:"PUT",body:x},"$mSTT3Fc5La");if(R.value==="success"){if(s.isModal===!0){i.success("Pessoa Juridica atualizada com sucesso!"),n("close-modal");return}i.success("Pessoa Juridica atualizada com sucesso!"),v.push("/pessoas/lista")}}async function _(){const{data:w,error:x}=await K(`${g}/${F}`,{method:"GET"},"$Y336g0ElMC");Object.assign(y,w.value)}const P=()=>{if(s.isModal===!0){n("close-modal");return}v.push("/pessoas/lista")};return Ae(()=>{F&&(_(),I.value=!0)}),(w,x)=>{const U=Ie("mask");return D(),H(ue,{class:"mt-3",style:{height:"425px"}},{default:l(()=>[t(J,null,{default:l(()=>[t(T,{md:"8"},{default:l(()=>[t(L,{modelValue:a(y).nome,"onUpdate:modelValue":x[0]||(x[0]=N=>a(y).nome=N),"error-messages":a(m).nome.$errors.map(N=>N.$message),label:"Razão Social",required:"",onBlur:a(m).nome.$touch,onInput:a(m).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(T,{md:"4"},{default:l(()=>[ce(t(L,{modelValue:a(y).doc_identificacao,"onUpdate:modelValue":x[1]||(x[1]=N=>a(y).doc_identificacao=N),"error-messages":a(m).doc_identificacao.$errors.map(N=>N.$message),label:"CNPJ",required:"",onBlur:a(m).doc_identificacao.$touch,onInput:a(m).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[U,"##.###.###/####-##"]])]),_:1})]),_:1}),t(J,null,{default:l(()=>[t(T,{md:"8"},{default:l(()=>[t(L,{modelValue:a(y).nome_fantasia,"onUpdate:modelValue":x[2]||(x[2]=N=>a(y).nome_fantasia=N),label:"Nome Fantasia"},null,8,["modelValue"])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(L,{modelValue:a(y).inscricao_estadual,"onUpdate:modelValue":x[3]||(x[3]=N=>a(y).inscricao_estadual=N),label:"Inscrição Estadual"},null,8,["modelValue"])]),_:1})]),_:1}),t(J,null,{default:l(()=>[t(T,{md:"12"},{default:l(()=>[t(L,{modelValue:a(y).observacao,"onUpdate:modelValue":x[4]||(x[4]=N=>a(y).observacao=N),label:"Observação"},null,8,["modelValue"])]),_:1})]),_:1}),t(J,{class:"mb-3"},{default:l(()=>[t(te,{onClick:P,size:"large",color:"red"},{default:l(()=>[Q("Voltar")]),_:1}),t(te,{onClick:x[5]||(x[5]=N=>a(I)?r():$()),class:"ml-4",size:"large",color:"green"},{default:l(()=>[Q("Salvar")]),_:1})]),_:1})]),_:1})}}},ba=["onClick"],_a=X("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:pt,alt:"editar"},null,-1),ya=[_a],ha=["onClick"],Va={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:qe,alt:"deletar",title:"Reativar"},ka={key:1,src:Ye,alt:"reativar",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"reativar"},xa={__name:"Documentos",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(e,{emit:o}){let s,n;const v=o,p=e,{$toast:i}=he(),c=$e(),g=Ce(),{id:A}=c.params,S=fe(),F=`${S.public.managemant}/listarTipoDocumento`,M=`${S.public.managemant}/listarUF`,I=`${S.public.managemant}/getPessoaDocById`,B=`${S.public.managemant}/createPessoaDoc`,y=`${S.public.managemant}/updatePessoaDoc`,z=q(!1),u=q(null),m=q(Z("user-data").value.usuario_id).value,$=Number(A||Z("pessoa-id").value),r=we({tabvalores_tipodoc_id:null,emissor:null,validade:null,numero:null,data_emissao:null,data_vencimento:null,tabvalores_ufemissor_id:null}),_=[{title:"Tipo",value:"tipoDocumento.descricao"},{title:"Número",value:"numero"},{title:"Emissor",value:"emissor"},{title:"UF",value:"ufEmissor.descricao"},{title:"Emissão",value:"data_emissao"},{title:"Validade",value:"data_vencimento"},{value:"actions"}],P={numero:{required:ne.withMessage("O campo é obrigatorio",re)},emissor:{required:ne.withMessage("O campo é obrigatorio",re)}},w=Me(P,r),{data:x,pending:U,refresh:N}=([s,n]=xe(async()=>je("cliente-documentos",async()=>{const[h,k,G]=await Promise.all([$fetch(F),$fetch(M),$fetch(`${I}/${$}`)]),V=G.map(d=>({...d,data_emissao:et(d.data_emissao),data_vencimento:et(d.data_vencimento)}));return{tipoDocumentoItems:h,ufItems:k,pessoasDocsItems:V}})),s=await s,n(),s);async function R(){if(await w.value.$validate()){const h={...r};for(const Y in h)h[Y]===""&&(h[Y]=null);const k={...h,user_id:m,pessoa_id:$},{data:G,error:V,status:d}=await K(B,{method:"POST",body:k},"$cLGZtMLuJD");if(d.value==="error"&&V.value.statusCode===500)i.error("Erro ao cadastrar documento,erro no sistema.");else{i.success("Documento cadastrado com sucesso!"),N();for(const Y in r)r[Y]="";w.value.$reset()}}else i.error("Erro ao cadastrar documento, preencha os campos obrigatorios.")}function E(h){const k=x.value.pessoasDocsItems.find(G=>G.id===h);k&&(u.value=k,z.value=!0)}async function C(h){const k={tabvalores_tipodoc_id:u.value.tabvalores_tipodoc_id,numero:u.value.numero,emissor:u.value.emissor,tabvalores_ufemissor_id:u.value.tabvalores_ufemissor_id,data_vencimento:u.value.data_vencimento,data_emissao:u.value.data_emissao},{status:G}=await K(`${y}/${h}`,{method:"PUT",body:k},"$2fkU5kgcxs");G.value==="success"&&(z.value=!1,i.success("Pessoa atualizada com sucesso!"),N())}async function f(h){h.excluido=!h.excluido;try{await K(`${y}/${h.id}`,{method:"PUT",body:JSON.stringify({excluido:h.excluido})},"$lMq37v4cfh")}catch(k){console.error("Erro ao excluir pessoa:",k)}}const j=()=>{if(p.isModal===!0){v("close-modal");return}g.push("/pessoas/lista")};return(h,k)=>{const G=ft;return D(),ee(me,null,[a(U)?oe("",!0):(D(),H(ue,{key:0,class:"mt-3",style:{height:"425px"}},{default:l(()=>[t(J,null,{default:l(()=>[t(T,{md:"2"},{default:l(()=>[t(se,{modelValue:a(r).tabvalores_tipodoc_id,"onUpdate:modelValue":k[0]||(k[0]=V=>a(r).tabvalores_tipodoc_id=V),items:a(x).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,null,{default:l(()=>[t(L,{modelValue:a(r).numero,"onUpdate:modelValue":k[1]||(k[1]=V=>a(r).numero=V),"error-messages":a(w).numero.$errors.map(V=>V.$message),label:"Numero",required:"",onBlur:a(w).numero.$touch,onInput:a(w).numero.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(T,{md:"2"},{default:l(()=>[t(L,{modelValue:a(r).emissor,"onUpdate:modelValue":k[2]||(k[2]=V=>a(r).emissor=V),"error-messages":a(w).emissor.$errors.map(V=>V.$message),required:"",onBlur:a(w).emissor.$touch,onInput:a(w).emissor.$touch,label:"Emissor"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(T,null,{default:l(()=>[t(se,{modelValue:a(r).tabvalores_ufemissor_id,"onUpdate:modelValue":k[3]||(k[3]=V=>a(r).tabvalores_ufemissor_id=V),items:a(x).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,{md:"2"},{default:l(()=>[t(L,{modelValue:a(r).data_emissao,"onUpdate:modelValue":k[4]||(k[4]=V=>a(r).data_emissao=V),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),t(T,{md:"2"},{default:l(()=>[t(L,{modelValue:a(r).data_vencimento,"onUpdate:modelValue":k[5]||(k[5]=V=>a(r).data_vencimento=V),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1}),X("div",{class:"mt-1"},[X("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ee,alt:"novo",onClick:R})])]),_:1}),t(We,{style:{"max-height":"330px"},headers:_,items:a(x).pessoasDocsItems,"item-key":"id"},{"item.actions":l(({item:V})=>[t(J,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:l(()=>[X("div",{onClick:d=>E(V.id),title:"editar"},ya,8,ba),X("div",{onClick:d=>f(V),title:"deletar"},[V.excluido?(D(),ee("img",Va)):(D(),ee("img",ka))],8,ha)]),_:2},1024)]),_:1},8,["items"]),t(Ue,{modelValue:a(z),"onUpdate:modelValue":k[14]||(k[14]=V=>_e(z)?z.value=V:null),"max-width":"600px"},{default:l(()=>[t(Fe,null,{default:l(()=>[t(gt,{style:{color:"green"}},{default:l(()=>[Q("Atualizar Endereço")]),_:1}),t(bt,null,{default:l(()=>[t(J,null,{default:l(()=>[t(T,{cols:"12",md:"6"},{default:l(()=>[t(se,{modelValue:a(u).tabvalores_tipodoc_id,"onUpdate:modelValue":k[6]||(k[6]=V=>a(u).tabvalores_tipodoc_id=V),items:a(x).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(L,{modelValue:a(u).numero,"onUpdate:modelValue":k[7]||(k[7]=V=>a(u).numero=V),label:"Número"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(L,{modelValue:a(u).emissor,"onUpdate:modelValue":k[8]||(k[8]=V=>a(u).emissor=V),label:"Número"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(se,{modelValue:a(u).tabvalores_ufemissor_id,"onUpdate:modelValue":k[9]||(k[9]=V=>a(u).tabvalores_ufemissor_id=V),items:a(x).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(L,{modelValue:a(u).data_emissao,"onUpdate:modelValue":k[10]||(k[10]=V=>a(u).data_emissao=V),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(L,{modelValue:a(u).data_vencimento,"onUpdate:modelValue":k[11]||(k[11]=V=>a(u).data_vencimento=V),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(_t,null,{default:l(()=>[t(ot),t(te,{color:"green",text:"",onClick:k[12]||(k[12]=V=>z.value=!1)},{default:l(()=>[Q("Cancelar")]),_:1}),t(te,{color:"green",text:"",onClick:k[13]||(k[13]=V=>C(a(u).id))},{default:l(()=>[Q("Salvar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),t(G,{onClick:j},{default:l(()=>[t(te,{size:"large",class:"ml-10 mb-5",color:"red"},{default:l(()=>[Q("Voltar")]),_:1})]),_:1})],64)}}},Ca=["onClick"],wa={key:0,style:{width:"30px",height:"30px"},src:qe,alt:"Visualizar",title:"Reativar"},$a={key:1,src:Ye,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Sa={__name:"Representantes",props:{isModal:{type:Boolean,default:!1}},async setup(e){let o,s;const n=e,v=fe(),{$toast:p}=he(),i=$e(),c=Ce(),g=`${v.public.managemant}/pesquisarPessoas`,A=`${v.public.managemant}/listarPapeis`,S=`${v.public.managemant}/representante`,F=`${v.public.managemant}/representante`,M=`${v.public.managemant}/representante`,I=q(Z("user-data").value.cartorio_token),B=Number(y||Z("pessoa-id").value),{id:y}=i.params,z=q([]),u=q([]),m=q([]),$=q(!1),r=[{title:"Documento",align:"start",key:"representante",value:C=>{var f,j;return((f=C.representante)==null?void 0:f.doc_identificacao)||((j=C.representante)==null?void 0:j.documento)}},{title:"Pessoa",align:"start",key:"representante.nome"},{title:"Papel",align:"start",key:"papel.descricao"},{value:"actions"}],_=we({papeis:null,nome:null,pessoa:null,documento:null}),{data:P}=([o,s]=xe(()=>K(A,{method:"POST",body:{rotina:"CADASTRO_PJ"}},"$r2PAdeai2X")),o=await o,s(),o);m.value=P.value;async function w(){try{const{data:C,error:f}=await K(g,{method:"POST",body:{cartorio_token:I.value,documento:_.documento,nome:_.nome}},"$ssVep5GhCj");C.value.length>0?(z.value=C.value,_.pessoa=z.value[0]):z.value=[]}catch(C){console.error("Erro na requisição",C)}}const x=()=>{$.value=!0},U=async()=>{const C={representante:_.pessoa,papel:m.value.find(f=>f.id===_.papeis)};try{const{data:f,error:j,status:h}=await K(S,{method:"POST",body:{ato_id:null,representante_id:_.pessoa.id,pessoa_id:B||y,papel_id:_.papeis,user_id:Z("user-data").value.usuario_id}},"$8XMY7eo5oW");h.value==="success"?(C.id=f.value.id,p.success("Pessoa Registrada com Sucesso!"),u.value.push(C)):p.error("Erro ao registrar a pessoa!")}catch{p.error("Erro no servidor. Tente novamente.")}};async function N(){const{data:C,error:f}=await K(`${F}/${y}`,{method:"GET"},"$bMZzCc9jB6");u.value=C.value}async function R(C){C.excluido=!C.excluido,console.log(C.excluido);try{await K(`${M}/${C.id}`,{method:"PUT",body:JSON.stringify({excluido:C.excluido})},"$z8GHu9hY03")}catch(f){console.error("Erro ao excluir pessoa:",f)}}const E=()=>{if(n.isModal===!0){emit("close-modal");return}c.push("/pessoas/lista")};return Ae(()=>{y&&N()}),(C,f)=>{const j=Bo,h=ft;return D(),ee(me,null,[t(ue,{style:{height:"425px"}},{default:l(()=>[t(J,{class:"mt-1"},{default:l(()=>[t(T,{cols:"3"},{default:l(()=>[t(L,{label:"Documento",modelValue:a(_).documento,"onUpdate:modelValue":f[0]||(f[0]=k=>a(_).documento=k)},null,8,["modelValue"])]),_:1}),t(T,{cols:"4"},{default:l(()=>[t(L,{label:"Pessoa",modelValue:a(_).nome,"onUpdate:modelValue":f[1]||(f[1]=k=>a(_).nome=k)},null,8,["modelValue"])]),_:1}),X("div",null,[X("img",{class:"mt-1",src:ma,style:{width:"40px",cursor:"pointer"},title:"Pesquisar Pessoa",onClick:w})]),X("div",null,[X("img",{class:"mt-1 ml-2",src:Ee,style:{width:"40px",cursor:"pointer"},title:"Criar Pessoa",onClick:x})])]),_:1}),t(J,null,{default:l(()=>[t(T,{cols:"4"},{default:l(()=>[t(se,{label:"Selecione a Pessoa",modelValue:a(_).pessoa,"onUpdate:modelValue":f[2]||(f[2]=k=>a(_).pessoa=k),items:a(z),"item-title":"nome","item-value":"id","return-object":"",required:""},null,8,["modelValue","items"])]),_:1}),t(T,{cols:"3"},{default:l(()=>[t(se,{label:"Papel",modelValue:a(_).papeis,"onUpdate:modelValue":f[3]||(f[3]=k=>a(_).papeis=k),items:a(m),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),X("div",null,[X("img",{class:"mt-1",src:Ee,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:U})])]),_:1}),t(J,null,{default:l(()=>[t(T,null,{default:l(()=>[t(We,{style:{"max-height":"330px"},headers:r,items:a(u)},{"item.actions":l(({item:k})=>[t(J,null,{default:l(()=>[X("div",{class:"mr-2",style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:G=>R(k),title:"Deletar Pessoa"},[k.excluido?(D(),ee("img",wa)):(D(),ee("img",$a))],8,Ca)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),t(j,{show:a($),onClose:f[4]||(f[4]=k=>$.value=!1)},null,8,["show"])]),_:1}),t(h,{onClick:E},{default:l(()=>[t(te,{size:"large",class:"ml-10 mb-5",color:"red"},{default:l(()=>[Q("Voltar")]),_:1})]),_:1})],64)}}},Ia={class:"mt-1"},Pa={style:{width:"150px","font-weight":"500"}},Ea={style:{width:"200px","font-weight":"500"}},Aa=["onClick"],Ta=X("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:pt,alt:"Visualizar"},null,-1),Ba=[Ta],Da=["onClick"],Ma={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:qe,alt:"Visualizar",title:"Reativar"},Ua={key:1,src:Ye,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},Fa={__name:"Endereco",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(e,{emit:o}){let s,n;const v=o,p=e,{$toast:i}=he(),c=$e(),{id:g}=c.params,A=Ce(),S=fe(),F=`${S.public.managemant}/listarPais`,M=`${S.public.managemant}/getPessoaEnderecoById`,I=`${S.public.managemant}/createPessoaEndereco`,B=`${S.public.managemant}/updatePessoaEndereco`,y=q(Z("user-data").value.usuario_id).value,z=Number(g||Z("pessoa-id").value),u=we({tabvalores_pais_id:null,cidade_id:null,codcep:null,logradouro:null,numero:null,bairro:null,data_vencimento:null,tabvalores_ufemissor_id:null,complemento:null,cidade_estrangeira:null}),m=[{title:"País",value:"pais.descricao"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro"},{title:"N*",value:"numero"},{title:"Complemento",value:"complemento"},{title:"Bairro",value:"bairro"},{title:"Cidade",value:"cidade"},{value:"actions"}],$=q(!1),r=q(null),_=W(()=>{const V=U.value.paisItems.find(d=>d.id===u.tabvalores_pais_id);return V?V.estrangeiro:!1}),P=V=>{var d;return((d=V.cidades)==null?void 0:d.nome)||V.cidade_estrangeira},w={numero:{required:ne.withMessage("O campo é obrigatorio",re)},bairro:{required:ne.withMessage("O campo é obrigatorio",re)},logradouro:{required:ne.withMessage("O campo é obrigatorio",re)},codcep:{required:ne.withMessage("O campo é obrigatorio e precisa de 8 digitos",re)}},x=Me(w,u),{data:U,status:N,pending:R,refresh:E}=([s,n]=xe(async()=>je("cliente-enderecos",async()=>{const[V,d,Y]=await Promise.all([$fetch(F),$fetch(`${M}/${z}`),$fetch(`${S.public.managemant}/listarCidades`)]);return{paisItems:V,enderecosItems:d,cidadesItems:Y}})),s=await s,n(),s);async function C(){if(await x.value.$validate()){const d={...{...u},user_id:y,pessoa_id:z},{data:Y,error:b,status:ie}=await K(I,{method:"POST",body:d},"$xTfPNGciav");if(ie.value==="error"&&b.value.statusCode===500)i.error("Erro ao cadastrar endereço,erro no sistema.");else{i.success("Endereço cadastrado com sucesso!"),E();for(const be in u)u[be]=null;x.value.$reset()}}else i.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}async function f(){if(!u.cidade_estrangeira||!u.logradouro){i.error("Os Campos Cidade Estrangeira e Endereço são obrigatorios!");return}const d={...{...u},user_id:y,pessoa_id:z},{data:Y,error:b,status:ie}=await K(I,{method:"POST",body:d},"$DfOGkJVB8l");if(ie.value==="error"&&b.value.statusCode===500)i.error("Erro ao cadastrar endereço,erro no sistema.");else{i.success("Endereço cadastrado com sucesso!"),E();for(const be in u)u[be]=null;x.value.$reset()}}function j(V){const d=U.value.enderecosItems.find(Y=>Y.id===V);d&&(r.value=d,$.value=!0)}async function h(V){const d={tabvalores_pais_id:r.value.tabvalores_pais_id,cidade_id:r.value.cidade_id,codcep:r.value.codcep,logradouro:r.value.logradouro,numero:r.value.numero,bairro:r.value.bairro,complemento:r.value.complemento},{status:Y}=await K(`${B}/${V}`,{method:"PUT",body:d},"$u4gWF5EA7L");Y.value==="success"&&($.value=!1,i.success("Endereço atualizado com sucesso!"),E())}async function k(V){V.excluido=!V.excluido;try{await K(`${B}/${V.id}`,{method:"PUT",body:{excluido:V.excluido}},"$IyDmdl581M")}catch(d){console.error("Erro ao excluir pessoa:",d)}}const G=()=>{if(p.isModal===!0){v("close-modal");return}A.push("/pessoas/lista")};return(V,d)=>{const Y=Ie("mask");return D(),ee(me,null,[a(R)?oe("",!0):(D(),H(ue,{key:0,class:"mt-3",style:{height:"425px"}},{default:l(()=>[t(J,null,{default:l(()=>[t(T,{md:"2"},{default:l(()=>[t(se,{modelValue:a(u).tabvalores_pais_id,"onUpdate:modelValue":d[0]||(d[0]=b=>a(u).tabvalores_pais_id=b),items:a(U).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,{md:"2"},{default:l(()=>[a(_)?ce((D(),H(L,{key:1,modelValue:a(u).codcep,"onUpdate:modelValue":d[2]||(d[2]=b=>a(u).codcep=b),label:"CEP"},null,8,["modelValue"])),[[Y,"########"]]):ce((D(),H(L,{key:0,modelValue:a(u).codcep,"onUpdate:modelValue":d[1]||(d[1]=b=>a(u).codcep=b),"error-messages":a(x).codcep.$errors.map(b=>b.$message),required:"",onBlur:a(x).codcep.$touch,onInput:a(x).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"])),[[Y,"########"]])]),_:1}),t(T,{md:"6"},{default:l(()=>[a(_)?(D(),H(L,{key:1,modelValue:a(u).logradouro,"onUpdate:modelValue":d[4]||(d[4]=b=>a(u).logradouro=b),label:"Endereço"},null,8,["modelValue"])):(D(),H(L,{key:0,modelValue:a(u).logradouro,"onUpdate:modelValue":d[3]||(d[3]=b=>a(u).logradouro=b),label:"Endereço","error-messages":a(x).logradouro.$errors.map(b=>b.$message),required:"",onBlur:a(x).logradouro.$touch,onInput:a(x).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),t(T,{md:"1"},{default:l(()=>[a(_)?(D(),H(L,{key:1,modelValue:a(u).numero,"onUpdate:modelValue":d[6]||(d[6]=b=>a(u).numero=b),label:"N*"},null,8,["modelValue"])):(D(),H(L,{key:0,modelValue:a(u).numero,"onUpdate:modelValue":d[5]||(d[5]=b=>a(u).numero=b),required:"","error-messages":a(x).numero.$errors.map(b=>b.$message),onBlur:a(x).numero.$touch,onInput:a(x).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),X("div",Ia,[X("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ee,alt:"novo",onClick:d[7]||(d[7]=b=>a(_)?f():C())})]),t(T,{md:"5"},{default:l(()=>[t(L,{modelValue:a(u).complemento,"onUpdate:modelValue":d[8]||(d[8]=b=>a(u).complemento=b),label:"Complemento"},null,8,["modelValue"])]),_:1}),t(T,{md:"3"},{default:l(()=>[a(_)?(D(),H(L,{key:1,modelValue:a(u).bairro,"onUpdate:modelValue":d[10]||(d[10]=b=>a(u).bairro=b),label:"Bairro"},null,8,["modelValue"])):(D(),H(L,{key:0,modelValue:a(u).bairro,"onUpdate:modelValue":d[9]||(d[9]=b=>a(u).bairro=b),"error-messages":a(x).bairro.$errors.map(b=>b.$message),required:"",onBlur:a(x).bairro.$touch,onInput:a(x).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),t(T,{md:"3"},{default:l(()=>[a(_)?(D(),H(L,{key:1,modelValue:a(u).cidade_estrangeira,"onUpdate:modelValue":d[12]||(d[12]=b=>a(u).cidade_estrangeira=b),label:"Cidade Estrangeira"},null,8,["modelValue"])):(D(),H(se,{key:0,modelValue:a(u).cidade_id,"onUpdate:modelValue":d[11]||(d[11]=b=>a(u).cidade_id=b),items:a(U).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"]))]),_:1})]),_:1}),t(We,{style:{"max-height":"330px"},headers:m,items:a(U).enderecosItems,"item-key":"id"},{"item.cidade":l(({item:b})=>[X("h4",Pa,Ne(P(b)),1)]),"item.logradouro":l(({item:b})=>[X("h4",Ea,Ne(b.logradouro),1)]),"item.actions":l(({item:b})=>[t(J,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:l(()=>[X("div",{onClick:ie=>j(b.id),title:"Visualizar"},Ba,8,Aa),X("div",{onClick:ie=>k(b),title:"Visualizar"},[b.excluido?(D(),ee("img",Ma)):(D(),ee("img",Ua))],8,Da)]),_:2},1024)]),_:1},8,["items"]),t(Ue,{modelValue:a($),"onUpdate:modelValue":d[23]||(d[23]=b=>_e($)?$.value=b:null),"max-width":"600px"},{default:l(()=>[t(Fe,null,{default:l(()=>[t(gt,{style:{color:"green"}},{default:l(()=>[Q("Atualizar Endereço")]),_:1}),t(bt,null,{default:l(()=>[t(J,null,{default:l(()=>[t(T,{cols:"12",md:"6"},{default:l(()=>[t(se,{modelValue:a(r).tabvalores_pais_id,"onUpdate:modelValue":d[13]||(d[13]=b=>a(r).tabvalores_pais_id=b),items:a(U).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(L,{modelValue:a(r).logradouro,"onUpdate:modelValue":d[14]||(d[14]=b=>a(r).logradouro=b),label:"Logradouro"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(L,{modelValue:a(r).complemento,"onUpdate:modelValue":d[15]||(d[15]=b=>a(r).complemento=b),label:"Complemento"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(L,{modelValue:a(r).numero,"onUpdate:modelValue":d[16]||(d[16]=b=>a(r).numero=b),label:"Número"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(L,{modelValue:a(r).bairro,"onUpdate:modelValue":d[17]||(d[17]=b=>a(r).bairro=b),label:"Bairro"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(L,{modelValue:a(r).codcep,"onUpdate:modelValue":d[18]||(d[18]=b=>a(r).codcep=b),label:"CEP"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[a(r).cidade_estrangeira?(D(),H(se,{key:0,modelValue:a(r).cidade_id,"onUpdate:modelValue":d[19]||(d[19]=b=>a(r).cidade_id=b),items:a(U).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])):(D(),H(L,{key:1,modelValue:a(r).cidade_estrangeira,"onUpdate:modelValue":d[20]||(d[20]=b=>a(r).cidade_estrangeira=b),label:"Cidade Estrangeira"},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),t(_t,null,{default:l(()=>[t(ot),t(te,{color:"green",text:"",onClick:d[21]||(d[21]=b=>$.value=!1)},{default:l(()=>[Q("Cancelar")]),_:1}),t(te,{color:"green",text:"",onClick:d[22]||(d[22]=b=>h(a(r).id))},{default:l(()=>[Q("Salvar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),t(te,{onClick:G,class:"ml-10 mb-5",size:"large",color:"red"},{default:l(()=>[Q("Voltar")]),_:1})],64)}}},Ra={class:"finger-container"},Na=["onClick"],za=["onClick"],Oa={__name:"Digital",setup(e){const o=q(["E1","E2","E3","E4","E5"]);var s=q(["red","red","red","red","red"]);const n=q(["D1","D2","D3","D4","D5"]);var v=q(["red","red","red","red","red"]);const p=$e(),{$toast:i}=he(),c=fe(),{id:g}=p.params,A=q(Z("pessoa-id").value).value,S=`${c.public.biometria}/capture-finger`,F=`${c.public.managemant}/createPessoaBiometria`,M=`${c.public.managemant}/getPessoaBiometriaById`;async function I(){const{status:u,data:m}=await K(`${M}/${g||A}`,{method:"GET"},"$wrCckM1pY4");u.value==="success"&&m.value&&m.value.forEach($=>{(o.value.includes($.dedo)||n.value.includes($.dedo))&&y($.dedo,"green")})}Ae(()=>{I()});async function B(u){const{status:m,data:$}=await K(S,{method:"GET"},"$b5yqRnLFV9");if(m.value==="success"){const r=$.value.hash,_={user_id:Z("user-data").value.usuario_id,pessoa_id:Number(g)||A,dedo:u,hash:r},{status:P}=await K(F,{method:"POST",body:_},"$cWP9jlCX2Z");P.value==="success"?(i.success("Biometria enviada com sucesso!"),y(u,"green")):i.error("Falha ao enviar a biometria.")}else i.error("Erro ao Capturar biometria para o sistema.")}function y(u,m){const $=o.value.findIndex(r=>r===u);if($!==-1)s.value[$]=m;else{const r=n.value.findIndex(_=>_===u);r!==-1&&(v.value[r]=m)}}function z(u,m){const r={E1:{top:82,left:-10},E2:{top:35,left:4},E3:{top:0,left:30},E4:{top:15,left:75},E5:{top:50,left:170},D1:{top:50,left:210},D2:{top:18,left:300},D3:{top:5,left:350},D4:{top:35,left:375},D5:{top:80,left:390}}[u];let _="red";if(m==="left"){const P=o.value.indexOf(u);P!==-1&&(_=s.value[P])}else if(m==="right"){const P=n.value.indexOf(u);P!==-1&&(_=v.value[P])}return{backgroundColor:_,top:`${r.top}px`,left:`${r.left}px`}}return(u,m)=>(D(),H(T,{style:{"margin-top":"20px"},cols:"auto",class:"biometria-container"},{default:l(()=>[X("div",Ra,[(D(!0),ee(me,null,Ke(a(o),($,r)=>(D(),ee("div",{key:r,class:"finger",style:ze(z($,"left")),onClick:_=>B($)},null,12,Na))),128)),(D(!0),ee(me,null,Ke(a(n),($,r)=>(D(),ee("div",{key:r,class:"finger",style:ze(z($,"right")),onClick:_=>B($)},null,12,za))),128))])]),_:1}))}},La=lt(Oa,[["__scopeId","data-v-02650459"]]),ja="data:image/png;base64,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",He=Symbol.for("vuetify:v-slider");function Wa(e,o,s){const n=s==="vertical",v=o.getBoundingClientRect(),p="touches"in e?e.touches[0]:e;return n?p.clientY-(v.top+v.height/2):p.clientX-(v.left+v.width/2)}function qa(e,o){return"touches"in e&&e.touches.length?e.touches[0][o]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][o]:e[o]}const Ya=ve({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...Tt(),...Bt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Ha=e=>{const o=W(()=>parseFloat(e.min)),s=W(()=>parseFloat(e.max)),n=W(()=>+e.step>0?parseFloat(e.step):0),v=W(()=>Math.max(Je(n.value),Je(o.value)));function p(i){if(i=parseFloat(i),n.value<=0)return i;const c=nt(i,o.value,s.value),g=o.value%n.value,A=Math.round((c-g)/n.value)*n.value+g;return parseFloat(Math.min(A,s.value).toFixed(v.value))}return{min:o,max:s,step:n,decimals:v,roundValue:p}},Xa=e=>{let{props:o,steps:s,onSliderStart:n,onSliderMove:v,onSliderEnd:p,getActiveThumb:i}=e;const{isRtl:c}=Te(),g=le(o,"reverse"),A=W(()=>o.direction==="vertical"),S=W(()=>A.value!==g.value),{min:F,max:M,step:I,decimals:B,roundValue:y}=s,z=W(()=>parseInt(o.thumbSize,10)),u=W(()=>parseInt(o.tickSize,10)),m=W(()=>parseInt(o.trackSize,10)),$=W(()=>(M.value-F.value)/I.value),r=le(o,"disabled"),_=W(()=>o.error||o.disabled?void 0:o.thumbColor??o.color),P=W(()=>o.error||o.disabled?void 0:o.trackColor??o.color),w=W(()=>o.error||o.disabled?void 0:o.trackFillColor??o.color),x=Se(!1),U=Se(0),N=q(),R=q();function E(O){var Ge;const ae=o.direction==="vertical",wt=ae?"top":"left",$t=ae?"height":"width",St=ae?"clientY":"clientX",{[wt]:It,[$t]:Pt}=(Ge=N.value)==null?void 0:Ge.$el.getBoundingClientRect(),Et=qa(O,St);let Re=Math.min(Math.max((Et-It-U.value)/Pt,0),1)||0;return(ae?S.value:S.value!==c.value)&&(Re=1-Re),y(F.value+Re*(M.value-F.value))}const C=O=>{p({value:E(O)}),x.value=!1,U.value=0},f=O=>{R.value=i(O),R.value&&(R.value.focus(),x.value=!0,R.value.contains(O.target)?U.value=Wa(O,R.value,o.direction):(U.value=0,v({value:E(O)})),n({value:E(O)}))},j={passive:!0,capture:!0};function h(O){v({value:E(O)})}function k(O){O.stopPropagation(),O.preventDefault(),C(O),window.removeEventListener("mousemove",h,j),window.removeEventListener("mouseup",k)}function G(O){var ae;C(O),window.removeEventListener("touchmove",h,j),(ae=O.target)==null||ae.removeEventListener("touchend",G)}function V(O){var ae;f(O),window.addEventListener("touchmove",h,j),(ae=O.target)==null||ae.addEventListener("touchend",G,{passive:!1})}function d(O){O.preventDefault(),f(O),window.addEventListener("mousemove",h,j),window.addEventListener("mouseup",k,{passive:!1})}const Y=O=>{const ae=(O-F.value)/(M.value-F.value)*100;return nt(isNaN(ae)?0:ae,0,100)},b=le(o,"showTicks"),ie=W(()=>b.value?o.ticks?Array.isArray(o.ticks)?o.ticks.map(O=>({value:O,position:Y(O),label:O.toString()})):Object.keys(o.ticks).map(O=>({value:parseFloat(O),position:Y(parseFloat(O)),label:o.ticks[O]})):$.value!==1/0?Dt($.value+1).map(O=>{const ae=F.value+O*I.value;return{value:ae,position:Y(ae)}}):[]:[]),be=W(()=>ie.value.some(O=>{let{label:ae}=O;return!!ae})),Pe={activeThumbRef:R,color:le(o,"color"),decimals:B,disabled:r,direction:le(o,"direction"),elevation:le(o,"elevation"),hasLabels:be,isReversed:g,indexFromEnd:S,min:F,max:M,mousePressed:x,numTicks:$,onSliderMousedown:d,onSliderTouchstart:V,parsedTicks:ie,parseMouseMove:E,position:Y,readonly:le(o,"readonly"),rounded:le(o,"rounded"),roundValue:y,showTicks:b,startOffset:U,step:I,thumbSize:z,thumbColor:_,thumbLabel:le(o,"thumbLabel"),ticks:le(o,"ticks"),tickSize:u,trackColor:P,trackContainerRef:N,trackFillColor:w,trackSize:m,vertical:A};return st(He,Pe),Pe},Ga=ve({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Be()},"VSliderThumb"),Ka=pe()({name:"VSliderThumb",directives:{Ripple:Mt},props:Ga(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:s,emit:n}=o;const v=De(He),{isRtl:p,rtlClasses:i}=Te();if(!v)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:c,step:g,disabled:A,thumbSize:S,thumbLabel:F,direction:M,isReversed:I,vertical:B,readonly:y,elevation:z,mousePressed:u,decimals:m,indexFromEnd:$}=v,r=W(()=>A.value?void 0:z.value),{elevationClasses:_}=Ut(r),{textColorClasses:P,textColorStyles:w}=it(c),{pageup:x,pagedown:U,end:N,home:R,left:E,right:C,down:f,up:j}=Rt,h=[x,U,N,R,E,C,f,j],k=W(()=>g.value?[1,2,3]:[1,5,10]);function G(d,Y){if(!h.includes(d.key))return;d.preventDefault();const b=g.value||.1,ie=(e.max-e.min)/b;if([E,C,f,j].includes(d.key)){const Pe=(B.value?[p.value?E:C,I.value?f:j]:$.value!==p.value?[E,j]:[C,j]).includes(d.key)?1:-1,O=d.shiftKey?2:d.ctrlKey?1:0;Y=Y+Pe*b*k.value[O]}else if(d.key===R)Y=e.min;else if(d.key===N)Y=e.max;else{const be=d.key===U?1:-1;Y=Y-be*b*(ie>100?ie/10:10)}return Math.max(e.min,Math.min(e.max,Y))}function V(d){const Y=G(d,e.modelValue);Y!=null&&n("update:modelValue",Y)}return ge(()=>{const d=de($.value?100-e.position:e.position,"%");return t("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&u.value},e.class,i.value],style:[{"--v-slider-thumb-position":d,"--v-slider-thumb-size":de(S.value)},e.style],role:"slider",tabindex:A.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!y.value,"aria-orientation":M.value,onKeydown:y.value?void 0:V},[t("div",{class:["v-slider-thumb__surface",P.value,_.value],style:{...w.value}},null),ce(t("div",{class:["v-slider-thumb__ripple",P.value],style:w.value},null),[[Ie("ripple"),e.ripple,null,{circle:!0,center:!0}]]),t(Ft,{origin:"bottom center"},{default:()=>{var Y;return[ce(t("div",{class:"v-slider-thumb__label-container"},[t("div",{class:["v-slider-thumb__label"]},[t("div",null,[((Y=s["thumb-label"])==null?void 0:Y.call(s,{modelValue:e.modelValue}))??e.modelValue.toFixed(g.value?m.value:1)])])]),[[rt,F.value&&e.focused||F.value==="always"]])]}})])}),{}}}),Ja=ve({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Be()},"VSliderTrack"),Qa=pe()({name:"VSliderTrack",props:Ja(),emits:{},setup(e,o){let{slots:s}=o;const n=De(He);if(!n)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:v,parsedTicks:p,rounded:i,showTicks:c,tickSize:g,trackColor:A,trackFillColor:S,trackSize:F,vertical:M,min:I,max:B,indexFromEnd:y}=n,{roundedClasses:z}=Nt(i),{backgroundColorClasses:u,backgroundColorStyles:m}=Oe(S),{backgroundColorClasses:$,backgroundColorStyles:r}=Oe(A),_=W(()=>`inset-${M.value?"block":"inline"}-${y.value?"end":"start"}`),P=W(()=>M.value?"height":"width"),w=W(()=>({[_.value]:"0%",[P.value]:"100%"})),x=W(()=>e.stop-e.start),U=W(()=>({[_.value]:de(e.start,"%"),[P.value]:de(x.value,"%")})),N=W(()=>c.value?(M.value?p.value.slice().reverse():p.value).map((E,C)=>{var j;const f=E.value!==I.value&&E.value!==B.value?de(E.position,"%"):void 0;return t("div",{key:E.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":E.position>=e.start&&E.position<=e.stop,"v-slider-track__tick--first":E.value===I.value,"v-slider-track__tick--last":E.value===B.value}],style:{[_.value]:f}},[(E.label||s["tick-label"])&&t("div",{class:"v-slider-track__tick-label"},[((j=s["tick-label"])==null?void 0:j.call(s,{tick:E,index:C}))??E.label])])}):[]);return ge(()=>t("div",{class:["v-slider-track",z.value,e.class],style:[{"--v-slider-track-size":de(F.value),"--v-slider-tick-size":de(g.value)},e.style]},[t("div",{class:["v-slider-track__background",$.value,{"v-slider-track__background--opacity":!!v.value||!S.value}],style:{...w.value,...r.value}},null),t("div",{class:["v-slider-track__fill",u.value],style:{...U.value,...m.value}},null),c.value&&t("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":c.value==="always"}]},[N.value])])),{}}}),Za=ve({...zt(),...Ya(),...Ot(),modelValue:{type:[Number,String],default:0}},"VSlider"),eo=pe()({name:"VSlider",props:Za(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,o){let{slots:s,emit:n}=o;const v=q(),{rtlClasses:p}=Te(),i=Ha(e),c=Le(e,"modelValue",void 0,P=>i.roundValue(P??i.min.value)),{min:g,max:A,mousePressed:S,roundValue:F,onSliderMousedown:M,onSliderTouchstart:I,trackContainerRef:B,position:y,hasLabels:z,readonly:u}=Xa({props:e,steps:i,onSliderStart:()=>{n("start",c.value)},onSliderEnd:P=>{let{value:w}=P;const x=F(w);c.value=x,n("end",x)},onSliderMove:P=>{let{value:w}=P;return c.value=F(w)},getActiveThumb:()=>{var P;return(P=v.value)==null?void 0:P.$el}}),{isFocused:m,focus:$,blur:r}=Lt(e),_=W(()=>y(c.value));return ge(()=>{const P=Qe.filterProps(e),w=!!(e.label||s.label||s.prepend);return t(Qe,ye({class:["v-slider",{"v-slider--has-labels":!!s["tick-label"]||z.value,"v-slider--focused":m.value,"v-slider--pressed":S.value,"v-slider--disabled":e.disabled},p.value,e.class],style:e.style},P,{focused:m.value}),{...s,prepend:w?x=>{var U,N;return t(me,null,[((U=s.label)==null?void 0:U.call(s,x))??(e.label?t(jt,{id:x.id.value,class:"v-slider__label",text:e.label},null):void 0),(N=s.prepend)==null?void 0:N.call(s,x)])}:void 0,default:x=>{let{id:U,messagesId:N}=x;return t("div",{class:"v-slider__container",onMousedown:u.value?void 0:M,onTouchstartPassive:u.value?void 0:I},[t("input",{id:U.value,name:e.name||U.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:c.value},null),t(Qa,{ref:B,start:0,stop:_.value},{"tick-label":s["tick-label"]}),t(Ka,{ref:v,"aria-describedby":N.value,focused:m.value,min:g.value,max:A.value,modelValue:c.value,"onUpdate:modelValue":R=>c.value=R,position:_.value,elevation:e.elevation,onFocus:$,onBlur:r,ripple:e.ripple,name:e.name},{"thumb-label":s["thumb-label"]})])}})}),{}}}),to={key:0,src:ja},ao=["src"],oo={__name:"ReconhecimentoFacial",async setup(e){let o,s;const n=q(null),v=q([]),p=q(""),i=q(!1);q(null);const c=q(null),g=$e(),{id:A}=g.params,S=q(1),M=Z("pessoa_token").value,B=Z("user-data").value.nome,y=fe(),z=`${y.public.managemant}/uploadPessoa`,u=`${y.public.managemant}/getLinkTipo`,m=`${y.public.managemant}/download`,{$toast:$}=he(),r=async()=>{const R=await navigator.mediaDevices.enumerateDevices();v.value=R.filter(E=>E.kind==="videoinput").map(E=>({deviceId:E.deviceId,label:E.label||`Camera ${v.value.length+1}`}))},_=async()=>{i.value=!0;try{await navigator.mediaDevices.getUserMedia({video:!0}),await r()}catch(R){console.error("Erro ao acessar dispositivos de mídia:",R)}},P=()=>{i.value=!1;const R=n.value.srcObject;R&&R.getTracks().forEach(C=>C.stop())},w=async()=>{if(p.value){const R=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:p.value}}});n.value.srcObject=R}},x=async()=>{const R=document.createElement("canvas"),E=R.getContext("2d"),C=n.value.videoWidth,f=n.value.videoHeight,j=C*S.value,h=f*S.value,k=(C-j)/2,G=(f-h)/2;R.width=C,R.height=f,E.drawImage(n.value,k,G,j,h),R.toBlob(async V=>{const d=new FormData;d.append("file",V,`${B}.jpg`),d.append("pessoa_token",M),d.append("tipo","foto");const{status:Y}=await K(z,{method:"POST",body:d},"$fRRPU47ULS");if(Y.value==="success"){$.success("Imagem enviada!");const b=URL.createObjectURL(V);c.value=b,P()}else $.error("Erro ao enviar imagem para o sistema.")},"image/jpeg")},{data:U,status:N}=([o,s]=xe(()=>K(m,{method:"POST",body:{bucket:"qvgjz",path:"ficha/C_000001#.tr7"}},"$N16ZtKMkSh")),o=await o,s(),o);if(console.log(U.value),A){const{data:R}=([o,s]=xe(()=>K(u,{method:"POST",body:{tipo:"foto",id:A}},"$mC9TAMOeqI")),o=await o,s(),o);R.value!==null&&R.value.link!==null&&(c.value=`data:image/jpeg;base64,${R.value.link}`)}return Ae(async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await r()}catch(R){console.error("Erro ao acessar dispositivos de mídia:",R)}}),(R,E)=>(D(),H(T,{cols:"auto"},{default:l(()=>[t(Ue,{"max-width":"700",modelValue:a(i),"onUpdate:modelValue":E[2]||(E[2]=C=>_e(i)?i.value=C:null)},{activator:l(({props:C})=>[t(te,ye(C,{variant:"outlined",style:{width:"300px",height:"300px"},onClick:_}),{default:l(()=>[a(c)===null?(D(),ee("img",to)):oe("",!0),a(c)!==null?(D(),ee("img",{key:1,src:a(c),style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,ao)):oe("",!0)]),_:2},1040)]),default:l(({isActive:C})=>[t(Fe,{title:"Biometria"},{default:l(()=>[t(J,null,{default:l(()=>[t(T,null,{default:l(()=>[t(ue,null,{default:l(()=>[t(vt,{items:a(v),modelValue:a(p),"onUpdate:modelValue":E[0]||(E[0]=f=>_e(p)?p.value=f:null),"item-title":"label","item-value":"deviceId",label:"Selecionar Webcam"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),t(J,null,{default:l(()=>[t(T,null,{default:l(()=>[t(te,{size:"large",class:"ml-5",onClick:w},{default:l(()=>[Q("Exibir")]),_:1})]),_:1})]),_:1}),t(J,null,{default:l(()=>[t(ue,{style:{overflow:"hidden"}},{default:l(()=>[t(T,null,{default:l(()=>[X("video",{class:"ml-3",ref_key:"video",ref:n,width:"640",height:"480",autoplay:"",style:ze({transform:`scale(${a(S)})`,transformOrigin:"center center"})},null,4)]),_:1})]),_:1})]),_:1}),t(ue,null,{default:l(()=>[t(eo,{modelValue:a(S),"onUpdate:modelValue":E[1]||(E[1]=f=>_e(S)?S.value=f:null),min:1,max:3,step:"0.1",label:"Zoom"},null,8,["modelValue"])]),_:1}),t(J,{class:"mt-10 mb-5 ml-5"},{default:l(()=>[t(te,{color:"red",size:"large",onClick:P},{default:l(()=>[Q("Fechar")]),_:1}),t(te,{color:"green",size:"large",class:"ml-5",onClick:x},{default:l(()=>[Q("Salvar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},lo=""+new URL("escanearFicha.CgD8l9Wn.png",import.meta.url).href,so={__name:"Scanner",setup(e){const o=fe(),{$toast:s}=he(),n=`${o.public.envioDoc}`,v=`${o.public.biometria}/run-scanner`,i=Z("pessoa_token").value;async function c(){try{await g(),await A()}catch(S){console.error("Erro ao executar scanner ou listar arquivos:",S)}}async function g(){try{const{data:S}=await K(v,{method:"GET"},"$qlTK399Ixo")}catch(S){s.error("Erro ao acionar o scanner:",S)}}async function A(){try{const{status:S,data:F}=await K(n,{method:"POST",body:{tipo:"ficha",pessoa_token:i}},"$JkvEThvk9m");console.log(F.value)}catch(S){console.error("Erro ao enviar o arquivo:",S)}}return(S,F)=>(D(),ee("div",null,[X("img",{onClick:c,src:lo,style:{width:"280px",height:"120px",cursor:"pointer","margin-top":"30px"}})]))}},no=""+new URL("imprimirFicha.BlhLZ85F.png",import.meta.url).href,io={style:{display:"flex","flex-direction":"column"}},ro={__name:"Impressao",setup(e){const o=q(""),n=`${fe().public.managemant}/gerarRelatorio`,v=async()=>{const i=await K(n,{method:"POST",body:{consulta:"FICHA ASSINATURA",pessoa_token:Z("pessoa_token").value}},"$LOyFO5WGQE");o.value=i.data.value},p=async()=>{await v();const i=document.createElement("iframe");i.style.position="absolute",i.style.width="0px",i.style.height="0px",i.style.border="none",document.body.appendChild(i);const c=i.contentWindow.document;c.open(),c.write(o.value),c.close(),i.contentWindow.focus(),i.contentWindow.print(),document.body.removeChild(i)};return(i,c)=>{const g=so;return D(),H(T,{cols:"auto"},{default:l(()=>[X("div",io,[X("img",{onClick:c[0]||(c[0]=A=>p()),src:no,style:{width:"280px",height:"120px",cursor:"pointer"}}),t(g)])]),_:1})}}},uo={__name:"Index",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],setup(e,{emit:o}){const s=Ce(),n=o,v=e,p=()=>{if(v.isModal===!0){n("close-modal");return}s.push("/pessoas/lista")};return(i,c)=>{const g=La,A=oo,S=ro;return D(),ee(me,null,[t(ue,null,{default:l(()=>[t(J,{class:"d-flex align-items-center"},{default:l(()=>[t(g),t(A,{class:"ml-5 mr-5"}),t(S)]),_:1})]),_:1}),t(te,{onClick:p,class:"mt-10",size:"large",color:"red"},{default:l(()=>[Q("Voltar")]),_:1})],64)}}},co={},mo={style:{height:"425px"}},vo=X("h1",null,"Restrições",-1),fo=[vo];function po(e,o){return D(),ee("div",mo,fo)}const go=lt(co,[["render",po]]),Xe=Symbol.for("vuetify:v-tabs"),bo=ve({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ut(Wt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Ve=pe()({name:"VTab",props:bo(),setup(e,o){let{slots:s,attrs:n}=o;const{textColorClasses:v,textColorStyles:p}=it(e,"sliderColor"),i=q(),c=q(),g=W(()=>e.direction==="horizontal"),A=W(()=>{var F,M;return((M=(F=i.value)==null?void 0:F.group)==null?void 0:M.isSelected.value)??!1});function S(F){var I,B;let{value:M}=F;if(M){const y=(B=(I=i.value)==null?void 0:I.$el.parentElement)==null?void 0:B.querySelector(".v-tab--selected .v-tab__slider"),z=c.value;if(!y||!z)return;const u=getComputedStyle(y).color,m=y.getBoundingClientRect(),$=z.getBoundingClientRect(),r=g.value?"x":"y",_=g.value?"X":"Y",P=g.value?"right":"bottom",w=g.value?"width":"height",x=m[r],U=$[r],N=x>U?m[P]-$[P]:m[r]-$[r],R=Math.sign(N)>0?g.value?"right":"bottom":Math.sign(N)<0?g.value?"left":"top":"center",C=(Math.abs(N)+(Math.sign(N)<0?m[w]:$[w]))/Math.max(m[w],$[w])||0,f=m[w]/$[w]||0,j=1.5;Yt(z,{backgroundColor:[u,"currentcolor"],transform:[`translate${_}(${N}px) scale${_}(${f})`,`translate${_}(${N/j}px) scale${_}(${(C-1)/j+1})`,"none"],transformOrigin:Array(3).fill(R)},{duration:225,easing:Ht})}}return ge(()=>{const F=te.filterProps(e);return t(te,ye({symbol:Xe,ref:i,class:["v-tab",e.class],style:e.style,tabindex:A.value?0:-1,role:"tab","aria-selected":String(A.value),active:!1},F,n,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":S}),{...s,default:()=>{var M;return t(me,null,[((M=s.default)==null?void 0:M.call(s))??e.text,!e.hideSlider&&t("div",{ref:c,class:["v-tab__slider",v.value],style:p.value},null)])}})}),qt({},i)}}),_o=e=>{const{touchstartX:o,touchendX:s,touchstartY:n,touchendY:v}=e,p=.5,i=16;e.offsetX=s-o,e.offsetY=v-n,Math.abs(e.offsetY)<p*Math.abs(e.offsetX)&&(e.left&&s<o-i&&e.left(e),e.right&&s>o+i&&e.right(e)),Math.abs(e.offsetX)<p*Math.abs(e.offsetY)&&(e.up&&v<n-i&&e.up(e),e.down&&v>n+i&&e.down(e))};function yo(e,o){var n;const s=e.changedTouches[0];o.touchstartX=s.clientX,o.touchstartY=s.clientY,(n=o.start)==null||n.call(o,{originalEvent:e,...o})}function ho(e,o){var n;const s=e.changedTouches[0];o.touchendX=s.clientX,o.touchendY=s.clientY,(n=o.end)==null||n.call(o,{originalEvent:e,...o}),_o(o)}function Vo(e,o){var n;const s=e.changedTouches[0];o.touchmoveX=s.clientX,o.touchmoveY=s.clientY,(n=o.move)==null||n.call(o,{originalEvent:e,...o})}function ko(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:s=>yo(s,o),touchend:s=>ho(s,o),touchmove:s=>Vo(s,o)}}function xo(e,o){var c;const s=o.value,n=s!=null&&s.parent?e.parentElement:e,v=(s==null?void 0:s.options)??{passive:!0},p=(c=o.instance)==null?void 0:c.$.uid;if(!n||!p)return;const i=ko(o.value);n._touchHandlers=n._touchHandlers??Object.create(null),n._touchHandlers[p]=i,dt(i).forEach(g=>{n.addEventListener(g,i[g],v)})}function Co(e,o){var p,i;const s=(p=o.value)!=null&&p.parent?e.parentElement:e,n=(i=o.instance)==null?void 0:i.$.uid;if(!(s!=null&&s._touchHandlers)||!n)return;const v=s._touchHandlers[n];dt(v).forEach(c=>{s.removeEventListener(c,v[c])}),delete s._touchHandlers[n]}const yt={mounted:xo,unmounted:Co},wo=yt,ht=Symbol.for("vuetify:v-window"),Vt=Symbol.for("vuetify:v-window-group"),kt=ve({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Be(),...ct(),...Xt()},"VWindow"),tt=pe()({name:"VWindow",directives:{Touch:yt},props:kt(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:s}=o;const{themeClasses:n}=Gt(e),{isRtl:v}=Te(),{t:p}=Kt(),i=Jt(e,Vt),c=q(),g=W(()=>v.value?!e.reverse:e.reverse),A=Se(!1),S=W(()=>{const r=e.direction==="vertical"?"y":"x",P=(g.value?!A.value:A.value)?"-reverse":"";return`v-window-${r}${P}-transition`}),F=Se(0),M=q(void 0),I=W(()=>i.items.value.findIndex(r=>i.selected.value.includes(r.id)));mt(I,(r,_)=>{const P=i.items.value.length,w=P-1;P<=2?A.value=r<_:r===w&&_===0?A.value=!0:r===0&&_===w?A.value=!1:A.value=r<_}),st(ht,{transition:S,isReversed:A,transitionCount:F,transitionHeight:M,rootRef:c});const B=W(()=>e.continuous||I.value!==0),y=W(()=>e.continuous||I.value!==i.items.value.length-1);function z(){B.value&&i.prev()}function u(){y.value&&i.next()}const m=W(()=>{const r=[],_={icon:v.value?e.nextIcon:e.prevIcon,class:`v-window__${g.value?"right":"left"}`,onClick:i.prev,"aria-label":p("$vuetify.carousel.prev")};r.push(B.value?s.prev?s.prev({props:_}):t(te,_,null):t("div",null,null));const P={icon:v.value?e.prevIcon:e.nextIcon,class:`v-window__${g.value?"left":"right"}`,onClick:i.next,"aria-label":p("$vuetify.carousel.next")};return r.push(y.value?s.next?s.next({props:P}):t(te,P,null):t("div",null,null)),r}),$=W(()=>e.touch===!1?e.touch:{...{left:()=>{g.value?z():u()},right:()=>{g.value?u():z()},start:_=>{let{originalEvent:P}=_;P.stopPropagation()}},...e.touch===!0?{}:e.touch});return ge(()=>ce(t(e.tag,{ref:c,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},n.value,e.class],style:e.style},{default:()=>{var r,_;return[t("div",{class:"v-window__container",style:{height:M.value}},[(r=s.default)==null?void 0:r.call(s,{group:i}),e.showArrows!==!1&&t("div",{class:"v-window__controls"},[m.value])]),(_=s.additional)==null?void 0:_.call(s,{group:i})]}}),[[Ie("touch"),$.value]])),{group:i}}}),$o=ve({...ut(kt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),xt=pe()({name:"VTabsWindow",props:$o(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:s}=o;const n=De(Xe,null),v=Le(e,"modelValue"),p=W({get(){var i;return v.value!=null||!n?v.value:(i=n.items.value.find(c=>n.selected.value.includes(c.id)))==null?void 0:i.value},set(i){v.value=i}});return ge(()=>{const i=tt.filterProps(e);return t(tt,ye({_as:"VTabsWindow"},i,{modelValue:p.value,"onUpdate:modelValue":c=>p.value=c,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),s)}),{}}}),Ct=ve({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Be(),...Qt(),...Zt()},"VWindowItem"),at=pe()({name:"VWindowItem",directives:{Touch:wo},props:Ct(),emits:{"group:selected":e=>!0},setup(e,o){let{slots:s}=o;const n=De(ht),v=ea(e,Vt),{isBooted:p}=ca();if(!n||!v)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const i=Se(!1),c=W(()=>p.value&&(n.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function g(){!i.value||!n||(i.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,n.transitionCount.value===0&&(n.transitionHeight.value=void 0)))}function A(){var B;i.value||!n||(i.value=!0,n.transitionCount.value===0&&(n.transitionHeight.value=de((B=n.rootRef.value)==null?void 0:B.clientHeight)),n.transitionCount.value+=1)}function S(){g()}function F(B){i.value&&oa(()=>{!c.value||!i.value||!n||(n.transitionHeight.value=de(B.clientHeight))})}const M=W(()=>{const B=n.isReversed.value?e.reverseTransition:e.transition;return c.value?{name:typeof B!="string"?n.transition.value:B,onBeforeEnter:A,onAfterEnter:g,onEnterCancelled:S,onBeforeLeave:A,onAfterLeave:g,onLeaveCancelled:S,onEnter:F}:!1}),{hasContent:I}=ta(e,v.isSelected);return ge(()=>t(aa,{transition:M.value,disabled:!p.value},{default:()=>{var B;return[ce(t("div",{class:["v-window-item",v.selectedClass.value,e.class],style:e.style},[I.value&&((B=s.default)==null?void 0:B.call(s))]),[[rt,v.isSelected.value]])]}})),{groupItem:v}}}),So=ve({...Ct()},"VTabsWindowItem"),ke=pe()({name:"VTabsWindowItem",props:So(),setup(e,o){let{slots:s}=o;return ge(()=>{const n=at.filterProps(e);return t(at,ye({_as:"VTabsWindowItem"},n,{class:["v-tabs-window-item",e.class],style:e.style}),s)}),{}}});function Io(e){return e?e.map(o=>ra(o)?o:{text:o,value:o}):[]}const Po=ve({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...da({mandatory:"force",selectedClass:"v-tab-item--selected"}),...la(),...ct()},"VTabs"),Eo=pe()({name:"VTabs",props:Po(),emits:{"update:modelValue":e=>!0},setup(e,o){let{attrs:s,slots:n}=o;const v=Le(e,"modelValue"),p=W(()=>Io(e.items)),{densityClasses:i}=sa(e),{backgroundColorClasses:c,backgroundColorStyles:g}=Oe(le(e,"bgColor")),{scopeId:A}=na();return ia({VTab:{color:le(e,"color"),direction:le(e,"direction"),stacked:le(e,"stacked"),fixed:le(e,"fixedTabs"),sliderColor:le(e,"sliderColor"),hideSlider:le(e,"hideSlider")}}),ge(()=>{const S=Ze.filterProps(e),F=!!(n.window||e.items.length>0);return t(me,null,[t(Ze,ye(S,{modelValue:v.value,"onUpdate:modelValue":M=>v.value=M,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},i.value,c.value,e.class],style:[{"--v-tabs-height":de(e.height)},g.value,e.style],role:"tablist",symbol:Xe},A,s),{default:()=>{var M;return[((M=n.default)==null?void 0:M.call(n))??p.value.map(I=>{var B;return((B=n.tab)==null?void 0:B.call(n,{item:I}))??t(Ve,ye(I,{key:I.text,value:I.value}),{default:n[`tab.${I.value}`]?()=>{var y;return(y=n[`tab.${I.value}`])==null?void 0:y.call(n,{item:I})}:void 0})})]}}),F&&t(xt,ye({modelValue:v.value,"onUpdate:modelValue":M=>v.value=M,key:"tabs-window"},A),{default:()=>{var M;return[p.value.map(I=>{var B;return((B=n.item)==null?void 0:B.call(n,{item:I}))??t(ke,{value:I.value},{default:()=>{var y;return(y=n[`item.${I.value}`])==null?void 0:y.call(n,{item:I})}})}),(M=n.window)==null?void 0:M.call(n)]}})])}),{}}}),Ao=X("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Cadastramento de pessoas ",-1),To={style:{"background-color":"#f5f2f2",padding:"5px 0px 0px 20px"}},Bo={__name:"RegistroPessoas",props:{show:Boolean},emits:["close"],setup(e,{emit:o}){const s=e,n=q(s.show),v=o,p=q("dados"),i=q(!1),c=q(!1),g=q(!1),A=we({tipo_pessoa:"fisica"}),S=[{label:"FÍSICA",value:"FISICA"},{label:"JURÍDICA",value:"JURIDICA"},{label:"ESTRANGEIRA",value:"ESTRANGEIRA"}],F=()=>{i.value=!0,g.value=!0},M=()=>{c.value=!0,g.value=!0};mt(()=>s.show,B=>{n.value=B});const I=()=>{n.value=!1,v("close")};return(B,y)=>{const z=fa,u=ga,m=xa,$=Sa,r=Fa,_=uo,P=go;return D(),H(Ue,{persistent:"",modelValue:a(n),"onUpdate:modelValue":y[3]||(y[3]=w=>_e(n)?n.value=w:null),"max-width":"900"},{default:l(()=>[t(Fe,null,{default:l(()=>[t(ue,null,{default:l(()=>[Ao,X("div",To,[t(se,{modelValue:a(A).tipo_pessoa,"onUpdate:modelValue":y[0]||(y[0]=w=>a(A).tipo_pessoa=w),style:{width:"200px"},items:S,"item-title":"label","item-value":"value",label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:a(g)},null,8,["modelValue","disabled"])]),t(Eo,{modelValue:a(p),"onUpdate:modelValue":y[1]||(y[1]=w=>_e(p)?p.value=w:null),"bg-color":"#f5f2f2"},{default:l(()=>[t(Ve,{value:"dados"},{default:l(()=>[Q("Dados")]),_:1}),a(i)?(D(),H(Ve,{key:0,value:"documento"},{default:l(()=>[Q("Documentos")]),_:1})):oe("",!0),a(c)?(D(),H(Ve,{key:1,value:"representante"},{default:l(()=>[Q("Representantes")]),_:1})):oe("",!0),a(c)||a(i)?(D(),H(Ve,{key:2,value:"endereco"},{default:l(()=>[Q("Endereços")]),_:1})):oe("",!0),a(i)?(D(),H(Ve,{key:3,value:"biometria"},{default:l(()=>[Q("Biometria")]),_:1})):oe("",!0),a(c)||a(i)?(D(),H(Ve,{key:4,value:"restricao"},{default:l(()=>[Q("Restrições")]),_:1})):oe("",!0)]),_:1},8,["modelValue"]),t(xt,{modelValue:a(p),"onUpdate:modelValue":y[2]||(y[2]=w=>_e(p)?p.value=w:null)},{default:l(()=>[t(ke,{value:"dados"},{default:l(()=>[a(A).tipo_pessoa==="fisica"?(D(),H(z,{key:0,onSaved:F,onCloseModal:I,isModal:!0})):a(A).tipo_pessoa==="juridica"?(D(),H(u,{key:1,onSaved:M,onCloseModal:I,isModal:!0})):oe("",!0)]),_:1}),B.showTabs?(D(),H(ke,{key:0,value:"documento"},{default:l(()=>[t(m,{onCloseModal:I,isModal:!0})]),_:1})):oe("",!0),a(c)?(D(),H(ke,{key:1,value:"representante"},{default:l(()=>[t($,{onCloseModal:I,isModal:!0})]),_:1})):oe("",!0),a(c)||a(i)?(D(),H(ke,{key:2,value:"endereco"},{default:l(()=>[t(r,{onCloseModal:I,isModal:!0})]),_:1})):oe("",!0),B.showTabs?(D(),H(ke,{key:3,value:"biometria"},{default:l(()=>[t(ue,null,{default:l(()=>[t(_,{onCloseModal:I,isModal:!0})]),_:1})]),_:1})):oe("",!0),B.showTabs?(D(),H(ke,{key:4,value:"restricao"},{default:l(()=>[t(P,{onCloseModal:I,isModal:!0})]),_:1})):oe("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{Eo as V,Bo as _,Ve as a,xt as b,ke as c,ga as d,xa as e,Sa as f,Fa as g,uo as h,go as i,fa as j};
