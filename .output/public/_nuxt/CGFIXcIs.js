import{_ as de,a as _e,b as pe,c as ce,d as ve,e as fe}from"./DPSV0a-u.js";import{_ as be}from"./Txlr4u5p.js";import{p as ge,r as u,m as Ve,R as X,u as ye,q as Ae,H as B,K as qe,x as s,o as z,y as x,w as a,b as e,V as h,I as J,d as n,z as P,A as Z,n as ke,c as Q,F as $e,a as M,t as we,M as E,G as ze}from"./DZLix1Jq.js";import{f as T}from"./DQrh2cos.js";import{u as De}from"./C8AAuiZ-.js";import{V as F}from"./BkHOjNnW.js";import{V}from"./BPeq6mzW.js";import{V as N}from"./DgpHFTe0.js";import{V as ee}from"./Db9coQLU.js";import{_ as Pe,a as Te,b as xe}from"./CzM214Un.js";import{_ as Be}from"./BsVnlWHq.js";import{_ as Ue}from"./DAZXULAK.js";import{V as Ce}from"./ik190lcV.js";import{a as Ie,V as _,d as Re,e as f}from"./Ct724lCx.js";import"./DAMmzO2A.js";import"./Bj5GDgnJ.js";import"./D5IFiISt.js";import"./IHORa5Pl.js";import"./B0IxRygJ.js";import"./pMM7_ndP.js";import"./CRO3RK0A.js";import"./BQHu3Kol.js";import"./Bw-4aoy9.js";import"./BVz1G1IN.js";import"./DJvq3mCv.js";import"./CySHFd79.js";import"./lCPdiPOb.js";import"./C0CURL9r.js";import"./DsetoXn0.js";import"./D6UjyXVb.js";import"./CHdpAoOq.js";import"./BK8g591F.js";import"./-zgYk4Vu.js";import"./BPx9KyGw.js";import"./CMGDOsG4.js";import"./BTOKrlt6.js";import"./BmJB64LZ.js";const Se={__name:"SeparacaoDivorcio",async setup(oe){let i,c;const k=Z(),t=ge({dt_casamento:null,tabvalores_regimecasamento_id:null,qtd_filhos_maiores:null,qtd_filhos_menores:null,responsavel_menores_id:null}),b=u([]),D=Ve(),p=X(),{$toast:O}=ye(),U=`${k.public.auth}/service/gerencia/getAtos/${p.query.ato_id}`,G=`${k.public.auth}/service/gerencia/regime_casamento`,L=`${k.public.auth}/service/gerencia/getAtosPessoaById/${p.query.ato_id}`,K=`${k.public.managemant}/updateAtos`;u(""),u(""),u(!1),u(!1),u(null),Ae(async()=>{var v,d,R,S,m;const{data:r,status:l}=await T(U,{method:"GET"});r.value&&(t.dt_casamento=(v=r.value[0])==null?void 0:v.dt_casamento,t.tabvalores_regimecasamento_id=(d=r.value[0])==null?void 0:d.tabvalores_regimecasamento_id,t.qtd_filhos_maiores=(R=r.value[0])==null?void 0:R.qtd_filhos_maiores,t.qtd_filhos_menores=(S=r.value[0])==null?void 0:S.qtd_filhos_menores,t.responsavel_menores_id=(m=r.value[0])==null?void 0:m.responsavel_menores_id)});const{data:g,status:y}=([i,c]=B(()=>T(U,{method:"GET"})),i=await i,c(),i),{data:$}=([i,c]=B(()=>T(G,{method:"GET"})),i=await i,c(),i),{data:C}=([i,c]=B(()=>T(L,{method:"GET"})),i=await i,c(),i),A=u([]),w=qe(()=>{var r;return((r=A.value)==null?void 0:r.map(l=>{var v;return{id:l.id,nome:((v=l.pessoa)==null?void 0:v.nome)||"Sem nome"}}))||[]});g.value&&(t.dt_casamento=g.value.dt_casamento,t.tabvalores_regimecasamento_id=g.value.tabvalores_regimecasamento_id,t.qtd_filhos_maiores=g.value.qtd_filhos_maiores,t.qtd_filhos_menores=g.value.qtd_filhos_menores,t.responsavel_menores_id=g.value.responsavel_menores_id),$.value&&(b.value=$.value),C.value&&(A.value=C.value);const H=()=>{const r=p.query.origem||"criar",l=p.query.id;switch(r){case"atualizar":case"vizualizar":D.push(`/os/atualizar/${l}`);break;case"atualizar-lista":case"vizualizar-lista":D.push("/atos/lista");break;default:D.push("/os/criar-registro");break}};async function W(){const{data:r,error:l,status:v}=await De(`${K}/${p.query.ato_id}`,{method:"PUT",body:{dt_casamento:t.dt_casamento,tabvalores_regimecasamento_id:t.tabvalores_regimecasamento_id,qtd_filhos_maiores:t.qtd_filhos_maiores,qtd_filhos_menores:t.qtd_filhos_menores,responsavel_menores_id:t.responsavel_menores_id}},"$sJMejO9HYY");v.value==="success"&&O.success("Divórcio salvo com sucesso")}const I=r=>{const l=["Backspace","Tab","ArrowLeft","ArrowRight","Delete"];!/[0-9]/.test(r.key)&&!l.includes(r.key)&&r.preventDefault()};return(r,l)=>{const v=be;return s(y)==="success"?(z(),x(ee,{key:0,class:"mt-5"},{default:a(()=>[e(F,{dense:""},{default:a(()=>[e(V,{cols:"12",sm:"4",md:"3"},{default:a(()=>[e(h,{modelValue:s(t).dt_casamento,"onUpdate:modelValue":l[0]||(l[0]=d=>s(t).dt_casamento=d),type:"date",label:"Data Casamento"},null,8,["modelValue"])]),_:1}),e(V,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(N,{label:"Regime Bens",modelValue:s(t).tabvalores_regimecasamento_id,"onUpdate:modelValue":l[1]||(l[1]=d=>s(t).tabvalores_regimecasamento_id=d),items:s(b),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),e(V,{cols:"12",sm:"6",md:"3"},{default:a(()=>[e(h,{label:"Filhos Maiores",modelValue:s(t).qtd_filhos_maiores,"onUpdate:modelValue":l[2]||(l[2]=d=>s(t).qtd_filhos_maiores=d),modelModifiers:{number:!0},type:"number",min:"0",onKeydown:I},null,8,["modelValue"])]),_:1}),e(V,{cols:"12",sm:"6",md:"3"},{default:a(()=>[e(h,{label:"Filhos Menores",modelValue:s(t).qtd_filhos_menores,"onUpdate:modelValue":l[3]||(l[3]=d=>s(t).qtd_filhos_menores=d),type:"number",min:"0",onKeydown:I},null,8,["modelValue"])]),_:1}),e(V,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(N,{label:"Responsável",modelValue:s(t).responsavel_menores_id,"onUpdate:modelValue":l[4]||(l[4]=d=>s(t).responsavel_menores_id=d),items:s(w),"item-title":"nome","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1})]),_:1}),e(F,{class:"mt-5",justify:"start",align:"center"},{default:a(()=>[e(V,{cols:"auto"},{default:a(()=>[e(v,{onClick:H},{default:a(()=>[e(J,{size:"large",color:"red"},{default:a(()=>l[5]||(l[5]=[n("Voltar")])),_:1})]),_:1})]),_:1}),e(V,{cols:"auto"},{default:a(()=>[e(J,{class:"ml-2",onClick:W,size:"large",color:"green"},{default:a(()=>l[6]||(l[6]=[n("Salvar")])),_:1})]),_:1})]),_:1})]),_:1})):P("",!0)}}},Me={class:"mb-10"},Ee={style:{color:"red","margin-left":"30px"}},Fe={key:0},$o={__name:"[id]",async setup(oe){let i,c;const k=u(null),t=u(null),b=u(null),D=Z(),p=X(),O=u(p.query.origem==="vizualizar"),U=`${D.public.auth}/service/gerencia/listarSituacoes`,G=`${D.public.auth}/service/gerencia/getAtos`,L=u(ke("user-data").value.cartorio_token),K=p.query.id?{ato_token:p.query.tipo_ato_token}:{cartorio_token:L},g=u([]),y=u([]),$=u(!1),C=p.query.tipo_ato||"",A=u(null),w=u(null),[H,W]=C.split(" - ");A.value=H||"",w.value=W||"";async function I(){try{const{data:m}=await T(`${G}/${p.query.ato_id}`,{method:"GET"});y.value=m.value}catch(m){console.error(m)}}[i,c]=B(()=>I()),await i,c();const{data:r,status:l}=([i,c]=B(()=>T(U,{method:"POST",body:K})),i=await i,c(),i);g.value=r.value;const v=m=>{k.value=m},d=m=>{t.value=m};function R(){y.dt_lavratura||($.value=!0)}function S({descricao:m,usaImoveisParams:o}){const[j,Y]=m.split(" - ");A.value=j||"",w.value=Y||""}return(m,o)=>{const j=de,Y=_e,ae=Se,te=Pe,se=Te,le=pe,ie=ce,re=ve,ne=fe,ue=xe,me=Be;return z(),Q($e,null,[e(ee,null,{default:a(()=>[M("div",Me,[e(F,{class:"mb-5 mt-5"},{default:a(()=>[o[5]||(o[5]=M("h1",null,"Ordem de Serviço nº",-1)),M("h1",Ee,we(s(p).query.numero_os),1)]),_:1}),e(F,null,{default:a(()=>[e(V,{md:"6"},{default:a(()=>[e(N,{label:"Serviço",class:"mr-5",modelValue:s(A),"onUpdate:modelValue":o[0]||(o[0]=q=>E(A)?A.value=q:null),disabled:""},null,8,["modelValue"])]),_:1}),e(V,{md:"5"},{default:a(()=>[e(N,{modelValue:s(w),"onUpdate:modelValue":o[1]||(o[1]=q=>E(w)?w.value=q:null),label:"Tipo de Ato",disabled:""},null,8,["modelValue"])]),_:1}),s(O)?P("",!0):(z(),Q("div",Fe,[M("img",{class:"mt-2",style:ze({cursor:s(y).dt_lavratura?"default":"pointer",width:"35px",height:"35px"}),src:Ue,alt:"Editar",onClick:R},null,4)]))]),_:1})]),e(Ce,{width:"1300"},{default:a(()=>[e(Ie,{modelValue:s(b),"onUpdate:modelValue":o[2]||(o[2]=q=>E(b)?b.value=q:null),"bg-color":"#f5f2f2"},{default:a(()=>[e(_,{value:"dados"},{default:a(()=>o[6]||(o[6]=[n("Dados")])),_:1}),e(_,{value:"partes"},{default:a(()=>o[7]||(o[7]=[n("Partes")])),_:1}),o[19]||(o[19]=n(" <<<<<<< HEAD ")),m.usaImoveis?(z(),x(_,{key:0,value:"bens"},{default:a(()=>o[8]||(o[8]=[n("Bens")])),_:1})):P("",!0),m.usaImoveis?(z(),x(_,{key:1,value:"imoveis"},{default:a(()=>o[9]||(o[9]=[n("Imoveis")])),_:1})):P("",!0),m.usaImoveis?(z(),x(_,{key:2,value:"separacao_ivorcio"},{default:a(()=>o[10]||(o[10]=[n(" Separação e Divórcio")])),_:1})):P("",!0),o[20]||(o[20]=n(" ======= ")),e(_,{value:"bens"},{default:a(()=>o[11]||(o[11]=[n("Bens")])),_:1}),e(_,{value:"imoveis"},{default:a(()=>o[12]||(o[12]=[n("Imoveis")])),_:1}),e(_,{value:"divorcio"},{default:a(()=>o[13]||(o[13]=[n("Matrimônio")])),_:1}),o[21]||(o[21]=n(" >>>>>>> 699a24233871bd78d2574d004758037ef643f840 ")),e(_,{value:"minuta"},{default:a(()=>o[14]||(o[14]=[n("Minuta")])),_:1}),e(_,{value:"livro"},{default:a(()=>o[15]||(o[15]=[n("Livro")])),_:1}),e(_,{value:"observacao"},{default:a(()=>o[16]||(o[16]=[n("Observações")])),_:1}),e(_,{value:"anexo"},{default:a(()=>o[17]||(o[17]=[n("Anexos")])),_:1}),e(_,{value:"outros"},{default:a(()=>o[18]||(o[18]=[n("Outros")])),_:1})]),_:1},8,["modelValue"]),e(Re,{modelValue:s(b),"onUpdate:modelValue":o[3]||(o[3]=q=>E(b)?b.value=q:null)},{default:a(()=>[e(f,{value:"dados"},{default:a(()=>[e(j,{item_dados:s(y),item_situacoes:s(g)},null,8,["item_dados","item_situacoes"])]),_:1}),e(f,{value:"partes"},{default:a(()=>[e(Y)]),_:1}),e(f,{value:"divorcio"},{default:a(()=>[e(ae)]),_:1}),e(f,{value:"bens"},{default:a(()=>[e(te)]),_:1}),e(f,{value:"imoveis"},{default:a(()=>[e(se)]),_:1}),e(f,{value:"minuta"},{default:a(()=>[e(le,{onPage:v,onDoc:d})]),_:1}),e(f,{value:"livro"},{default:a(()=>[e(ie,{pages:s(k),document:s(t)},null,8,["pages","document"])]),_:1}),e(f,{value:"observacao"},{default:a(()=>[e(re)]),_:1}),e(f,{value:"anexo"},{default:a(()=>[e(ne)]),_:1}),e(f,{value:"outros"},{default:a(()=>[e(ue)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),s($)?(z(),x(me,{key:0,show:s($),servicos:s(y).servicos||[],tiposAtos:s(y).tiposAtos||[],onClose:o[4]||(o[4]=q=>$.value=!1),onUpdateAto:S},null,8,["show","servicos","tiposAtos"])):P("",!0)],64)}}};export{$o as default};
