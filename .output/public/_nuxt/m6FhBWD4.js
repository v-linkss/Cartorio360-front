import{_ as T}from"./Dg_XmlJP.js";import{_ as j,T as q,U as O,X,u as P,Y,x as Z,o as f,c as U,y as n,s as I,t as G,z as k,w as t,F as H,A as J,Z as K,$ as Q,b as a,V as m,a0 as b,a as F,p as W,e as h}from"./DO1PfR-s.js";import{b as ee,a as ae}from"./CxZKNbY7.js";import{V as u,_ as le}from"./CUnxzO-q.js";import{V as v,_ as oe}from"./AIKFfPdl.js";import{u as te}from"./eatPMARr.js";import{V as de}from"./ChhSdG-Y.js";import{V as i}from"./DGo9DvFq.js";const se=p=>(W("data-v-0d10dbc2"),p=p(),h(),p),ie={key:1},me=se(()=>F("img",{class:"btn-pointer",src:le,alt:"Sair"},null,-1)),ne={__name:"[id]",emits:["saved"],async setup(p,{emit:ue}){let _,C;const N=q(),{$toast:x}=O(),w=X(),{id:g}=w.params,r=J(),S=`${r.public.managemant}/updatePessoa`,A=`${r.public.managemant}/listarEstadoCivil`,M=`${r.public.managemant}/listarCapacidadeCivil`,B=`${r.public.managemant}/listarCidades`,D=`${r.public.managemant}/getPessoaById`,z={nome:"",nome_pai:"",nome_mae:"",profissao:"",local_trabalho:"",data_nascimento:"",doc_identificacao:"",cpf_pai:"",cpf_mae:"",local_trabalho:"",tipo_pessoa:"FISICA",tabvalores_estadocivil_id:"",tabvalores_capacidadecivil_id:"",cidade_natural_id:"",cartorio_id:P("user-data").value.cartorio_id,user_id:P("user-data").value.usuario_id},l=Y({...z});function R(d){if(d)return d.replace(/[.\-]/g,"");d=null}const{data:V,status:re,pending:$,error:y}=([_,C]=Z(async()=>ee("cliente-dados",async()=>{const[d,e,s,c]=await Promise.all([$fetch(A),$fetch(M),$fetch(B),$fetch(`${D}/${g}`)]);return Object.assign(l,c),{estadoCivilItems:d,capacidadeCivilItems:e,cidadeNascimentoItems:s}})),_=await _,C(),_);te(l);function E(d){const e={};for(const s in d)d[s]===""?e[s]=null:s==="doc_identificacao"||s==="cpf_pai"||s==="cpf_mae"?e[s]=R(d[s]):e[s]=d[s];return e}async function L(){const d=E(l);await ae(`${S}/${g}`,{method:"PUT",body:d},"$NdF8Uiv290"),x.success("Pessoa atualizada com sucesso!"),N.push("/home")}return(d,e)=>{const s=T,c=K("mask");return f(),U(H,null,[n($)?(f(),I(Q,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):n(y)?(f(),U("div",ie,G(n(y).message),1)):k("",!0),n($)?k("",!0):(f(),I(de,{key:2,class:"mt-5"},{default:t(()=>[a(u,null,{default:t(()=>[a(i,{cols:"12",md:"8"},{default:t(()=>[a(m,{modelValue:l.nome,"onUpdate:modelValue":e[0]||(e[0]=o=>l.nome=o),label:"Nome"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12",md:"4"},{default:t(()=>[b(a(m,{modelValue:l.doc_identificacao,"onUpdate:modelValue":e[1]||(e[1]=o=>l.doc_identificacao=o),label:"CPF",required:""},null,8,["modelValue"]),[[c,"###.###.###-##"]])]),_:1})]),_:1}),a(u,null,{default:t(()=>[a(i,{cols:"12",md:"4"},{default:t(()=>[a(v,{modelValue:l.tabvalores_estadocivil_id,"onUpdate:modelValue":e[2]||(e[2]=o=>l.tabvalores_estadocivil_id=o),items:n(V).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),a(i,{cols:"12",md:"4"},{default:t(()=>[a(m,{modelValue:l.profissao,"onUpdate:modelValue":e[3]||(e[3]=o=>l.profissao=o),label:"Profissão"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12",md:"4"},{default:t(()=>[a(m,{modelValue:l.local_trabalho,"onUpdate:modelValue":e[4]||(e[4]=o=>l.local_trabalho=o),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,null,{default:t(()=>[a(i,{cols:"12",md:"4"},{default:t(()=>[a(m,{modelValue:l.data_nascimento,"onUpdate:modelValue":e[5]||(e[5]=o=>l.data_nascimento=o),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),a(i,{cols:"12",md:"4"},{default:t(()=>[a(v,{modelValue:l.tabvalores_capacidadecivil_id,"onUpdate:modelValue":e[6]||(e[6]=o=>l.tabvalores_capacidadecivil_id=o),items:n(V).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),a(i,{cols:"12",md:"4"},{default:t(()=>[a(v,{modelValue:l.cidade_natural_id,"onUpdate:modelValue":e[7]||(e[7]=o=>l.cidade_natural_id=o),items:n(V).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),a(u,null,{default:t(()=>[a(i,{cols:"12",md:"4"},{default:t(()=>[b(a(m,{modelValue:l.cpf_pai,"onUpdate:modelValue":e[8]||(e[8]=o=>l.cpf_pai=o),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[c,"###.###.###-##"]])]),_:1}),a(i,{cols:"12",md:"4"},{default:t(()=>[a(m,{modelValue:l.nome_pai,"onUpdate:modelValue":e[9]||(e[9]=o=>l.nome_pai=o),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,null,{default:t(()=>[a(i,{cols:"12",md:"4"},{default:t(()=>[b(a(m,{modelValue:l.cpf_mae,"onUpdate:modelValue":e[10]||(e[10]=o=>l.cpf_mae=o),modelModifiers:{date:!0},label:"CPF da Mãe"},null,8,["modelValue"]),[[c,"###.###.###-##"]])]),_:1}),a(i,{cols:"12",md:"4"},{default:t(()=>[a(m,{modelValue:l.nome_mae,"onUpdate:modelValue":e[11]||(e[11]=o=>l.nome_mae=o),modelModifiers:{date:!0},label:"Nome da Mãe"},null,8,["modelValue"])]),_:1})]),_:1}),a(u,null,{default:t(()=>[a(s,{to:"/home"},{default:t(()=>[me]),_:1}),F("img",{class:"btn-pointer",src:oe,onClick:e[12]||(e[12]=o=>L())})]),_:1})]),_:1}))],64)}}},ge=j(ne,[["__scopeId","data-v-0d10dbc2"]]);export{ge as default};
