import{r as m,h as w,o as _,A as v,w as e,b as o,d as r,V as k,q as u,y as d,v as C,x}from"./DwK0pk4u.js";import{a as y}from"./DlSLhBEF.js";import{V as B,b as F,a as R}from"./Dym6AAmf.js";import{V as T}from"./HKGBNWb6.js";const P={__name:"FichaCard",props:{show:Boolean,item:Object},emits:["close","confirmar"],setup(f,{emit:h}){const l=f,p=`${x().public.managemant}/getLinkTipo`,t=m(l.show),s=m(),c=h;w(()=>l.show,async a=>{t.value=a,await g()});const V=()=>{c("confirmar"),i()},g=async()=>{try{const{data:a}=await y(`${p}`,{method:"POST",body:{id:l.item.id,tipo:"ficha"}},"$4omB3S9Tg3");a.value&&a.value.link?s.value=`data:image/jpeg;base64,${a.value.link}`:s.value=null}catch(a){console.error("Erro ao buscar a imagem da ficha:",a)}},i=()=>{t.value=!1,s.value=null,c("close")};return(a,n)=>(_(),v(T,{persistent:"",modelValue:u(t),"onUpdate:modelValue":n[0]||(n[0]=b=>C(t)?t.value=b:null),"max-width":"700"},{default:e(()=>[o(B,null,{default:e(()=>[o(F,{class:"text-h5"},{default:e(()=>[r("Ficha de Firma")]),_:1}),o(k,{src:u(s)},null,8,["src"]),o(R,null,{default:e(()=>[o(d,{style:{"background-color":"#429946",color:"white"},onClick:V},{default:e(()=>[r("Reconhecer")]),_:1}),o(d,{style:{"background-color":"red",color:"white"},onClick:i},{default:e(()=>[r("Voltar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};export{P as _};
