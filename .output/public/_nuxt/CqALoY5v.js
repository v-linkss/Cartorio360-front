import{_ as B}from"./BzCYLhfv.js";import{_ as H}from"./KO88Hdqv.js";import{r as p,H as h,o as v,c as V,b as e,w as t,q as i,v as L,P,x as G,K as I,a as u,y as _,bP as M,s as b,d as y}from"./Doy_hywm.js";import{u as f}from"./YRoDzBEv.js";import{_ as R,a as j}from"./CrE-eFFQ.js";import{_ as O,a as J}from"./qu7Wfn_m.js";import{V as K}from"./By0pZRMT.js";import{V as W}from"./BztJFi75.js";import{V as C,b as $,c as Z,a as Q}from"./CHys887S.js";import{V as X}from"./B0VwlX-f.js";import{V as Y}from"./CHkY7Oik.js";const ee=u("img",{class:"btn-pointer",src:R,alt:"Cadastro"},null,-1),te=u("h2",null,"Tipos de Selos",-1),le={style:{}},oe=u("img",{style:{width:"30px",height:"30px"},src:O,alt:"Atualizar"},null,-1),ae={class:"btn-pointer",title:"Deletar"},se={key:0,style:{width:"30px",height:"30px"},src:J,alt:"Visualizar",title:"Reativar"},ie={key:1,src:j,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},re=u("span",{class:"text-h6"},"Editar Selo",-1),he={__name:"lista",async setup(ne){let r,d;const c=G(),w=`${c.public.managemant}/tipo-selos`,S=`${c.public.managemant}/tipo-selos`,T=`${c.public.managemant}/tipo-selos-delete`,k=`${c.public.managemant}/uf`,E=p([]),n=p(!1),x=p([]),l=p({id:null,uf:"",cor:"",descricao:"",vlr_compra:null}),{data:U}=([r,d]=h(()=>f(k,{method:"GET"},"$7yCH3mLdj9")),r=await r,d(),r);x.value=U.value;const{data:g}=([r,d]=h(()=>f(w,{method:"GET"},"$sAxng7NVFv")),r=await r,d(),r);E.value=g.value;const F=[{title:"ID",value:"id"},{title:"UF",value:"uf"},{title:"Cor",value:"cor"},{title:"Descrição",value:"descricao"},{title:"Valor",value:"vlr_compra"},{title:"Ações",value:"actions",sortable:!1}];function N(s){l.value={...s},n.value=!0}async function z(){try{const s={uf:l.value.uf,cor:l.value.cor,descricao:l.value.descricao,vlr_compra:l.value.vlr_compra};await f(`${S}/${l.value.id}`,{method:"PUT",body:s},"$fzpNhzhZeF"),location.reload(),n=!1}catch(s){console.error("Erro ao atualizar pessoa:",s)}}async function D(s){s.excluido=!s.excluido;const o=JSON.stringify({excluido:s.excluido});try{const{error:m}=await f(`${T}/${s.id}`,{method:"PUT",body:o},"$G6Nnl7TgWb")}catch(m){console.error("Erro ao excluir selo:",m)}}return(s,o)=>{const m=B,A=H;return v(),V(P,null,[e(K,null,{default:t(()=>[e(m,{to:"/tiposSelos/criar-selo"},{default:t(()=>[ee]),_:1}),e(C,null,{default:t(()=>[e($,{class:"d-flex justify-space-between align-center"},{default:t(()=>[te]),_:1}),e(I,{items:i(g),headers:F,class:"elevation-1","item-value":"id"},{"item.actions":t(({item:a})=>[u("div",le,[e(_,{icon:"",onClick:q=>N(a)},{default:t(()=>[oe]),_:2},1032,["onClick"]),e(_,{icon:"",onClick:q=>D(a)},{default:t(()=>[u("div",ae,[a.excluido?(v(),V("img",se)):(v(),V("img",ie))])]),_:2},1032,["onClick"])])]),_:1},8,["items"])]),_:1})]),_:1}),e(W,{modelValue:i(n),"onUpdate:modelValue":o[5]||(o[5]=a=>L(n)?n.value=a:null),"max-width":"500"},{default:t(()=>[e(C,null,{default:t(()=>[e($,null,{default:t(()=>[re]),_:1}),e(Z,null,{default:t(()=>[e(X,{onSubmit:M(z,["prevent"])},{default:t(()=>[e(Y,{modelValue:i(l).uf,"onUpdate:modelValue":o[0]||(o[0]=a=>i(l).uf=a),items:i(x),"item-title":"descricao","item-value":"sigla",label:"UF",required:"",outlined:""},null,8,["modelValue","items"]),e(b,{modelValue:i(l).cor,"onUpdate:modelValue":o[1]||(o[1]=a=>i(l).cor=a),label:"Cor",required:"",outlined:""},null,8,["modelValue"]),e(b,{modelValue:i(l).descricao,"onUpdate:modelValue":o[2]||(o[2]=a=>i(l).descricao=a),label:"Descrição",required:"",outlined:""},null,8,["modelValue"]),e(A,{required:"",modelValue:i(l).vlr_compra,"onUpdate:modelValue":o[3]||(o[3]=a=>i(l).vlr_compra=a)},null,8,["modelValue"]),e(Q,null,{default:t(()=>[e(_,{type:"submit",color:"green",size:"large"},{default:t(()=>[y("Salvar")]),_:1}),e(_,{color:"red",size:"large",onClick:o[4]||(o[4]=a=>n.value=!1)},{default:t(()=>[y("Cancelar")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{he as default};
