<<<<<<<< HEAD:.output/public/_nuxt/CC5iFmUa.js
import{r as m,u as O,e as P,f as j,g as U,y as E,o as J,h as L,w as n,b as l,a as f,a1 as M,d as W,i as o,j as $,k as Y}from"./Db6k_Kyv.js";import{c as F,r as H,u as K}from"./B8mkZ3k6.js";import{u as V}from"./OwNuggDs.js";import{V as Z,c as G}from"./z0qL6n1y.js";import{V as Q}from"./D_ZdkqB4.js";import{V as X}from"./C80HnjTW.js";import{V as ee}from"./BkL2xDa7.js";import{V as te}from"./ByPcQOfK.js";import{V as oe}from"./Cm-UCmX_.js";const se=""+new URL("selo.D9mIBRmY.png",import.meta.url).href,ve={__name:"Selos",props:{show:Boolean,ato_token:String},emits:["close"],async setup(S,{emit:g}){let c,_;const d=S,r=m(d.show),p=Y(),{$toast:y}=O(),h=m(P("user-data").value.cartorio_token).value,q=`${p.public.managemant}/listarSelos`,C=`${p.public.managemant}/reimprimirSelo`,T=`${p.public.managemant}/listarEscrevente`,R=`${p.public.envioDoc}/print`,w=m([]),i=m([]),b=m([]),u=j({escrevente:null}),x=g,B={escrevente:{required:F.withMessage("O campo é obrigatorio",H)}},v=K(B,u),I=[{title:"Numero",value:"numero"},{title:"Referencia",value:"referencia"},{value:"actions"}];U(()=>d.show,s=>{r.value=s,s&&z()});const k=()=>{r.value=!1,u.escrevente=null,i.value=null,x("close")},{data:D}=([c,_]=E(()=>V(T,{method:"POST",body:{cartorio_token:h}},"$V2ulT7DYvP")),c=await c,_(),c);b.value=D.value[0].func_json_escreventes;const N=async()=>{if(await v.value.$validate()){const s=i.value.map(a=>({selo_token:a})),e={escrevente_token:u.escrevente,ato_token:d.ato_token,selos:s},{data:t,error:ae,status:A}=await V(`${C}`,{method:"POST",body:e},"$45J51uHTfa");if(A.value==="success"){if(t.value[0].tipo_etiqueta==="html"){const a=window.open("","_blank");a.document.open(),a.document.write(t.value[0].etiqueta),a.document.close()}else if(t.value[0].tipo_etiqueta==="zpl"){const{status:a}=await V(`${R}`,{method:"POST",body:{zpl:atob(t.value[0].etiqueta)}},"$rLWIRtrfDz");if(a.value!=="success"){y.error("Não foi possivel fazer a impressao da etiqueta");return}}k()}}},z=async()=>{const{data:s,error:e}=await V(`${q}`,{method:"POST",body:{ato_token:d.ato_token}},"$qS5onK9VjE");s.value.selos===null?w.value=[]:w.value=s.value.selos};return(s,e)=>(J(),L(oe,{persistent:"",modelValue:o(r),"onUpdate:modelValue":e[2]||(e[2]=t=>$(r)?r.value=t:null),"max-width":"500"},{default:n(()=>[l(Z,null,{default:n(()=>[l(Q,null,{default:n(()=>[l(X,{class:"mt-1 mb-3",style:{"justify-content":"space-between"}},{default:n(()=>[e[4]||(e[4]=f("h1",{class:"ml-4"},"Reimpressão de Selos",-1)),l(M,{class:"mt-4 mr-4",style:{color:"red"},onClick:k},{default:n(()=>e[3]||(e[3]=[W("mdi-close")])),_:1})]),_:1}),e[5]||(e[5]=f("hr",{class:"mb-5"},null,-1)),l(ee,{class:"mb-5",label:"Tabelião/escrivão",modelValue:o(u).escrevente,"onUpdate:modelValue":e[0]||(e[0]=t=>o(u).escrevente=t),items:o(b),"item-title":"nome","item-value":"token",required:"","error-messages":o(v).escrevente.$errors.map(t=>t.$message),onBlur:o(v).escrevente.$touch,onInput:o(v).escrevente.$touch},null,8,["modelValue","items","error-messages","onBlur","onInput"]),l(te,{headers:I,items:o(w),"item-value":"token","show-select":"",modelValue:o(i),"onUpdate:modelValue":e[1]||(e[1]=t=>$(i)?i.value=t:null)},null,8,["items","modelValue"])]),_:1}),l(G,null,{default:n(()=>[f("div",null,[f("img",{src:se,style:{cursor:"pointer"},onClick:N})])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};export{ve as _,se as a};
========
import{r as m,u as O,m as P,n as U,g as j,G as E,o as J,p as L,w as n,b as l,a as f,a6 as M,d as W,q as o,s as $,v as Y}from"./BY_DW5tW.js";import{c as F,r as G,u as H}from"./DhELuThq.js";import{u as V}from"./C8Xv-wCf.js";import{V as K,c as Z}from"./CxJhbGSD.js";import{V as Q}from"./8M5Fco_J.js";import{V as X}from"./BiP6ifMN.js";import{V as ee}from"./B45pF_-_.js";import{V as te}from"./he8Ovxnd.js";import{V as oe}from"./YXw6oCD6.js";const se=""+new URL("selo.D9mIBRmY.png",import.meta.url).href,ve={__name:"Selos",props:{show:Boolean,ato_token:String},emits:["close"],async setup(S,{emit:g}){let c,_;const d=S,r=m(d.show),p=Y(),{$toast:y}=O(),h=m(P("user-data").value.cartorio_token).value,q=`${p.public.managemant}/listarSelos`,C=`${p.public.managemant}/reimprimirSelo`,T=`${p.public.managemant}/listarEscrevente`,R=`${p.public.envioDoc}/print`,w=m([]),i=m([]),b=m([]),u=U({escrevente:null}),x=g,B={escrevente:{required:F.withMessage("O campo é obrigatorio",G)}},v=H(B,u),I=[{title:"Numero",value:"numero"},{title:"Referencia",value:"referencia"},{value:"actions"}];j(()=>d.show,s=>{r.value=s,s&&z()});const k=()=>{r.value=!1,u.escrevente=null,i.value=null,x("close")},{data:D}=([c,_]=E(()=>V(T,{method:"POST",body:{cartorio_token:h}},"$V2ulT7DYvP")),c=await c,_(),c);b.value=D.value[0].func_json_escreventes;const N=async()=>{if(await v.value.$validate()){const s=i.value.map(a=>({selo_token:a})),e={escrevente_token:u.escrevente,ato_token:d.ato_token,selos:s},{data:t,error:ae,status:A}=await V(`${C}`,{method:"POST",body:e},"$45J51uHTfa");if(A.value==="success"){if(t.value[0].tipo_etiqueta==="html"){const a=window.open("","_blank");a.document.open(),a.document.write(t.value[0].etiqueta),a.document.close()}else if(t.value[0].tipo_etiqueta==="zpl"){const{status:a}=await V(`${R}`,{method:"POST",body:{zpl:atob(t.value[0].etiqueta)}},"$rLWIRtrfDz");if(a.value!=="success"){y.error("Não foi possivel fazer a impressao da etiqueta");return}}k()}}},z=async()=>{const{data:s,error:e}=await V(`${q}`,{method:"POST",body:{ato_token:d.ato_token}},"$qS5onK9VjE");s.value.selos===null?w.value=[]:w.value=s.value.selos};return(s,e)=>(J(),L(oe,{persistent:"",modelValue:o(r),"onUpdate:modelValue":e[2]||(e[2]=t=>$(r)?r.value=t:null),"max-width":"500"},{default:n(()=>[l(K,null,{default:n(()=>[l(Q,null,{default:n(()=>[l(X,{class:"mt-1 mb-3",style:{"justify-content":"space-between"}},{default:n(()=>[e[4]||(e[4]=f("h1",{class:"ml-4"},"Reimpressão de Selos",-1)),l(M,{class:"mt-4 mr-4",style:{color:"red"},onClick:k},{default:n(()=>e[3]||(e[3]=[W("mdi-close")])),_:1})]),_:1}),e[5]||(e[5]=f("hr",{class:"mb-5"},null,-1)),l(ee,{class:"mb-5",label:"Tabelião/escrivão",modelValue:o(u).escrevente,"onUpdate:modelValue":e[0]||(e[0]=t=>o(u).escrevente=t),items:o(b),"item-title":"nome","item-value":"token",required:"","error-messages":o(v).escrevente.$errors.map(t=>t.$message),onBlur:o(v).escrevente.$touch,onInput:o(v).escrevente.$touch},null,8,["modelValue","items","error-messages","onBlur","onInput"]),l(te,{headers:I,items:o(w),"item-value":"token","show-select":"",modelValue:o(i),"onUpdate:modelValue":e[1]||(e[1]=t=>$(i)?i.value=t:null)},null,8,["items","modelValue"])]),_:1}),l(Z,null,{default:n(()=>[f("div",null,[f("img",{src:se,style:{cursor:"pointer"},onClick:N})])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};export{ve as _,se as a};
>>>>>>>> new-logic-add-representante:.output/public/_nuxt/Cxrep0p9.js
