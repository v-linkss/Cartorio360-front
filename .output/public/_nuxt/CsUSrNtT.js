import{_ as ye}from"./DG_nEjos.js";import{a as K,d as Oe,V as le,c as Be}from"./CLjXR-zX.js";import{V as W}from"./CBiiH4Ve.js";import{V as G}from"./CH1h7jxy.js";import{Q as Fe,R as Se,S as Re,T as Ie,U as Ue,W as Ne,X as Ee,M as J,r as m,Y as Ge,f as Te,Z as ge,h as D,j as Pe,$ as He,a0 as De,a1 as me,a2 as Le,b as e,a3 as Me,z as ae,O as te,I as ve,H as ze,a4 as qe,a5 as Ye,a6 as Qe,a7 as j,a8 as We,a9 as Xe,aa as Je,o as Q,A as oe,w as s,y as je,d as ne,q as l,v as $,a as i,n as Ze,D as P,F as re,t as ee,s as S,J as Ve,x as se,ab as Ke,u as $e,K as fe,L as pe,c as Ae}from"./BylS_fme.js";import{u as L}from"./Dsfu_ZAk.js";import{a as be,_ as eo,b as oo}from"./DFD-PcG3.js";import{_ as we}from"./ToPptOUL.js";import{V as Z,_ as Ce,c as ao,r as to,u as lo}from"./DxFev1kB.js";import{_ as no}from"./DCsXQasW.js";import{_ as ro}from"./iq-OhJk-.js";import{V as y}from"./CPzuAlqu.js";const so=Fe({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:o=>!isNaN(parseFloat(o))},maxRows:{type:[Number,String],validator:o=>!isNaN(parseFloat(o))},suffix:String,modelModifiers:Object,...Se(),...Re()},"VTextarea"),uo=Ie()({name:"VTextarea",directives:{Intersect:Ue},inheritAttrs:!1,props:so(),emits:{"click:control":o=>!0,"mousedown:control":o=>!0,"update:focused":o=>!0,"update:modelValue":o=>!0},setup(o,I){let{attrs:u,emit:g,slots:V}=I;const A=Ne(o,"modelValue"),{isFocused:C,focus:O,blur:b}=Ee(o),T=J(()=>typeof o.counterValue=="function"?o.counterValue(A.value):(A.value||"").toString().length),N=J(()=>{if(u.maxlength)return u.maxlength;if(!(!o.counter||typeof o.counter!="number"&&typeof o.counter!="string"))return o.counter});function H(v,F){var r,a;!o.autofocus||!v||(a=(r=F[0].target)==null?void 0:r.focus)==null||a.call(r)}const _=m(),h=m(),f=Ge(""),U=m(),x=J(()=>o.persistentPlaceholder||C.value||o.active);function k(){var v;U.value!==document.activeElement&&((v=U.value)==null||v.focus()),C.value||O()}function n(v){k(),g("click:control",v)}function M(v){g("mousedown:control",v)}function z(v){v.stopPropagation(),k(),j(()=>{A.value="",We(o["onClick:clear"],v)})}function X(v){var r;const F=v.target;if(A.value=F.value,(r=o.modelModifiers)!=null&&r.trim){const a=[F.selectionStart,F.selectionEnd];j(()=>{F.selectionStart=a[0],F.selectionEnd=a[1]})}}const E=m(),p=m(+o.rows),d=J(()=>["plain","underlined"].includes(o.variant));Te(()=>{o.autoGrow||(p.value=+o.rows)});function B(){o.autoGrow&&j(()=>{if(!E.value||!h.value)return;const v=getComputedStyle(E.value),F=getComputedStyle(h.value.$el),r=parseFloat(v.getPropertyValue("--v-field-padding-top"))+parseFloat(v.getPropertyValue("--v-input-padding-top"))+parseFloat(v.getPropertyValue("--v-field-padding-bottom")),a=E.value.scrollHeight,w=parseFloat(v.lineHeight),R=Math.max(parseFloat(o.rows)*w+r,parseFloat(F.getPropertyValue("--v-input-control-height"))),Y=parseFloat(o.maxRows)*w+r||1/0,t=Je(a??0,R,Y);p.value=Math.floor((t-r)/w),f.value=Xe(t)})}ge(B),D(A,B),D(()=>o.rows,B),D(()=>o.maxRows,B),D(()=>o.density,B);let c;return D(E,v=>{v?(c=new ResizeObserver(B),c.observe(E.value)):c==null||c.disconnect()}),Pe(()=>{c==null||c.disconnect()}),He(()=>{const v=!!(V.counter||o.counter||o.counterValue),F=!!(v||V.details),[r,a]=De(u),{modelValue:w,...R}=me.filterProps(o),Y=Le(o);return e(me,ae({ref:_,modelValue:A.value,"onUpdate:modelValue":t=>A.value=t,class:["v-textarea v-text-field",{"v-textarea--prefixed":o.prefix,"v-textarea--suffixed":o.suffix,"v-text-field--prefixed":o.prefix,"v-text-field--suffixed":o.suffix,"v-textarea--auto-grow":o.autoGrow,"v-textarea--no-resize":o.noResize||o.autoGrow,"v-input--plain-underlined":d.value},o.class],style:o.style},r,R,{centerAffix:p.value===1&&!d.value,focused:C.value}),{...V,default:t=>{let{id:q,isDisabled:ue,isDirty:ie,isReadonly:_e,isValid:he}=t;return e(Me,ae({ref:h,style:{"--v-textarea-control-height":f.value},onClick:n,onMousedown:M,"onClick:clear":z,"onClick:prependInner":o["onClick:prependInner"],"onClick:appendInner":o["onClick:appendInner"]},Y,{id:q.value,active:x.value||ie.value,centerAffix:p.value===1&&!d.value,dirty:ie.value||o.dirty,disabled:ue.value,focused:C.value,error:he.value===!1}),{...V,default:xe=>{let{props:{class:de,...ce}}=xe;return e(te,null,[o.prefix&&e("span",{class:"v-text-field__prefix"},[o.prefix]),ve(e("textarea",ae({ref:U,class:de,value:A.value,onInput:X,autofocus:o.autofocus,readonly:_e.value,disabled:ue.value,placeholder:o.placeholder,rows:o.rows,name:o.name,onFocus:k,onBlur:b},ce,a),null),[[ze("intersect"),{handler:H},null,{once:!0}]]),o.autoGrow&&ve(e("textarea",{class:[de,"v-textarea__sizer"],id:`${ce.id}-sizer`,"onUpdate:modelValue":ke=>A.value=ke,ref:E,readonly:!0,"aria-hidden":"true"},null),[[qe,A.value]]),o.suffix&&e("span",{class:"v-text-field__suffix"},[o.suffix])])}})},details:F?t=>{var q;return e(te,null,[(q=V.details)==null?void 0:q.call(V,t),v&&e(te,null,[e("span",null,null),e(Ye,{active:o.persistentCounter||C.value,value:T.value,max:N.value,disabled:o.disabled},V.counter)])])}:void 0})}),Qe({},_,h,U)}}),io=i("h1",null,"Confirmação de Recebimento",-1),co=i("p",null," O valor recebido é menor que o valor da OS, confirma o recebimento parcial? ",-1),mo={__name:"ModalRecebimentoCond",props:{show:Boolean,faltaReceber:Number},emits:["close"],setup(o,{emit:I}){const u=o,g=m(u.show),V=I;D(()=>u.show,C=>{g.value=C});const A=()=>{g.value=!1,V("close")};return(C,O)=>(Q(),oe(le,{persistent:"",modelValue:l(g),"onUpdate:modelValue":O[0]||(O[0]=b=>$(g)?g.value=b:null),"max-width":"650"},{default:s(()=>[e(K,null,{default:s(()=>[e(W,null,{default:s(()=>[e(G,{class:"mb-5 mt-1 ml-2"},{default:s(()=>[io]),_:1}),e(G,{class:"ml-2"},{default:s(()=>[co]),_:1})]),_:1}),e(Oe,null,{default:s(()=>[e(je,{style:{"background-color":"#429946",color:"white"},onClick:A},{default:s(()=>[ne("OK")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},vo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAATqSURBVHic7VtNbBtFFP7e2rGRCFZDBRJqoFRCHAAJkOiJHMCtjJwQiUs4AOKAiE2EhERvSAhygSOgSJS4BXHh1N4o1GCVVUVQD5w4IHFB0NC0HKBplSZS6p99HGgc73PGnlnPrieE7xS/fTN+++XNe7Pfjgkxo7hQzG5mW2UCXgDwCIDb+wzZAPAzQF/sH8udOP386Xqc8VGck+c/yR+Al/4awKNRxhPwEwfNZ/05/7Ll0Nrw4pq4uFDMDnLzAMDAY/BGzsycmslYDC2E2AjYzLbKGODmt8GPr167Pjv4PDsjHdfERHgR3GnA2YBS5fOz1ZVe4546WRz3gtYJAMW2keklAB/HEWdsGQDGQ50fdW4eAM7PVlfSTZRDUxEeth3eFuIjABjt/KBz81uovV67JEx3WIloB8RJwK5A3zaYXyxMs8fHiOkw+vdwV7AB4EcifPBdqfZVL8eeBBxZLLzPhLeshpY83vPLtbdVF5UE5BcL0yB8GU9MyYII06pMUNYA9vhYfCElCw7wpuqach9ATE+EDXjSL9UuWIwrNhytHJ0I4C21DYTDKt9eXSDUxnbLzQPAufK5H4RJ2Ub3fBv8n4BhBzBs7HkCtJ8G85UC9/fafdjzGdCLAO2nN9fBgHy6bENNAKGE/wAJDFzymEqq61qiaL5SWAZwX9uQSt/vv3p2efDw7CH/6eRBtJoXO0x/+OXawX7jNGsAr4c+Ba1RleewEDSacrd3Q2ecHgFEIQLA7BwBSAcypvUd/QT0CAjgPAFpTomYSIsAvX0A0TpCEq+nJODpyjNTBK4AYBBKfqlWTcKPxT+FiC1mgKgBnqfOAAIvAjgAYJwZlaT8ZFYGMmsV0CKARUHhgHqptONbfxBwb1J+TOGYyGN7RZBEBqBHBgwLLPQLBHo1QHMJyC4A5wggqVgTNnTG6S6BDWFwUB4XWUkWawCJnsoU35uaqCCIumRzCRCLguLgEpA1wGoRlDtBz3OPAIBEG7SZAYIAZnKPgK7daWCPgCa1xGTutUHIrJTPL8phOmh6kgDniiBYFGabBHgjaVFQ3FsCsgimuGVxJ7h5U7LpHAEkCUil7GVAJsg4TwBETLlczh4B1TeqNwE0OkyZOI+umaK4UMwCGOkw1XUPWJrI4iFG19bWnMmCulePpAYBBgSwmLSBlDOdgG/Lxk9A1/OAQ8JotyCqpwYBJkuAhMrqki7YJYiSVgsETAhwWBiNKogCRhkgJ1ULo0kjqiAKGHUBfWE0cUQURIGBimBPYTRRSEFUVw0CjNqgEBgcyoAuMYT1XosBRkvAXWE0qiAKmG2EHBZGowmiwCA1wCFhNKogCgzSBtVLYGXbRX0yw6ZfVw3QlMMAkwwQyrBSGL11sqTfyQy7fkIQhaddBLVPiRHROvP2G2KVMHrr7W2vd332/ZhHw2ddYsgAp4XRiILov0M1MdKiq8J0aH5+fujH7GZOzaTAONRpSzOv6o7XvoF9d+5bRrgV3r10z4UPJ45PjenOYRsTx6fGrl67/hGAuzrMN1Zp9aLuHEY/nT1SKXzGwCsmYxIH46T/Wk1dVAWMUpiD5jsA/W0eVWL4q0H0rskAIwL8Of8yEU0S8KdZXIngSsA8uVT+1ii2lOm3/H7m1ysPPvfA58xUB7AfQA4x/gS3DzYB/MLMlUaQefn7uW9+M53gH/TVyDpW2OO1AAAAAElFTkSuQmCC",fo=i("h1",null,"Ordem de Serviço nº",-1),po={style:{color:"red","margin-left":"18px"}},Ao=i("hr",{class:"mb-5"},null,-1),go=["onClick"],Vo=i("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:vo,alt:"Remover"},null,-1),bo=[Vo],wo={__name:"Ordem",props:{show:Boolean,ordem:{type:Object,required:!0}},emits:["close"],setup(o,{emit:I}){const u=o,{$toast:g}=Ze(),V=m(u.show),A=m(!1),C=se(),O=`${C.public.managemant}/listarFormasReceb`,b=`${C.public.managemant}/receberOs`,T=P("auth_token").value,N=m([]),H=m(null),_=m([]),h=m([]),f=re({descricao:null,forma:null,valor:"0.00"}),U=I,x=[{title:"Forma",value:"forma"},{title:"Valor",value:"valor"},{value:"actions"}];D(()=>u.show,p=>{V.value=p});const k=()=>{V.value=!1,U("close")},n=async()=>{try{u.ordem.valor>0&&(H.value=u.ordem.valor,A.value=!0);const p={ordemserv_token:u.ordem.token,usuario_token:T,recebimentos:[h.value]};if(u.ordem.valor===0){const{data:d,error:B}=await L(b,{method:"POST",body:JSON.stringify(p)},"$vhMIR8Sr2p");d.value[0].status==="OK"&&(g.success("Valores Recebidos com Sucesso!"),k())}}catch(p){console.error("Erro ao realizar a requisição:",p)}},M=()=>{u.ordem.valor=parseFloat(u.ordem.valor).toFixed(2),u.ordem.valor_pago=parseFloat(u.ordem.valor_pago).toFixed(2),f.valor&&(f.valor=parseFloat(f.valor).toFixed(2))},z=async()=>{try{const d={cartorio_token:m(P("user-data").value.cartorio_token).value},{data:B,error:c}=await L(O,{method:"POST",body:JSON.stringify(d)},"$eiMzO5y6Bb");N.value=Ke(B.value)}catch(p){console.error("Erro ao realizar a requisição:",p)}},X=async()=>{const p=N.value.find(d=>d.token===f.forma);if(!p){g.error("Por favor, selecione uma forma.");return}if(u.ordem.valor<=0){g.error("O valor recebido não deve ultrapassar o valor total da ordem.");return}_.value.push({forma:f.forma,descricao:p.descricao,valor:f.valor}),h.value.push({forma_receb_token:f.forma,valor:f.valor}),u.ordem.valor_pago=parseFloat(u.ordem.valor_pago)+parseFloat(f.valor),u.ordem.valor=parseFloat(u.ordem.valor)-parseFloat(f.valor),f.forma=null,f.valor="0.00"},E=p=>{const d=_.value.indexOf(p);d!==-1&&(_.value.splice(d,1),h.value.splice(d,1),u.ordem.valor_pago=parseFloat(u.ordem.valor_pago)-parseFloat(p.valor),u.ordem.valor=parseFloat(u.ordem.valor)+parseFloat(p.valor))};return z(),(p,d)=>{const B=mo;return Q(),oe(le,{persistent:"",modelValue:l(V),"onUpdate:modelValue":d[6]||(d[6]=c=>$(V)?V.value=c:null),"max-width":"650"},{default:s(()=>[e(K,null,{default:s(()=>[e(W,null,{default:s(()=>[e(G,{class:"mb-5 mt-1 ml-2"},{default:s(()=>[fo,i("h1",po,ee(u.ordem.numero),1)]),_:1}),e(W,null,{default:s(()=>[e(G,null,{default:s(()=>[e(S,{class:"mr-5",label:"Recebido",modelValue:u.ordem.valor_pago,"onUpdate:modelValue":d[0]||(d[0]=c=>u.ordem.valor_pago=c),disabled:"",onInput:M},null,8,["modelValue"]),e(S,{label:"Falta Receber",modelValue:u.ordem.valor,"onUpdate:modelValue":d[1]||(d[1]=c=>u.ordem.valor=c),disabled:"",onInput:M},null,8,["modelValue"])]),_:1}),e(G,null,{default:s(()=>[e(Z,{class:"mb-5 mr-5",label:"Forma",modelValue:l(f).forma,"onUpdate:modelValue":d[2]||(d[2]=c=>l(f).forma=c),items:l(N),"item-title":"descricao","item-value":"token"},null,8,["modelValue","items"]),e(S,{label:"Valor",modelValue:l(f).valor,"onUpdate:modelValue":d[3]||(d[3]=c=>l(f).valor=c),required:"",onInput:M},null,8,["modelValue"]),i("div",null,[i("img",{src:be,class:"ml-5",style:{cursor:"pointer",height:"40px",width:"40px"},onClick:X})])]),_:1})]),_:1}),Ao,e(Ve,{headers:x,items:l(_),"item-value":"token"},{"item.forma":s(({item:c})=>[ne(ee(c.descricao),1)]),"item.actions":s(({item:c})=>[i("div",{style:{display:"flex","justify-content":"flex-end"},onClick:v=>E(c),title:"Remover"},bo,8,go)]),_:1},8,["items"])]),_:1}),i("div",{style:{display:"flex","justify-content":"flex-start"}},[i("div",{class:"ml-10"},[i("img",{src:we,style:{cursor:"pointer"},onClick:k})]),i("div",{class:"ml-12 mb-5"},[i("img",{src:Ce,style:{cursor:"pointer"},onClick:n})])])]),_:1}),e(B,{modelValue:l(A),"onUpdate:modelValue":d[4]||(d[4]=c=>$(A)?A.value=c:null),faltaReceber:l(H),onClose:d[5]||(d[5]=c=>A.value=!1)},null,8,["modelValue","faltaReceber"])]),_:1},8,["modelValue"])}}},Co=i("h1",null,"Cancelamento da OS nº",-1),_o={style:{color:"red","margin-left":"18px"}},ho={__name:"Ordem",props:{show:Boolean,numero_os:Number,ordemserv_token:String},emits:["close"],setup(o,{emit:I}){const u=o,g=m(u.show),V=se();m(P("user-data").value.cartorio_token).value;const A=P("auth_token").value,C=`${V.public.managemant}/analisaCancelamento`,O=`${V.public.managemant}/cancelaOs`,b=re({motivo:null}),T=m(null),N=I,H={motivo:{required:ao.withMessage("O campo é obrigatorio",to)}},_=lo(H,b);D(()=>u.show,x=>{g.value=x});const h=()=>{g.value=!1,N("close")};(async()=>{const{data:x,error:k}=await L(`${C}`,{method:"POST",body:{ordemserv_token:u.ordemserv_token}},"$1fnrIk2fgs");T.value=x.value.mensagem})();const U=async()=>{if(await _.value.$validate()){const{status:x}=await L(`${O}`,{method:"POST",body:{usuario_token:A,motivo:b.motivo,ordemserv_token:u.ordemserv_token}},"$21WlhUNXeM");x.value==="success"&&(window.location.reload(),h())}};return(x,k)=>(Q(),oe(le,{persistent:"",modelValue:l(g),"onUpdate:modelValue":k[1]||(k[1]=n=>$(g)?g.value=n:null),"max-width":"650"},{default:s(()=>[e(K,null,{default:s(()=>[e(W,null,{default:s(()=>[e(G,{class:"mb-5 mt-1 ml-2"},{default:s(()=>[Co,i("h1",_o,ee(u.numero_os),1)]),_:1}),e(W,null,{default:s(()=>[e(K,{variant:"outlined",class:"mb-5"},{default:s(()=>[e(Be,null,{default:s(()=>[ne(ee(l(T)),1)]),_:1})]),_:1}),e(uo,{label:"Motivo",modelValue:l(b).motivo,"onUpdate:modelValue":k[0]||(k[0]=n=>l(b).motivo=n),required:"","error-messages":l(_).motivo.$errors.map(n=>n.$message),onBlur:l(_).motivo.$touch,onInput:l(_).motivo.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),i("div",{style:{display:"flex","justify-content":"flex-start"}},[i("div",{class:"ml-10"},[i("img",{src:we,style:{cursor:"pointer"},onClick:h})]),i("div",{class:"ml-12"},[i("img",{src:Ce,style:{cursor:"pointer"},onClick:U})])])]),_:1})]),_:1},8,["modelValue"]))}},xo="data:image/png;base64,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",ko=i("h1",null,"Ordens de Serviço",-1),yo=i("hr",{class:"mt-5 mb-5"},null,-1),Oo=["title","onClick"],Bo=["onClick","title"],Fo=["disabled","onClick"],So={key:0,style:{width:"30px",height:"30px"},src:oo,alt:"Visualizar",title:"Bloqueado"},Ro={key:1,src:ro,alt:"Cancelamento",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Cancelamento"},qo={__name:"index",setup(o){const I=se(),u=`${I.public.managemant}/listarUsuarios`,g=`${I.public.managemant}/listarOrdensServico`,V=`${I.public.managemant}/tipoAtos`,A=$e(),C=m(P("auth_token").value)||null,O=m(P("user-data").value.cartorio_token)||null,b=m([]),T=m([]),N=m([]),H=m(["PENDENTE","EM ANDAMENTO","CONCLUÍDA","LAVRADA"]),_=m(!1),h=m(!1),f=m(null),U=m(null),x=m(null),k=m({}),n=re({numero:null,data_inicio:z(),data_fim:z(),data_lavratura_inicio:null,data_lavratura_fim:null,protocolo:null,livro:null,folha:null,situacao:null,usuario_token:C.value,selo:null,ato_tipo_token:null,apresentante:null}),M=[{title:"Número",value:"numero"},{title:"Situação",value:"situacao"},{title:"CPF",value:"apresentante_cpf"},{title:"Apresentante",value:"apresentante_nome"},{title:"Usuario",value:"usuario_nome"},{title:"Data Recebimento",value:"dt_pagto"},{value:"actions"}];function z(){const r=new Date,a=r.getFullYear(),w=String(r.getMonth()+1).padStart(2,"0"),R=String(r.getDate()).padStart(2,"0");return`${a}-${w}-${R}`}async function X(){const{data:r,error:a}=await L(u,{method:"POST",body:{cartorio_token:O.value}},"$865v1qFEsl");T.value=r.value}async function E(){try{sessionStorage.setItem("pesquisaOS",JSON.stringify(n));const{data:r,error:a}=await L(g,{method:"POST",body:{cartorio_token:O.value,numero:n.numero||null,data_inicio:n.data_inicio||null,data_fim:n.data_fim||null,data_lavratura_inicio:n.data_lavratura_inicio||null,data_lavratura_fim:n.data_lavratura_fim||null,protocolo:n.protocolo||null,livro:n.livro||null,folha:n.folha||null,situacao:n.situacao||null,usuario_token:n.usuario_token,selo:n.selo||null,ato_tipo_token:n.ato_tipo_token,apresentante:n.apresentante||null}},"$GorUGsNsKS");r.value.length>0?b.value=r.value:b.value=[]}catch(r){console.error("Erro na requisição",r)}}async function p(){const{data:r,error:a}=await L(V,{method:"POST",body:{cartorio_token:O.value,usuario_token:C.value}},"$wkWiNo8Od3");N.value=r.value}const d=async()=>{try{const r=z(),a=sessionStorage.getItem("pesquisaOS"),w=JSON.parse(a),{data:R,error:Y}=await L(g,{method:"POST",body:{cartorio_token:O.value,usuario_token:C.value,data_fim:(w==null?void 0:w.data_fim)||r,data_inicio:(w==null?void 0:w.data_inicio)||r}},"$zDH8ovqZZe");R.value.length>0?(b.value=R.value,console.log(b.value)):b.value=[]}catch(r){console.error("Erro ao buscar serviços",r)}};X(),p();function B(r,a,w){x.value=r,U.value=a,h.value=!0}function c(r){const a=P("user-service"),w=b.value.find(R=>R.id===r);a.value=w.token,A.push({path:`/ordens-servicos/atualizar/${r}`})}function v(r,a){x.value=r,k.value={token:a.token,numero:a.numero,valor:a.valor,valor_pago:a.valor_pago},_.value=!0}const F=()=>{const r=P("user-service"),a=P("ordem-button");r.value=null,f.value=!0,a.value=f.value};return ge(()=>{j(async()=>{const r=sessionStorage.getItem("pesquisaOS");if(r){const a=JSON.parse(r);Object.assign(n,a)}await d()})}),(r,a)=>{const w=ye,R=wo,Y=ho;return Q(),oe(W,{class:"mt-5"},{default:s(()=>[e(G,{class:"mb-5"},{default:s(()=>[ko,e(w,{to:"/ordens-servicos/criar-registro"},{default:s(()=>[i("img",{style:{width:"60px",height:"60px",cursor:"pointer","margin-left":"70px"},src:be,alt:"novo",onClick:F})]),_:1})]),_:1}),e(G,{style:{"margin-bottom":"-35px"}},{default:s(()=>[e(y,null,{default:s(()=>[e(S,{modelValue:l(n).numero,"onUpdate:modelValue":a[0]||(a[0]=t=>l(n).numero=t),label:"Número",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(y,null,{default:s(()=>[e(S,{modelValue:l(n).data_inicio,"onUpdate:modelValue":a[1]||(a[1]=t=>l(n).data_inicio=t),type:"date",label:"Abertura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(y,null,{default:s(()=>[e(S,{modelValue:l(n).data_fim,"onUpdate:modelValue":a[2]||(a[2]=t=>l(n).data_fim=t),type:"date",label:"Abertura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(y,null,{default:s(()=>[e(S,{modelValue:l(n).data_lavratura_inicio,"onUpdate:modelValue":a[3]||(a[3]=t=>l(n).data_lavratura_inicio=t),type:"date",label:"Lavratura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(y,null,{default:s(()=>[e(S,{modelValue:l(n).data_lavratura_fim,"onUpdate:modelValue":a[4]||(a[4]=t=>l(n).data_lavratura_fim=t),type:"date",label:"Lavratura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(y,null,{default:s(()=>[e(S,{modelValue:l(n).protocolo,"onUpdate:modelValue":a[5]||(a[5]=t=>l(n).protocolo=t),label:"Protocolo",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(y,{md:"1"},{default:s(()=>[e(S,{modelValue:l(n).livro,"onUpdate:modelValue":a[6]||(a[6]=t=>l(n).livro=t),label:"Livro",style:{width:"80px"}},null,8,["modelValue"])]),_:1}),e(y,{md:"1"},{default:s(()=>[e(S,{modelValue:l(n).folha,"onUpdate:modelValue":a[7]||(a[7]=t=>l(n).folha=t),label:"Folha",style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(G,null,{default:s(()=>[e(y,{md:"3"},{default:s(()=>[e(Z,{modelValue:l(n).situacao,"onUpdate:modelValue":a[8]||(a[8]=t=>l(n).situacao=t),items:l(H),label:"Situação"},null,8,["modelValue","items"])]),_:1}),e(y,{md:"2"},{default:s(()=>[e(Z,{items:l(T),modelValue:l(n).usuario_token,"onUpdate:modelValue":a[9]||(a[9]=t=>l(n).usuario_token=t),"item-title":"user_nome","item-value":"user_token",label:"Usuario"},null,8,["items","modelValue"])]),_:1}),e(y,{md:"1"},{default:s(()=>[e(S,{modelValue:l(n).selo,"onUpdate:modelValue":a[10]||(a[10]=t=>l(n).selo=t),label:"Selo"},null,8,["modelValue"])]),_:1}),e(y,{md:"3"},{default:s(()=>[e(Z,{modelValue:l(n).ato_tipo_token,"onUpdate:modelValue":a[11]||(a[11]=t=>l(n).ato_tipo_token=t),items:l(N),"item-title":"descricao","item-value":"token",label:"Serviço"},null,8,["modelValue","items"])]),_:1}),e(y,{md:"2"},{default:s(()=>[e(S,{modelValue:l(n).apresentante,"onUpdate:modelValue":a[12]||(a[12]=t=>l(n).apresentante=t),label:"Apresentante"},null,8,["modelValue"])]),_:1}),e(y,null,{default:s(()=>[i("div",null,[i("img",{onClick:E,style:{width:"40px",height:"40px",cursor:"pointer"},src:no,alt:"Pesquisar"})])]),_:1})]),_:1}),yo,e(Ve,{headers:M,items:l(b),"item-key":"id"},{"item.actions":s(({item:t})=>[e(G,{style:{display:"flex",gap:"10px","margin-top":"-5px"}},{default:s(()=>[i("div",{class:pe({disabled:!t.btn_receber}),title:t.btn_receber?"Receber":"Bloqueado",onClick:q=>t.btn_receber?v(t.numero,t):null},[i("img",{style:fe({cursor:t.btn_receber?"pointer":"default",width:"30px",height:"30px"}),src:xo,alt:"Receber"},null,4)],10,Oo),i("div",{class:pe({disabled:!t.btn_editar}),onClick:q=>t.btn_editar?c(t.id):null,title:t.btn_editar?"Editar":"Bloqueado"},[i("img",{style:fe({cursor:t.btn_editar?"pointer":"default",width:"30px",height:"30px"}),src:eo,alt:"Editar"},null,4)],10,Bo),i("div",{disabled:!t.btn_cancelar,onClick:q=>t.btn_cancelar?B(t.numero,t.token):null,title:"Cancelamento"},[t.excluido?(Q(),Ae("img",So)):(Q(),Ae("img",Ro))],8,Fo)]),_:2},1024)]),_:1},8,["items"]),e(R,{show:l(_),numero_os:l(x),ordem:l(k),onClose:a[13]||(a[13]=t=>_.value=!1)},null,8,["show","numero_os","ordem"]),e(Y,{show:l(h),numero_os:l(x),ordemserv_token:l(U),onClose:a[14]||(a[14]=t=>h.value=!1)},null,8,["show","numero_os","ordemserv_token"])]),_:1})}}};export{qo as default};
