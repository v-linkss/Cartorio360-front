import{n as ke,u as ye,A as Q,r as j,s as Ce,B as $e,M as Se,o as M,c as Z,x as a,v as H,F as Et,t as at,G as ae,w as l,b as t,V as O,N as ve,y as ee,d as J,H as ce,z as fe,q as we,E as Ae,a as X,C as be,K as ot,Q as L,_ as lt,ba as Ge,O as Ne,bS as me,c7 as At,c8 as Tt,c9 as Ke,ca as Te,bq as oe,bj as xe,cb as Bt,D as st,c6 as nt,cc as Be,bV as pe,cd as Dt,aL as De,ce as Mt,cf as it,bZ as ge,c5 as de,cg as Ut,bH as rt,ch as Rt,ci as Ft,cj as ze,ck as Nt,bT as zt,bX as Oe,bY as Ot,b$ as Je,cl as Lt,J as _e,cm as ut,cn as jt,c3 as Wt,co as qt,cp as Yt,cq as dt,cr as ct,cs as Ht,ct as Xt,cu as Gt,cv as Kt,h as mt,cw as Jt,cx as Qt,cy as Zt,cz as ea,cA as ta,aW as aa,cB as oa,cC as la,cD as sa,cE as na,cF as ia}from"./B0_7dY_T.js";import{b as Le,u as K}from"./CgJj6bVa.js";import{c as se,r as ne,u as Me}from"./K1lg-g_f.js";import{c as ra}from"./CUzwR_T4.js";import{V as G}from"./BdBiUWvx.js";import{V as T}from"./Cmw8wGY3.js";import{V as le}from"./DvxvM94d.js";import{V as ie}from"./H0bHyNVf.js";import{_ as vt}from"./DWGCC702.js";import{_ as Qe}from"./DfjuBLsA.js";import{_ as Ee,V as je,a as We,b as qe,c as ft}from"./BzO1anjc.js";import{V as Ue,a as Re,d as pt,c as gt,b as bt}from"./Cu79RT_f.js";import{V as ua,m as da,a as Ze}from"./CBpqEH88.js";import{u as ca}from"./DEgx-tiK.js";import{_ as ma}from"./D4CQvNEr.js";const va={key:1},fa={__name:"Dados",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],async setup(e,{emit:o}){let s,n;const v=e,p=o,i=ke(),{$toast:m}=ye(),_=fe(),E=`${_.public.managemant}/createPessoa`,w=`${_.public.managemant}/updatePessoa`,R=`${_.public.managemant}/listarEstadoCivil`,D=`${_.public.managemant}/listarCapacidadeCivil`,I=`${_.public.managemant}/listarCidades`,A={nome:"",nome_pai:"",nome_mae:"",profissao:"",local_trabalho:"",data_nascimento:"",doc_identificacao:"",cpf_pai:"",cpf_mae:"",tipo_pessoa:"FISICA",tabvalores_estadocivil_id:"",tabvalores_capacidadecivil_id:"",cidade_natural_id:"",cartorio_id:Q("user-data").value.cartorio_id,user_id:Q("user-data").value.usuario_id},h=j(!1),F=Q("pessoa-id"),r=Ce({...A});function $(x){if(x)return x.replace(/[.\-]/g,"");x=null}const{data:C,status:d,pending:y,error:P}=([s,n]=$e(async()=>Le("cliente-dados",async()=>{const[x,g,U]=await Promise.all([$fetch(R),$fetch(D),$fetch(I)]);return{estadoCivilItems:x,capacidadeCivilItems:g,cidadeNascimentoItems:U}})),s=await s,n(),s),V={nome:{required:se.withMessage("O campo é obrigatorio",ne)},nome_mae:{required:se.withMessage("O campo é obrigatorio",ne)},doc_identificacao:{required:se.withMessage("O campo é obrigatorio",ne),cpf:ra}},c=Me(V,r);async function B(){if(await c.value.$validate()){const x={...r};for(const b in x)x[b]===""&&(x[b]=null);const g={...x,doc_identificacao:$(r.doc_identificacao),cpf_pai:$(r.cpf_pai),cpf_mae:$(r.cpf_mae)},{data:U,error:k,status:W}=await K(E,{method:"POST",body:g},"$fcbWHpl5XR");if(W.value==="error"&&k.value.statusCode===500)m.error("Erro ao cadastrar pessoa,o CPF já está cadastrado.");else{m.success("Pessoa cadastrada com sucesso!");const b=U.value.id;F.value=b;const N=Q("pessoa_token");N.value=U.value.token,h.value=!0,p("saved")}}else m.error("Erro ao cadastrar pessoa, preencha os campos obrigatorios.")}async function S(){const x={...r};for(const b in x)x[b]===""&&(x[b]=null);const g={...x,doc_identificacao:$(r.doc_identificacao),cpf_mae:$(r.cpf_mae)},{data:U,error:k,status:W}=await K(`${w}/${F.value}`,{method:"PUT",body:g},"$S30ZRYxneo");if(W.value==="success"){if(v.isModal===!0){m.success("Pessoa atualizada com sucesso!"),p("close-modal");return}m.success("Pessoa atualizada com sucesso!"),i.push("/pessoas/lista")}}const q=()=>{if(v.isModal===!0){p("close-modal");return}i.push("/pessoas/lista")};return(x,g)=>{const U=Se("mask");return M(),Z(ce,null,[a(y)?(M(),H(Et,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):a(P)?(M(),Z("div",va,at(a(P).message),1)):ae("",!0),a(y)?ae("",!0):(M(),H(ie,{key:2},{default:l(()=>[t(G,null,{default:l(()=>[t(T,{md:"8"},{default:l(()=>[t(O,{modelValue:a(r).nome,"onUpdate:modelValue":g[0]||(g[0]=k=>a(r).nome=k),"error-messages":a(c).nome.$errors.map(k=>k.$message),label:"Nome",required:"",onBlur:a(c).nome.$touch,onInput:a(c).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(T,{md:"4"},{default:l(()=>[ve(t(O,{modelValue:a(r).doc_identificacao,"onUpdate:modelValue":g[1]||(g[1]=k=>a(r).doc_identificacao=k),"error-messages":a(c).doc_identificacao.$errors.map(k=>k.$message),label:"CPF",required:"",onBlur:a(c).doc_identificacao.$touch,onInput:a(c).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[U,"###.###.###-##"]])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(T,{md:"4"},{default:l(()=>[t(le,{modelValue:a(r).tabvalores_estadocivil_id,"onUpdate:modelValue":g[2]||(g[2]=k=>a(r).tabvalores_estadocivil_id=k),items:a(C).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(O,{modelValue:a(r).profissao,"onUpdate:modelValue":g[3]||(g[3]=k=>a(r).profissao=k),label:"Profissão"},null,8,["modelValue"])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(O,{modelValue:a(r).local_trabalho,"onUpdate:modelValue":g[4]||(g[4]=k=>a(r).local_trabalho=k),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(T,{md:"4"},{default:l(()=>[t(O,{modelValue:a(r).data_nascimento,"onUpdate:modelValue":g[5]||(g[5]=k=>a(r).data_nascimento=k),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(le,{modelValue:a(r).tabvalores_capacidadecivil_id,"onUpdate:modelValue":g[6]||(g[6]=k=>a(r).tabvalores_capacidadecivil_id=k),items:a(C).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(le,{modelValue:a(r).cidade_natural_id,"onUpdate:modelValue":g[7]||(g[7]=k=>a(r).cidade_natural_id=k),items:a(C).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(T,{md:"4"},{default:l(()=>[ve(t(O,{modelValue:a(r).cpf_pai,"onUpdate:modelValue":g[8]||(g[8]=k=>a(r).cpf_pai=k),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[U,"###.###.###-##"]])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(O,{modelValue:a(r).nome_pai,"onUpdate:modelValue":g[9]||(g[9]=k=>a(r).nome_pai=k),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(T,{md:"4"},{default:l(()=>[ve(t(O,{modelValue:a(r).cpf_mae,"onUpdate:modelValue":g[10]||(g[10]=k=>a(r).cpf_mae=k),modelModifiers:{date:!0},label:"CPF da Mãe"},null,8,["modelValue"]),[[U,"###.###.###-##"]])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(O,{modelValue:a(r).nome_mae,"onUpdate:modelValue":g[11]||(g[11]=k=>a(r).nome_mae=k),modelModifiers:{date:!0},"error-messages":a(c).nome_mae.$errors.map(k=>k.$message),label:"Nome da Mãe",required:"",onBlur:a(c).nome_mae.$touch,onInput:a(c).nome_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),t(G,{class:"mb-3"},{default:l(()=>[t(ee,{onClick:q,size:"large",color:"red"},{default:l(()=>[J("Voltar")]),_:1}),t(ee,{onClick:g[12]||(g[12]=k=>a(h)?S():B()),class:"ml-4",size:"large",color:"green"},{default:l(()=>[J("Salvar")]),_:1})]),_:1})]),_:1}))],64)}}},pa=se.withMessage("CNPJ inválido",e=>{if(!e)return!1;const o=e.replace(/[^\d]+/g,"");if(o.length!==14||/^(\d)\1+$/.test(o))return!1;let s=o.length-2,n=o.substring(0,s);const v=o.substring(s);let p=0,i=s-7;for(let _=s;_>=1;_--)p+=parseInt(n.charAt(s-_),10)*i--,i<2&&(i=9);let m=p%11<2?0:11-p%11;if(m!==parseInt(v.charAt(0),10))return!1;s+=1,n=o.substring(0,s),p=0,i=s-7;for(let _=s;_>=1;_--)p+=parseInt(n.charAt(s-_),10)*i--,i<2&&(i=9);return m=p%11<2?0:11-p%11,m===parseInt(v.charAt(1),10)}),ga={__name:"DadosJuridica",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],setup(e,{emit:o}){const s=e,n=o,v=ke(),p=we(),{$toast:i}=ye(),m=fe(),_=`${m.public.managemant}/getPessoaById`,E=`${m.public.managemant}/createPessoa`,w=`${m.public.managemant}/updatePessoa`,{id:R}=p.params,D={nome:null,nome_fantasia:null,inscricao_estadual:null,observacao:null,doc_identificacao:null,tipo_pessoa:"JURIDICA",cartorio_id:Q("user-data").value.cartorio_id,user_id:Q("user-data").value.usuario_id},I=j(!1),A=Q("pessoa-id"),h=Ce({...D});function F(V){return V?V.replace(/[.\-/]/g,""):null}const r={nome:{required:se.withMessage("O campo é obrigatorio",ne)},doc_identificacao:{required:se.withMessage("O campo é obrigatorio",ne),cnpj:pa}},$=Me(r,h);async function C(){if(await $.value.$validate()){const V={...h};for(const x in V)V[x]===""&&(V[x]=null);const c={...V,doc_identificacao:F(h.doc_identificacao)},{data:B,error:S,status:q}=await K(E,{method:"POST",body:c},"$kpCGWBoNdd");if(q.value==="error"&&S.value.statusCode===500)i.error("Erro ao cadastrar Pessoa Juridica,o CNPJ já está cadastrado.");else{i.success("Pessoa Juridica cadastrada com sucesso!");const x=B.value.id;A.value=x;const g=Q("pessoa_token");g.value=B.value.token,I.value=!0,n("saved")}}else i.error("Erro ao cadastrar pessoa juridica, preencha os campos obrigatorios.")}async function d(){const V={...h};for(const x in V)V[x]===""&&(V[x]=null);const c={...V,doc_identificacao:F(h.doc_identificacao)},{data:B,error:S,status:q}=await K(`${w}/${R||A.value}`,{method:"PUT",body:c},"$mSTT3Fc5La");if(q.value==="success"){if(s.isModal===!0){i.success("Pessoa Juridica atualizada com sucesso!"),n("close-modal");return}i.success("Pessoa Juridica atualizada com sucesso!"),v.push("/pessoas/lista")}}async function y(){const{data:V,error:c}=await K(`${_}/${R}`,{method:"GET"},"$Y336g0ElMC");Object.assign(h,V.value)}const P=()=>{if(s.isModal===!0){n("close-modal");return}v.push("/pessoas/lista")};return Ae(()=>{R&&(y(),I.value=!0)}),(V,c)=>{const B=Se("mask");return M(),H(ie,{class:"mt-3",style:{height:"425px"}},{default:l(()=>[t(G,null,{default:l(()=>[t(T,{md:"8"},{default:l(()=>[t(O,{modelValue:a(h).nome,"onUpdate:modelValue":c[0]||(c[0]=S=>a(h).nome=S),"error-messages":a($).nome.$errors.map(S=>S.$message),label:"Razão Social",required:"",onBlur:a($).nome.$touch,onInput:a($).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(T,{md:"4"},{default:l(()=>[ve(t(O,{modelValue:a(h).doc_identificacao,"onUpdate:modelValue":c[1]||(c[1]=S=>a(h).doc_identificacao=S),"error-messages":a($).doc_identificacao.$errors.map(S=>S.$message),label:"CNPJ",required:"",onBlur:a($).doc_identificacao.$touch,onInput:a($).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[B,"##.###.###/####-##"]])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(T,{md:"8"},{default:l(()=>[t(O,{modelValue:a(h).nome_fantasia,"onUpdate:modelValue":c[2]||(c[2]=S=>a(h).nome_fantasia=S),label:"Nome Fantasia"},null,8,["modelValue"])]),_:1}),t(T,{md:"4"},{default:l(()=>[t(O,{modelValue:a(h).inscricao_estadual,"onUpdate:modelValue":c[3]||(c[3]=S=>a(h).inscricao_estadual=S),label:"Inscrição Estadual"},null,8,["modelValue"])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(T,{md:"12"},{default:l(()=>[t(O,{modelValue:a(h).observacao,"onUpdate:modelValue":c[4]||(c[4]=S=>a(h).observacao=S),label:"Observação"},null,8,["modelValue"])]),_:1})]),_:1}),t(G,{class:"mb-3"},{default:l(()=>[t(ee,{onClick:P,size:"large",color:"red"},{default:l(()=>[J("Voltar")]),_:1}),t(ee,{onClick:c[5]||(c[5]=S=>a(I)?d():C()),class:"ml-4",size:"large",color:"green"},{default:l(()=>[J("Salvar")]),_:1})]),_:1})]),_:1})}}},ba=["onClick"],_a=X("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:ft,alt:"editar"},null,-1),ya=[_a],ha=["onClick"],Va={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:We,alt:"deletar",title:"Reativar"},ka={key:1,src:qe,alt:"reativar",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"reativar"},Ca={__name:"Documentos",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(e,{emit:o}){let s,n;const v=o,p=e,{$toast:i}=ye(),m=we(),_=ke(),{id:E}=m.params,w=fe(),R=`${w.public.managemant}/listarTipoDocumento`,D=`${w.public.managemant}/listarUF`,I=`${w.public.managemant}/getPessoaDocById`,A=`${w.public.managemant}/createPessoaDoc`,h=`${w.public.managemant}/updatePessoaDoc`,F=j(!1),r=j(null),$=j(Q("user-data").value.usuario_id).value,C=Number(Q("pessoa-id").value||E),d=Ce({tabvalores_tipodoc_id:"",emissor:"",validade:"",numero:"",data_emissao:"",data_vencimento:"",tabvalores_ufemissor_id:""}),y=[{title:"Tipo",value:"tipoDocumento.descricao"},{title:"Número",value:"numero"},{title:"Emissor",value:"emissor"},{title:"UF",value:"ufEmissor.descricao"},{title:"Emissão",value:"data_emissao"},{title:"Validade",value:"data_vencimento"},{value:"actions"}],P={numero:{required:se.withMessage("O campo é obrigatorio",ne)},emissor:{required:se.withMessage("O campo é obrigatorio",ne)}},V=Me(P,d),{data:c,pending:B,refresh:S}=([s,n]=$e(async()=>Le("cliente-documentos",async()=>{const[W,b,N]=await Promise.all([$fetch(R),$fetch(D),$fetch(`${I}/${C}`)]),u=N.map(Y=>({...Y,data_emissao:Qe(Y.data_emissao),data_vencimento:Qe(Y.data_vencimento)}));return{tipoDocumentoItems:W,ufItems:b,pessoasDocsItems:u}})),s=await s,n(),s);async function q(){if(await V.value.$validate()){const W={...d};for(const f in W)W[f]===""&&(W[f]=null);const b={...W,user_id:$,pessoa_id:C},{data:N,error:u,status:Y}=await K(A,{method:"POST",body:b},"$cLGZtMLuJD");if(Y.value==="error"&&u.value.statusCode===500)i.error("Erro ao cadastrar documento,erro no sistema.");else{i.success("Documento cadastrado com sucesso!"),S();for(const f in d)d[f]="";V.value.$reset()}}else i.error("Erro ao cadastrar documento, preencha os campos obrigatorios.")}function x(W){const b=c.value.pessoasDocsItems.find(N=>N.id===W);b&&(r.value=b,F.value=!0)}async function g(W){const b={tabvalores_tipodoc_id:r.value.tabvalores_tipodoc_id,numero:r.value.numero,emissor:r.value.emissor,tabvalores_ufemissor_id:r.value.tabvalores_ufemissor_id,data_vencimento:r.value.data_vencimento,data_emissao:r.value.data_emissao},{status:N}=await K(`${h}/${W}`,{method:"PUT",body:b},"$2fkU5kgcxs");N.value==="success"&&(F.value=!1,i.success("Pessoa atualizada com sucesso!"),S())}async function U(W){W.excluido=!W.excluido;try{await K(`${h}/${W.id}`,{method:"PUT",body:JSON.stringify({excluido:W.excluido})},"$lMq37v4cfh")}catch(b){console.error("Erro ao excluir pessoa:",b)}}const k=()=>{if(p.isModal===!0){v("close-modal");return}_.push("/pessoas/lista")};return(W,b)=>{const N=vt;return M(),Z(ce,null,[a(B)?ae("",!0):(M(),H(ie,{key:0,class:"mt-3",style:{height:"425px"}},{default:l(()=>[t(G,null,{default:l(()=>[t(T,{md:"2"},{default:l(()=>[t(le,{modelValue:a(d).tabvalores_tipodoc_id,"onUpdate:modelValue":b[0]||(b[0]=u=>a(d).tabvalores_tipodoc_id=u),items:a(c).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,null,{default:l(()=>[t(O,{modelValue:a(d).numero,"onUpdate:modelValue":b[1]||(b[1]=u=>a(d).numero=u),"error-messages":a(V).numero.$errors.map(u=>u.$message),label:"Numero",required:"",onBlur:a(V).numero.$touch,onInput:a(V).numero.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(T,{md:"2"},{default:l(()=>[t(O,{modelValue:a(d).emissor,"onUpdate:modelValue":b[2]||(b[2]=u=>a(d).emissor=u),"error-messages":a(V).emissor.$errors.map(u=>u.$message),required:"",onBlur:a(V).emissor.$touch,onInput:a(V).emissor.$touch,label:"Emissor"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(T,null,{default:l(()=>[t(le,{modelValue:a(d).tabvalores_ufemissor_id,"onUpdate:modelValue":b[3]||(b[3]=u=>a(d).tabvalores_ufemissor_id=u),items:a(c).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,{md:"2"},{default:l(()=>[t(O,{modelValue:a(d).data_emissao,"onUpdate:modelValue":b[4]||(b[4]=u=>a(d).data_emissao=u),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),t(T,{md:"2"},{default:l(()=>[t(O,{modelValue:a(d).data_vencimento,"onUpdate:modelValue":b[5]||(b[5]=u=>a(d).data_vencimento=u),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1}),X("div",{class:"mt-1"},[X("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ee,alt:"novo",onClick:q})])]),_:1}),t(je,{headers:y,items:a(c).pessoasDocsItems,"item-key":"id"},{"item.actions":l(({item:u})=>[t(G,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:l(()=>[X("div",{onClick:Y=>x(u.id),title:"editar"},ya,8,ba),X("div",{onClick:Y=>U(u),title:"deletar"},[u.excluido?(M(),Z("img",Va)):(M(),Z("img",ka))],8,ha)]),_:2},1024)]),_:1},8,["items"]),t(Ue,{modelValue:a(F),"onUpdate:modelValue":b[14]||(b[14]=u=>be(F)?F.value=u:null),"max-width":"600px"},{default:l(()=>[t(Re,null,{default:l(()=>[t(pt,{style:{color:"green"}},{default:l(()=>[J("Atualizar Endereço")]),_:1}),t(gt,null,{default:l(()=>[t(G,null,{default:l(()=>[t(T,{cols:"12",md:"6"},{default:l(()=>[t(le,{modelValue:a(r).tabvalores_tipodoc_id,"onUpdate:modelValue":b[6]||(b[6]=u=>a(r).tabvalores_tipodoc_id=u),items:a(c).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(r).numero,"onUpdate:modelValue":b[7]||(b[7]=u=>a(r).numero=u),label:"Número"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(r).emissor,"onUpdate:modelValue":b[8]||(b[8]=u=>a(r).emissor=u),label:"Número"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(le,{modelValue:a(r).tabvalores_ufemissor_id,"onUpdate:modelValue":b[9]||(b[9]=u=>a(r).tabvalores_ufemissor_id=u),items:a(c).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(r).data_emissao,"onUpdate:modelValue":b[10]||(b[10]=u=>a(r).data_emissao=u),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(r).data_vencimento,"onUpdate:modelValue":b[11]||(b[11]=u=>a(r).data_vencimento=u),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(bt,null,{default:l(()=>[t(ot),t(ee,{color:"green",text:"",onClick:b[12]||(b[12]=u=>F.value=!1)},{default:l(()=>[J("Cancelar")]),_:1}),t(ee,{color:"green",text:"",onClick:b[13]||(b[13]=u=>g(a(r).id))},{default:l(()=>[J("Salvar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),t(N,{onClick:k},{default:l(()=>[t(ee,{size:"large",class:"ml-10 mb-5",color:"red"},{default:l(()=>[J("Voltar")]),_:1})]),_:1})],64)}}},wa=["onClick"],xa={key:0,style:{width:"30px",height:"30px"},src:We,alt:"Visualizar",title:"Reativar"},$a={key:1,src:qe,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Sa={__name:"Representantes",props:{isModal:{type:Boolean,default:!1}},async setup(e){let o,s;const n=e,v=fe(),{$toast:p}=ye(),i=we(),m=ke(),_=`${v.public.managemant}/pesquisarPessoas`,E=`${v.public.managemant}/listarPapeis`,w=`${v.public.managemant}/representante`,R=`${v.public.managemant}/representante`,D=`${v.public.managemant}/representante`,I=j(Q("user-data").value.cartorio_token),A=Number(Q("pessoa-id").value||h),{id:h}=i.params,F=j([]),r=j([]),$=j([]),C=j(!1),d=[{title:"Documento",align:"start",key:"representante",value:g=>{var U,k;return((U=g.representante)==null?void 0:U.doc_identificacao)||((k=g.representante)==null?void 0:k.documento)}},{title:"Pessoa",align:"start",key:"representante.nome"},{title:"Papel",align:"start",key:"papel.descricao"},{value:"actions"}],y=Ce({papeis:null,nome:null,pessoa:null,documento:null}),{data:P}=([o,s]=$e(()=>K(E,{method:"POST",body:{rotina:"CADASTRO_PJ"}},"$r2PAdeai2X")),o=await o,s(),o);$.value=P.value;async function V(){try{const{data:g,error:U}=await K(_,{method:"POST",body:{cartorio_token:I.value,documento:y.documento,nome:y.nome}},"$ssVep5GhCj");g.value.length>0?(F.value=g.value,y.pessoa=F.value[0]):F.value=[]}catch(g){console.error("Erro na requisição",g)}}const c=()=>{C.value=!0},B=async()=>{const g={representante:y.pessoa,papel:$.value.find(U=>U.id===y.papeis)};try{const{data:U,error:k,status:W}=await K(w,{method:"POST",body:{ato_id:null,representante_id:y.pessoa.id,pessoa_id:A||h,papel_id:y.papeis,user_id:Q("user-data").value.usuario_id}},"$8XMY7eo5oW");W.value==="success"?(g.id=U.value.id,p.success("Pessoa Registrada com Sucesso!"),r.value.push(g)):p.error("Erro ao registrar a pessoa!")}catch{p.error("Erro no servidor. Tente novamente.")}};async function S(){const{data:g,error:U}=await K(`${R}/${h}`,{method:"GET"},"$bMZzCc9jB6");r.value=g.value}async function q(g){g.excluido=!g.excluido,console.log(g.excluido);try{await K(`${D}/${g.id}`,{method:"PUT",body:JSON.stringify({excluido:g.excluido})},"$z8GHu9hY03")}catch(U){console.error("Erro ao excluir pessoa:",U)}}const x=()=>{if(n.isModal===!0){emit("close-modal");return}m.push("/pessoas/lista")};return Ae(()=>{h&&S()}),(g,U)=>{const k=Ao,W=vt;return M(),Z(ce,null,[t(ie,{style:{height:"660px"}},{default:l(()=>[t(G,{class:"mt-1"},{default:l(()=>[t(T,{cols:"3"},{default:l(()=>[t(O,{label:"Documento",modelValue:a(y).documento,"onUpdate:modelValue":U[0]||(U[0]=b=>a(y).documento=b)},null,8,["modelValue"])]),_:1}),t(T,{cols:"4"},{default:l(()=>[t(O,{label:"Pessoa",modelValue:a(y).nome,"onUpdate:modelValue":U[1]||(U[1]=b=>a(y).nome=b)},null,8,["modelValue"])]),_:1}),X("div",null,[X("img",{class:"mt-1",src:ma,style:{width:"40px",cursor:"pointer"},title:"Pesquisar Pessoa",onClick:V})]),X("div",null,[X("img",{class:"mt-1 ml-2",src:Ee,style:{width:"40px",cursor:"pointer"},title:"Criar Pessoa",onClick:c})])]),_:1}),t(G,null,{default:l(()=>[t(T,{cols:"4"},{default:l(()=>[t(le,{label:"Selecione a Pessoa",modelValue:a(y).pessoa,"onUpdate:modelValue":U[2]||(U[2]=b=>a(y).pessoa=b),items:a(F),"item-title":"nome","item-value":"id","return-object":"",required:""},null,8,["modelValue","items"])]),_:1}),t(T,{cols:"3"},{default:l(()=>[t(le,{label:"Papel",modelValue:a(y).papeis,"onUpdate:modelValue":U[3]||(U[3]=b=>a(y).papeis=b),items:a($),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),X("div",null,[X("img",{class:"mt-1",src:Ee,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:B})])]),_:1}),t(G,null,{default:l(()=>[t(T,null,{default:l(()=>[t(je,{style:{height:"465px"},headers:d,items:a(r)},{"item.actions":l(({item:b})=>[t(G,null,{default:l(()=>[X("div",{class:"mr-2",style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:N=>q(b),title:"Deletar Pessoa"},[b.excluido?(M(),Z("img",xa)):(M(),Z("img",$a))],8,wa)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),t(k,{show:a(C),onClose:U[4]||(U[4]=b=>C.value=!1)},null,8,["show"])]),_:1}),t(W,{onClick:x},{default:l(()=>[t(ee,{size:"large",class:"ml-10 mb-5",color:"red"},{default:l(()=>[J("Voltar")]),_:1})]),_:1})],64)}}},Ia={class:"mt-1"},Pa=["onClick"],Ea=X("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:ft,alt:"Visualizar"},null,-1),Aa=[Ea],Ta=["onClick"],Ba={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:We,alt:"Visualizar",title:"Reativar"},Da={key:1,src:qe,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},Ma={__name:"Endereco",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(e,{emit:o}){let s,n;const v=o,p=e,{$toast:i}=ye(),m=we(),{id:_}=m.params,E=ke(),w=fe(),R=`${w.public.managemant}/listarPais`,D=`${w.public.managemant}/getPessoaEnderecoById`,I=`${w.public.managemant}/createPessoaEndereco`,A=`${w.public.managemant}/updatePessoaEndereco`,h=j(Q("user-data").value.usuario_id).value,F=Number(Q("pessoa-id").value||_),r=Ce({tabvalores_pais_id:"",cidade_id:"",codcep:"",logradouro:"",numero:"",bairro:"",data_vencimento:"",tabvalores_ufemissor_id:"",complemento:"",cidade_estrangeira:""}),$=[{title:"País",value:"pais.descricao"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro",width:"200px"},{title:"N*",value:"numero"},{title:"Complemento",value:"complemento"},{title:"Bairro",value:"bairro"},{title:"Cidade",value:"cidade"},{value:"actions"}],C=j(!1),d=j(null),y=L(()=>{const N=B.value.paisItems.find(u=>u.id===r.tabvalores_pais_id);return N?N.estrangeiro:!1}),P=N=>{var u;return((u=N.cidades)==null?void 0:u.nome)||N.cidade_estrangeira},V={numero:{required:se.withMessage("O campo é obrigatorio",ne)},bairro:{required:se.withMessage("O campo é obrigatorio",ne)},logradouro:{required:se.withMessage("O campo é obrigatorio",ne)},codcep:{required:se.withMessage("O campo é obrigatorio e precisa de 8 digitos",ne)}},c=Me(V,r),{data:B,status:S,pending:q,refresh:x}=([s,n]=$e(async()=>Le("cliente-enderecos",async()=>{const[N,u,Y]=await Promise.all([$fetch(R),$fetch(`${D}/${F}`),$fetch(`${w.public.managemant}/listarCidades`)]);return{paisItems:N,enderecosItems:u,cidadesItems:Y}})),s=await s,n(),s);async function g(){if(await c.value.$validate()){const N={...r};for(const ue in N)N[ue]===""&&(N[ue]=null);const u={...N,user_id:h,pessoa_id:F},{data:Y,error:f,status:re}=await K(I,{method:"POST",body:u},"$xTfPNGciav");if(re.value==="error"&&f.value.statusCode===500)i.error("Erro ao cadastrar endereço,erro no sistema.");else{i.success("Endereço cadastrado com sucesso!"),x();for(const ue in r)r[ue]="";c.value.$reset()}}else i.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}function U(N){const u=B.value.enderecosItems.find(Y=>Y.id===N);u&&(d.value=u,C.value=!0)}async function k(N){const u={tabvalores_pais_id:d.value.tabvalores_pais_id,cidade_id:d.value.cidade_id,codcep:d.value.codcep,logradouro:d.value.logradouro,numero:d.value.numero,bairro:d.value.bairro,complemento:d.value.complemento},{status:Y}=await K(`${A}/${N}`,{method:"PUT",body:u},"$DfOGkJVB8l");Y.value==="success"&&(C.value=!1,i.success("Endereço atualizado com sucesso!"),x())}async function W(N){N.excluido=!N.excluido;try{await K(`${A}/${N.id}`,{method:"PUT",body:{excluido:N.excluido}},"$u4gWF5EA7L")}catch(u){console.error("Erro ao excluir pessoa:",u)}}const b=()=>{if(p.isModal===!0){v("close-modal");return}E.push("/pessoas/lista")};return(N,u)=>{const Y=Se("mask");return M(),Z(ce,null,[a(q)?ae("",!0):(M(),H(ie,{key:0,class:"mt-3",style:{height:"425px"}},{default:l(()=>[t(G,null,{default:l(()=>[t(T,{md:"2"},{default:l(()=>[t(le,{modelValue:a(r).tabvalores_pais_id,"onUpdate:modelValue":u[0]||(u[0]=f=>a(r).tabvalores_pais_id=f),items:a(B).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,{md:"2"},{default:l(()=>[a(y)?(M(),H(O,{key:1,modelValue:a(r).codcep,"onUpdate:modelValue":u[2]||(u[2]=f=>a(r).codcep=f),label:"CEP"},null,8,["modelValue"])):ve((M(),H(O,{key:0,modelValue:a(r).codcep,"onUpdate:modelValue":u[1]||(u[1]=f=>a(r).codcep=f),"error-messages":a(c).codcep.$errors.map(f=>f.$message),required:"",onBlur:a(c).codcep.$touch,onInput:a(c).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"])),[[Y,"########"]])]),_:1}),t(T,{md:"6"},{default:l(()=>[t(O,{modelValue:a(r).logradouro,"onUpdate:modelValue":u[3]||(u[3]=f=>a(r).logradouro=f),label:"Endereço","error-messages":a(c).logradouro.$errors.map(f=>f.$message),required:"",onBlur:a(c).logradouro.$touch,onInput:a(c).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(T,{md:"1"},{default:l(()=>[a(y)?(M(),H(O,{key:1,modelValue:a(r).numero,"onUpdate:modelValue":u[5]||(u[5]=f=>a(r).numero=f),label:"N*"},null,8,["modelValue"])):(M(),H(O,{key:0,modelValue:a(r).numero,"onUpdate:modelValue":u[4]||(u[4]=f=>a(r).numero=f),required:"","error-messages":a(c).numero.$errors.map(f=>f.$message),onBlur:a(c).numero.$touch,onInput:a(c).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),X("div",Ia,[X("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ee,alt:"novo",onClick:u[6]||(u[6]=f=>g())})]),t(T,{md:"5"},{default:l(()=>[t(O,{modelValue:a(r).complemento,"onUpdate:modelValue":u[7]||(u[7]=f=>a(r).complemento=f),label:"Complemento"},null,8,["modelValue"])]),_:1}),t(T,{md:"3"},{default:l(()=>[a(y)?(M(),H(O,{key:1,modelValue:a(r).bairro,"onUpdate:modelValue":u[9]||(u[9]=f=>a(r).bairro=f),label:"Bairro"},null,8,["modelValue"])):(M(),H(O,{key:0,modelValue:a(r).bairro,"onUpdate:modelValue":u[8]||(u[8]=f=>a(r).bairro=f),"error-messages":a(c).bairro.$errors.map(f=>f.$message),required:"",onBlur:a(c).bairro.$touch,onInput:a(c).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),t(T,{md:"3"},{default:l(()=>[a(y)?(M(),H(O,{key:1,modelValue:a(r).cidade_estrangeira,"onUpdate:modelValue":u[11]||(u[11]=f=>a(r).cidade_estrangeira=f),label:"Cidade Estrangeira"},null,8,["modelValue"])):(M(),H(le,{key:0,modelValue:a(r).cidade_id,"onUpdate:modelValue":u[10]||(u[10]=f=>a(r).cidade_id=f),items:a(B).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"]))]),_:1})]),_:1}),t(je,{headers:$,items:a(B).enderecosItems,"item-key":"id"},{"item.cidade":l(({item:f})=>[X("span",null,at(P(f)),1)]),"item.actions":l(({item:f})=>[t(G,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:l(()=>[X("div",{onClick:re=>U(f.id),title:"Visualizar"},Aa,8,Pa),X("div",{onClick:re=>W(f),title:"Visualizar"},[f.excluido?(M(),Z("img",Ba)):(M(),Z("img",Da))],8,Ta)]),_:2},1024)]),_:1},8,["items"]),t(Ue,{modelValue:a(C),"onUpdate:modelValue":u[22]||(u[22]=f=>be(C)?C.value=f:null),"max-width":"600px"},{default:l(()=>[t(Re,null,{default:l(()=>[t(pt,{style:{color:"green"}},{default:l(()=>[J("Atualizar Endereço")]),_:1}),t(gt,null,{default:l(()=>[t(G,null,{default:l(()=>[t(T,{cols:"12",md:"6"},{default:l(()=>[t(le,{modelValue:a(d).tabvalores_pais_id,"onUpdate:modelValue":u[12]||(u[12]=f=>a(d).tabvalores_pais_id=f),items:a(B).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(d).logradouro,"onUpdate:modelValue":u[13]||(u[13]=f=>a(d).logradouro=f),label:"Logradouro"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(d).complemento,"onUpdate:modelValue":u[14]||(u[14]=f=>a(d).complemento=f),label:"Complemento"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(d).numero,"onUpdate:modelValue":u[15]||(u[15]=f=>a(d).numero=f),label:"Número"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(d).bairro,"onUpdate:modelValue":u[16]||(u[16]=f=>a(d).bairro=f),label:"Bairro"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(d).codcep,"onUpdate:modelValue":u[17]||(u[17]=f=>a(d).codcep=f),label:"CEP"},null,8,["modelValue"])]),_:1}),t(T,{cols:"12",md:"6"},{default:l(()=>[a(d).cidade_estrangeira?(M(),H(O,{key:1,modelValue:a(d).cidade_estrangeira,"onUpdate:modelValue":u[19]||(u[19]=f=>a(d).cidade_estrangeira=f),label:"Cidade Estrangeira"},null,8,["modelValue"])):(M(),H(le,{key:0,modelValue:a(d).cidade_id,"onUpdate:modelValue":u[18]||(u[18]=f=>a(d).cidade_id=f),items:a(B).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"]))]),_:1})]),_:1})]),_:1}),t(bt,null,{default:l(()=>[t(ot),t(ee,{color:"green",text:"",onClick:u[20]||(u[20]=f=>C.value=!1)},{default:l(()=>[J("Cancelar")]),_:1}),t(ee,{color:"green",text:"",onClick:u[21]||(u[21]=f=>k(a(d).id))},{default:l(()=>[J("Salvar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),t(ee,{onClick:b,class:"ml-10 mb-5",size:"large",color:"red"},{default:l(()=>[J("Voltar")]),_:1})],64)}}},Ua={class:"finger-container"},Ra=["onClick"],Fa=["onClick"],Na={__name:"Digital",setup(e){const o=j(["E1","E2","E3","E4","E5"]);var s=j(["red","red","red","red","red"]);const n=j(["D1","D2","D3","D4","D5"]);var v=j(["red","red","red","red","red"]);const p=we(),{$toast:i}=ye(),m=fe(),{id:_}=p.params,E=j(Q("pessoa-id").value).value,w=`${m.public.biometria}/capture-finger`,R=`${m.public.managemant}/createPessoaBiometria`,D=`${m.public.managemant}/getPessoaBiometriaById`;async function I(){const{status:r,data:$}=await K(`${D}/${_||E}`,{method:"GET"},"$wrCckM1pY4");r.value==="success"&&$.value&&$.value.forEach(C=>{(o.value.includes(C.dedo)||n.value.includes(C.dedo))&&h(C.dedo,"green")})}Ae(()=>{I()});async function A(r){const{status:$,data:C}=await K(w,{method:"GET"},"$b5yqRnLFV9");if($.value==="success"){const d=C.value.hash,y={user_id:Q("user-data").value.usuario_id,pessoa_id:Number(_)||E,dedo:r,hash:d},{status:P}=await K(R,{method:"POST",body:y},"$cWP9jlCX2Z");P.value==="success"?(i.success("Biometria enviada com sucesso!"),h(r,"green")):i.error("Falha ao enviar a biometria.")}else i.error("Erro ao Capturar biometria para o sistema.")}function h(r,$){const C=o.value.findIndex(d=>d===r);if(C!==-1)s.value[C]=$;else{const d=n.value.findIndex(y=>y===r);d!==-1&&(v.value[d]=$)}}function F(r,$){const d={E1:{top:82,left:-10},E2:{top:35,left:4},E3:{top:0,left:30},E4:{top:15,left:75},E5:{top:50,left:170},D1:{top:50,left:210},D2:{top:18,left:300},D3:{top:5,left:350},D4:{top:35,left:375},D5:{top:80,left:390}}[r];let y="red";if($==="left"){const P=o.value.indexOf(r);P!==-1&&(y=s.value[P])}else if($==="right"){const P=n.value.indexOf(r);P!==-1&&(y=v.value[P])}return{backgroundColor:y,top:`${d.top}px`,left:`${d.left}px`}}return(r,$)=>(M(),H(T,{style:{"margin-top":"20px"},cols:"auto",class:"biometria-container"},{default:l(()=>[X("div",Ua,[(M(!0),Z(ce,null,Ge(a(o),(C,d)=>(M(),Z("div",{key:d,class:"finger",style:Ne(F(C,"left")),onClick:y=>A(C)},null,12,Ra))),128)),(M(!0),Z(ce,null,Ge(a(n),(C,d)=>(M(),Z("div",{key:d,class:"finger",style:Ne(F(C,"right")),onClick:y=>A(C)},null,12,Fa))),128))])]),_:1}))}},za=lt(Na,[["__scopeId","data-v-02650459"]]),Oa="data:image/png;base64,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",Ye=Symbol.for("vuetify:v-slider");function La(e,o,s){const n=s==="vertical",v=o.getBoundingClientRect(),p="touches"in e?e.touches[0]:e;return n?p.clientY-(v.top+v.height/2):p.clientX-(v.left+v.width/2)}function ja(e,o){return"touches"in e&&e.touches.length?e.touches[0][o]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][o]:e[o]}const Wa=me({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...At(),...Tt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),qa=e=>{const o=L(()=>parseFloat(e.min)),s=L(()=>parseFloat(e.max)),n=L(()=>+e.step>0?parseFloat(e.step):0),v=L(()=>Math.max(Ke(n.value),Ke(o.value)));function p(i){if(i=parseFloat(i),n.value<=0)return i;const m=nt(i,o.value,s.value),_=o.value%n.value,E=Math.round((m-_)/n.value)*n.value+_;return parseFloat(Math.min(E,s.value).toFixed(v.value))}return{min:o,max:s,step:n,decimals:v,roundValue:p}},Ya=e=>{let{props:o,steps:s,onSliderStart:n,onSliderMove:v,onSliderEnd:p,getActiveThumb:i}=e;const{isRtl:m}=Te(),_=oe(o,"reverse"),E=L(()=>o.direction==="vertical"),w=L(()=>E.value!==_.value),{min:R,max:D,step:I,decimals:A,roundValue:h}=s,F=L(()=>parseInt(o.thumbSize,10)),r=L(()=>parseInt(o.tickSize,10)),$=L(()=>parseInt(o.trackSize,10)),C=L(()=>(D.value-R.value)/I.value),d=oe(o,"disabled"),y=L(()=>o.error||o.disabled?void 0:o.thumbColor??o.color),P=L(()=>o.error||o.disabled?void 0:o.trackColor??o.color),V=L(()=>o.error||o.disabled?void 0:o.trackFillColor??o.color),c=xe(!1),B=xe(0),S=j(),q=j();function x(z){var Xe;const te=o.direction==="vertical",wt=te?"top":"left",xt=te?"height":"width",$t=te?"clientY":"clientX",{[wt]:St,[xt]:It}=(Xe=S.value)==null?void 0:Xe.$el.getBoundingClientRect(),Pt=ja(z,$t);let Fe=Math.min(Math.max((Pt-St-B.value)/It,0),1)||0;return(te?w.value:w.value!==m.value)&&(Fe=1-Fe),h(R.value+Fe*(D.value-R.value))}const g=z=>{p({value:x(z)}),c.value=!1,B.value=0},U=z=>{q.value=i(z),q.value&&(q.value.focus(),c.value=!0,q.value.contains(z.target)?B.value=La(z,q.value,o.direction):(B.value=0,v({value:x(z)})),n({value:x(z)}))},k={passive:!0,capture:!0};function W(z){v({value:x(z)})}function b(z){z.stopPropagation(),z.preventDefault(),g(z),window.removeEventListener("mousemove",W,k),window.removeEventListener("mouseup",b)}function N(z){var te;g(z),window.removeEventListener("touchmove",W,k),(te=z.target)==null||te.removeEventListener("touchend",N)}function u(z){var te;U(z),window.addEventListener("touchmove",W,k),(te=z.target)==null||te.addEventListener("touchend",N,{passive:!1})}function Y(z){z.preventDefault(),U(z),window.addEventListener("mousemove",W,k),window.addEventListener("mouseup",b,{passive:!1})}const f=z=>{const te=(z-R.value)/(D.value-R.value)*100;return nt(isNaN(te)?0:te,0,100)},re=oe(o,"showTicks"),ue=L(()=>re.value?o.ticks?Array.isArray(o.ticks)?o.ticks.map(z=>({value:z,position:f(z),label:z.toString()})):Object.keys(o.ticks).map(z=>({value:parseFloat(z),position:f(parseFloat(z)),label:o.ticks[z]})):C.value!==1/0?Bt(C.value+1).map(z=>{const te=R.value+z*I.value;return{value:te,position:f(te)}}):[]:[]),Ie=L(()=>ue.value.some(z=>{let{label:te}=z;return!!te})),Pe={activeThumbRef:q,color:oe(o,"color"),decimals:A,disabled:d,direction:oe(o,"direction"),elevation:oe(o,"elevation"),hasLabels:Ie,isReversed:_,indexFromEnd:w,min:R,max:D,mousePressed:c,numTicks:C,onSliderMousedown:Y,onSliderTouchstart:u,parsedTicks:ue,parseMouseMove:x,position:f,readonly:oe(o,"readonly"),rounded:oe(o,"rounded"),roundValue:h,showTicks:re,startOffset:B,step:I,thumbSize:F,thumbColor:y,thumbLabel:oe(o,"thumbLabel"),ticks:oe(o,"ticks"),tickSize:r,trackColor:P,trackContainerRef:S,trackFillColor:V,trackSize:$,vertical:E};return st(Ye,Pe),Pe},Ha=me({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Be()},"VSliderThumb"),Xa=pe()({name:"VSliderThumb",directives:{Ripple:Dt},props:Ha(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:s,emit:n}=o;const v=De(Ye),{isRtl:p,rtlClasses:i}=Te();if(!v)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:m,step:_,disabled:E,thumbSize:w,thumbLabel:R,direction:D,isReversed:I,vertical:A,readonly:h,elevation:F,mousePressed:r,decimals:$,indexFromEnd:C}=v,d=L(()=>E.value?void 0:F.value),{elevationClasses:y}=Mt(d),{textColorClasses:P,textColorStyles:V}=it(m),{pageup:c,pagedown:B,end:S,home:q,left:x,right:g,down:U,up:k}=Rt,W=[c,B,S,q,x,g,U,k],b=L(()=>_.value?[1,2,3]:[1,5,10]);function N(Y,f){if(!W.includes(Y.key))return;Y.preventDefault();const re=_.value||.1,ue=(e.max-e.min)/re;if([x,g,U,k].includes(Y.key)){const Pe=(A.value?[p.value?x:g,I.value?U:k]:C.value!==p.value?[x,k]:[g,k]).includes(Y.key)?1:-1,z=Y.shiftKey?2:Y.ctrlKey?1:0;f=f+Pe*re*b.value[z]}else if(Y.key===q)f=e.min;else if(Y.key===S)f=e.max;else{const Ie=Y.key===B?1:-1;f=f-Ie*re*(ue>100?ue/10:10)}return Math.max(e.min,Math.min(e.max,f))}function u(Y){const f=N(Y,e.modelValue);f!=null&&n("update:modelValue",f)}return ge(()=>{const Y=de(C.value?100-e.position:e.position,"%");return t("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&r.value},e.class,i.value],style:[{"--v-slider-thumb-position":Y,"--v-slider-thumb-size":de(w.value)},e.style],role:"slider",tabindex:E.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!h.value,"aria-orientation":D.value,onKeydown:h.value?void 0:u},[t("div",{class:["v-slider-thumb__surface",P.value,y.value],style:{...V.value}},null),ve(t("div",{class:["v-slider-thumb__ripple",P.value],style:V.value},null),[[Se("ripple"),e.ripple,null,{circle:!0,center:!0}]]),t(Ut,{origin:"bottom center"},{default:()=>{var f;return[ve(t("div",{class:"v-slider-thumb__label-container"},[t("div",{class:["v-slider-thumb__label"]},[t("div",null,[((f=s["thumb-label"])==null?void 0:f.call(s,{modelValue:e.modelValue}))??e.modelValue.toFixed(_.value?$.value:1)])])]),[[rt,R.value&&e.focused||R.value==="always"]])]}})])}),{}}}),Ga=me({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Be()},"VSliderTrack"),Ka=pe()({name:"VSliderTrack",props:Ga(),emits:{},setup(e,o){let{slots:s}=o;const n=De(Ye);if(!n)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:v,parsedTicks:p,rounded:i,showTicks:m,tickSize:_,trackColor:E,trackFillColor:w,trackSize:R,vertical:D,min:I,max:A,indexFromEnd:h}=n,{roundedClasses:F}=Ft(i),{backgroundColorClasses:r,backgroundColorStyles:$}=ze(w),{backgroundColorClasses:C,backgroundColorStyles:d}=ze(E),y=L(()=>`inset-${D.value?"block":"inline"}-${h.value?"end":"start"}`),P=L(()=>D.value?"height":"width"),V=L(()=>({[y.value]:"0%",[P.value]:"100%"})),c=L(()=>e.stop-e.start),B=L(()=>({[y.value]:de(e.start,"%"),[P.value]:de(c.value,"%")})),S=L(()=>m.value?(D.value?p.value.slice().reverse():p.value).map((x,g)=>{var k;const U=x.value!==I.value&&x.value!==A.value?de(x.position,"%"):void 0;return t("div",{key:x.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":x.position>=e.start&&x.position<=e.stop,"v-slider-track__tick--first":x.value===I.value,"v-slider-track__tick--last":x.value===A.value}],style:{[y.value]:U}},[(x.label||s["tick-label"])&&t("div",{class:"v-slider-track__tick-label"},[((k=s["tick-label"])==null?void 0:k.call(s,{tick:x,index:g}))??x.label])])}):[]);return ge(()=>t("div",{class:["v-slider-track",F.value,e.class],style:[{"--v-slider-track-size":de(R.value),"--v-slider-tick-size":de(_.value)},e.style]},[t("div",{class:["v-slider-track__background",C.value,{"v-slider-track__background--opacity":!!v.value||!w.value}],style:{...V.value,...d.value}},null),t("div",{class:["v-slider-track__fill",r.value],style:{...B.value,...$.value}},null),m.value&&t("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":m.value==="always"}]},[S.value])])),{}}}),Ja=me({...Nt(),...Wa(),...zt(),modelValue:{type:[Number,String],default:0}},"VSlider"),Qa=pe()({name:"VSlider",props:Ja(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,o){let{slots:s,emit:n}=o;const v=j(),{rtlClasses:p}=Te(),i=qa(e),m=Oe(e,"modelValue",void 0,P=>i.roundValue(P??i.min.value)),{min:_,max:E,mousePressed:w,roundValue:R,onSliderMousedown:D,onSliderTouchstart:I,trackContainerRef:A,position:h,hasLabels:F,readonly:r}=Ya({props:e,steps:i,onSliderStart:()=>{n("start",m.value)},onSliderEnd:P=>{let{value:V}=P;const c=R(V);m.value=c,n("end",c)},onSliderMove:P=>{let{value:V}=P;return m.value=R(V)},getActiveThumb:()=>{var P;return(P=v.value)==null?void 0:P.$el}}),{isFocused:$,focus:C,blur:d}=Ot(e),y=L(()=>h(m.value));return ge(()=>{const P=Je.filterProps(e),V=!!(e.label||s.label||s.prepend);return t(Je,_e({class:["v-slider",{"v-slider--has-labels":!!s["tick-label"]||F.value,"v-slider--focused":$.value,"v-slider--pressed":w.value,"v-slider--disabled":e.disabled},p.value,e.class],style:e.style},P,{focused:$.value}),{...s,prepend:V?c=>{var B,S;return t(ce,null,[((B=s.label)==null?void 0:B.call(s,c))??(e.label?t(Lt,{id:c.id.value,class:"v-slider__label",text:e.label},null):void 0),(S=s.prepend)==null?void 0:S.call(s,c)])}:void 0,default:c=>{let{id:B,messagesId:S}=c;return t("div",{class:"v-slider__container",onMousedown:r.value?void 0:D,onTouchstartPassive:r.value?void 0:I},[t("input",{id:B.value,name:e.name||B.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:m.value},null),t(Ka,{ref:A,start:0,stop:y.value},{"tick-label":s["tick-label"]}),t(Xa,{ref:v,"aria-describedby":S.value,focused:$.value,min:_.value,max:E.value,modelValue:m.value,"onUpdate:modelValue":q=>m.value=q,position:y.value,elevation:e.elevation,onFocus:C,onBlur:d,ripple:e.ripple,name:e.name},{"thumb-label":s["thumb-label"]})])}})}),{}}}),Za={key:0,src:Oa},eo=["src"],to={__name:"ReconhecimentoFacial",async setup(e){let o,s;const n=j(null),v=j([]),p=j(""),i=j(!1);j(null);const m=j(null),_=we(),{id:E}=_.params,w=j(1),D=Q("pessoa_token").value,A=Q("user-data").value.nome,h=fe(),F=`${h.public.managemant}/uploadPessoa`,r=`${h.public.managemant}/getLinkTipo`,{$toast:$}=ye(),C=async()=>{const c=await navigator.mediaDevices.enumerateDevices();v.value=c.filter(B=>B.kind==="videoinput").map(B=>({deviceId:B.deviceId,label:B.label||`Camera ${v.value.length+1}`}))},d=async()=>{i.value=!0;try{await navigator.mediaDevices.getUserMedia({video:!0}),await C()}catch(c){console.error("Erro ao acessar dispositivos de mídia:",c)}},y=()=>{i.value=!1;const c=n.value.srcObject;c&&c.getTracks().forEach(S=>S.stop())},P=async()=>{if(p.value){const c=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:p.value}}});n.value.srcObject=c}},V=async()=>{const c=document.createElement("canvas"),B=c.getContext("2d"),S=n.value.videoWidth,q=n.value.videoHeight,x=S*w.value,g=q*w.value,U=(S-x)/2,k=(q-g)/2;c.width=S,c.height=q,B.drawImage(n.value,U,k,x,g),c.toBlob(async W=>{const b=new FormData;b.append("file",W,`${A}.jpg`),b.append("pessoa_token",D),b.append("tipo","foto");const{status:N}=await K(F,{method:"POST",body:b},"$fRRPU47ULS");if(N.value==="success"){$.success("Imagem enviada!");const u=URL.createObjectURL(W);m.value=u,y()}else $.error("Erro ao enviar imagem para o sistema.")},"image/jpeg")};if(E){const{data:c}=([o,s]=$e(()=>K(r,{method:"POST",body:{tipo:"foto",id:E}},"$N16ZtKMkSh")),o=await o,s(),o);c.value!==null&&c.value.link!==null&&(m.value=`data:image/jpeg;base64,${c.value.link}`)}return Ae(async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await C()}catch(c){console.error("Erro ao acessar dispositivos de mídia:",c)}}),(c,B)=>(M(),H(T,{cols:"auto"},{default:l(()=>[t(Ue,{"max-width":"700",modelValue:a(i),"onUpdate:modelValue":B[2]||(B[2]=S=>be(i)?i.value=S:null)},{activator:l(({props:S})=>[t(ee,_e(S,{variant:"outlined",style:{width:"300px",height:"300px"},onClick:d}),{default:l(()=>[a(m)===null?(M(),Z("img",Za)):ae("",!0),a(m)!==null?(M(),Z("img",{key:1,src:a(m),style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,eo)):ae("",!0)]),_:2},1040)]),default:l(({isActive:S})=>[t(Re,{title:"Biometria"},{default:l(()=>[t(G,null,{default:l(()=>[t(T,null,{default:l(()=>[t(ie,null,{default:l(()=>[t(ua,{items:a(v),modelValue:a(p),"onUpdate:modelValue":B[0]||(B[0]=q=>be(p)?p.value=q:null),"item-title":"label","item-value":"deviceId",label:"Selecionar Webcam"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(T,null,{default:l(()=>[t(ee,{size:"large",class:"ml-5",onClick:P},{default:l(()=>[J("Exibir")]),_:1})]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(ie,{style:{overflow:"hidden"}},{default:l(()=>[t(T,null,{default:l(()=>[X("video",{class:"ml-3",ref_key:"video",ref:n,width:"640",height:"480",autoplay:"",style:Ne({transform:`scale(${a(w)})`,transformOrigin:"center center"})},null,4)]),_:1})]),_:1})]),_:1}),t(ie,null,{default:l(()=>[t(Qa,{modelValue:a(w),"onUpdate:modelValue":B[1]||(B[1]=q=>be(w)?w.value=q:null),min:1,max:3,step:"0.1",label:"Zoom"},null,8,["modelValue"])]),_:1}),t(G,{class:"mt-10 mb-5 ml-5"},{default:l(()=>[t(ee,{color:"red",size:"large",onClick:y},{default:l(()=>[J("Fechar")]),_:1}),t(ee,{color:"green",size:"large",class:"ml-5",onClick:V},{default:l(()=>[J("Salvar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},ao=""+new URL("escanearFicha.CgD8l9Wn.png",import.meta.url).href,oo={__name:"Scanner",setup(e){const o=fe(),{$toast:s}=ye(),n=`${o.public.envioDoc}`,v=`${o.public.biometria}/run-scanner`,i=Q("pessoa_token").value;async function m(){try{await _(),await E()}catch(w){console.error("Erro ao executar scanner ou listar arquivos:",w)}}async function _(){try{const{data:w}=await K(v,{method:"GET"},"$qlTK399Ixo")}catch(w){s.error("Erro ao acionar o scanner:",w)}}async function E(){try{const{status:w,data:R}=await K(n,{method:"POST",body:{tipo:"ficha",pessoa_token:i}},"$JkvEThvk9m");console.log(R.value)}catch(w){console.error("Erro ao enviar o arquivo:",w)}}return(w,R)=>(M(),Z("div",null,[X("img",{onClick:m,src:ao,style:{width:"280px",height:"120px",cursor:"pointer","margin-top":"30px"}})]))}},lo=""+new URL("imprimirFicha.BlhLZ85F.png",import.meta.url).href,so={style:{display:"flex","flex-direction":"column"}},no={__name:"Impressao",setup(e){const o=j(""),n=`${fe().public.managemant}/gerarRelatorio`,v=async()=>{const i=await K(n,{method:"POST",body:{consulta:"FICHA ASSINATURA",pessoa_token:Q("pessoa_token").value}},"$LOyFO5WGQE");o.value=i.data.value},p=async()=>{await v();const i=document.createElement("iframe");i.style.position="absolute",i.style.width="0px",i.style.height="0px",i.style.border="none",document.body.appendChild(i);const m=i.contentWindow.document;m.open(),m.write(o.value),m.close(),i.contentWindow.focus(),i.contentWindow.print(),document.body.removeChild(i)};return(i,m)=>{const _=oo;return M(),H(T,{cols:"auto"},{default:l(()=>[X("div",so,[X("img",{onClick:m[0]||(m[0]=E=>p()),src:lo,style:{width:"280px",height:"120px",cursor:"pointer"}}),t(_)])]),_:1})}}},io={__name:"Index",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],setup(e,{emit:o}){const s=ke(),n=o,v=e,p=()=>{if(v.isModal===!0){n("close-modal");return}s.push("/pessoas/lista")};return(i,m)=>{const _=za,E=to,w=no;return M(),Z(ce,null,[t(ie,null,{default:l(()=>[t(G,{class:"d-flex align-items-center"},{default:l(()=>[t(_),t(E,{class:"ml-5 mr-5"}),t(w)]),_:1})]),_:1}),t(ee,{onClick:p,class:"mt-10",size:"large",color:"red"},{default:l(()=>[J("Voltar")]),_:1})],64)}}},ro={},uo={style:{height:"425px"}},co=X("h1",null,"Restrições",-1),mo=[co];function vo(e,o){return M(),Z("div",uo,mo)}const fo=lt(ro,[["render",vo]]),He=Symbol.for("vuetify:v-tabs"),po=me({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ut(jt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),he=pe()({name:"VTab",props:po(),setup(e,o){let{slots:s,attrs:n}=o;const{textColorClasses:v,textColorStyles:p}=it(e,"sliderColor"),i=j(),m=j(),_=L(()=>e.direction==="horizontal"),E=L(()=>{var R,D;return((D=(R=i.value)==null?void 0:R.group)==null?void 0:D.isSelected.value)??!1});function w(R){var I,A;let{value:D}=R;if(D){const h=(A=(I=i.value)==null?void 0:I.$el.parentElement)==null?void 0:A.querySelector(".v-tab--selected .v-tab__slider"),F=m.value;if(!h||!F)return;const r=getComputedStyle(h).color,$=h.getBoundingClientRect(),C=F.getBoundingClientRect(),d=_.value?"x":"y",y=_.value?"X":"Y",P=_.value?"right":"bottom",V=_.value?"width":"height",c=$[d],B=C[d],S=c>B?$[P]-C[P]:$[d]-C[d],q=Math.sign(S)>0?_.value?"right":"bottom":Math.sign(S)<0?_.value?"left":"top":"center",g=(Math.abs(S)+(Math.sign(S)<0?$[V]:C[V]))/Math.max($[V],C[V])||0,U=$[V]/C[V]||0,k=1.5;qt(F,{backgroundColor:[r,"currentcolor"],transform:[`translate${y}(${S}px) scale${y}(${U})`,`translate${y}(${S/k}px) scale${y}(${(g-1)/k+1})`,"none"],transformOrigin:Array(3).fill(q)},{duration:225,easing:Yt})}}return ge(()=>{const R=ee.filterProps(e);return t(ee,_e({symbol:He,ref:i,class:["v-tab",e.class],style:e.style,tabindex:E.value?0:-1,role:"tab","aria-selected":String(E.value),active:!1},R,n,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":w}),{...s,default:()=>{var D;return t(ce,null,[((D=s.default)==null?void 0:D.call(s))??e.text,!e.hideSlider&&t("div",{ref:m,class:["v-tab__slider",v.value],style:p.value},null)])}})}),Wt({},i)}}),go=e=>{const{touchstartX:o,touchendX:s,touchstartY:n,touchendY:v}=e,p=.5,i=16;e.offsetX=s-o,e.offsetY=v-n,Math.abs(e.offsetY)<p*Math.abs(e.offsetX)&&(e.left&&s<o-i&&e.left(e),e.right&&s>o+i&&e.right(e)),Math.abs(e.offsetX)<p*Math.abs(e.offsetY)&&(e.up&&v<n-i&&e.up(e),e.down&&v>n+i&&e.down(e))};function bo(e,o){var n;const s=e.changedTouches[0];o.touchstartX=s.clientX,o.touchstartY=s.clientY,(n=o.start)==null||n.call(o,{originalEvent:e,...o})}function _o(e,o){var n;const s=e.changedTouches[0];o.touchendX=s.clientX,o.touchendY=s.clientY,(n=o.end)==null||n.call(o,{originalEvent:e,...o}),go(o)}function yo(e,o){var n;const s=e.changedTouches[0];o.touchmoveX=s.clientX,o.touchmoveY=s.clientY,(n=o.move)==null||n.call(o,{originalEvent:e,...o})}function ho(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:s=>bo(s,o),touchend:s=>_o(s,o),touchmove:s=>yo(s,o)}}function Vo(e,o){var m;const s=o.value,n=s!=null&&s.parent?e.parentElement:e,v=(s==null?void 0:s.options)??{passive:!0},p=(m=o.instance)==null?void 0:m.$.uid;if(!n||!p)return;const i=ho(o.value);n._touchHandlers=n._touchHandlers??Object.create(null),n._touchHandlers[p]=i,dt(i).forEach(_=>{n.addEventListener(_,i[_],v)})}function ko(e,o){var p,i;const s=(p=o.value)!=null&&p.parent?e.parentElement:e,n=(i=o.instance)==null?void 0:i.$.uid;if(!(s!=null&&s._touchHandlers)||!n)return;const v=s._touchHandlers[n];dt(v).forEach(m=>{s.removeEventListener(m,v[m])}),delete s._touchHandlers[n]}const _t={mounted:Vo,unmounted:ko},Co=_t,yt=Symbol.for("vuetify:v-window"),ht=Symbol.for("vuetify:v-window-group"),Vt=me({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Be(),...ct(),...Ht()},"VWindow"),et=pe()({name:"VWindow",directives:{Touch:_t},props:Vt(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:s}=o;const{themeClasses:n}=Xt(e),{isRtl:v}=Te(),{t:p}=Gt(),i=Kt(e,ht),m=j(),_=L(()=>v.value?!e.reverse:e.reverse),E=xe(!1),w=L(()=>{const d=e.direction==="vertical"?"y":"x",P=(_.value?!E.value:E.value)?"-reverse":"";return`v-window-${d}${P}-transition`}),R=xe(0),D=j(void 0),I=L(()=>i.items.value.findIndex(d=>i.selected.value.includes(d.id)));mt(I,(d,y)=>{const P=i.items.value.length,V=P-1;P<=2?E.value=d<y:d===V&&y===0?E.value=!0:d===0&&y===V?E.value=!1:E.value=d<y}),st(yt,{transition:w,isReversed:E,transitionCount:R,transitionHeight:D,rootRef:m});const A=L(()=>e.continuous||I.value!==0),h=L(()=>e.continuous||I.value!==i.items.value.length-1);function F(){A.value&&i.prev()}function r(){h.value&&i.next()}const $=L(()=>{const d=[],y={icon:v.value?e.nextIcon:e.prevIcon,class:`v-window__${_.value?"right":"left"}`,onClick:i.prev,"aria-label":p("$vuetify.carousel.prev")};d.push(A.value?s.prev?s.prev({props:y}):t(ee,y,null):t("div",null,null));const P={icon:v.value?e.prevIcon:e.nextIcon,class:`v-window__${_.value?"left":"right"}`,onClick:i.next,"aria-label":p("$vuetify.carousel.next")};return d.push(h.value?s.next?s.next({props:P}):t(ee,P,null):t("div",null,null)),d}),C=L(()=>e.touch===!1?e.touch:{...{left:()=>{_.value?F():r()},right:()=>{_.value?r():F()},start:y=>{let{originalEvent:P}=y;P.stopPropagation()}},...e.touch===!0?{}:e.touch});return ge(()=>ve(t(e.tag,{ref:m,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},n.value,e.class],style:e.style},{default:()=>{var d,y;return[t("div",{class:"v-window__container",style:{height:D.value}},[(d=s.default)==null?void 0:d.call(s,{group:i}),e.showArrows!==!1&&t("div",{class:"v-window__controls"},[$.value])]),(y=s.additional)==null?void 0:y.call(s,{group:i})]}}),[[Se("touch"),C.value]])),{group:i}}}),wo=me({...ut(Vt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),kt=pe()({name:"VTabsWindow",props:wo(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:s}=o;const n=De(He,null),v=Oe(e,"modelValue"),p=L({get(){var i;return v.value!=null||!n?v.value:(i=n.items.value.find(m=>n.selected.value.includes(m.id)))==null?void 0:i.value},set(i){v.value=i}});return ge(()=>{const i=et.filterProps(e);return t(et,_e({_as:"VTabsWindow"},i,{modelValue:p.value,"onUpdate:modelValue":m=>p.value=m,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),s)}),{}}}),Ct=me({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Be(),...Jt(),...Qt()},"VWindowItem"),tt=pe()({name:"VWindowItem",directives:{Touch:Co},props:Ct(),emits:{"group:selected":e=>!0},setup(e,o){let{slots:s}=o;const n=De(yt),v=Zt(e,ht),{isBooted:p}=ca();if(!n||!v)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const i=xe(!1),m=L(()=>p.value&&(n.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function _(){!i.value||!n||(i.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,n.transitionCount.value===0&&(n.transitionHeight.value=void 0)))}function E(){var A;i.value||!n||(i.value=!0,n.transitionCount.value===0&&(n.transitionHeight.value=de((A=n.rootRef.value)==null?void 0:A.clientHeight)),n.transitionCount.value+=1)}function w(){_()}function R(A){i.value&&aa(()=>{!m.value||!i.value||!n||(n.transitionHeight.value=de(A.clientHeight))})}const D=L(()=>{const A=n.isReversed.value?e.reverseTransition:e.transition;return m.value?{name:typeof A!="string"?n.transition.value:A,onBeforeEnter:E,onAfterEnter:_,onEnterCancelled:w,onBeforeLeave:E,onAfterLeave:_,onLeaveCancelled:w,onEnter:R}:!1}),{hasContent:I}=ea(e,v.isSelected);return ge(()=>t(ta,{transition:D.value,disabled:!p.value},{default:()=>{var A;return[ve(t("div",{class:["v-window-item",v.selectedClass.value,e.class],style:e.style},[I.value&&((A=s.default)==null?void 0:A.call(s))]),[[rt,v.isSelected.value]])]}})),{groupItem:v}}}),xo=me({...Ct()},"VTabsWindowItem"),Ve=pe()({name:"VTabsWindowItem",props:xo(),setup(e,o){let{slots:s}=o;return ge(()=>{const n=tt.filterProps(e);return t(tt,_e({_as:"VTabsWindowItem"},n,{class:["v-tabs-window-item",e.class],style:e.style}),s)}),{}}});function $o(e){return e?e.map(o=>ia(o)?o:{text:o,value:o}):[]}const So=me({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...da({mandatory:"force",selectedClass:"v-tab-item--selected"}),...oa(),...ct()},"VTabs"),Io=pe()({name:"VTabs",props:So(),emits:{"update:modelValue":e=>!0},setup(e,o){let{attrs:s,slots:n}=o;const v=Oe(e,"modelValue"),p=L(()=>$o(e.items)),{densityClasses:i}=la(e),{backgroundColorClasses:m,backgroundColorStyles:_}=ze(oe(e,"bgColor")),{scopeId:E}=sa();return na({VTab:{color:oe(e,"color"),direction:oe(e,"direction"),stacked:oe(e,"stacked"),fixed:oe(e,"fixedTabs"),sliderColor:oe(e,"sliderColor"),hideSlider:oe(e,"hideSlider")}}),ge(()=>{const w=Ze.filterProps(e),R=!!(n.window||e.items.length>0);return t(ce,null,[t(Ze,_e(w,{modelValue:v.value,"onUpdate:modelValue":D=>v.value=D,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},i.value,m.value,e.class],style:[{"--v-tabs-height":de(e.height)},_.value,e.style],role:"tablist",symbol:He},E,s),{default:()=>{var D;return[((D=n.default)==null?void 0:D.call(n))??p.value.map(I=>{var A;return((A=n.tab)==null?void 0:A.call(n,{item:I}))??t(he,_e(I,{key:I.text,value:I.value}),{default:n[`tab.${I.value}`]?()=>{var h;return(h=n[`tab.${I.value}`])==null?void 0:h.call(n,{item:I})}:void 0})})]}}),R&&t(kt,_e({modelValue:v.value,"onUpdate:modelValue":D=>v.value=D,key:"tabs-window"},E),{default:()=>{var D;return[p.value.map(I=>{var A;return((A=n.item)==null?void 0:A.call(n,{item:I}))??t(Ve,{value:I.value},{default:()=>{var h;return(h=n[`item.${I.value}`])==null?void 0:h.call(n,{item:I})}})}),(D=n.window)==null?void 0:D.call(n)]}})])}),{}}}),Po=X("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Cadastramento de pessoas ",-1),Eo={style:{"background-color":"#f5f2f2",padding:"5px 0px 0px 20px"}},Ao={__name:"RegistroPessoas",props:{show:Boolean},emits:["close"],setup(e,{emit:o}){const s=e,n=j(s.show),v=o,p=j("dados"),i=j(!1),m=j(!1),_=j(!1),E=Ce({tipo_pessoa:"fisica"}),w=[{label:"FÍSICA",value:"FISICA"},{label:"JURÍDICA",value:"JURIDICA"},{label:"ESTRANGEIRA",value:"ESTRANGEIRA"}],R=()=>{i.value=!0,_.value=!0},D=()=>{m.value=!0,_.value=!0};mt(()=>s.show,A=>{n.value=A});const I=()=>{n.value=!1,v("close")};return(A,h)=>{const F=fa,r=ga,$=Ca,C=Sa,d=Ma,y=io,P=fo;return M(),H(Ue,{persistent:"",modelValue:a(n),"onUpdate:modelValue":h[3]||(h[3]=V=>be(n)?n.value=V:null),"max-width":"900"},{default:l(()=>[t(Re,null,{default:l(()=>[t(ie,null,{default:l(()=>[Po,X("div",Eo,[t(le,{modelValue:a(E).tipo_pessoa,"onUpdate:modelValue":h[0]||(h[0]=V=>a(E).tipo_pessoa=V),style:{width:"200px"},items:w,"item-title":"label","item-value":"value",label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:a(_)},null,8,["modelValue","disabled"])]),t(Io,{modelValue:a(p),"onUpdate:modelValue":h[1]||(h[1]=V=>be(p)?p.value=V:null),"bg-color":"#f5f2f2"},{default:l(()=>[t(he,{value:"dados"},{default:l(()=>[J("Dados")]),_:1}),a(i)?(M(),H(he,{key:0,value:"documento"},{default:l(()=>[J("Documentos")]),_:1})):ae("",!0),a(m)?(M(),H(he,{key:1,value:"representante"},{default:l(()=>[J("Representantes")]),_:1})):ae("",!0),a(m)||a(i)?(M(),H(he,{key:2,value:"endereco"},{default:l(()=>[J("Endereços")]),_:1})):ae("",!0),a(i)?(M(),H(he,{key:3,value:"biometria"},{default:l(()=>[J("Biometria")]),_:1})):ae("",!0),a(m)||a(i)?(M(),H(he,{key:4,value:"restricao"},{default:l(()=>[J("Restrições")]),_:1})):ae("",!0)]),_:1},8,["modelValue"]),t(kt,{modelValue:a(p),"onUpdate:modelValue":h[2]||(h[2]=V=>be(p)?p.value=V:null)},{default:l(()=>[t(Ve,{value:"dados"},{default:l(()=>[a(E).tipo_pessoa==="fisica"?(M(),H(F,{key:0,onSaved:R,onCloseModal:I,isModal:!0})):a(E).tipo_pessoa==="juridica"?(M(),H(r,{key:1,onSaved:D,onCloseModal:I,isModal:!0})):ae("",!0)]),_:1}),A.showTabs?(M(),H(Ve,{key:0,value:"documento"},{default:l(()=>[t($,{onCloseModal:I,isModal:!0})]),_:1})):ae("",!0),a(m)?(M(),H(Ve,{key:1,value:"representante"},{default:l(()=>[t(C,{onCloseModal:I,isModal:!0})]),_:1})):ae("",!0),a(m)||a(i)?(M(),H(Ve,{key:2,value:"endereco"},{default:l(()=>[t(d,{onCloseModal:I,isModal:!0})]),_:1})):ae("",!0),A.showTabs?(M(),H(Ve,{key:3,value:"biometria"},{default:l(()=>[t(ie,null,{default:l(()=>[t(y,{onCloseModal:I,isModal:!0})]),_:1})]),_:1})):ae("",!0),A.showTabs?(M(),H(Ve,{key:4,value:"restricao"},{default:l(()=>[t(P,{onCloseModal:I,isModal:!0})]),_:1})):ae("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{Io as V,Ao as _,he as a,kt as b,Ve as c,ga as d,Ca as e,Sa as f,Ma as g,io as h,fo as i,fa as j};
