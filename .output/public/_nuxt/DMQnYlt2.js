import{r as u,h as w,o as _,A as v,w as e,b as o,d as c,V as k,q as m,y as d,v as C,x}from"./DJDMOApe.js";import{u as y}from"./Knr5SS5N.js";import{a as B,c as F,b as R,V as T}from"./DOIAcov5.js";const N={__name:"FichaCard",props:{show:Boolean,item:Object},emits:["close","confirmar"],setup(f,{emit:h}){const l=f,p=`${x().public.managemant}/getLinkTipo`,t=u(l.show),s=u(),r=h;w(()=>l.show,async a=>{t.value=a,await g()});const V=()=>{r("confirmar"),i()},g=async()=>{try{const{data:a}=await y(`${p}`,{method:"POST",body:{id:l.item.id,tipo:"ficha"}},"$4omB3S9Tg3");a.value&&a.value.link?s.value=`data:image/jpeg;base64,${a.value.link}`:s.value=null}catch(a){console.error("Erro ao buscar a imagem da ficha:",a)}},i=()=>{t.value=!1,s.value=null,r("close")};return(a,n)=>(_(),v(T,{persistent:"",modelValue:m(t),"onUpdate:modelValue":n[0]||(n[0]=b=>C(t)?t.value=b:null),"max-width":"700"},{default:e(()=>[o(B,null,{default:e(()=>[o(F,{class:"text-h5"},{default:e(()=>[c("Ficha de Firma")]),_:1}),o(k,{src:m(s)},null,8,["src"]),o(R,null,{default:e(()=>[o(d,{style:{"background-color":"#429946",color:"white"},onClick:V},{default:e(()=>[c("Reconhecer")]),_:1}),o(d,{style:{"background-color":"red",color:"white"},onClick:i},{default:e(()=>[c("Voltar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};export{N as _};
