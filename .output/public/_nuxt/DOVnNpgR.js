import{r as u,h as w,o as _,v,w as e,b as o,d as r,x as m,y as d,C as k,z as C}from"./DbCDMIze.js";import{u as x}from"./CRMX4Bwh.js";import{a as y,d as B,b as F,V as R}from"./CO8JfUPf.js";import{V as T}from"./C_mnChAW.js";const S={__name:"FichaCard",props:{show:Boolean,item:Object},emits:["close","confirmar"],setup(f,{emit:h}){const l=f,p=`${C().public.managemant}/getLinkTipo`,t=u(l.show),s=u(),c=h;w(()=>l.show,async a=>{t.value=a,await g()});const V=()=>{c("confirmar"),i()},g=async()=>{try{const{data:a}=await x(`${p}`,{method:"POST",body:{id:l.item.id,tipo:"ficha"}},"$4omB3S9Tg3");a.value&&a.value.link?s.value=`data:image/jpeg;base64,${a.value.link}`:s.value=null}catch(a){console.error("Erro ao buscar a imagem da ficha:",a)}},i=()=>{t.value=!1,s.value=null,c("close")};return(a,n)=>(_(),v(R,{persistent:"",modelValue:m(t),"onUpdate:modelValue":n[0]||(n[0]=b=>k(t)?t.value=b:null),"max-width":"700"},{default:e(()=>[o(y,null,{default:e(()=>[o(B,{class:"text-h5"},{default:e(()=>[r("Ficha de Firma")]),_:1}),o(T,{src:m(s)},null,8,["src"]),o(F,null,{default:e(()=>[o(d,{style:{"background-color":"#429946",color:"white"},onClick:V},{default:e(()=>[r("Reconhecer")]),_:1}),o(d,{style:{"background-color":"red",color:"white"},onClick:i},{default:e(()=>[r("Voltar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};export{S as _};
