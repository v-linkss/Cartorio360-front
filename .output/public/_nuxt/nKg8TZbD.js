import{_ as be}from"./C6xWP405.js";import{P as L,ar as Y,as as j,Q as p,R as q,b as a,aw as he,ay as ye,az as re,aB as ue,aZ as ce,aK as M,bl as Se,bo as _e,br as de,aE as ke,at as Ve,aG as P,A as y,aH as Te,bc as G,aQ as O,c1 as xe,r as ee,aO as Ce,g as U,l as ve,G as Be,e7 as Ne,Y as we,bY as Pe,e8 as Ee,S as $,aj as He,W as Re,bh as Ie,b5 as Le,aD as Ae,b6 as We,e9 as De,bp as Me,ea as $e,c0 as pe,q as qe,bW as Oe,a1 as Z,bg as Ue,bn as Fe,eb as Ye,_ as je,D as Je,e as E,k as te,bK as ze,o as C,h as D,w as c,a as H,t as R,i as I,L as Ge,c as K,F as Q,H as X,ba as ae,V as F,d as w,a5 as Ke,ec as Qe}from"./5oq4Fzas.js";import{C as le}from"./DuWQzSRO.js";import{V as Xe}from"./Cr93ntzn.js";import{b as me,V as oe,a as ne,c as se}from"./CP6oNv8D.js";import"./TDtrdbi3.js";import"./Bcj9EV7H.js";import"./BZH1uCoM.js";import"./B-I3vunb.js";const Ze=""+new URL("logo_navbar.WRqgS9jl.png",import.meta.url).href,et=L({text:String,...Y(),...j()},"VToolbarTitle"),tt=p()({name:"VToolbarTitle",props:et(),setup(e,g){let{slots:t}=g;return q(()=>{const b=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var i;return[b&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(i=t.default)==null?void 0:i.call(t)])]}})}),{}}}),at=[null,"prominent","default","comfortable","compact"],fe=L({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>at.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...he(),...Y(),...ye(),...re(),...j({tag:"header"}),...ue()},"VToolbar"),ie=p()({name:"VToolbar",props:fe(),setup(e,g){var _;let{slots:t}=g;const{backgroundColorClasses:b,backgroundColorStyles:i}=ce(M(e,"color")),{borderClasses:o}=Se(e),{elevationClasses:v}=_e(e),{roundedClasses:m}=de(e),{themeClasses:S}=ke(e),{rtlClasses:x}=Ve(),r=P(!!(e.extended||(_=t.extension)!=null&&_.call(t))),h=y(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),k=y(()=>r.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Te({VBtn:{variant:"text"}}),q(()=>{var V;const u=!!(e.title||t.title),f=!!(t.image||e.image),s=(V=t.extension)==null?void 0:V.call(t);return r.value=!!(e.extended||s),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},b.value,o.value,v.value,m.value,S.value,x.value,e.class],style:[i.value,e.style]},{default:()=>[f&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(G,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(Xe,{key:"image-img",cover:!0,src:e.image},null)]),a(G,{defaults:{VTabs:{height:O(h.value)}}},{default:()=>{var B,n,T;return[a("div",{class:"v-toolbar__content",style:{height:O(h.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(B=t.prepend)==null?void 0:B.call(t)]),u&&a(tt,{key:"title",text:e.title},{text:t.title}),(n=t.default)==null?void 0:n.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(T=t.append)==null?void 0:T.call(t)])])]}}),a(G,{defaults:{VTabs:{height:O(k.value)}}},{default:()=>[a(xe,null,{default:()=>[r.value&&a("div",{class:"v-toolbar__extension",style:{height:O(k.value)}},[s])]})]})]})}),{contentHeight:h,extensionHeight:k}}}),lt=L({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ot(e){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=g;let b=0,i=0;const o=ee(null),v=P(0),m=P(0),S=P(0),x=P(!1),r=P(!1),h=y(()=>Number(e.scrollThreshold)),k=y(()=>Ce((h.value-v.value)/h.value||0)),_=()=>{const u=o.value;if(!u||t&&!t.value)return;b=v.value,v.value="window"in u?u.pageYOffset:u.scrollTop;const f=u instanceof Window?document.documentElement.scrollHeight:u.scrollHeight;if(i!==f){i=f;return}r.value=v.value<b,S.value=Math.abs(v.value-h.value)};return U(r,()=>{m.value=m.value||v.value}),U(x,()=>{m.value=0}),ve(()=>{U(()=>e.scrollTarget,u=>{var s;const f=u?document.querySelector(u):window;f&&f!==o.value&&((s=o.value)==null||s.removeEventListener("scroll",_),o.value=f,o.value.addEventListener("scroll",_,{passive:!0}))},{immediate:!0})}),Be(()=>{var u;(u=o.value)==null||u.removeEventListener("scroll",_)}),t&&U(t,_,{immediate:!0}),{scrollThreshold:h,currentScroll:v,currentThreshold:S,isScrollActive:x,scrollRatio:k,isScrollingUp:r,savedScroll:m}}const nt=L({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...fe(),...Ne(),...lt(),height:{type:[Number,String],default:64}},"VAppBar"),st=p()({name:"VAppBar",props:nt(),emits:{"update:modelValue":e=>!0},setup(e,g){let{slots:t}=g;const b=ee(),i=we(e,"modelValue"),o=y(()=>{var T;const n=new Set(((T=e.scrollBehavior)==null?void 0:T.split(" "))??[]);return{hide:n.has("hide"),fullyHide:n.has("fully-hide"),inverted:n.has("inverted"),collapse:n.has("collapse"),elevate:n.has("elevate"),fadeImage:n.has("fade-image")}}),v=y(()=>{const n=o.value;return n.hide||n.fullyHide||n.inverted||n.collapse||n.elevate||n.fadeImage||!i.value}),{currentScroll:m,scrollThreshold:S,isScrollingUp:x,scrollRatio:r}=ot(e,{canScroll:v}),h=y(()=>o.value.hide||o.value.fullyHide),k=y(()=>e.collapse||o.value.collapse&&(o.value.inverted?r.value>0:r.value===0)),_=y(()=>e.flat||o.value.fullyHide&&!i.value||o.value.elevate&&(o.value.inverted?m.value>0:m.value===0)),u=y(()=>o.value.fadeImage?o.value.inverted?1-r.value:r.value:void 0),f=y(()=>{var A,l;const n=Number(((A=b.value)==null?void 0:A.contentHeight)??e.height),T=Number(((l=b.value)==null?void 0:l.extensionHeight)??0);return h.value?m.value<S.value||o.value.fullyHide?n+T:n:n+T});Pe(y(()=>!!e.scrollBehavior),()=>{He(()=>{h.value?o.value.inverted?i.value=m.value>S.value:i.value=x.value||m.value<S.value:i.value=!0})});const{ssrBootStyles:s}=me(),{layoutItemStyles:V,layoutIsReady:B}=Ee({id:e.name,order:y(()=>parseInt(e.order,10)),position:M(e,"location"),layoutSize:f,elementSize:P(void 0),active:i,absolute:M(e,"absolute")});return q(()=>{const n=ie.filterProps(e);return a(ie,$({ref:b,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...V.value,"--v-toolbar-image-opacity":u.value,height:void 0,...s.value},e.style]},n,{collapse:k.value,flat:_.value}),t)}),B}}),it=L({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Re,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Y(),...Ie({location:"top end"}),...re(),...j(),...ue(),...Le({transition:"scale-rotate-transition"})},"VBadge"),rt=p()({name:"VBadge",inheritAttrs:!1,props:it(),setup(e,g){const{backgroundColorClasses:t,backgroundColorStyles:b}=ce(M(e,"color")),{roundedClasses:i}=de(e),{t:o}=Ae(),{textColorClasses:v,textColorStyles:m}=We(M(e,"textColor")),{themeClasses:S}=De(),{locationStyles:x}=Me(e,!0,r=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(r)?+(e.offsetY??0):["left","right"].includes(r)?+(e.offsetX??0):0));return q(()=>{const r=Number(e.content),h=!e.max||isNaN(r)?e.content:r<=+e.max?r:`${e.max}+`,[k,_]=$e(g.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,$({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},_,{style:e.style}),{default:()=>{var u,f;return[a("div",{class:"v-badge__wrapper"},[(f=(u=g.slots).default)==null?void 0:f.call(u),a(pe,{transition:e.transition},{default:()=>{var s,V;return[qe(a("span",$({class:["v-badge__badge",S.value,t.value,i.value,v.value],style:[b.value,m.value,e.inline?{}:x.value],"aria-atomic":"true","aria-label":o(e.label,r),"aria-live":"polite",role:"status"},k),[e.dot?void 0:g.slots.badge?(V=(s=g.slots).badge)==null?void 0:V.call(s):e.icon?a(Z,{icon:e.icon},null):h]),[[Oe,e.modelValue]])]}})])]}})}),{}}}),ut=L({scrollable:Boolean,...Y(),...Ue(),...j({tag:"main"})},"VMain"),ct=p()({name:"VMain",props:ut(),setup(e,g){let{slots:t}=g;const{dimensionStyles:b}=Fe(e),{mainStyles:i,layoutIsReady:o}=Ye(),{ssrBootStyles:v}=me();return q(()=>a(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[i.value,v.value,b.value,e.style]},{default:()=>{var m,S;return[e.scrollable?a("div",{class:"v-main__scroller"},[(m=t.default)==null?void 0:m.call(t)]):(S=t.default)==null?void 0:S.call(t)]}})),o}}),dt={class:"d-flex align-center"},vt={class:"cartorio ml-6"},mt={class:"flex flex-col justify-center align-center mt-6"},ft={class:"mt-1"},gt={__name:"default",setup(e){const g=te(),t=Je(),b=[{title:"Alterar Senha"},{title:"Sair"}],i=E("menu-navbar"),o=E("user-data").value,v=E("user-data"),m=E("auth_token"),S=te().public.docEditor,r=o?(l=>{const J=le.AES.decrypt(l,S).toString(le.enc.Utf8);return JSON.parse(J)})(o.cpf):null,h=y(()=>Object.keys(i.value||{}).filter(l=>l!=="Tela Principal").map(l=>({name:l,subMenus:Object.keys(i.value[l]).map(d=>({name:d,url:i.value[l][d].url}))}))),k=y(()=>{var l;return((l=v.value)==null?void 0:l.nome)??"UsuÃ¡rio"}),_=y(()=>{var l;return((l=v.value)==null?void 0:l.cartorio_nome)??""}),u=E("userName");u.value=k.value;const f=ee(0);let s=null;function V(){t.push("/chat_atendimento")}function B(){s=new WebSocket(`${g.public.chat_bot}?user_name=${k.value}&room_id=notifications`),s.onopen=()=>{console.log("ðŸ”Œ WebSocket conectado"),A()},s.onmessage=l=>{try{console.log(l.data);const d=JSON.parse(l.data);switch(d.type){case"notification":console.log("Nova notificaÃ§Ã£o recebida:",d),f.value=d.queue.length||0;break;case"queue_list":console.log("Lista de notificaÃ§Ãµes recebida:",d),f.value=d.totalRequests||0;break}}catch(d){console.error("Falha ao parsear mensagem:",d)}},s.onclose=()=>{console.warn("WebSocket desconectado â€” reconectando em 5 sâ€¦"),setTimeout(B,5e3)},s.onerror=l=>{console.error("Erro WebSocket:",l),s.close()}}ve(B),ze(()=>s==null?void 0:s.close());function n(l){l==="Sair"&&T()}function T(){v.value="",m.value="",t.push("/login")}function A(){if(s&&s.readyState===WebSocket.OPEN){const l={type:"queue_list",message:"1",id:"notifications"};s.send(JSON.stringify(l)),console.log("ðŸ“¤ Evento enviado ao WebSocket:",l)}else console.warn("âš ï¸ WebSocket nÃ£o estÃ¡ conectado. Tentando novamente em 1 segundo..."),setTimeout(A,1e3)}return(l,d)=>{const J=be;return C(),D(Qe,null,{default:c(()=>[a(st,{color:"#0a063b",height:"100"},{default:c(()=>[H("div",dt,[d[0]||(d[0]=H("img",{class:"ml-5 mt-2",width:"300",height:"50",src:Ze},null,-1)),H("h3",vt,R(I(_)),1)]),a(Ge),(C(!0),K(Q,null,X(I(h),(N,z)=>(C(),D(ae,{key:`menu-${z}`},{activator:c(({props:W})=>[a(F,$({ref_for:!0},W,{text:"",class:"white--text"}),{default:c(()=>[w(R(N.name),1)]),_:2},1040)]),default:c(()=>[a(oe,null,{default:c(()=>[(C(!0),K(Q,null,X(N.subMenus,(W,ge)=>(C(),D(ne,{key:`submenu-${ge}`},{default:c(()=>[a(J,{to:`/${W.url}`,class:"text-decoration-none inherit"},{default:c(()=>[a(se,null,{default:c(()=>[w(R(W.name),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128)),I(f)>0?(C(),D(rt,{key:0,content:I(f),color:"red",overlap:""},{default:c(()=>[a(F,{icon:"",onClick:V},{default:c(()=>[a(Z,{color:"white"},{default:c(()=>d[1]||(d[1]=[w("mdi-bell")])),_:1})]),_:1})]),_:1},8,["content"])):(C(),D(F,{key:1,icon:"",onClick:V},{default:c(()=>[a(Z,{color:"white"},{default:c(()=>d[2]||(d[2]=[w("mdi-bell")])),_:1})]),_:1})),H("div",mt,[a(ae,null,{activator:c(({props:N})=>[a(F,$({class:"user"},N),{default:c(()=>[w(R(("useCookie"in l?l.useCookie:I(E))("user-data").value.nome),1)]),_:2},1040)]),default:c(()=>[a(oe,null,{default:c(()=>[(C(),K(Q,null,X(b,(N,z)=>a(ne,{key:z,onClick:W=>n(N.title)},{default:c(()=>[a(se,null,{default:c(()=>[w(R(N.title),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1}),H("h4",ft,[d[3]||(d[3]=w(" CPF: ")),H("span",null,R(I(r)),1)])])]),_:1}),a(ct,null,{default:c(()=>[Ke(l.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},Ct=je(gt,[["__scopeId","data-v-80fbea1b"]]);export{Ct as default};
