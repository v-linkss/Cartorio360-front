import{_ as we}from"./CaXXieqh.js";import{_ as Ce}from"./DFXrbPHj.js";import{a as oe,b as Oe,V as re,c as Se}from"./qSy77qGq.js";import{V as K}from"./5vY_Pn2d.js";import{V as I}from"./B9ktu_du.js";import{bU as Fe,bV as Ue,bW as Re,bX as Be,bY as Me,bZ as Ne,b_ as Te,S as Z,r as m,bl as Ie,f as $e,G as ge,h as q,j as De,b$ as Pe,c0 as Ee,c1 as ve,c2 as qe,b as e,c3 as He,L as le,J as ne,P as fe,O as Ge,bI as ze,c4 as Je,c5 as Le,aY as X,c6 as Qe,c7 as Ye,c8 as je,o as G,v as j,w as r,y as L,d as D,x as l,D as ae,a as v,u as Ke,A as $,s as se,t as te,V as U,C as Ve,z as ie,br as We,n as Ze,Q as _e,R as pe,c as be}from"./UejYr6cC.js";import{u as H}from"./BjnJ0BPK.js";import{_ as he,c as Xe,a as eo,b as oo}from"./kvUTZyXy.js";import{V as ee}from"./B9oGmQdH.js";import{c as ao,r as to,u as lo}from"./C5LfM9WH.js";import{_ as no}from"./DfjuBLsA.js";import{_ as ro}from"./CpShmm27.js";import{V as O}from"./Cz-aldi_.js";const so=Fe({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:o=>!isNaN(parseFloat(o))},maxRows:{type:[Number,String],validator:o=>!isNaN(parseFloat(o))},suffix:String,modelModifiers:Object,...Ue(),...Re()},"VTextarea"),io=Be()({name:"VTextarea",directives:{Intersect:Me},inheritAttrs:!1,props:so(),emits:{"click:control":o=>!0,"mousedown:control":o=>!0,"update:focused":o=>!0,"update:modelValue":o=>!0},setup(o,R){let{attrs:i,emit:p,slots:f}=R;const _=Ne(o,"modelValue"),{isFocused:x,focus:S,blur:h}=Te(o),B=Z(()=>typeof o.counterValue=="function"?o.counterValue(_.value):(_.value||"").toString().length),N=Z(()=>{if(i.maxlength)return i.maxlength;if(!(!o.counter||typeof o.counter!="number"&&typeof o.counter!="string"))return o.counter});function P(c,d){var s,a;!o.autofocus||!c||(a=(s=d[0].target)==null?void 0:s.focus)==null||a.call(s)}const A=m(),y=m(),b=Ie(""),M=m(),k=Z(()=>o.persistentPlaceholder||x.value||o.active);function w(){var c;M.value!==document.activeElement&&((c=M.value)==null||c.focus()),x.value||S()}function n(c){w(),p("click:control",c)}function Q(c){p("mousedown:control",c)}function z(c){c.stopPropagation(),w(),X(()=>{_.value="",Qe(o["onClick:clear"],c)})}function W(c){var s;const d=c.target;if(_.value=d.value,(s=o.modelModifiers)!=null&&s.trim){const a=[d.selectionStart,d.selectionEnd];X(()=>{d.selectionStart=a[0],d.selectionEnd=a[1]})}}const T=m(),E=m(+o.rows),g=Z(()=>["plain","underlined"].includes(o.variant));$e(()=>{o.autoGrow||(E.value=+o.rows)});function u(){o.autoGrow&&X(()=>{if(!T.value||!y.value)return;const c=getComputedStyle(T.value),d=getComputedStyle(y.value.$el),s=parseFloat(c.getPropertyValue("--v-field-padding-top"))+parseFloat(c.getPropertyValue("--v-input-padding-top"))+parseFloat(c.getPropertyValue("--v-field-padding-bottom")),a=T.value.scrollHeight,V=parseFloat(c.lineHeight),F=Math.max(parseFloat(o.rows)*V+s,parseFloat(d.getPropertyValue("--v-input-control-height"))),Y=parseFloat(o.maxRows)*V+s||1/0,t=je(a??0,F,Y);E.value=Math.floor((t-s)/V),b.value=Ye(t)})}ge(u),q(_,u),q(()=>o.rows,u),q(()=>o.maxRows,u),q(()=>o.density,u);let C;return q(T,c=>{c?(C=new ResizeObserver(u),C.observe(T.value)):C==null||C.disconnect()}),De(()=>{C==null||C.disconnect()}),Pe(()=>{const c=!!(f.counter||o.counter||o.counterValue),d=!!(c||f.details),[s,a]=Ee(i),{modelValue:V,...F}=ve.filterProps(o),Y=qe(o);return e(ve,le({ref:A,modelValue:_.value,"onUpdate:modelValue":t=>_.value=t,class:["v-textarea v-text-field",{"v-textarea--prefixed":o.prefix,"v-textarea--suffixed":o.suffix,"v-text-field--prefixed":o.prefix,"v-text-field--suffixed":o.suffix,"v-textarea--auto-grow":o.autoGrow,"v-textarea--no-resize":o.noResize||o.autoGrow,"v-input--plain-underlined":g.value},o.class],style:o.style},s,F,{centerAffix:E.value===1&&!g.value,focused:x.value}),{...f,default:t=>{let{id:J,isDisabled:ue,isDirty:de,isReadonly:xe,isValid:Ae}=t;return e(He,le({ref:y,style:{"--v-textarea-control-height":b.value},onClick:n,onMousedown:Q,"onClick:clear":z,"onClick:prependInner":o["onClick:prependInner"],"onClick:appendInner":o["onClick:appendInner"]},Y,{id:J.value,active:k.value||de.value,centerAffix:E.value===1&&!g.value,dirty:de.value||o.dirty,disabled:ue.value,focused:x.value,error:Ae.value===!1}),{...f,default:ye=>{let{props:{class:ce,...me}}=ye;return e(ne,null,[o.prefix&&e("span",{class:"v-text-field__prefix"},[o.prefix]),fe(e("textarea",le({ref:M,class:ce,value:_.value,onInput:W,autofocus:o.autofocus,readonly:xe.value,disabled:ue.value,placeholder:o.placeholder,rows:o.rows,name:o.name,onFocus:w,onBlur:h},me,a),null),[[Ge("intersect"),{handler:P},null,{once:!0}]]),o.autoGrow&&fe(e("textarea",{class:[ce,"v-textarea__sizer"],id:`${me.id}-sizer`,"onUpdate:modelValue":ke=>_.value=ke,ref:T,readonly:!0,"aria-hidden":"true"},null),[[ze,_.value]]),o.suffix&&e("span",{class:"v-text-field__suffix"},[o.suffix])])}})},details:d?t=>{var J;return e(ne,null,[(J=f.details)==null?void 0:J.call(f,t),c&&e(ne,null,[e("span",null,null),e(Je,{active:o.persistentCounter||x.value,value:B.value,max:N.value,disabled:o.disabled},f.counter)])])}:void 0})}),Le({},A,y,M)}}),uo=v("h1",null,"Confirmação de Recebimento",-1),co=v("p",null," O valor recebido é menor que o valor da OS, confirma o recebimento parcial? ",-1),mo={__name:"ModalRecebimentoCond",props:{show:Boolean,faltaReceber:Number},emits:["close","confirmar"],setup(o,{emit:R}){const i=o,p=m(i.show),f=R;q(()=>i.show,S=>{p.value=S});const _=()=>{f("confirmar"),x()},x=()=>{p.value=!1,f("close")};return(S,h)=>(G(),j(re,{persistent:"",modelValue:l(p),"onUpdate:modelValue":h[0]||(h[0]=B=>ae(p)?p.value=B:null),"max-width":"650"},{default:r(()=>[e(oe,null,{default:r(()=>[e(K,null,{default:r(()=>[e(I,{class:"mb-5 mt-1 ml-2"},{default:r(()=>[uo]),_:1}),e(I,{class:"ml-2"},{default:r(()=>[co]),_:1})]),_:1}),e(Oe,null,{default:r(()=>[e(L,{style:{"background-color":"#429946",color:"white"},onClick:_},{default:r(()=>[D("Confirmar")]),_:1}),e(L,{style:{"background-color":"red",color:"white"},onClick:x},{default:r(()=>[D("Cancelar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},vo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABJhJREFUeJztW81v3EQcfTM73ZU3C1GF4NJAG+UGSKgSjZAgfwCFHnMpiAMSyckHGim2FAl8cSRvFFopApEixIW/APFx48IKCS5wQOKGGpqWAx/SqhslMY6HS1PZg+0de2fsSdN3m/HM6Ofn37zxPI8JNMO27Y5lWcuEkKsAngcwNabLHoBfOOefd7vdm57nhTrjIzoHX1tbOxdF0VcAXqg4xM+Msdd937+jMq4ktBFg23an2+3+gOo3f4yfLMt6SVcmUB2DAoBlWcuY/OYB4OL+/v47CsbJBNM1MCHkjWSZc/41gOV+v79b1G91dXWGEHITwKuJ6jcBfKg+So0ZAOBZoTz25gGg3+/vMsaWhern1IWVhk4CesmCzM0fw/f920LVY0oiyoBOAk4Exq4CjuNcAXANwCWMX8NNwR6AH+M4/mBjY+PLooatoouu664D+AjABQBtZeHpRxvALCHk6sLCwpnBYPBtXsPcDLj/5L/QEV3diOP4Sl4mFGnANU3x1A5K6bt514reA14Uyi8HQfC9mpD0wnGcVwB8l6i6lNe2KANSy9hJuXkACIJgIFTlLqOnfhl8REDTATSNU0+A9G7QcRyuM5CmcOozoIgA6d2b6eCci7vLBygiYAkPAQmc89uU0qW861KeoOM4OwCeOS5HUXRhc3NzR0F8yrCysnKeMXYrUfV7EATnx/WT1YBRssAY6+U1bAqdTkd827sn068SAZRS4wiIokiMaZTZUEAlAo6OjowjIOOhSBEg9R5ACBlxzpPlXAIcx3kNwDYADmApCIJv6mgXx3GPkJSkqcsAzvlIKBdlwMcAzgGY4Zxv19VOfCiEEKVTICUolNIil3YmEcTTNbZLxRTHsToRLJkBjUBrBlBKU4MVaUCDSDnWhJA9mU6yUyA1GOfcOHs8juPUQxGzNg+VpgA0fqmZAKmYtIqgiVNAjOmRCOoUQQiOsQkQH4pSDYjj2HgCIMTUarXUEcAYO3EimPHQMiFFwOHhoSgoxmVAhi6pE8F2u238FBBFMAxDdRkwGo2MJwBCTNPT0+oI2NraOgTwb6Kq7XmeMecFbNvuADiTqAplj9WVscVTjA6HQ2OyoNfrVTJDgBIEiOvqmC1xrQjDUD8B4puVScZohiGqngD83xQxhoAMQ1RqCQQm0ACTjNGqhigwwRQwaUcoegGoQwRN2hFW3QkCD8kqAGEfILsTBCYQQZMzADpE0HBjtJIhCpTLAGON0aqGKDCBBsAsT6CSIQpMQEDBFHhwqKLoZIbKdmIsTYvgEoDdcSczVLabRASlT4lRSlNfiJHjCdz/elv0DU95u6qGKFAiAww3RisZokA5DfhbqJr1PK/xY3aLi4stALPJuiiK/pHtL30DU1NTO0gvhU8dHBxcd133rOwYquG67tm5ubkbAJ5MVN8bDoe3ZMco9eeo4zifAni7TJ8G8EkQBEWimkKpFGaMvQfgr9Ih1Yc/W63W+2U6lCLA9/07hJDLAP4oFVY9uMs5v7y+vl4qtsK/xrIwGAzuzs/Pf8YYCznnTxBCHofGX3DH4ADArwC2CSFvBUHwW9kB/gMs68lWOHHFdwAAAABJRU5ErkJggg==",fo=v("h1",null,"Ordem de Serviço nº",-1),_o={style:{color:"red","margin-left":"18px"}},po={style:{"max-width":"180px"}},bo=v("hr",{class:"mb-5"},null,-1),go=["onClick"],Vo=v("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:vo,alt:"Remover"},null,-1),ho=[Vo],xo={style:{display:"flex","justify-content":"flex-start"}},Ao={__name:"Ordem",props:{show:Boolean,ordem:{type:Object,required:!0}},emits:["close"],setup(o,{emit:R}){const i=o,{$toast:p}=Ke(),f=m(i.show),_=m(!1),x=ie(),S=`${x.public.managemant}/listarFormasReceb`,h=`${x.public.managemant}/receberOs`,B=$("auth_token").value,N=m([]),P=m(null),A=m([]),y=m([]),b=se({descricao:null,forma:null,valor:""}),M=R,k=[{title:"Forma",value:"forma"},{title:"Valor",value:"valor"},{value:"actions"}];q(()=>i.show,g=>{f.value=g});const w=()=>{f.value=!1,M("close")},n=async()=>{P.value=Number(i.ordem.valor),_.value=!0},Q=async()=>{const g={ordemserv_token:i.ordem.token,usuario_token:B,recebimentos:[y.value]},{data:u,error:C}=await H(h,{method:"POST",body:JSON.stringify(g)},"$vhMIR8Sr2p");u.value[0].status==="OK"&&(p.success("Valores Recebidos com Sucesso!"),A.value=[],w())},z=()=>{i.ordem.valor=parseFloat(i.ordem.valor).toFixed(2),i.ordem.valor_pago=parseFloat(i.ordem.valor_pago).toFixed(2)},W=async()=>{try{const u={cartorio_token:m($("user-data").value.cartorio_token).value},{data:C,error:c}=await H(S,{method:"POST",body:JSON.stringify(u)},"$eiMzO5y6Bb");N.value=We(C.value)}catch(g){console.error("Erro ao realizar a requisição:",g)}},T=async()=>{const g=N.value.find(u=>u.token===b.forma);if(!g){p.error("Por favor, selecione uma forma.");return}if(Number(i.ordem.valor)<=0){p.error("O valor recebido não deve ultrapassar o valor total da ordem.");return}A.value.push({forma:b.forma,descricao:g.descricao,valor:b.valor}),y.value.push({forma_receb_token:b.forma,valor:Number(b.valor)}),i.ordem.valor_pago=parseFloat(i.ordem.valor_pago)+parseFloat(b.valor),i.ordem.valor=parseFloat(i.ordem.valor)-parseFloat(b.valor),b.forma=null,b.valor="0.00",z()},E=g=>{const u=A.value.indexOf(g);u!==-1&&(A.value.splice(u,1),y.value.splice(u,1),i.ordem.valor_pago=parseFloat(i.ordem.valor_pago)-parseFloat(g.valor),i.ordem.valor=parseFloat(i.ordem.valor)+parseFloat(g.valor))};return W(),(g,u)=>{const C=Ce,c=mo;return G(),j(re,{persistent:"",modelValue:l(f),"onUpdate:modelValue":u[6]||(u[6]=d=>ae(f)?f.value=d:null),"max-width":"650"},{default:r(()=>[e(oe,null,{default:r(()=>[e(K,null,{default:r(()=>[e(I,{class:"mb-5 mt-1 ml-2"},{default:r(()=>[fo,v("h1",_o,te(i.ordem.numero),1)]),_:1}),e(K,null,{default:r(()=>[e(I,null,{default:r(()=>[e(U,{class:"mr-5",label:"Recebido",modelValue:i.ordem.valor_pago,"onUpdate:modelValue":u[0]||(u[0]=d=>i.ordem.valor_pago=d),disabled:""},null,8,["modelValue"]),e(U,{label:"Falta Receber",modelValue:i.ordem.valor,"onUpdate:modelValue":u[1]||(u[1]=d=>i.ordem.valor=d),disabled:""},null,8,["modelValue"])]),_:1}),e(I,null,{default:r(()=>[e(ee,{class:"mb-5 mr-5",label:"Forma",modelValue:l(b).forma,"onUpdate:modelValue":u[2]||(u[2]=d=>l(b).forma=d),items:l(N),"item-title":"descricao","item-value":"token"},null,8,["modelValue","items"]),v("div",po,[e(C,{modelValue:l(b).valor,"onUpdate:modelValue":u[3]||(u[3]=d=>l(b).valor=d)},null,8,["modelValue"])]),v("div",null,[v("img",{src:he,class:"ml-5",style:{cursor:"pointer",height:"40px",width:"40px"},onClick:T})])]),_:1})]),_:1}),bo,e(Ve,{headers:k,items:l(A),"item-value":"token"},{"item.forma":r(({item:d})=>[D(te(d.descricao),1)]),"item.actions":r(({item:d})=>[v("div",{style:{display:"flex","justify-content":"flex-end"},onClick:s=>E(d),title:"Remover"},ho,8,go)]),_:1},8,["items"])]),_:1}),v("div",xo,[e(L,{class:"ml-8",size:"large",onClick:w,color:"red"},{default:r(()=>[D("Voltar")]),_:1}),Number(i.ordem.valor)>0?(G(),j(L,{key:0,class:"ml-6 mb-6",size:"large",color:"green",onClick:n},{default:r(()=>[D("Salvar")]),_:1})):(G(),j(L,{key:1,size:"large",class:"ml-6 mb-6",color:"green",onClick:Q},{default:r(()=>[D("Salvar")]),_:1}))])]),_:1}),e(c,{modelValue:l(_),"onUpdate:modelValue":u[4]||(u[4]=d=>ae(_)?_.value=d:null),faltaReceber:l(P),onClose:u[5]||(u[5]=d=>_.value=!1),onConfirmar:Q},null,8,["modelValue","faltaReceber"])]),_:1},8,["modelValue"])}}},yo=v("h1",null,"Cancelamento da OS nº",-1),ko={style:{color:"red","margin-left":"18px"}},wo={class:"mb-5",style:{display:"flex","justify-content":"flex-start"}},Co={class:"ml-6"},Oo={class:"ml-6"},So={__name:"Ordem",props:{show:Boolean,numero_os:Number,ordemserv_token:String},emits:["close"],setup(o,{emit:R}){const i=o,p=m(i.show),f=ie();m($("user-data").value.cartorio_token).value;const _=$("auth_token").value,x=`${f.public.managemant}/analisaCancelamento`,S=`${f.public.managemant}/cancelaOs`,h=se({motivo:null}),B=m(null),N=R,P={motivo:{required:ao.withMessage("O campo é obrigatorio",to)}},A=lo(P,h);q(()=>i.show,k=>{p.value=k});const y=()=>{p.value=!1,N("close")};(async()=>{const{data:k,error:w}=await H(`${x}`,{method:"POST",body:{ordemserv_token:i.ordemserv_token}},"$1fnrIk2fgs");B.value=k.value.mensagem})();const M=async()=>{if(await A.value.$validate()){const{status:k}=await H(`${S}`,{method:"POST",body:{usuario_token:_,motivo:h.motivo,ordemserv_token:i.ordemserv_token}},"$21WlhUNXeM");k.value==="success"&&(window.location.reload(),y())}};return(k,w)=>(G(),j(re,{persistent:"",modelValue:l(p),"onUpdate:modelValue":w[1]||(w[1]=n=>ae(p)?p.value=n:null),"max-width":"650"},{default:r(()=>[e(oe,null,{default:r(()=>[e(K,null,{default:r(()=>[e(I,{class:"mb-5 mt-1 ml-2"},{default:r(()=>[yo,v("h1",ko,te(i.numero_os),1)]),_:1}),e(K,null,{default:r(()=>[e(oe,{variant:"outlined",class:"mb-5"},{default:r(()=>[e(Se,null,{default:r(()=>[D(te(l(B)),1)]),_:1})]),_:1}),e(io,{label:"Motivo",modelValue:l(h).motivo,"onUpdate:modelValue":w[0]||(w[0]=n=>l(h).motivo=n),required:"","error-messages":l(A).motivo.$errors.map(n=>n.$message),onBlur:l(A).motivo.$touch,onInput:l(A).motivo.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),v("div",wo,[v("div",Co,[e(L,{size:"large",color:"red",onClick:y},{default:r(()=>[D("Fechar")]),_:1})]),v("div",Oo,[e(L,{size:"large",color:"green",onClick:M},{default:r(()=>[D("Salvar")]),_:1})])])]),_:1})]),_:1},8,["modelValue"]))}},Fo=""+new URL("recebe.CceqgowM.png",import.meta.url).href,Uo=v("h1",null,"Ordens de Serviço",-1),Ro=v("hr",{class:"mt-5 mb-5"},null,-1),Bo=["title","onClick"],Mo=["onClick","title"],No=["disabled","onClick"],To={key:0,style:{width:"30px",height:"30px"},src:eo,alt:"Visualizar",title:"Bloqueado"},Io={key:1,src:oo,alt:"Cancelamento",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Cancelamento"},Ko={__name:"index",setup(o){const R=ie(),i=`${R.public.managemant}/listarUsuarios`,p=`${R.public.managemant}/listarOrdensServico`,f=`${R.public.managemant}/tipoAtos`,_=Ze(),x=m($("auth_token").value)||null,S=m($("user-data").value.cartorio_token)||null,h=m([]),B=m([]),N=m([]),P=m(["PENDENTE","EM ANDAMENTO","CONCLUÍDA","LAVRADA"]),A=m(!1),y=m(!1),b=m(null),M=m(null),k=m(null),w=m({}),n=se({numero:null,data_inicio:z(),data_fim:z(),data_lavratura_inicio:null,data_lavratura_fim:null,protocolo:null,livro:null,folha:null,situacao:null,usuario_token:x.value,selo:null,ato_tipo_token:null,apresentante:null}),Q=[{title:"Data Recebimento",value:"data"},{title:"Número",value:"numero"},{title:"Situação",value:"situacao"},{title:"CPF",value:"apresentante_cpf"},{title:"Apresentante",value:"apresentante_nome"},{title:"Usuario",value:"usuario_nome"},{title:"Valor",value:"valor"},{value:"actions"}];function z(){const s=new Date,a=s.getFullYear(),V=String(s.getMonth()+1).padStart(2,"0"),F=String(s.getDate()).padStart(2,"0");return`${a}-${V}-${F}`}async function W(){const{data:s,error:a}=await H(i,{method:"POST",body:{cartorio_token:S.value}},"$pAAptWJdb1");B.value=s.value}async function T(){try{sessionStorage.setItem("pesquisaOS",JSON.stringify(n));const{data:s,error:a}=await H(p,{method:"POST",body:{cartorio_token:S.value,numero:n.numero||null,data_inicio:n.data_inicio||null,data_fim:n.data_fim||null,data_lavratura_inicio:n.data_lavratura_inicio||null,data_lavratura_fim:n.data_lavratura_fim||null,protocolo:n.protocolo||null,livro:n.livro||null,folha:n.folha||null,situacao:n.situacao||null,usuario_token:n.usuario_token,selo:n.selo||null,ato_tipo_token:n.ato_tipo_token,apresentante:n.apresentante||null}},"$IO02J210Z9");s.value.length>0?h.value=s.value:h.value=[]}catch(s){console.error("Erro na requisição",s)}}async function E(){const{data:s,error:a}=await H(f,{method:"POST",body:{cartorio_token:S.value,usuario_token:x.value}},"$YgUhKRJlsV");N.value=s.value}const g=async()=>{try{const s=z(),a=sessionStorage.getItem("pesquisaOS"),V=JSON.parse(a),{data:F,error:Y}=await H(p,{method:"POST",body:{cartorio_token:S.value,usuario_token:x.value,data_fim:(V==null?void 0:V.data_fim)||s,data_inicio:(V==null?void 0:V.data_inicio)||s}},"$xKnfARCL4G");F.value.length>0?h.value=F.value.map(t=>({...t,data:no(t.data,"dd/mm/yyyy")})):h.value=[]}catch(s){console.error("Erro ao buscar serviços",s)}};W(),E();function u(s,a,V){k.value=s,M.value=a,y.value=!0}function C(s){const a=$("user-service"),V=h.value.find(F=>F.id===s);a.value=a.value=JSON.stringify({id:V.id,token:V.token}),_.push({path:`/os/atualizar/${s}`})}function c(s,a){k.value=s,w.value={token:a.token,numero:a.numero,valor:a.valor,valor_pago:a.valor_pago},A.value=!0}const d=()=>{const s=$("user-service"),a=$("ordem-button");s.value=null,b.value=!0,a.value=b.value};return ge(()=>{X(async()=>{const s=sessionStorage.getItem("pesquisaOS");if(s){const a=JSON.parse(s);Object.assign(n,a)}await g()})}),(s,a)=>{const V=we,F=Ao,Y=So;return G(),j(K,{class:"mt-5"},{default:r(()=>[e(I,{class:"mb-5"},{default:r(()=>[Uo,e(V,{to:"/os/criar-registro"},{default:r(()=>[v("img",{style:{width:"60px",height:"60px",cursor:"pointer","margin-left":"70px"},src:he,alt:"novo",onClick:d})]),_:1})]),_:1}),e(I,{style:{"margin-bottom":"-35px"}},{default:r(()=>[e(O,null,{default:r(()=>[e(U,{modelValue:l(n).numero,"onUpdate:modelValue":a[0]||(a[0]=t=>l(n).numero=t),label:"Número",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(U,{modelValue:l(n).data_inicio,"onUpdate:modelValue":a[1]||(a[1]=t=>l(n).data_inicio=t),type:"date",label:"Abertura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(U,{modelValue:l(n).data_fim,"onUpdate:modelValue":a[2]||(a[2]=t=>l(n).data_fim=t),type:"date",label:"Abertura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(U,{modelValue:l(n).data_lavratura_inicio,"onUpdate:modelValue":a[3]||(a[3]=t=>l(n).data_lavratura_inicio=t),type:"date",label:"Lavratura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(U,{modelValue:l(n).data_lavratura_fim,"onUpdate:modelValue":a[4]||(a[4]=t=>l(n).data_lavratura_fim=t),type:"date",label:"Lavratura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(U,{modelValue:l(n).protocolo,"onUpdate:modelValue":a[5]||(a[5]=t=>l(n).protocolo=t),label:"Protocolo",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(O,{md:"1"},{default:r(()=>[e(U,{modelValue:l(n).livro,"onUpdate:modelValue":a[6]||(a[6]=t=>l(n).livro=t),label:"Livro",style:{width:"80px"}},null,8,["modelValue"])]),_:1}),e(O,{md:"1"},{default:r(()=>[e(U,{modelValue:l(n).folha,"onUpdate:modelValue":a[7]||(a[7]=t=>l(n).folha=t),label:"Folha",style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(I,null,{default:r(()=>[e(O,{md:"3"},{default:r(()=>[e(ee,{modelValue:l(n).situacao,"onUpdate:modelValue":a[8]||(a[8]=t=>l(n).situacao=t),items:l(P),label:"Situação"},null,8,["modelValue","items"])]),_:1}),e(O,{md:"2"},{default:r(()=>[e(ee,{items:l(B),modelValue:l(n).usuario_token,"onUpdate:modelValue":a[9]||(a[9]=t=>l(n).usuario_token=t),"item-title":"user_nome","item-value":"user_token",label:"Usuario"},null,8,["items","modelValue"])]),_:1}),e(O,{md:"1"},{default:r(()=>[e(U,{modelValue:l(n).selo,"onUpdate:modelValue":a[10]||(a[10]=t=>l(n).selo=t),label:"Selo"},null,8,["modelValue"])]),_:1}),e(O,{md:"3"},{default:r(()=>[e(ee,{modelValue:l(n).ato_tipo_token,"onUpdate:modelValue":a[11]||(a[11]=t=>l(n).ato_tipo_token=t),items:l(N),"item-title":"descricao","item-value":"token",label:"Serviço"},null,8,["modelValue","items"])]),_:1}),e(O,{md:"2"},{default:r(()=>[e(U,{modelValue:l(n).apresentante,"onUpdate:modelValue":a[12]||(a[12]=t=>l(n).apresentante=t),label:"Apresentante"},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[v("div",null,[v("img",{onClick:T,style:{width:"40px",height:"40px",cursor:"pointer"},src:ro,alt:"Pesquisar"})])]),_:1})]),_:1}),Ro,e(Ve,{headers:Q,items:l(h),"item-key":"id"},{"item.actions":r(({item:t})=>[e(I,{style:{display:"flex",gap:"10px","margin-top":"-5px"}},{default:r(()=>[v("div",{class:pe({disabled:!t.btn_receber}),title:t.btn_receber?"Receber":"Bloqueado",onClick:J=>t.btn_receber?c(t.numero,t):null},[v("img",{style:_e({cursor:t.btn_receber?"pointer":"default",width:"30px",height:"30px"}),src:Fo,alt:"Receber"},null,4)],10,Bo),v("div",{class:pe({disabled:!t.btn_editar}),onClick:J=>t.btn_editar?C(t.id):null,title:t.btn_editar?"Editar":"Bloqueado"},[v("img",{style:_e({cursor:t.btn_editar?"pointer":"default",width:"30px",height:"30px"}),src:Xe,alt:"Editar"},null,4)],10,Mo),v("div",{disabled:!t.btn_cancelar,onClick:J=>t.btn_cancelar?u(t.numero,t.token):null,title:"Cancelamento"},[t.excluido?(G(),be("img",To)):(G(),be("img",Io))],8,No)]),_:2},1024)]),_:1},8,["items"]),e(F,{show:l(A),numero_os:l(k),ordem:l(w),onClose:a[13]||(a[13]=t=>A.value=!1)},null,8,["show","numero_os","ordem"]),e(Y,{show:l(y),numero_os:l(k),ordemserv_token:l(M),onClose:a[14]||(a[14]=t=>y.value=!1)},null,8,["show","numero_os","ordemserv_token"])]),_:1})}}};export{Ko as default};
