import{a as ce,d as Te,V as pe}from"./sd7ddyXz.js";import{V as de}from"./B3M9qL7_.js";import{d as Se,V as xe,a as ae}from"./AZy17BeW.js";import{G as _e,u as ve,r as u,m as re,C as se,H as ie,n as Ie,v as o,o as y,c as D,b as e,M as Pe,E as L,w as t,V as q,a as U,z as F,d as B,s as fe,g as be,t as ze,I as ne,K as W}from"./D4w0Um61.js";import{_ as ge}from"./CXAJ1SVt.js";import{_ as Ve}from"./DpCeEJ0T.js";import{c as $e,r as ke,u as Me}from"./BJRXm3Gf.js";import{u as S,V as M}from"./EzF2ViKA.js";import{V as v}from"./DchoNiw3.js";import{V as Be}from"./Cadu56oS.js";import{V as Q}from"./BbQ_dt4-.js";import{_ as Ae}from"./BVz1G1IN.js";import{_ as Oe}from"./ByLE7rcr.js";import{_ as Ee,a as Ne,b as je}from"./DEa8RWDQ.js";import{V as qe}from"./B87Hb9QJ.js";const Le={key:0,class:"d-flex justify-center"},we={__name:"Dados",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0},isUpdate:{type:Boolean},imovel_id:{type:Number}},emits:["saved","close-modal","refresh-list"],async setup(j,{emit:R}){let a,r;const c=j,$=R,P=_e(),d=fe(),{$toast:z}=ve(),{id:g}=P.params,V=`${d.public.managemant}/atos_bens`,A=`${d.public.managemant}/atos_bens`,C=`${d.public.managemant}/atos_bens`,b=`${d.public.managemant}/registro_imoveis`,h=`${d.public.managemant}/natureza_imoveis`,G=`${d.public.managemant}/tipo_logradouros`,w=`${d.public.managemant}/situacao_imoveis`,f=`${d.public.managemant}/listarCidades`,O=`${d.public.managemant}/listarTipoBens`,k=u(re("user-data").value.cartorio_token),H=u(re("user-data").value.usuario_id).value,J=u([]),K=u([]),oe=u([]),X=u([]),le=u([]),x=u([]),m=u(!0),i=se({tabvalores_tipo_regimovel_id:null,registro_cartorio:null,registro_matricula:null,matricula_letra:null,tabvalores_nat_imovel_id:null,cib:null,end_cidade_id:null,end_quadra:null,end_lote:null,tabvalores_tipologradouro_id:null,end_logradouro:null,end_logradouro_numero:null,end_bairro:null,end_cep:null,end_complemento:null,tipo_id:null,descricao:null,inscricao_estadual:null,tabvalores_situacao_imoveis_id:null,vlr_alienacao:null,vlr_avaliacao:null,vlr_mercado:null,valor_mercado:"0.00",aliq_itbi:null,vlr_itbi:null,user_id:H,ato_id:Number(P.query.ato_id)||Number(c.ato_id)}),te=se({...i}),Z={descricao:{required:$e.withMessage("O campo é obrigatório",ke)},tipo_id:{required:$e.withMessage("O campo é obrigatório",ke)}},ee=Me(Z,i),ue=async()=>{if(!await ee.value.$validate()){z.error("Preencha todos os campos obrigatórios!");return}const{data:l,status:I}=await S(`${V}`,{method:"POST",body:i},"$0Mdv6RF9cH");I.value==="success"&&(z.success("Imovel criado com sucesso!"),$("saved",{id:l.value.id,token:l.value.token,ato_id:l.value.ato_id}))},{data:E}=([a,r]=ie(()=>S(`${O}`,{method:"POST",body:{cartorio_token:k.value,imoveis:!0}},"$H1S2cTYpdB")),a=await a,r(),a);if(x.value=E.value,c.isUpdate===!0){const{data:_}=([a,r]=ie(()=>S(`${A}/${c.imovel_id}`,{method:"GET"},"$jHrIlABk8l")),a=await a,r(),a);_.value&&Object.keys(i).forEach(l=>{_.value[l]!==void 0&&(i[l]=_.value[l])}),Object.assign(te,i)}async function n(){try{const[_,l,I,T,s]=await Promise.all([$fetch(h),$fetch(b),$fetch(w),$fetch(G),$fetch(f)]);K.value=_,J.value=l,le.value=I,oe.value=T,X.value=s}catch(_){console.error("Erro ao carregar os dados de imoveis pessoa:",_)}finally{m.value=!1}}const Y=async _=>{const l={};if(Object.keys(i).forEach(T=>{i[T]!==te[T]&&(l[T]=i[T])}),Object.keys(l).length===0)return;const{status:I}=await S(`${C}/${_}`,{method:"PUT",body:l},"$BZjXR26AL9");I.value==="success"&&(z.success("Imovel Atualizado com sucesso!"),$("close-modal"))},p=()=>{$("close-modal"),$("refresh-list")};return Ie(()=>{g||c.ato_id?n():m.value=!1}),(_,l)=>{const I=ge,T=Ve;return o(m)?(y(),D("div",Le,[e(Pe,{indeterminate:"",class:"loading-spinner",size:"64"})])):(y(),L(de,{key:1},{default:t(()=>[e(M,null,{default:t(()=>[e(v,{class:"mt-2",cols:"12"},{default:t(()=>[e(Be,{label:"Descrição",modelValue:o(i).descricao,"onUpdate:modelValue":l[0]||(l[0]=s=>o(i).descricao=s),"error-messages":o(ee).descricao.$errors.map(s=>s.$message)},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(v,{cols:"3"},{default:t(()=>[e(Q,{label:"Tipo de Registro",modelValue:o(i).tabvalores_tipo_regimovel_id,"onUpdate:modelValue":l[1]||(l[1]=s=>o(i).tabvalores_tipo_regimovel_id=s),items:o(J),"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"2"},{default:t(()=>[e(q,{label:"Cartório",modelValue:o(i).registro_cartorio,"onUpdate:modelValue":l[2]||(l[2]=s=>o(i).registro_cartorio=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:t(()=>[e(q,{label:"Matricula",modelValue:o(i).registro_matricula,"onUpdate:modelValue":l[3]||(l[3]=s=>o(i).registro_matricula=s)},null,8,["modelValue"])]),_:1}),e(v,null,{default:t(()=>[e(q,{label:"Letra",modelValue:o(i).matricula_letra,"onUpdate:modelValue":l[4]||(l[4]=s=>o(i).matricula_letra=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"4"},{default:t(()=>[e(Q,{label:"Natureza",modelValue:o(i).tabvalores_nat_imovel_id,"onUpdate:modelValue":l[5]||(l[5]=s=>o(i).tabvalores_nat_imovel_id=s),items:o(K),"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(v,{cols:"2"},{default:t(()=>[e(q,{label:"CIB",modelValue:o(i).cib,"onUpdate:modelValue":l[6]||(l[6]=s=>o(i).cib=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"3"},{default:t(()=>[e(Q,{modelValue:o(i).tipo_id,"onUpdate:modelValue":l[7]||(l[7]=s=>o(i).tipo_id=s),items:o(x),label:"Tipo de imovel","item-title":"descricao","item-value":"id","error-messages":o(ee).tipo_id.$errors.map(s=>s.$message)},null,8,["modelValue","items","error-messages"])]),_:1}),e(v,{cols:"3"},{default:t(()=>[e(q,{label:"Inscrição Municipal",modelValue:o(i).inscricao_estadual,"onUpdate:modelValue":l[8]||(l[8]=s=>o(i).inscricao_estadual=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"4"},{default:t(()=>[e(Q,{label:"Situação",items:o(le),"item-title":"descricao","item-value":"id",modelValue:o(i).tabvalores_situacao_imoveis_id,"onUpdate:modelValue":l[9]||(l[9]=s=>o(i).tabvalores_situacao_imoveis_id=s)},null,8,["items","modelValue"])]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(v,{cols:"2"},{default:t(()=>[l[16]||(l[16]=U("label",null,"Valor Alienação",-1)),e(I,{label:"Valor Alienação",modelValue:o(i).vlr_alienacao,"onUpdate:modelValue":l[10]||(l[10]=s=>o(i).vlr_alienacao=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:t(()=>[l[17]||(l[17]=U("label",null,"Valor Avaliação",-1)),e(I,{label:"Valor Avaliação",modelValue:o(i).vlr_avaliacao,"onUpdate:modelValue":l[11]||(l[11]=s=>o(i).vlr_avaliacao=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:t(()=>[l[18]||(l[18]=U("label",null,"Valor Mercado",-1)),e(I,{label:"Valor Mercado",modelValue:o(i).vlr_mercado,"onUpdate:modelValue":l[12]||(l[12]=s=>o(i).vlr_mercado=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"1"},{default:t(()=>[l[19]||(l[19]=U("label",null,"%ITB",-1)),e(I,{label:"%ITB",modelValue:o(i).aliq_itbi,"onUpdate:modelValue":l[13]||(l[13]=s=>o(i).aliq_itbi=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:t(()=>[l[20]||(l[20]=U("label",null,"Valor ITB",-1)),e(I,{label:"Valor ITB",modelValue:o(i).vlr_itbi,"onUpdate:modelValue":l[14]||(l[14]=s=>o(i).vlr_itbi=s)},null,8,["modelValue"])]),_:1})]),_:1}),e(M,{class:"mt-10"},{default:t(()=>[e(T,{onClick:p},{default:t(()=>[e(F,{size:"large",color:"red"},{default:t(()=>l[21]||(l[21]=[B("Voltar")])),_:1})]),_:1}),j.isUpdate?(y(),L(F,{key:0,class:"ml-5",size:"large",color:"green",onClick:l[15]||(l[15]=s=>Y(c.imovel_id))},{default:t(()=>l[22]||(l[22]=[B("Atualizar")])),_:1})):(y(),L(F,{key:1,class:"ml-5",size:"large",color:"green",onClick:ue},{default:t(()=>l[23]||(l[23]=[B("Salvar")])),_:1}))]),_:1})]),_:1}))}}},Re={key:0,class:"d-flex justify-center"},Ue={__name:"Enderecos",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0},isUpdate:{type:Boolean},imovel_id:{type:Number}},emits:["saved","close-modal","refresh-list"],async setup(j,{emit:R}){let a,r;const c=j,$=R,P=_e(),d=fe(),{$toast:z}=ve(),{id:g}=P.params,V=`${d.public.managemant}/atos_bens`,A=`${d.public.managemant}/atos_bens`,C=`${d.public.managemant}/registro_imoveis`,b=`${d.public.managemant}/natureza_imoveis`,h=`${d.public.managemant}/tipo_logradouros`,G=`${d.public.managemant}/situacao_imoveis`,w=`${d.public.managemant}/listarCidades`,f=`${d.public.managemant}/listarTipoBens`,O=u(re("user-data").value.cartorio_token),k=u(re("user-data").value.usuario_id).value,H=u([]),J=u([]),K=u([]),oe=u([]),X=u([]),le=u([]),x=u(!0),m=se({end_cidade_id:null,end_quadra:null,end_lote:null,tabvalores_tipologradouro_id:null,end_logradouro:null,end_logradouro_numero:null,end_bairro:null,end_cep:null,end_complemento:null,user_id:k,ato_id:Number(P.query.ato_id)||Number(c.ato_id)}),i=se({...m}),{data:te}=([a,r]=ie(()=>S(`${f}`,{method:"POST",body:{cartorio_token:O.value,imoveis:!0}},"$W62VZQp5Tx")),a=await a,r(),a);if(le.value=te.value,c.isUpdate===!0){const{data:E}=([a,r]=ie(()=>S(`${V}/${c.imovel_id}`,{method:"GET"},"$uGMUgsxHFk")),a=await a,r(),a);E.value&&Object.keys(m).forEach(n=>{E.value[n]!==void 0&&(m[n]=E.value[n])}),Object.assign(i,m)}async function Z(){try{const[E,n,Y,p,_]=await Promise.all([$fetch(b),$fetch(C),$fetch(G),$fetch(h),$fetch(w)]);J.value=E,H.value=n,X.value=Y,K.value=p,oe.value=_}catch(E){console.error("Erro ao carregar os dados de imoveis pessoa:",E)}finally{x.value=!1}}const ee=async E=>{const n={};if(Object.keys(m).forEach(p=>{m[p]!==i[p]&&(n[p]=m[p])}),Object.keys(n).length===0)return;const{status:Y}=await S(`${A}/${E}`,{method:"PUT",body:n},"$JWP9Pf1MfJ");Y.value==="success"&&z.success("Imovel Atualizado com sucesso!")},ue=()=>{$("close-modal"),$("refresh-list")};return Ie(()=>{g||c.ato_id?Z():x.value=!1}),(E,n)=>{const Y=Ve;return o(x)?(y(),D("div",Re,[e(Pe,{indeterminate:"",class:"loading-spinner",size:"64"})])):(y(),L(de,{key:1,style:{height:"500px"},class:"mt-2"},{default:t(()=>[e(M,null,{default:t(()=>[e(v,{cols:"5"},{default:t(()=>[e(Q,{label:"Cidade",modelValue:o(m).end_cidade_id,"onUpdate:modelValue":n[0]||(n[0]=p=>o(m).end_cidade_id=p),items:o(oe),"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"2"},{default:t(()=>[e(q,{label:"Quadra",modelValue:o(m).end_quadra,"onUpdate:modelValue":n[1]||(n[1]=p=>o(m).end_quadra=p)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:t(()=>[e(q,{label:"Lote",modelValue:o(m).end_lote,"onUpdate:modelValue":n[2]||(n[2]=p=>o(m).end_lote=p)},null,8,["modelValue"])]),_:1}),e(v,{cols:"3"},{default:t(()=>[e(Q,{label:"Tipo de Logradouro",modelValue:o(m).tabvalores_tipologradouro_id,"onUpdate:modelValue":n[3]||(n[3]=p=>o(m).tabvalores_tipologradouro_id=p),items:o(K),"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(v,{cols:"5"},{default:t(()=>[e(q,{label:"Logradouro",modelValue:o(m).end_logradouro,"onUpdate:modelValue":n[4]||(n[4]=p=>o(m).end_logradouro=p)},null,8,["modelValue"])]),_:1}),e(v,{cols:"1"},{default:t(()=>[e(q,{label:"N*",modelValue:o(m).end_logradouro_numero,"onUpdate:modelValue":n[5]||(n[5]=p=>o(m).end_logradouro_numero=p)},null,8,["modelValue"])]),_:1}),e(v,null,{default:t(()=>[e(q,{label:"Bairro",modelValue:o(m).end_bairro,"onUpdate:modelValue":n[6]||(n[6]=p=>o(m).end_bairro=p)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:t(()=>[e(q,{label:"CEP",modelValue:o(m).end_cep,"onUpdate:modelValue":n[7]||(n[7]=p=>o(m).end_cep=p)},null,8,["modelValue"])]),_:1})]),_:1}),e(M,null,{default:t(()=>[e(v,{cols:"5"},{default:t(()=>[e(q,{label:"Complemento",modelValue:o(m).end_complemento,"onUpdate:modelValue":n[8]||(n[8]=p=>o(m).end_complemento=p)},null,8,["modelValue"])]),_:1})]),_:1}),e(M,{class:"mt-10 justify-start"},{default:t(()=>[e(Y,{onClick:ue},{default:t(()=>[e(F,{size:"large",color:"red"},{default:t(()=>n[11]||(n[11]=[B("Voltar")])),_:1})]),_:1}),j.isUpdate?(y(),L(F,{key:0,class:"ml-5",size:"large",color:"green",onClick:n[9]||(n[9]=p=>ee(c.imovel_id))},{default:t(()=>n[12]||(n[12]=[B("Atualizar")])),_:1})):(y(),L(F,{key:1,class:"ml-5",size:"large",color:"green",onClick:n[10]||(n[10]=p=>ee(c.imovel_id))},{default:t(()=>n[13]||(n[13]=[B("Salvar")])),_:1}))]),_:1})]),_:1}))}}},De={class:"ml-4"},Fe={__name:"Partes",props:{show:Boolean,ato_token:String,ato_id:Number,partes_imovel:Object},emits:["close","update-imovel"],setup(j,{emit:R}){const a=j,r=u(a.show),c=_e(),$=fe(),{$toast:P}=ve(),d=`${$.public.managemant}/bens_pessoa`,z=`${$.public.managemant}/listarPapeis`,g=u([]),V=se({percentual:null,tipo_parte_id:null}),A=u({}),C=R;be(()=>a.show,async w=>{r.value=w,w&&(await h(),V.tipo_parte_id=a.partes_imovel.partes_tipos.descricao||null,V.percentual=a.partes_imovel.percentual||null,A.value={tipo_parte_id:V.tipo_parte_id,percentual:V.percentual})});const b=()=>{r.value=!1,C("close")},h=async()=>{const{data:w}=await S(z,{method:"POST",body:{tipo_ato_token:c.query.tipo_ato_token}},"$IjSu4kwy4b");g.value=w.value},G=async()=>{const w={};Object.keys(V).forEach(O=>{let k=V[O];O==="tipo_parte_id"&&k&&(k=k.id),k!==A.value[O]&&(w[O]=k)});const{status:f}=await S(`${d}/${a.partes_imovel.id}`,{method:"PUT",body:w},"$QkvGl1R6ZY");f.value==="success"&&(P.success("Parte Atualizada com Sucesso!"),C("update-imovel",w),b())};return(w,f)=>{const O=ge;return y(),L(pe,{persistent:"",modelValue:o(r),"onUpdate:modelValue":f[2]||(f[2]=k=>ne(r)?r.value=k:null),"max-width":"800"},{default:t(()=>[e(ce,null,{default:t(()=>[e(de,null,{default:t(()=>[e(M,{class:"mt-1 mb-3",style:{"justify-content":"space-between"}},{default:t(()=>[U("h1",De," Altere o papel para: "+ze(a.partes_imovel.pessoa.nome),1)]),_:1}),f[4]||(f[4]=U("hr",{class:"mb-5"},null,-1)),e(M,null,{default:t(()=>[e(v,{cols:"8"},{default:t(()=>[e(Q,{class:"mt-6",label:"Selecione o Papel",modelValue:o(V).tipo_parte_id,"onUpdate:modelValue":f[0]||(f[0]=k=>o(V).tipo_parte_id=k),items:o(g),"item-title":"descricao","item-value":"descricao","return-object":""},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"2"},{default:t(()=>[f[3]||(f[3]=U("label",null,"%",-1)),e(O,{modelValue:o(V).percentual,"onUpdate:modelValue":f[1]||(f[1]=k=>o(V).percentual=k)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(Te,null,{default:t(()=>[e(F,{style:{"background-color":"red",color:"white"},onClick:b},{default:t(()=>f[5]||(f[5]=[B("Voltar")])),_:1}),e(F,{style:{"background-color":"green",color:"white"},onClick:G},{default:t(()=>f[6]||(f[6]=[B("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},he=["onClick"],Ge=["onClick"],He=["onClick"],Ye={key:0,style:{width:"30px",height:"30px"},src:Ne,alt:"Visualizar",title:"Reativar"},Qe={key:1,src:je,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Ce={__name:"Partes",props:{ato_token:{type:String},ato_token_selected:{type:String},ato_id:{type:Number},isUpdate:{type:Boolean},imovel_id:{type:Number}},emits:["saved","close-modal","refresh-list"],async setup(j,{emit:R}){let a,r;const c=j,$=R,P=_e(),d=fe(),{$toast:z}=ve(),g=`${d.public.managemant}/partes_atos`,V=`${d.public.managemant}/listarPapeis`,A=`${d.public.managemant}/getLinkTipo`,C=`${d.public.managemant}/bens_pessoa`,b=`${d.public.managemant}/bens_pessoa`,h=`${d.public.managemant}/bens_pessoa`,G=`${d.public.managemant}/download`,w=u(null),f=u([]),O=u([]),k=u([]),H=u(!1),J=u(!1),K=u(null),oe=u(P.query.tipo_ato_token),X=u(null),le=[{title:"Pessoa",align:"start",key:"pessoa.nome"},{title:"Papel",align:"start",key:"papel.descricao"},{title:"%",align:"start",key:"percentual"},{value:"actions"}],x=se({papeis:null,percentual:null}),{data:m}=([a,r]=ie(()=>S(V,{method:"POST"},"$X6FDd5A6WK")),a=await a,r(),a);k.value=m.value;const i=async()=>{const{data:_}=await S(`${b}/${c.imovel_id}`,{method:"GET"},"$Dyv7lSgcqT"),I=(T=>T.map(s=>({...s,pessoa:{...s.pessoa,documento:s.pessoa.doc_identificacao},papel:{...s.partes_tipos}})))(_.value);O.value=I};i();const te=async()=>{await i()},{data:Z,status:ee}=([a,r]=ie(()=>S(g,{method:"POST",body:{ato_token:c.ato_token||P.query.ato_token_edit}},"$Ir36YwSBFY")),a=await a,r(),a);f.value=Z.value&&Object.keys(Z.value).length===0?[]:Z.value;const ue=async()=>{const _={pessoa:{nome:x.pessoa.pessoa_nome},papel:k.value.find(T=>T.id===x.papeis),percentual:x.percentual},{data:l,status:I}=await S(C,{method:"POST",body:{bem_id:c.imovel_id,ato_id:Number(P.query.ato_id),pessoa_id:x.pessoa.pessoa_id,tipo_parte_id:x.papeis,user_id:re("user-data").value.usuario_id,percentual:x.percentual}},"$z4QOGPyvCc");I.value==="success"&&(_.id=l.value.id,z.success("Pessoa Registrada com Sucesso!"),O.value.push(_))},E=async _=>{var me;if(H.value=!0,X.value=null,!_.pessoa.id)return;const{data:l}=await S(A,{method:"POST",body:{tipo:"ficha",id:_.pessoa.id}},"$XYnqHmowsR");if(!((me=l.value)!=null&&me.link))return;const{data:I}=await S(G,{method:"POST",body:{bucket:"qvgjz",path:l.value.link}},"$63DgHOk5hC"),T=l.value.link,s=I.value;/\.(tr7|tiff)$/i.test(T)?X.value=s:fotoRender.value=`data:image/jpeg;base64,${s}`},n=_=>{J.value=!0,w.value=_,K.value=_.id};async function Y(_){_.excluido=!_.excluido;try{await S(`${h}/${_.id}`,{method:"PUT",body:JSON.stringify({excluido:_.excluido})},"$3fKfAn4Pra")}catch(l){console.error("Erro ao excluir pessoa:",l)}}const p=()=>{$("close-modal"),$("refresh-list")};return(_,l)=>{const I=ge,T=Fe,s=Se,me=Ve;return y(),L(de,{style:{height:"500px"}},{default:t(()=>[e(M,null,{default:t(()=>[e(v,{class:"mt-6",cols:"4"},{default:t(()=>[e(Q,{label:"Selecione a Pessoa",modelValue:o(x).pessoa,"onUpdate:modelValue":l[0]||(l[0]=N=>o(x).pessoa=N),items:o(f),"item-title":"pessoa_nome","item-value":"id","return-object":"",required:""},null,8,["modelValue","items"])]),_:1}),e(v,{class:"mt-6",cols:"3"},{default:t(()=>[e(Q,{label:"Papel",modelValue:o(x).papeis,"onUpdate:modelValue":l[1]||(l[1]=N=>o(x).papeis=N),items:o(k),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"1"},{default:t(()=>[l[6]||(l[6]=U("label",null,"%",-1)),e(I,{modelValue:o(x).percentual,"onUpdate:modelValue":l[2]||(l[2]=N=>o(x).percentual=N)},null,8,["modelValue"])]),_:1}),U("div",null,[U("img",{class:"mt-7",src:Ae,style:{width:"40px",cursor:"pointer"},title:"Criar Imovel",onClick:ue})])]),_:1}),e(M,null,{default:t(()=>[e(v,null,{default:t(()=>[e(qe,{style:{height:"350px"},headers:le,items:o(O)},{"item.actions":t(({item:N})=>[e(M,null,{default:t(()=>[U("div",{style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},class:"mr-2",onClick:ye=>E(N),title:"Visualizar Ficha"},l[7]||(l[7]=[U("img",{style:{width:"30px",height:"30px"},src:Oe,alt:"Visualizar"},null,-1)]),8,he),U("div",{style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:ye=>n(N),class:"mr-2",title:"Alterar Papel"},l[8]||(l[8]=[U("img",{style:{width:"30px",height:"30px"},src:Ee,alt:"Visualizar"},null,-1)]),8,Ge),U("div",{class:"mr-2",style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:ye=>Y(N),title:"Deletar Pessoa"},[N.excluido?(y(),D("img",Ye)):(y(),D("img",Qe))],8,He)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(T,{partes_imovel:o(w),ato_token:o(oe),ato_id:o(K),show:o(J),onClose:l[3]||(l[3]=N=>J.value=!1),onUpdateImovel:te},null,8,["partes_imovel","ato_token","ato_id","show"]),e(pe,{modelValue:o(H),"onUpdate:modelValue":l[5]||(l[5]=N=>ne(H)?H.value=N:null),width:"600"},{default:t(()=>[e(ce,{"max-width":"600",title:"Ficha"},{default:t(()=>[e(s,{"tiff-url":o(X)},null,8,["tiff-url"]),e(F,{class:"ms-auto mt-3 mb-3",text:"Fechar",size:"large",color:"red",onClick:l[4]||(l[4]=N=>H.value=!1)})]),_:1})]),_:1},8,["modelValue"]),e(M,{class:"mt-5"},{default:t(()=>[e(me,{onClick:p},{default:t(()=>[e(F,{size:"large",color:"red"},{default:t(()=>l[9]||(l[9]=[B("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Je={key:0},Ke={key:1},We={key:2},bo={__name:"Cadastro",props:{show:Boolean,imovel_id:Number,ato_token:String,ato_id:Number,ato_token_selected:String},emits:["close","refresh"],setup(j,{emit:R}){const a=j,r=u("dados"),c=u(a.show),$=u(null),P=u(null),d=u(!1),z=R;be(()=>a.show,C=>{c.value=C});const g=C=>{d.value=!0,P.value=C.ato_id,$.value=C.id},V=()=>{c.value=!1,d.value=!1,z("close")},A=()=>{z("refresh")};return(C,b)=>{const h=we,G=Ue,w=Ce;return y(),L(pe,{persistent:"",modelValue:o(c),"onUpdate:modelValue":b[1]||(b[1]=f=>ne(c)?c.value=f:null),"max-width":"1000"},{default:t(()=>[e(ce,{style:{height:"650px"}},{default:t(()=>[e(de,null,{default:t(()=>[b[5]||(b[5]=U("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Cadastro de imoveis ",-1)),e(xe,{modelValue:o(r),"onUpdate:modelValue":b[0]||(b[0]=f=>ne(r)?r.value=f:null),"bg-color":"#f5f2f2"},{default:t(()=>[e(ae,{value:"dados"},{default:t(()=>b[2]||(b[2]=[B("Dados")])),_:1}),o(d)?(y(),L(ae,{key:0,value:"enderecos"},{default:t(()=>b[3]||(b[3]=[B("Endereco")])),_:1})):W("",!0),o(d)?(y(),L(ae,{key:1,value:"partes"},{default:t(()=>b[4]||(b[4]=[B("Partes")])),_:1})):W("",!0)]),_:1},8,["modelValue"]),o(r)==="dados"?(y(),D("div",Je,[e(h,{onRefreshList:A,ato_id:a.ato_id,onSaved:g,onCloseModal:V},null,8,["ato_id"])])):W("",!0),o(r)==="enderecos"&&o(d)?(y(),D("div",Ke,[e(G,{onRefreshList:A,isUpdate:!0,ato_id:o(P),ato_token:a.ato_token,imovel_id:o($),onCloseModal:V},null,8,["ato_id","ato_token","imovel_id"])])):W("",!0),o(r)==="partes"&&o(d)?(y(),D("div",We,[e(w,{onRefreshList:A,imovel_id:o($),ato_token:a.ato_token,ato_id:a.ato_id,ato_token_selected:a.ato_token_selected,onCloseModal:V},null,8,["imovel_id","ato_token","ato_id","ato_token_selected"])])):W("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Xe={key:0},Ze={key:1},eo={key:2},go={__name:"Atualizar",props:{show:Boolean,imovel_id:Number,ato_token_selected:String},emits:["close","refresh"],setup(j,{emit:R}){const a=j,r=u("dados"),c=u(a.show),$=R;be(()=>a.show,z=>{c.value=z});const P=()=>{c.value=!1,$("close")},d=()=>{$("refresh")};return(z,g)=>{const V=we,A=Ue,C=Ce;return y(),L(pe,{persistent:"",modelValue:o(c),"onUpdate:modelValue":g[1]||(g[1]=b=>ne(c)?c.value=b:null),"max-width":"1000"},{default:t(()=>[e(ce,{style:{height:"650px"}},{default:t(()=>[e(de,null,{default:t(()=>[g[5]||(g[5]=U("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Atualizar imovel ",-1)),e(xe,{modelValue:o(r),"onUpdate:modelValue":g[0]||(g[0]=b=>ne(r)?r.value=b:null),"bg-color":"#f5f2f2"},{default:t(()=>[e(ae,{value:"dados"},{default:t(()=>g[2]||(g[2]=[B("Dados")])),_:1}),e(ae,{value:"enderecos"},{default:t(()=>g[3]||(g[3]=[B("Endereço")])),_:1}),e(ae,{value:"partes"},{default:t(()=>g[4]||(g[4]=[B("Partes")])),_:1})]),_:1},8,["modelValue"]),o(r)==="dados"?(y(),D("div",Xe,[e(V,{onRefreshList:d,isUpdate:!0,imovel_id:a.imovel_id,onCloseModal:P},null,8,["imovel_id"])])):W("",!0),o(r)==="enderecos"?(y(),D("div",Ze,[e(A,{onRefreshList:d,isUpdate:!0,imovel_id:a.imovel_id,onCloseModal:P},null,8,["imovel_id"])])):W("",!0),o(r)==="partes"?(y(),D("div",eo,[e(C,{imovel_id:a.imovel_id,ato_token_selected:a.ato_token_selected,onCloseModal:P},null,8,["imovel_id","ato_token_selected"])])):W("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{bo as _,go as a};
