import{_ as J,a as Q,b as Y,c as Z,d as ee,e as oe}from"./31FK-DUx.js";import{_ as te,a as ae}from"./BIAATlHf.js";import{_ as se}from"./DL85ciY7.js";import{n as le,r as d,L as ne,P as re,u as ie,I as ue,x as me,k as de,o as n,p as r,w as a,b as s,C as U,q as e,V as I,d as c,v as _e,y as ce,g as M,A as m,s as S}from"./BY_DW5tW.js";import{f as C}from"./C_hMw-3a.js";import{u as pe}from"./C8Xv-wCf.js";import{V as F}from"./BiP6ifMN.js";import{V as $}from"./DqTtSvJw.js";import{V as E}from"./B45pF_-_.js";import{V as ve}from"./8M5Fco_J.js";import{_ as fe}from"./BjnRKy3I.js";import{V as ke}from"./CxJhbGSD.js";import{V as f,a as be,e as k,d as ge}from"./CgvrzChr.js";import"./DhELuThq.js";import"./CiH314i2.js";import"./DIOxj7GQ.js";import"./VPCBY2jl.js";import"./B0IxRygJ.js";import"./Cdq3RwN8.js";import"./CqFZTOcP.js";import"./C4mWBQqS.js";import"./DVwhxeQN.js";import"./ik4QCIny.js";import"./CV64iqpq.js";import"./BLxk4j_B.js";import"./BVz1G1IN.js";import"./SfOxVqVZ.js";import"./DJvq3mCv.js";import"./he8Ovxnd.js";import"./YXw6oCD6.js";import"./TDtrdbi3.js";import"./4aNj2Fm5.js";import"./Dk5mUoax.js";import"./BAndWNyC.js";import"./CsGMBNAL.js";import"./CYZC1xuu.js";import"./D_9r5wJH.js";import"./rzzggB1C.js";import"./DrNv3tWU.js";import"./Bb_KXgEF.js";import"./ZbBUaYJH.js";const Ve={__name:"SeparacaoDivorcio",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0}},setup(B){const w=B,b=_e(),u=le({dt_casamento:null,tabvalores_regimecasamento_id:null,qtd_filhos_maiores:null,qtd_filhos_menores:null,responsavel_menores_id:null}),p=d([]),_=ne(),T=re(),{$toast:P}=ie(),g=`${b.public.auth}/service/gerencia/getAtos/${w.ato_id}`,l=`${b.public.auth}/service/gerencia/regime_casamento`,V=`${b.public.auth}/service/gerencia/getAtosPessoaById/${w.ato_id}`,q=`${b.public.managemant}/updateAtos`;d(""),d(""),d(!1),d(!1),d(null);const y=d([]),A=ue(()=>{var i;return((i=y.value)==null?void 0:i.map(o=>{var t;return{id:o.pessoa.id,nome:((t=o.pessoa)==null?void 0:t.nome)||"Sem nome"}}))||[]});me(async()=>{const[i,o,t]=await Promise.all([C(g,{method:"GET"}),C(l,{method:"GET"}),C(V,{method:"GET"})]);i.data.value&&Object.assign(u,i.data.value[0]||i.data.value),o.data.value&&(p.value=o.data.value),t.data.value&&(y.value=t.data.value)});const x=async()=>{try{const{data:i}=await C(V,{method:"GET"});y.value=i.value||[]}catch{}};de(async()=>{await ce(),await x()});const D=()=>{const i=T.query.origem||"criar",o=T.query.id;switch(i){case"atualizar":case"vizualizar":_.push(`/os/atualizar/${o}`);break;case"atualizar-lista":case"vizualizar-lista":_.push("/atos/lista");break;default:_.push("/os/criar-registro");break}};async function N(){const{data:i,error:o,status:t}=await pe(`${q}/${Number.parseInt(w.ato_id)}`,{method:"PUT",body:{dt_casamento:u.dt_casamento,tabvalores_regimecasamento_id:u.tabvalores_regimecasamento_id,qtd_filhos_maiores:u.qtd_filhos_maiores,qtd_filhos_menores:u.qtd_filhos_menores,responsavel_menores_id:u.responsavel_menores_id}},"$2MFTkguIXN");t.value==="success"&&P.success("Divórcio salvo com sucesso")}const R=i=>{const o=["Backspace","Tab","ArrowLeft","ArrowRight","Delete"];!/[0-9]/.test(i.key)&&!o.includes(i.key)&&i.preventDefault()};return(i,o)=>{const t=se;return n(),r(ve,{class:"mt-5"},{default:a(()=>[s(F,{dense:""},{default:a(()=>[s($,{cols:"12",sm:"4",md:"3"},{default:a(()=>[s(U,{modelValue:e(u).dt_casamento,"onUpdate:modelValue":o[0]||(o[0]=v=>e(u).dt_casamento=v),type:"date",label:"Data Casamento"},null,8,["modelValue"])]),_:1}),s($,{cols:"12",sm:"6",md:"4"},{default:a(()=>[s(E,{label:"Regime Bens",modelValue:e(u).tabvalores_regimecasamento_id,"onUpdate:modelValue":o[1]||(o[1]=v=>e(u).tabvalores_regimecasamento_id=v),items:e(p),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),s($,{cols:"12",sm:"6",md:"3"},{default:a(()=>[s(U,{label:"Filhos Maiores",modelValue:e(u).qtd_filhos_maiores,"onUpdate:modelValue":o[2]||(o[2]=v=>e(u).qtd_filhos_maiores=v),modelModifiers:{number:!0},type:"number",min:"0",onKeydown:R},null,8,["modelValue"])]),_:1}),s($,{cols:"12",sm:"6",md:"3"},{default:a(()=>[s(U,{label:"Filhos Menores",modelValue:e(u).qtd_filhos_menores,"onUpdate:modelValue":o[3]||(o[3]=v=>e(u).qtd_filhos_menores=v),type:"number",min:"0",onKeydown:R},null,8,["modelValue"])]),_:1}),s($,{cols:"12",sm:"6",md:"4"},{default:a(()=>[s(E,{onFocus:x,label:"Responsável",modelValue:e(u).responsavel_menores_id,"onUpdate:modelValue":o[4]||(o[4]=v=>e(u).responsavel_menores_id=v),items:e(A),"item-title":"nome","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1})]),_:1}),s(F,{class:"mt-5",justify:"start",align:"center"},{default:a(()=>[s($,{cols:"auto"},{default:a(()=>[s(t,{onClick:D},{default:a(()=>[s(I,{size:"large",color:"red"},{default:a(()=>o[5]||(o[5]=[c("Voltar")])),_:1})]),_:1})]),_:1}),s($,{cols:"auto"},{default:a(()=>[s(I,{class:"ml-2",onClick:N,size:"large",color:"green"},{default:a(()=>o[6]||(o[6]=[c("Salvar")])),_:1})]),_:1})]),_:1})]),_:1})}}},io={__name:"geral",props:{ato_token:{type:String,required:!0},ato_tipo_id:{type:Number},usa_imoveis:{type:Boolean,default:!1}},emits:["ato-created"],setup(B,{emit:w}){const b=B,u=w,p=d(null),_=d(null),T=d(null),P=d(null),g=d(null),l=d(!1),V=d(b.ato_token),q=d(b.ato_tipo_id),y=d(0),A=d(0),x=({id:o,token:t})=>{p.value=o,_.value=t,l.value=!0,u("ato-created")};function D(o){o==="divorcio"&&y.value++}function N(){g.value==="divorcio"&&A.value<3&&(y.value++,A.value++)}const R=o=>{T.value=o},i=o=>{P.value=o};return M(()=>b.ato_token,o=>{V.value=o}),M(()=>b.ato_tipo_id,o=>{q.value=o}),(o,t)=>{const v=J,L=Q,O=te,G=Ve,K=ae,W=Y,j=Z,X=ee,h=oe,H=fe;return n(),r(ke,{width:"1300"},{default:a(()=>[s(be,{modelValue:e(g),"onUpdate:modelValue":t[0]||(t[0]=z=>S(g)?g.value=z:null),"bg-color":"#f5f2f2"},{default:a(()=>[s(f,{value:"dados"},{default:a(()=>t[2]||(t[2]=[c("Dados")])),_:1}),e(l)?(n(),r(f,{key:0,value:"partes"},{default:a(()=>t[3]||(t[3]=[c("Partes")])),_:1})):m("",!0),e(l)?(n(),r(f,{key:1,value:"bens"},{default:a(()=>t[4]||(t[4]=[c("Bens")])),_:1})):m("",!0),e(l)?(n(),r(f,{key:2,value:"imoveis"},{default:a(()=>t[5]||(t[5]=[c("Imoveis")])),_:1})):m("",!0),e(l)?(n(),r(f,{key:3,onClick:N,value:"divorcio"},{default:a(()=>t[6]||(t[6]=[c("Matrimônio")])),_:1})):m("",!0),e(l)?(n(),r(f,{key:4,value:"minuta"},{default:a(()=>t[7]||(t[7]=[c("Minuta")])),_:1})):m("",!0),e(l)?(n(),r(f,{key:5,value:"livro"},{default:a(()=>t[8]||(t[8]=[c("Livro")])),_:1})):m("",!0),e(l)?(n(),r(f,{key:6,value:"observacao"},{default:a(()=>t[9]||(t[9]=[c("Observações")])),_:1})):m("",!0),e(l)?(n(),r(f,{key:7,value:"anexo"},{default:a(()=>t[10]||(t[10]=[c("Anexos")])),_:1})):m("",!0),e(l)?(n(),r(f,{key:8,value:"outros"},{default:a(()=>t[11]||(t[11]=[c("Outros")])),_:1})):m("",!0)]),_:1},8,["modelValue"]),s(ge,{modelValue:e(g),"onUpdate:modelValue":[t[1]||(t[1]=z=>S(g)?g.value=z:null),D]},{default:a(()=>[s(k,{value:"dados"},{default:a(()=>[s(v,{onSaved:x,ato_token:e(V),ato_tipo_id:e(q)},null,8,["ato_token","ato_tipo_id"])]),_:1}),e(l)?(n(),r(k,{key:0,value:"partes"},{default:a(()=>[s(L,{ato_token:e(V),ato_id:e(p)},null,8,["ato_token","ato_id"])]),_:1})):m("",!0),e(l)?(n(),r(k,{key:1,value:"bens"},{default:a(()=>[s(O,{ato_token:e(_),ato_id:e(p)},null,8,["ato_token","ato_id"])]),_:1})):m("",!0),e(l)?(n(),r(k,{key:2,value:"divorcio"},{default:a(()=>[s(G,{ato_token:e(_),ato_id:e(p),"tab-event":e(y)},null,8,["ato_token","ato_id","tab-event"])]),_:1})):m("",!0),e(l)?(n(),r(k,{key:3,value:"imoveis"},{default:a(()=>[s(K,{ato_token:e(_),ato_token_selected:e(V),ato_id:e(p)},null,8,["ato_token","ato_token_selected","ato_id"])]),_:1})):m("",!0),e(l)?(n(),r(k,{key:4,value:"minuta"},{default:a(()=>[s(W,{onPage:R,onDoc:i,ato_token:e(_)},null,8,["ato_token"])]),_:1})):m("",!0),e(l)?(n(),r(k,{key:5,value:"livro"},{default:a(()=>[s(j,{pages:e(T),ato_token:e(_),document:e(P)},null,8,["pages","ato_token","document"])]),_:1})):m("",!0),e(l)?(n(),r(k,{key:6,value:"observacao"},{default:a(()=>[s(X,{ato_id:e(p)},null,8,["ato_id"])]),_:1})):m("",!0),e(l)?(n(),r(k,{key:7,value:"anexo"},{default:a(()=>[s(h,{ato_token:e(_),ato_id:e(p)},null,8,["ato_token","ato_id"])]),_:1})):m("",!0),e(l)?(n(),r(k,{key:8,value:"outros"},{default:a(()=>[s(H,{ato_token:e(_),ato_id:e(p)},null,8,["ato_token","ato_id"])]),_:1})):m("",!0)]),_:1},8,["modelValue"])]),_:1})}}};export{io as default};
