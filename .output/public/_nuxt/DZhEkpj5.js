import{_ as H}from"./5U5WrFi4.js";import{a as f,V as J,c as _,b as K,_ as Q,d as X,e as Y,f as Z}from"./DdN_yzws.js";import{_ as h,r as b,n as ee,u as ae,q as oe,A as P,s as le,G as te,o as se,v as de,w as o,z as ie,O as ue,a as D,t as ne,x as r,b as e,d as n,D as F,V as u,P as $,y as I}from"./ROS-x8Zp.js";import{u as me}from"./DSY8y1MM.js";import{u as re}from"./d7piQVwc.js";import{a as ce}from"./BCrwAZvD.js";import{V as C}from"./C_S6r_8L.js";import{V as N}from"./VSU0usK_.js";import{V as c}from"./DiYZvNkl.js";import{V as i}from"./M4sTZm_F.js";import"./DfjuBLsA.js";import"./CAvNGR-6.js";const pe={style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}},fe={style:{"background-color":"#f5f2f2",padding:"20px 0px 20px 20px"}},_e={__name:"[id]",emits:["saved"],setup(Ve,{emit:ve}){const m=b(null),w=ee(),{$toast:T}=ae(),B=oe(),{id:V}=B.params,p=ie(),M=`${p.public.managemant}/updatePessoa`,R=`${p.public.managemant}/listarEstadoCivil`,z=`${p.public.managemant}/listarCapacidadeCivil`,A=`${p.public.managemant}/listarCidades`,E=`${p.public.managemant}/getPessoaById`,U=b([]),k=b([]),y=b([]),S={nome:"",nome_pai:"",nome_mae:"",profissao:"",data_nascimento:"",doc_identificacao:"",cpf_pai:"",cpf_mae:"",tipo_pessoa:"FISICA",tabvalores_estadocivil_id:"",tabvalores_capacidadecivil_id:"",cidade_natural_id:"",cartorio_id:P("user-data").value.cartorio_id,user_id:P("user-data").value.usuario_id},t=le({...S});function L(s){if(s)return s.replace(/[.\-]/g,"");s=null}re(t);async function O(){try{const[s,a,d,v]=await Promise.all([$fetch(R),$fetch(z),$fetch(A),$fetch(`${E}/${V}`)]),g=P("pessoa_token");return g.value=v.token,U.value=s,k.value=a,y.value=d,Object.assign(t,v),{estadoCivilItems:s,capacidadeCivilItems:a,cidadeNascimentoItems:d}}catch(s){console.error("Erro ao carregar os dados da pessoa:",s)}}te(()=>{V&&O()});function W(s){const a={};for(const d in s)s[d]===""?a[d]=null:d==="doc_identificacao"||d==="cpf_pai"||d==="cpf_mae"?a[d]=L(s[d]):a[d]=s[d];return a}async function j(){const s=W(t);await me(`${M}/${V}`,{method:"PUT",body:s},"$NdF8Uiv290"),T.success("Pessoa atualizada com sucesso!"),w.push("/pessoas/lista")}return(s,a)=>{const d=H,v=Q,g=X,q=Y,G=Z,x=ue("mask");return se(),de(ce,{width:"1300"},{default:o(()=>[D("h1",pe,ne(r(V)?"Atualização de Pessoas":"Cadastramento de Pessoas"),1),D("div",fe,[e(C,{modelValue:t.tipo_pessoa,"onUpdate:modelValue":a[0]||(a[0]=l=>t.tipo_pessoa=l),style:{width:"200px"},items:s.pessoa_tipo,label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:""},null,8,["modelValue","items"])]),e(J,{modelValue:r(m),"onUpdate:modelValue":a[1]||(a[1]=l=>F(m)?m.value=l:null),"bg-color":"#f5f2f2"},{default:o(()=>[e(f,{value:"dados"},{default:o(()=>[n("Dados")]),_:1}),e(f,{value:"documento"},{default:o(()=>[n("Documentos")]),_:1}),e(f,{value:"endereco"},{default:o(()=>[n("Endereços")]),_:1}),e(f,{value:"biometria"},{default:o(()=>[n("Biometria")]),_:1}),e(f,{value:"restricao"},{default:o(()=>[n("Restrições")]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:r(m),"onUpdate:modelValue":a[15]||(a[15]=l=>F(m)?m.value=l:null)},{default:o(()=>[e(_,{value:"dados"},{default:o(()=>[e(N,{class:"mt-5"},{default:o(()=>[e(c,null,{default:o(()=>[e(i,{cols:"12",md:"8"},{default:o(()=>[e(u,{modelValue:t.nome,"onUpdate:modelValue":a[2]||(a[2]=l=>t.nome=l),label:"Nome"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[$(e(u,{modelValue:t.doc_identificacao,"onUpdate:modelValue":a[3]||(a[3]=l=>t.doc_identificacao=l),label:"CPF"},null,8,["modelValue"]),[[x,"###.###.###-##"]])]),_:1})]),_:1}),e(c,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[e(C,{modelValue:t.tabvalores_estadocivil_id,"onUpdate:modelValue":a[4]||(a[4]=l=>t.tabvalores_estadocivil_id=l),items:r(U),"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(u,{modelValue:t.profissao,"onUpdate:modelValue":a[5]||(a[5]=l=>t.profissao=l),label:"Profissão"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(u,{modelValue:t.local_trabalho,"onUpdate:modelValue":a[6]||(a[6]=l=>t.local_trabalho=l),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[e(u,{modelValue:t.data_nascimento,"onUpdate:modelValue":a[7]||(a[7]=l=>t.data_nascimento=l),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(C,{modelValue:t.tabvalores_capacidadecivil_id,"onUpdate:modelValue":a[8]||(a[8]=l=>t.tabvalores_capacidadecivil_id=l),items:r(k),label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(C,{modelValue:t.cidade_natural_id,"onUpdate:modelValue":a[9]||(a[9]=l=>t.cidade_natural_id=l),items:r(y),label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(c,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[$(e(u,{modelValue:t.cpf_pai,"onUpdate:modelValue":a[10]||(a[10]=l=>t.cpf_pai=l),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[x,"###.###.###-##"]])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(u,{modelValue:t.nome_pai,"onUpdate:modelValue":a[11]||(a[11]=l=>t.nome_pai=l),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[$(e(u,{modelValue:t.cpf_mae,"onUpdate:modelValue":a[12]||(a[12]=l=>t.cpf_mae=l),modelModifiers:{date:!0},label:"CPF da Mãe"},null,8,["modelValue"]),[[x,"###.###.###-##"]])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(u,{modelValue:t.nome_mae,"onUpdate:modelValue":a[13]||(a[13]=l=>t.nome_mae=l),modelModifiers:{date:!0},label:"Nome da Mãe"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{class:"mb-3"},{default:o(()=>[e(d,{to:"/pessoas/lista"},{default:o(()=>[e(I,{size:"large",color:"red"},{default:o(()=>[n("Voltar")]),_:1})]),_:1}),e(I,{onClick:a[14]||(a[14]=l=>j()),class:"ml-4",size:"large",color:"green"},{default:o(()=>[n("Salvar")]),_:1})]),_:1})]),_:1})]),_:1}),e(_,{value:"documento"},{default:o(()=>[e(v)]),_:1}),e(_,{value:"endereco"},{default:o(()=>[e(g)]),_:1}),e(_,{value:"biometria"},{default:o(()=>[e(N,{class:"mt-5"},{default:o(()=>[e(q)]),_:1})]),_:1}),e(_,{value:"restricao"},{default:o(()=>[e(G)]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Ne=h(_e,[["__scopeId","data-v-7befc789"]]);export{Ne as default};
