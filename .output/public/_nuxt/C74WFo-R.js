import{_ as B}from"./D3VTTCvN.js";import{r as u,m as c,u as I,G as v,p as N,w as e,v as R,o as z,a as M,b as o,C as V,q as l,V as w,d as C,H as G,K as H}from"./BEuqywk4.js";import{u as f}from"./Cq6Whg1H.js";import{V as L}from"./D2ABHjug.js";import{V as d}from"./CZEjr6Vq.js";import{V as r}from"./DARs971S.js";import{V as b}from"./CYTBitnN.js";import{V as K}from"./ybeNHC9M.js";import{V as Q}from"./VwoWb39h.js";import{V as W}from"./CwtJayhH.js";import"./vRQ8OJJf.js";import"./B48GOA9C.js";import"./BZKrK648.js";import"./CyVw0FD3.js";import"./uDJ1maCw.js";import"./BqBpuqHo.js";import"./CPf0QefJ.js";import"./DRW5y29H.js";const vo={__name:"index",async setup(X){let s,n;const _=R(),U=`${_.public.managemant}/tipo-atos`,j=`${_.public.managemant}/listar_tipo_atos`,k=`${_.public.managemant}/listar_tipo_atos_tj`,P=`${_.public.managemant}/listar_livros`,T=u(c("user-data").value||{}),S=u(c("user-data").value.cartorio_id||null);u(c("auth_token").value);const g=u(c("user-data").value.cartorio_token)||null,q=u([]),x=u([]),A=u([]),{$toast:y}=I(),a=u({pai_id:null,ato_tipo_tj_id:null,descricao:"",livro_id:null,usa_imoveis:!1,qtd_limite_folhas:0,vlr_adicional_folhas:0,texto_padrao_etiqueta:""}),h={cartorio_token:g.value,tipo:"SERVIÇO"},{data:E}=([s,n]=v(()=>f(`${j}`,{method:"POST",body:h},"$WGpp8bHhrp")),s=await s,n(),s);q.value=E.value;const $={cartorio_token:g.value},{data:D}=([s,n]=v(()=>f(`${k}`,{method:"POST",body:$},"$s9DrfhzPit")),s=await s,n(),s);x.value=D.value;const{data:F}=([s,n]=v(()=>f(`${P}`,{method:"POST",body:$},"$6RgudaolUe")),s=await s,n(),s);A.value=F.value;const O=async()=>{try{const m={pai_id:a.value.pai_id,ato_tipo_tj_id:a.value.ato_tipo_tj_id,descricao:a.value.descricao,livro_id:a.value.livro_id,usa_imoveis:a.value.usa_imoveis,qtd_limite_folhas:a.value.qtd_limite_folhas,vlr_adicional_folhas:a.value.vlr_adicional_folhas,texto_padrao_etiqueta:a.value.texto_padrao_etiqueta,user_id:T.value.usuario_id,user_alteracao_id:T.value.usuario_id,cartorio_id:S.value,tabvalores_tipotelaato_id:1},{data:t,error:p}=await f(U,{method:"POST",body:m},"$7rDtrpXpUV");if(p.value)throw new Error(p.value.message||"Erro desconhecido na API");y.success("Tipo de ato cadastrado com sucesso"),H("/tipoAtos/lista")}catch(m){console.error("Erro ao criar tipo de ato:",m),y.error(m.message||"Erro ao cadastrar tipo de ato")}};return(m,t)=>{const p=B;return z(),N(L,null,{default:e(()=>[t[10]||(t[10]=M("h1",{class:"mb-5"},"Criar Tipo de Ato",-1)),o(W,{onSubmit:G(O,["prevent"])},{default:e(()=>[o(d,null,{default:e(()=>[o(r,{cols:"6"},{default:e(()=>[o(V,{label:"Código",disabled:"",outlined:""})]),_:1})]),_:1}),o(d,null,{default:e(()=>[o(r,{cols:"6"},{default:e(()=>[o(b,{modelValue:l(a).pai_id,"onUpdate:modelValue":t[0]||(t[0]=i=>l(a).pai_id=i),items:l(q),"item-title":"descricao","item-value":"id",label:"Serviço",required:"",outlined:""},null,8,["modelValue","items"])]),_:1})]),_:1}),o(d,null,{default:e(()=>[o(r,{cols:"6"},{default:e(()=>[o(b,{class:"mr-5",label:"Ato tj",items:l(x),"item-title":"descricao","item-value":"id",modelValue:l(a).ato_tipo_tj_id,"onUpdate:modelValue":t[1]||(t[1]=i=>l(a).ato_tipo_tj_id=i)},null,8,["items","modelValue"]),o(r,{md:"6"})]),_:1})]),_:1}),o(d,null,{default:e(()=>[o(r,{cols:"6"},{default:e(()=>[o(V,{modelValue:l(a).descricao,"onUpdate:modelValue":t[2]||(t[2]=i=>l(a).descricao=i),label:"Descrição",required:"",outlined:""},null,8,["modelValue"])]),_:1})]),_:1}),o(d,null,{default:e(()=>[o(r,{cols:"6"},{default:e(()=>[o(b,{modelValue:l(a).livro_id,"onUpdate:modelValue":t[3]||(t[3]=i=>l(a).livro_id=i),items:l(A),"item-title":"descricao","item-value":"id",label:"Livro",required:"",outlined:""},null,8,["modelValue","items"])]),_:1})]),_:1}),o(d,null,{default:e(()=>[o(r,{cols:"6"},{default:e(()=>[o(K,{modelValue:l(a).usa_imoveis,"onUpdate:modelValue":t[4]||(t[4]=i=>l(a).usa_imoveis=i),label:"Usa Imóveis"},null,8,["modelValue"])]),_:1})]),_:1}),o(d,null,{default:e(()=>[o(r,{cols:"6"},{default:e(()=>[o(V,{modelValue:l(a).qtd_limite_folhas,"onUpdate:modelValue":t[5]||(t[5]=i=>l(a).qtd_limite_folhas=i),modelModifiers:{number:!0},type:"number",label:"Quantidade Limite de Folhas",required:"",outlined:""},null,8,["modelValue"])]),_:1})]),_:1}),o(d,null,{default:e(()=>[o(r,{cols:"6"},{default:e(()=>[o(p,{required:"",modelValue:l(a).vlr_adicional_folhas,"onUpdate:modelValue":t[6]||(t[6]=i=>l(a).vlr_adicional_folhas=i),label:"Valor Adicional por Folha"},null,8,["modelValue"])]),_:1})]),_:1}),o(d,null,{default:e(()=>[o(r,{cols:"6"},{default:e(()=>[o(Q,{modelValue:l(a).texto_padrao_etiqueta,"onUpdate:modelValue":t[7]||(t[7]=i=>l(a).texto_padrao_etiqueta=i),label:"Texto Padrão da Etiqueta",outlined:""},null,8,["modelValue"])]),_:1})]),_:1}),o(d,null,{default:e(()=>[o(r,null,{default:e(()=>[o(w,{size:"large",color:"red",to:"/tipoAtos/lista"},{default:e(()=>t[8]||(t[8]=[C("Voltar")])),_:1}),o(w,{type:"submit",class:"ml-4",size:"large",color:"green"},{default:e(()=>t[9]||(t[9]=[C("Salvar")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{vo as default};
