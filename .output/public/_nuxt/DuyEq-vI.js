import{_ as ve,a as fe,b as Ve,c as ye,d as ge,e as xe}from"./DcYPgATp.js";import{_ as be}from"./BcHthQep.js";import{_ as $e}from"./M5FLVeI7.js";import{_ as le,a as se,b as ie,c as ne}from"./CtKhqYlz.js";import{_ as re}from"./B6hM5Vqj.js";import{z as ue,D as X,u as ke,r as d,m as Q,A as we,E as N,o as M,q as Y,w as t,b as e,v as a,a as u,t as de,c as L,F as T,d as $,G as Ce,H as K,s as Z,g as Ae,p as Pe,V as oe,I as Te,J as Be}from"./FnxYlhN9.js";import{u as q}from"./CNpItiIB.js";import{V as D}from"./CjEmkOQ1.js";import{V as ae}from"./Dd1XdZrD.js";import{V as I}from"./DW5UIibG.js";import{V as j}from"./CQyFm3_L.js";import{V as ce}from"./B8MkFSEx.js";import{V as me,a as ee,b as Ue,c as ze,d as De}from"./CPX67p8K.js";import{V as te}from"./Jbm2bR8t.js";import{_ as Ie,a as Me,b as Oe}from"./vILYeC5m.js";import{V as pe,a as A,b as _e,c as P}from"./jcSCV8X9.js";import{f as H}from"./ClQTZ4FF.js";import"./Bei_CKU4.js";import"./0X1jLeZq.js";import"./CdP3NN9a.js";import"./CHP4YdvN.js";import"./DA3mygB-.js";import"./Ch2Hiu2G.js";import"./D_Xv-Dak.js";import"./C8ifJpz_.js";const he={style:{width:"800px","font-weight":"500"}},Se=["onClick"],Ee=["onClick"],Re=["onClick"],qe={key:0,style:{width:"30px",height:"30px"},src:ie,alt:"Reativar",title:"Reativar"},Ne={key:1,src:ne,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Le={__name:"Bens",async setup(F){let i,v;const y=ue(),f=X(),g=Z(),{$toast:C}=ke(),x=`${g.public.managemant}/atos_bens`,n=`${g.public.managemant}/atos_bens`,B=`${g.public.managemant}/listarBens`,U=`${g.public.managemant}/listarTipoBens`,k=d(Q("user-data").value.cartorio_token),h=d(Q("user-data").value.usuario_id).value,z=d([]),m=d([]),w=d(!1),R=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"vlr_alienacao"},{align:"end",value:"actions"}],c=we({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),G=async()=>{if(!c.vlr_alienacao&&!c.descricao){C.error("Os campos Descrição e Valor são Obrigatorios!");return}const{data:V,status:o}=await q(`${x}`,{method:"POST",body:{descricao:c.descricao,tipo_id:c.tipo_id,valor_mercado:"0.00",vlr_alienacao:c.vlr_alienacao,user_id:h,ato_id:Number.parseInt(f.query.ato_id),token:f.query.ato_token_edit}},"$aGIwRtPn6M");o.value==="success"&&(C.success("Bem registrado com sucesso!"),z.value.push(V.value),Object.assign(c,{vlr_alienacao:null,descricao:null,tipo_id:null}))},p=async V=>{const{status:o}=await q(`${n}/${V}`,{method:"PUT",body:{descricao:m.value.descricao,tipo_id:m.value.tipo_id,vlr_alienacao:m.value.vlr_alienacao}},"$4hUMyAQlzU");o.value==="success"&&(C.success("Bem Atualizado com sucesso!"),w.value=!1)},r=V=>{const o=z.value.find(E=>E.id===V);o&&(m.value=o,w.value=!0)},{data:b}=([i,v]=N(()=>q(`${U}`,{method:"POST",body:{cartorio_token:k.value,imoveis:!1}},"$da802I2H8c")),i=await i,v(),i);c.tiposBens=b.value;const{data:l}=([i,v]=N(()=>q(`${B}`,{method:"POST",body:{ato_token:f.query.ato_token_edit}},"$iXfJJrO35d")),i=await i,v(),i);z.value=l.value;async function _(V){V.excluido=!V.excluido;try{await q(`${n}/${V.id}`,{method:"PUT",body:JSON.stringify({excluido:V.excluido})},"$PGKHfsa7Pl")}catch(o){console.error("Erro ao excluir pessoa:",o)}}const S=()=>{const V=f.query.origem||"criar",o=f.query.id;V==="atualizar"?y.push(`/os/atualizar/${o}`):y.push("/os/criar-registro")};return(V,o)=>{const E=be,W=$e;return M(),Y(te,null,{default:t(()=>[e(D,{class:"mt-5",cols:"12"},{default:t(()=>[e(ae,{label:"Descrição",modelValue:a(c).descricao,"onUpdate:modelValue":o[0]||(o[0]=s=>a(c).descricao=s)},null,8,["modelValue"])]),_:1}),e(I,{class:"ml-1 mb-3"},{default:t(()=>[e(D,{class:"mt-6",cols:"8"},{default:t(()=>[e(j,{label:"Selecione o Tipo",items:a(c).tiposBens,modelValue:a(c).tipo_id,"onUpdate:modelValue":o[1]||(o[1]=s=>a(c).tipo_id=s),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(D,{class:"ml-5",cols:"3"},{default:t(()=>[o[9]||(o[9]=u("label",null,"Valor",-1)),e(E,{modelValue:a(c).vlr_alienacao,"onUpdate:modelValue":o[2]||(o[2]=s=>a(c).vlr_alienacao=s)},null,8,["modelValue"])]),_:1}),u("div",null,[u("img",{class:"mt-7 ml-4",src:le,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:G})])]),_:1}),e(I,null,{default:t(()=>[e(D,null,{default:t(()=>[e(ce,{style:{height:"465px"},headers:R,items:a(z)},{"item.descricao":t(({item:s})=>[u("h3",he,de(s.descricao),1)]),"item.actions":t(({item:s})=>[e(I,{style:{"margin-top":"-8px"},justify:"end"},{default:t(()=>[u("div",{style:{cursor:"pointer"},class:"mr-2",onClick:J=>V.redirectToFicha(s),title:"Visualizar Ficha"},o[10]||(o[10]=[u("img",{style:{width:"30px",height:"30px"},src:re,alt:"Visualizar"},null,-1)]),8,Se),u("div",{style:{cursor:"pointer"},class:"mr-2",onClick:J=>r(s.id),title:"Alterar Papel"},o[11]||(o[11]=[u("img",{style:{width:"30px",height:"30px"},src:se,alt:"Editar"},null,-1)]),8,Ee),u("div",{style:{cursor:"pointer"},class:"mr-2",onClick:J=>_(s),title:"Deletar Pessoa"},[s.excluido?(M(),L("img",qe)):(M(),L("img",Ne))],8,Re)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(me,{modelValue:a(w),"onUpdate:modelValue":o[8]||(o[8]=s=>T(w)?w.value=s:null),"max-width":"600px"},{default:t(()=>[e(ee,null,{default:t(()=>[e(Ue,{style:{color:"green"}},{default:t(()=>o[12]||(o[12]=[$("Atualizar Bem")])),_:1}),e(ze,null,{default:t(()=>[e(D,{class:"mt-1",cols:"12"},{default:t(()=>[e(ae,{label:"Descrição",modelValue:a(m).descricao,"onUpdate:modelValue":o[3]||(o[3]=s=>a(m).descricao=s)},null,8,["modelValue"])]),_:1}),e(I,null,{default:t(()=>[e(D,{class:"mt-6 ml-3",cols:"8"},{default:t(()=>[e(j,{label:"Selecione o Tipo",items:a(c).tiposBens,modelValue:a(m).tipo_id,"onUpdate:modelValue":o[4]||(o[4]=s=>a(m).tipo_id=s),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(D,{class:"ml-5",cols:"3"},{default:t(()=>[o[13]||(o[13]=u("label",null,"Valor",-1)),e(E,{modelValue:a(m).vlr_alienacao,"onUpdate:modelValue":o[5]||(o[5]=s=>a(m).vlr_alienacao=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(De,null,{default:t(()=>[e(Ce),e(K,{color:"green",text:"",onClick:o[6]||(o[6]=s=>w.value=!1)},{default:t(()=>o[14]||(o[14]=[$("Cancelar")])),_:1}),e(K,{color:"green",text:"",onClick:o[7]||(o[7]=s=>p(a(m).id))},{default:t(()=>o[15]||(o[15]=[$("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(I,null,{default:t(()=>[e(W,{onClick:S},{default:t(()=>[e(K,{size:"large",color:"red"},{default:t(()=>o[16]||(o[16]=[$("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Fe={__name:"Atualizar",props:{show:Boolean,imovel_id:Number},emits:["close"],setup(F,{emit:i}){const v=F,y=d("dados"),f=d(v.show),g=i;Ae(()=>v.show,x=>{f.value=x});const C=()=>{f.value=!1,g("close")};return(x,n)=>{const B=Ie,U=Me;return M(),Y(me,{persistent:"",modelValue:a(f),"onUpdate:modelValue":n[2]||(n[2]=k=>T(f)?f.value=k:null),"max-width":"1000"},{default:t(()=>[e(ee,null,{default:t(()=>[e(te,null,{default:t(()=>[n[5]||(n[5]=u("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Atualizar imovel ",-1)),e(pe,{modelValue:a(y),"onUpdate:modelValue":n[0]||(n[0]=k=>T(y)?y.value=k:null),"bg-color":"#f5f2f2"},{default:t(()=>[e(A,{value:"dados"},{default:t(()=>n[3]||(n[3]=[$("Dados")])),_:1}),e(A,{value:"partes"},{default:t(()=>n[4]||(n[4]=[$("Partes")])),_:1})]),_:1},8,["modelValue"]),e(_e,{modelValue:a(y),"onUpdate:modelValue":n[1]||(n[1]=k=>T(y)?y.value=k:null)},{default:t(()=>[e(P,{value:"dados"},{default:t(()=>[e(B,{isUpdate:!0,imovel_id:v.imovel_id,onCloseModal:C},null,8,["imovel_id"])]),_:1}),e(P,{value:"partes"},{default:t(()=>[e(U,{onCloseModal:C})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Ge={style:{width:"200px"}},Je={style:{width:"300px"}},je=["onClick"],He=["onClick"],We=["onClick"],Ke={key:0,style:{width:"30px",height:"30px"},src:ie,alt:"Visualizar",title:"Reativar"},Qe={key:1,src:ne,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Xe={__name:"Imoveis",async setup(F){let i,v;const y=Z(),f=`${y.public.auth}/service/gerencia/atos_imoveis`,g=`${y.public.auth}/service/gerencia/atos_bens`;ue();const C=X(),x=d(""),n=d(""),B=d(!1),U=d(!1),k=d(null),h=[{title:"Matrícula",value:"registro_matricula"},{title:"Descrição",value:"descricao"},{value:"actions"}],{data:z,status:m}=([i,v]=N(()=>H(f,{method:"POST",body:{ato_token:C.query.ato_token_edit}})),i=await i,v(),i),w=Pe(()=>z.value.filter(p=>{const r=p.matricula?p.matricula.toLowerCase():"",b=p.descricao?p.descricao.toLowerCase():"",l=r.includes(n.value.toLowerCase()),_=b.includes(x.value.toLowerCase());return l&&_}));async function R(p){p.excluido=!p.excluido;try{await H(`${g}/${p.id}`,{method:"PUT",body:{excluido:p.excluido}})}catch(r){console.error("Erro ao excluir pessoa:",r)}}function c(p){}function G(p){k.value=p,U.value=!0}return(p,r)=>{const b=Oe,l=Fe;return a(m)==="success"?(M(),Y(te,{key:0,class:"mt-5"},{default:t(()=>[u("img",{onClick:r[0]||(r[0]=_=>B.value=!0),style:{cursor:"pointer"},src:le,alt:"Cadastro"}),e(I,{style:{gap:"3rem"}},{default:t(()=>[u("div",Ge,[e(oe,{class:"mt-7 mb-4",modelValue:a(n),"onUpdate:modelValue":r[1]||(r[1]=_=>T(n)?n.value=_:null),label:"Matrícula","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),u("div",Je,[e(oe,{class:"mt-7 mb-4",modelValue:a(x),"onUpdate:modelValue":r[2]||(r[2]=_=>T(x)?x.value=_:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),e(ce,{density:"compact",headers:h,items:a(w),"item-key":"id"},{"item.actions":t(({item:_})=>[e(I,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:t(()=>[u("div",{style:{cursor:"pointer"},onClick:S=>(_.id,void 0),title:"Visualizar"},r[5]||(r[5]=[u("img",{style:{width:"30px",height:"30px"},src:re,alt:"Visualizar"},null,-1)]),8,je),u("div",{style:{cursor:"pointer"},onClick:S=>G(_.id),title:"Atualizar"},r[6]||(r[6]=[u("img",{style:{width:"30px",height:"30px"},src:se,alt:"Atualizar"},null,-1)]),8,He),u("div",{style:{cursor:"pointer"},onClick:S=>R(_),title:"Deletar"},[_.excluido?(M(),L("img",Ke)):(M(),L("img",Qe))],8,We)]),_:2},1024)]),_:1},8,["items"]),e(b,{show:a(B),onClose:r[3]||(r[3]=_=>B.value=!1)},null,8,["show"]),e(l,{imovel_id:a(k),show:a(U),onClose:r[4]||(r[4]=_=>U.value=!1)},null,8,["imovel_id","show"])]),_:1})):Te("",!0)}}},Ye={class:"mb-10"},Ze={style:{color:"red","margin-left":"30px"}},Ct={__name:"[id]",async setup(F){let i,v;const y=d(null),f=d(null),g=d(null),C=Z(),x=X(),n=`${C.public.auth}/service/gerencia/listarSituacoes`,B=`${C.public.auth}/service/gerencia/getAtos`,U=d(Q("user-data").value.cartorio_token),k=x.query.id?{ato_token:x.query.tipo_ato_token}:{cartorio_token:U},h=d([]),z=d([]),m=d("PROCURAÇÕES"),w=d("PROCURAÇÃO COM BENS");async function R(){try{const{data:b}=await H(`${B}/${x.query.ato_id}`,{method:"GET"});z.value=b.value}catch(b){console.log(b)}}[i,v]=N(()=>R()),await i,v();const{data:c,status:G}=([i,v]=N(()=>H(n,{method:"POST",body:k})),i=await i,v(),i);h.value=c.value;const p=b=>{y.value=b},r=b=>{f.value=b};return(b,l)=>{const _=ve,S=fe,V=Le,o=Xe,E=Ve,W=ye,s=ge,J=xe;return M(),L(Be,null,[u("div",Ye,[e(I,{class:"mb-5 mt-5"},{default:t(()=>[l[4]||(l[4]=u("h1",null,"Ordem de Serviço nº",-1)),u("h1",Ze,de(a(x).query.numero_os),1)]),_:1}),e(I,null,{default:t(()=>[e(D,{md:"6"},{default:t(()=>[e(j,{class:"mr-5",modelValue:a(m),"onUpdate:modelValue":l[0]||(l[0]=O=>T(m)?m.value=O:null),disabled:""},null,8,["modelValue"])]),_:1}),e(D,{md:"6"},{default:t(()=>[e(j,{modelValue:a(w),"onUpdate:modelValue":l[1]||(l[1]=O=>T(w)?w.value=O:null),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),e(ee,{width:"1300"},{default:t(()=>[e(pe,{modelValue:a(g),"onUpdate:modelValue":l[2]||(l[2]=O=>T(g)?g.value=O:null),"bg-color":"#f5f2f2"},{default:t(()=>[e(A,{value:"dados"},{default:t(()=>l[5]||(l[5]=[$("Dados")])),_:1}),e(A,{value:"partes"},{default:t(()=>l[6]||(l[6]=[$("Partes")])),_:1}),e(A,{value:"bens"},{default:t(()=>l[7]||(l[7]=[$("Bens")])),_:1}),e(A,{value:"imoveis"},{default:t(()=>l[8]||(l[8]=[$("Imoveis")])),_:1}),e(A,{value:"minuta"},{default:t(()=>l[9]||(l[9]=[$("Minuta")])),_:1}),e(A,{value:"livro"},{default:t(()=>l[10]||(l[10]=[$("Livro")])),_:1}),e(A,{value:"observacao"},{default:t(()=>l[11]||(l[11]=[$("Observações")])),_:1}),e(A,{value:"anexo"},{default:t(()=>l[12]||(l[12]=[$("Anexos")])),_:1})]),_:1},8,["modelValue"]),e(_e,{modelValue:a(g),"onUpdate:modelValue":l[3]||(l[3]=O=>T(g)?g.value=O:null)},{default:t(()=>[e(P,{value:"dados"},{default:t(()=>[e(_,{item_dados:a(z),item_situacoes:a(h)},null,8,["item_dados","item_situacoes"])]),_:1}),e(P,{value:"partes"},{default:t(()=>[e(S)]),_:1}),e(P,{value:"bens"},{default:t(()=>[e(V)]),_:1}),e(P,{value:"imoveis"},{default:t(()=>[e(o)]),_:1}),e(P,{value:"minuta"},{default:t(()=>[e(E,{onPage:p,onDoc:r})]),_:1}),e(P,{value:"livro"},{default:t(()=>[e(W,{pages:a(y),document:a(f)},null,8,["pages","document"])]),_:1}),e(P,{value:"observacao"},{default:t(()=>[e(s)]),_:1}),e(P,{value:"anexo"},{default:t(()=>[e(J)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{Ct as default};
