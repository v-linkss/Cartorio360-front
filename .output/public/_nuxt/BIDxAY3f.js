import{_ as N}from"./CX7B-5ew.js";import{_ as R,a as T,V as A,b as U,c as B}from"./d7j5-fRw.js";import{_ as E}from"./BtwYYcxz.js";import{m as F,r as h,z as I,P as j,s as d,q,w as i,F as S,x as W,o as p,b as a,a as o,V as x,A as y,c as v}from"./BCieq9Zb.js";import{f as V}from"./DkZmG1XV.js";import{V as G}from"./C3iwiU82.js";import{V as g}from"./Br4H0z65.js";import"./DQAWNR8n.js";import"./dYDBiVX1.js";import"./HqvJZrVz.js";import"./DoDA5XIR.js";import"./Dza28yDD.js";const H={style:{width:"200px"}},J={style:{width:"300px"}},K=["onClick"],M=["onClick"],O=["onClick"],Q={key:0,style:{width:"30px",height:"30px"},src:U,alt:"Visualizar",title:"Reativar"},X={key:1,src:B,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},ue={__name:"index",async setup(Y){let l,m;const _=W(),w=`${_.public.auth}/service/gerencia/getAllPessoa`,C=`${_.public.auth}/service/gerencia/updatePessoa`,f=F(),n=h(""),r=h(""),k=[{title:"Documento",value:"doc_identificacao"},{title:"Nome/RazÃ£o Social",value:"nome"},{value:"actions"}],{data:b,status:z}=([l,m]=I(()=>V(w)),l=await l,m(),l),$=j(()=>b.value.filter(e=>{const t=e.doc_identificacao?e.doc_identificacao.toLowerCase():"",u=e.nome?e.nome.toLowerCase():"",s=t.includes(r.value.toLowerCase()),c=u.includes(n.value.toLowerCase());return s&&c}));async function P(e){e.excluido=!e.excluido;try{await V(`${C}/${e.id}`,{method:"PUT",body:{excluido:e.excluido}})}catch(t){console.error("Erro ao excluir pessoa:",t)}}function D(e){f.push({path:`/pessoas/vizualizar/${e}`})}function L(e){f.push({path:`/pessoas/atualizar/${e}`})}return(e,t)=>{const u=N;return d(z)==="success"?(p(),q(G,{key:0,class:"mt-5"},{default:i(()=>[a(u,{to:"/pessoas/cadastro"},{default:i(()=>t[2]||(t[2]=[o("img",{style:{cursor:"pointer"},src:R,alt:"Cadastro"},null,-1)])),_:1}),a(g,{style:{gap:"10rem"}},{default:i(()=>[o("div",H,[a(x,{class:"mt-7 mb-4",modelValue:d(r),"onUpdate:modelValue":t[0]||(t[0]=s=>y(r)?r.value=s:null),label:"Documento e","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),o("div",J,[a(x,{class:"mt-7 mb-4",modelValue:d(n),"onUpdate:modelValue":t[1]||(t[1]=s=>y(n)?n.value=s:null),label:"Pessoa","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])])]),_:1}),a(A,{density:"compact",headers:k,items:d($),"item-key":"id"},{"item.actions":i(({item:s})=>[a(g,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:i(()=>[o("div",{style:{cursor:"pointer"},onClick:c=>D(s.id),title:"Visualizar"},t[3]||(t[3]=[o("img",{style:{width:"30px",height:"30px"},src:E,alt:"Visualizar"},null,-1)]),8,K),o("div",{style:{cursor:"pointer"},onClick:c=>L(s.id),title:"Atualizar"},t[4]||(t[4]=[o("img",{style:{width:"30px",height:"30px"},src:T,alt:"Atualizar"},null,-1)]),8,M),o("div",{style:{cursor:"pointer"},onClick:c=>P(s),title:"Deletar"},[s.excluido?(p(),v("img",Q)):(p(),v("img",X))],8,O)]),_:2},1024)]),_:1},8,["items"])]),_:1})):S("",!0)}}};export{ue as default};
