import{r as m,h as w,o as _,z as k,w as e,b as o,d as r,E as v,A as u,B as d,D as C,C as B}from"./kel_KTqI.js";import{a as x}from"./Ctxw8aW4.js";import{V as y,c as F,a as R}from"./CKvifnFf.js";import{V as T}from"./CsQWLb_f.js";const E={__name:"FichaCard",props:{show:Boolean,item:Object},emits:["close","confirmar"],setup(f,{emit:h}){const l=f,p=`${B().public.managemant}/getLinkTipo`,t=m(l.show),s=m(),c=h;w(()=>l.show,async a=>{t.value=a,await g()});const V=()=>{c("confirmar"),i()},g=async()=>{try{const{data:a}=await x(`${p}`,{method:"POST",body:{id:l.item.id,tipo:"ficha"}},"$4omB3S9Tg3");a.value&&a.value.link?s.value=`data:image/jpeg;base64,${a.value.link}`:s.value=null}catch(a){console.error("Erro ao buscar a imagem da ficha:",a)}},i=()=>{t.value=!1,s.value=null,c("close")};return(a,n)=>(_(),k(T,{persistent:"",modelValue:u(t),"onUpdate:modelValue":n[0]||(n[0]=b=>C(t)?t.value=b:null),"max-width":"700"},{default:e(()=>[o(y,null,{default:e(()=>[o(F,{class:"text-h5"},{default:e(()=>[r("Ficha de Firma")]),_:1}),o(v,{src:u(s)},null,8,["src"]),o(R,null,{default:e(()=>[o(d,{style:{"background-color":"#429946",color:"white"},onClick:V},{default:e(()=>[r("Reconhecer")]),_:1}),o(d,{style:{"background-color":"red",color:"white"},onClick:i},{default:e(()=>[r("Voltar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};export{E as _};
