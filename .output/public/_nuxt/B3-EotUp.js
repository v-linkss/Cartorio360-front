import{_ as A}from"./xX_v-sZz.js";import{_ as E,a as N,b as P}from"./BP1uhy__.js";import{_ as S}from"./xQXuZDXb.js";import{_ as M}from"./DCZlzlpK.js";import{r as c,m as y,C as F,I as j,p as G,v as d,G as I,w as l,K,s as O,o as _,b as s,a as o,V as k,x as V,c as g}from"./BdPNHGLk.js";import{u as W,V as C}from"./CA5u19fk.js";import{f as q}from"./CH0G1C9V.js";import{V as H}from"./CxpX6iyZ.js";import{V as J}from"./DRKVsOm3.js";import"./BjTS7GMs.js";import"./BYrYseUA.js";import"./D1L69LUR.js";import"./UcotTkTI.js";const Q={style:{width:"200px"}},X={style:{width:"300px"}},Y=["onClick"],Z=["onClick"],tt=["onClick"],et={key:0,style:{width:"30px",height:"30px"},src:N,alt:"Visualizar",title:"Reativar"},at={key:1,src:P,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},xt={__name:"index",async setup(ot){let r,f;const h=O(),w=`${h.public.managemant}/listar_situacao_matriculas`,$=`${h.public.managemant}/situacao-matriculas`,b=c(y("auth_token").value)||null,z=c(y("user-data").value.cartorio_token)||null,x=F(),n=c(""),u=c(""),T=[{title:"Descrição",value:"descricao"},{title:"Situação",value:"situacao"},{value:"actions"}],D={cartorio_token:z.value,user_token:b.value},{data:m,status:L}=([r,f]=j(()=>W(`${w}`,{method:"POST",body:D},"$7ux5A7Bg14")),r=await r,f(),r);console.log("sitaucao matricula",m.value);const v=G(()=>m.value?m.value.filter(e=>{var a,i;const t=((a=e.situacao_descricao)==null?void 0:a.toLowerCase())??"",p=((i=e.situacao)==null?void 0:i.toLowerCase())??"";return t.includes(u.value.toLowerCase())&&p.includes(n.value.toLowerCase())}):[]);console.log("filtro",v.value);async function B(e){e.excluido=!e.excluido;try{await q(`${$}/${e.id}`,{method:"PUT",body:{excluido:e.excluido}})}catch(t){console.error("Erro ao excluir pessoa:",t)}}function R(e){x.push({path:`/tipos-matriculas/vizualizar/${e}`})}function U(e){x.push({path:`/tipos-matriculas/atualizar/${e}`})}return(e,t)=>{const p=A;return d(L)==="success"?(_(),I(H,{key:0,class:"mt-5"},{default:l(()=>[s(p,{to:"/tipos-matriculas/cadastro"},{default:l(()=>t[2]||(t[2]=[o("img",{style:{cursor:"pointer"},src:E,alt:"Cadastro"},null,-1)])),_:1}),s(C,{style:{gap:"3rem"}},{default:l(()=>[o("div",Q,[s(k,{class:"mt-7 mb-4",modelValue:d(u),"onUpdate:modelValue":t[0]||(t[0]=a=>V(u)?u.value=a:null),label:"Documento","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),o("div",X,[s(k,{class:"mt-7 mb-4",modelValue:d(n),"onUpdate:modelValue":t[1]||(t[1]=a=>V(n)?n.value=a:null),label:"Pessoa","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),s(J,{density:"compact",headers:T,items:d(v),"item-key":"id"},{"item.actions":l(({item:a})=>[s(C,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:l(()=>[o("div",{style:{cursor:"pointer"},onClick:i=>R(a.id),title:"Visualizar"},t[3]||(t[3]=[o("img",{style:{width:"30px",height:"30px"},src:S,alt:"Visualizar"},null,-1)]),8,Y),o("div",{style:{cursor:"pointer"},onClick:i=>U(a.id),title:"Atualizar"},t[4]||(t[4]=[o("img",{style:{width:"30px",height:"30px"},src:M,alt:"Atualizar"},null,-1)]),8,Z),o("div",{style:{cursor:"pointer"},onClick:i=>B(a),title:"Deletar"},[a.excluido?(_(),g("img",et)):(_(),g("img",at))],8,tt)]),_:2},1024)]),_:1},8,["items"])]),_:1})):K("",!0)}}};export{xt as default};
