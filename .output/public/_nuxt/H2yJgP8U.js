import{_ as V}from"./DQL_t_sI.js";import{r as g,f as v,g as b,i as k,k as w,w as r,m as D,o as I,b as e,p,V as s,j as i}from"./B1u_PyVt.js";import{u as R}from"./obxrkv7q.js";import{V as $}from"./DCBeNCo-.js";import{V as u}from"./DwH-OSYh.js";import{V as S}from"./BjZQRpcI.js";import"./BroWWZUo.js";const N={__name:"livro-diario",setup(U){const f=`${D().public.managemant}/relatorios`,_=g(v("user-data").value.cartorio_token),t=b({data_inicial:m(),data_final:m(),paginaInicial:0,livro:0});function m(){const l=new Date,a=l.getFullYear(),o=String(l.getMonth()+1).padStart(2,"0");return`${String(l.getDate()).padStart(2,"0")}-${o}-${a}`}function c(l){if(!l)return null;const[a,o,d]=l.split("/");return`${d}-${o}-${a}`}const y=async()=>{const{data:l}=await R(f,{method:"POST",body:{cartorio_token:_,data_inicial:c(t.data_inicial),data_final:c(t.data_final),livro:t.livro,paginaInicial:t.paginaInicial}},"$YxyRzXktgB");if(l.value){const a=new Blob([l.value],{type:"application/pdf"}),o=URL.createObjectURL(a);window.open(o,"_blank"),setTimeout(()=>URL.revokeObjectURL(o),1e4)}};return(l,a)=>{const o=V,d=k("mask");return I(),w($,null,{default:r(()=>[e(S,{class:"mt-1"},{default:r(()=>[e(u,null,{default:r(()=>[p(e(s,{modelValue:i(t).data_inicial,"onUpdate:modelValue":a[0]||(a[0]=n=>i(t).data_inicial=n),label:"Data Inicial",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[d,"##/##/####"]])]),_:1}),e(u,null,{default:r(()=>[p(e(s,{modelValue:i(t).data_final,"onUpdate:modelValue":a[1]||(a[1]=n=>i(t).data_final=n),label:"Data Final",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[d,"##/##/####"]])]),_:1}),e(u,null,{default:r(()=>[e(s,{label:"N* Livro",type:"number",modelValue:i(t).livro,"onUpdate:modelValue":a[2]||(a[2]=n=>i(t).livro=n)},null,8,["modelValue"])]),_:1}),e(u,null,{default:r(()=>[e(s,{label:"Pagina Inicial",type:"number",modelValue:i(t).paginaInicial,"onUpdate:modelValue":a[3]||(a[3]=n=>i(t).paginaInicial=n)},null,8,["modelValue"])]),_:1}),e(u,null,{default:r(()=>[e(o,{text:"Imprimir",onSave:y})]),_:1})]),_:1})]),_:1})}}};export{N as default};
