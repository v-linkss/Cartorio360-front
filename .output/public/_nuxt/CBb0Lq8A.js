import{c as Qe,r as at,u as Ut}from"./CHVlbpPm.js";import{c as pr}from"./DkKyVs5P.js";import{z as Pt,u as kt,m as Ie,r as _e,A as It,E as Ht,Q as Nt,o as de,c as Me,v as V,q as ke,L as ja,t as la,J as He,w as F,b as A,V as ge,R as ut,H as Ne,d as Re,I as it,s as ht,D as Mt,n as Gt,a as Ve,F as bt,G as Fa,p as me,_ as Ya,bi as ba,x as Lt,g as ua,c2 as dt,cj as gr,ck as br,cl as wa,cm as jt,by as Ge,br as zt,cn as wr,K as Za,ci as Wa,co as Ft,c5 as _t,cp as kr,aR as Yt,cq as yr,cr as Ka,c9 as mt,ch as lt,cs as xr,bT as Ja,ct as Er,cu as Sr,cv as sa,cw as Ar,c3 as Vr,c7 as da,c8 as Cr,cb as ka,cx as Dr,N as wt,cy as qa,cz as Br,cf as Rr,cA as Pr,cB as Ir,cC as Xa,cD as Qa,cE as Mr,cF as zr,cG as Nr,cH as $r,cI as Or,cJ as Lr,cK as Tr,cL as Ur,cM as Hr,B as Gr,cN as jr,cO as Fr,cP as Yr,cQ as Zr,cR as Wr}from"./D1c8MT99.js";import{a as ca,u as vt}from"./BBBqhHrz.js";import{$ as st,f as je}from"./Cx7E1Brn.js";import{V as De}from"./DwksRT6y.js";import{V as ce}from"./DZiR4O8B.js";import{V as er,m as Kr,a as ya}from"./DV1a2Ht0.js";import{V as Je}from"./6uGaMLD-.js";import{V as rt}from"./C8eQ1OAb.js";import{_ as tr}from"./CiyMiKB0.js";import{_ as Tt,a as ar,b as fa,c as va}from"./CbZ9Gm3h.js";import{_ as xa,f as Ea}from"./CdP3NN9a.js";import{V as ha}from"./C5u4n-cQ.js";import{V as Zt,a as Wt,b as rr,c as ir,d as nr}from"./BpQyL2ns.js";import{u as Jr}from"./BH1-Tibl.js";import{_ as qr}from"./BMGF0xjM.js";const Xr={key:1},Qr={__name:"Dados",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],async setup(_,{emit:B}){let M,S;const w=_,O=B,t=Pt(),{$toast:a}=kt(),r=ht(),g=`${r.public.auth}/service/gerencia/createPessoa`,h=`${r.public.auth}/service/gerencia/updatePessoa`,f=`${r.public.auth}/service/gerencia/listarEstadoCivil`,l=`${r.public.auth}/service/gerencia/listarCapacidadeCivil`,v=`${r.public.auth}/service/gerencia/listarCidades`,k=`${r.public.auth}/service/gerencia/listarSexo`,s={nome:null,nome_pai:null,nome_mae:null,profissao:null,local_trabalho:null,data_nascimento:null,doc_identificacao:null,cpf_pai:null,cpf_mae:null,tipo_pessoa:"FISICA",tabvalores_estadocivil_id:null,tabvalores_capacidadecivil_id:null,tabvalores_sexo_id:null,cidade_natural_id:null,cartorio_id:Ie("user-data").value.cartorio_id,user_id:Ie("user-data").value.usuario_id},m=_e(!1),u=Ie("pessoa-id"),n=It({...s});function i(R){if(R)return R.replace(/[.\-]/g,"");R=null}const{data:d,status:b,pending:y,error:x}=([M,S]=Ht(async()=>ca("cliente-dados",async()=>{const[R,P,G,T]=await Promise.all([st(f),st(l),st(v),st(k)]);return{estadoCivilItems:R,capacidadeCivilItems:P,cidadeNascimentoItems:G,sexoItems:T}})),M=await M,S(),M),E={nome:{required:Qe.withMessage("O campo é obrigatorio",at)},nome_mae:{required:Qe.withMessage("O campo é obrigatorio",at)},doc_identificacao:{required:Qe.withMessage("O campo é obrigatorio",at),cpf:pr}},z=Ut(E,n);async function C(){if(await z.value.$validate()){const R={...n};for(const Z in R)R[Z]===""&&(R[Z]=null);const P={...R,doc_identificacao:i(n.doc_identificacao),cpf_pai:i(n.cpf_pai),cpf_mae:i(n.cpf_mae)},{data:G,error:T,status:U}=await je(g,{method:"POST",body:P});if(U.value==="error"&&T.value.statusCode===500)a.error("Erro ao cadastrar pessoa,o CPF já está cadastrado.");else{a.success("Pessoa cadastrada com sucesso!");const Z=G.value.id;u.value=Z;const $=Ie("pessoa_token");$.value=G.value.token,m.value=!0,O("saved")}}else a.error("Erro ao cadastrar pessoa, preencha os campos obrigatorios.")}async function N(){const R={...n};for(const Z in R)R[Z]===""&&(R[Z]=null);const P={...R,doc_identificacao:i(n.doc_identificacao),cpf_mae:i(n.cpf_mae)},{data:G,error:T,status:U}=await je(`${h}/${u.value}`,{method:"PUT",body:P});if(U.value==="success"){if(w.isModal===!0){a.success("Pessoa atualizada com sucesso!"),O("close-modal");return}a.success("Pessoa atualizada com sucesso!"),t.push("/pessoas/lista")}}const L=()=>{if(w.isModal===!0){O("close-modal");return}t.push("/pessoas/lista")};return(R,P)=>{const G=Nt("mask");return de(),Me(it,null,[V(y)?(de(),ke(ja,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):V(x)?(de(),Me("div",Xr,la(V(x).message),1)):He("",!0),V(y)?He("",!0):(de(),ke(rt,{key:2},{default:F(()=>[A(De,null,{default:F(()=>[A(ce,{md:"6"},{default:F(()=>[A(ge,{modelValue:V(n).nome,"onUpdate:modelValue":P[0]||(P[0]=T=>V(n).nome=T),"error-messages":V(z).nome.$errors.map(T=>T.$message),label:"Nome",required:"",onBlur:V(z).nome.$touch,onInput:V(z).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),A(ce,{md:"4"},{default:F(()=>[ut(A(ge,{modelValue:V(n).doc_identificacao,"onUpdate:modelValue":P[1]||(P[1]=T=>V(n).doc_identificacao=T),"error-messages":V(z).doc_identificacao.$errors.map(T=>T.$message),label:"CPF",required:"",onBlur:V(z).doc_identificacao.$touch,onInput:V(z).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[G,"###.###.###-##"]])]),_:1}),A(ce,{md:"2"},{default:F(()=>[A(er,{label:"Sexo",modelValue:V(n).tabvalores_sexo_id,"onUpdate:modelValue":P[2]||(P[2]=T=>V(n).tabvalores_sexo_id=T),items:V(d).sexoItems,"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),A(De,null,{default:F(()=>[A(ce,{md:"4"},{default:F(()=>[A(Je,{modelValue:V(n).tabvalores_estadocivil_id,"onUpdate:modelValue":P[3]||(P[3]=T=>V(n).tabvalores_estadocivil_id=T),items:V(d).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),A(ce,{md:"4"},{default:F(()=>[A(ge,{modelValue:V(n).profissao,"onUpdate:modelValue":P[4]||(P[4]=T=>V(n).profissao=T),label:"Profissão"},null,8,["modelValue"])]),_:1}),A(ce,{md:"4"},{default:F(()=>[A(ge,{modelValue:V(n).local_trabalho,"onUpdate:modelValue":P[5]||(P[5]=T=>V(n).local_trabalho=T),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),A(De,null,{default:F(()=>[A(ce,{md:"4"},{default:F(()=>[A(ge,{modelValue:V(n).data_nascimento,"onUpdate:modelValue":P[6]||(P[6]=T=>V(n).data_nascimento=T),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),A(ce,{md:"4"},{default:F(()=>[A(Je,{modelValue:V(n).tabvalores_capacidadecivil_id,"onUpdate:modelValue":P[7]||(P[7]=T=>V(n).tabvalores_capacidadecivil_id=T),items:V(d).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),A(ce,{md:"4"},{default:F(()=>[A(Je,{modelValue:V(n).cidade_natural_id,"onUpdate:modelValue":P[8]||(P[8]=T=>V(n).cidade_natural_id=T),items:V(d).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),A(De,null,{default:F(()=>[A(ce,{md:"4"},{default:F(()=>[ut(A(ge,{modelValue:V(n).cpf_pai,"onUpdate:modelValue":P[9]||(P[9]=T=>V(n).cpf_pai=T),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[G,"###.###.###-##"]])]),_:1}),A(ce,{md:"4"},{default:F(()=>[A(ge,{modelValue:V(n).nome_pai,"onUpdate:modelValue":P[10]||(P[10]=T=>V(n).nome_pai=T),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),A(De,null,{default:F(()=>[A(ce,{md:"4"},{default:F(()=>[ut(A(ge,{modelValue:V(n).cpf_mae,"onUpdate:modelValue":P[11]||(P[11]=T=>V(n).cpf_mae=T),modelModifiers:{date:!0},label:"CPF da Mãe"},null,8,["modelValue"]),[[G,"###.###.###-##"]])]),_:1}),A(ce,{md:"4"},{default:F(()=>[A(ge,{modelValue:V(n).nome_mae,"onUpdate:modelValue":P[12]||(P[12]=T=>V(n).nome_mae=T),modelModifiers:{date:!0},"error-messages":V(z).nome_mae.$errors.map(T=>T.$message),label:"Nome da Mãe",required:"",onBlur:V(z).nome_mae.$touch,onInput:V(z).nome_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),A(De,{class:"mb-3"},{default:F(()=>[A(Ne,{onClick:L,size:"large",color:"red"},{default:F(()=>P[14]||(P[14]=[Re("Voltar")])),_:1}),A(Ne,{onClick:P[13]||(P[13]=T=>V(m)?N():C()),class:"ml-4",size:"large",color:"green"},{default:F(()=>P[15]||(P[15]=[Re("Salvar")])),_:1})]),_:1})]),_:1}))],64)}}},ei=Qe.withMessage("CNPJ inválido",_=>{if(!_)return!1;const B=_.replace(/[^\d]+/g,"");if(B.length!==14||/^(\d)\1+$/.test(B))return!1;let M=B.length-2,S=B.substring(0,M);const w=B.substring(M);let O=0,t=M-7;for(let r=M;r>=1;r--)O+=parseInt(S.charAt(M-r),10)*t--,t<2&&(t=9);let a=O%11<2?0:11-O%11;if(a!==parseInt(w.charAt(0),10))return!1;M+=1,S=B.substring(0,M),O=0,t=M-7;for(let r=M;r>=1;r--)O+=parseInt(S.charAt(M-r),10)*t--,t<2&&(t=9);return a=O%11<2?0:11-O%11,a===parseInt(w.charAt(1),10)}),ti={__name:"DadosJuridica",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],setup(_,{emit:B}){const M=_,S=B,w=Pt(),O=Mt(),{$toast:t}=kt(),a=ht(),r=`${a.public.auth}/service/gerencia/getPessoaById`,g=`${a.public.auth}/service/gerencia/createPessoa`,h=`${a.public.auth}/service/gerencia/updatePessoa`,{id:f}=O.params,l={nome:null,nome_fantasia:null,inscricao_estadual:null,observacao:null,doc_identificacao:null,tipo_pessoa:"JURIDICA",cartorio_id:Ie("user-data").value.cartorio_id,user_id:Ie("user-data").value.usuario_id},v=_e(!1),k=Ie("pessoa-id"),s=It({...l});function m(x){return x?x.replace(/[.\-/]/g,""):null}const u={nome:{required:Qe.withMessage("O campo é obrigatorio",at)},doc_identificacao:{required:Qe.withMessage("O campo é obrigatorio",at),cnpj:ei}},n=Ut(u,s);async function i(){if(await n.value.$validate()){const x={...s};for(const L in x)x[L]===""&&(x[L]=null);const E={...x,doc_identificacao:m(s.doc_identificacao)},{data:z,error:C,status:N}=await je(g,{method:"POST",body:E});if(N.value==="error"&&C.value.statusCode===500)t.error("Erro ao cadastrar Pessoa Juridica,o CNPJ já está cadastrado.");else{t.success("Pessoa Juridica cadastrada com sucesso!");const L=z.value.id;k.value=L;const R=Ie("pessoa_token");R.value=z.value.token,v.value=!0,S("saved")}}else t.error("Erro ao cadastrar pessoa juridica, preencha os campos obrigatorios.")}async function d(){const x={...s};for(const L in x)x[L]===""&&(x[L]=null);const E={...x,doc_identificacao:m(s.doc_identificacao)},{data:z,error:C,status:N}=await je(`${h}/${f||k.value}`,{method:"PUT",body:E});if(N.value==="success"){if(M.isModal===!0){t.success("Pessoa Juridica atualizada com sucesso!"),S("close-modal");return}t.success("Pessoa Juridica atualizada com sucesso!"),w.push("/pessoas/lista")}}async function b(){const{data:x,error:E}=await je(`${r}/${f}`,{method:"GET"});Object.assign(s,x.value)}const y=()=>{if(M.isModal===!0){S("close-modal");return}w.push("/pessoas/lista")};return Gt(()=>{f&&(b(),v.value=!0)}),(x,E)=>{const z=Nt("mask");return de(),ke(rt,{class:"mt-3",style:{height:"425px"}},{default:F(()=>[A(De,null,{default:F(()=>[A(ce,{md:"8"},{default:F(()=>[A(ge,{modelValue:V(s).nome,"onUpdate:modelValue":E[0]||(E[0]=C=>V(s).nome=C),"error-messages":V(n).nome.$errors.map(C=>C.$message),label:"Razão Social",required:"",onBlur:V(n).nome.$touch,onInput:V(n).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),A(ce,{md:"4"},{default:F(()=>[ut(A(ge,{modelValue:V(s).doc_identificacao,"onUpdate:modelValue":E[1]||(E[1]=C=>V(s).doc_identificacao=C),"error-messages":V(n).doc_identificacao.$errors.map(C=>C.$message),label:"CNPJ",required:"",onBlur:V(n).doc_identificacao.$touch,onInput:V(n).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[z,"##.###.###/####-##"]])]),_:1})]),_:1}),A(De,null,{default:F(()=>[A(ce,{md:"8"},{default:F(()=>[A(ge,{modelValue:V(s).nome_fantasia,"onUpdate:modelValue":E[2]||(E[2]=C=>V(s).nome_fantasia=C),label:"Nome Fantasia"},null,8,["modelValue"])]),_:1}),A(ce,{md:"4"},{default:F(()=>[A(ge,{modelValue:V(s).inscricao_estadual,"onUpdate:modelValue":E[3]||(E[3]=C=>V(s).inscricao_estadual=C),label:"Inscrição Estadual"},null,8,["modelValue"])]),_:1})]),_:1}),A(De,null,{default:F(()=>[A(ce,{md:"12"},{default:F(()=>[A(ge,{modelValue:V(s).observacao,"onUpdate:modelValue":E[4]||(E[4]=C=>V(s).observacao=C),label:"Observação"},null,8,["modelValue"])]),_:1})]),_:1}),A(De,{class:"mb-3"},{default:F(()=>[A(Ne,{onClick:y,size:"large",color:"red"},{default:F(()=>E[6]||(E[6]=[Re("Voltar")])),_:1}),A(Ne,{onClick:E[5]||(E[5]=C=>V(v)?d():i()),class:"ml-4",size:"large",color:"green"},{default:F(()=>E[7]||(E[7]=[Re("Salvar")])),_:1})]),_:1})]),_:1})}}},ai=["onClick"],ri=["onClick"],ii={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:fa,alt:"deletar",title:"Reativar"},ni={key:1,src:va,alt:"reativar",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"reativar"},oi={__name:"Documentos",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(_,{emit:B}){let M,S;const w=B,O=_,{$toast:t}=kt(),a=Mt(),r=Pt(),{id:g}=a.params,h=ht(),f=`${h.public.auth}/service/gerencia/listarTipoDocumento`,l=`${h.public.auth}/service/gerencia/listarUF`,v=`${h.public.auth}/service/gerencia/getPessoaDocById`,k=`${h.public.auth}/service/gerencia/createPessoaDoc`,s=`${h.public.auth}/service/gerencia/updatePessoaDoc`,m=_e(!1),u=_e(null),n=_e(Ie("user-data").value.usuario_id).value,i=Number(g||Ie("pessoa-id").value),d=It({tabvalores_tipodoc_id:null,emissor:null,numero:null,data_emissao:null,data_vencimento:null,tabvalores_ufemissor_id:null}),b=[{title:"Tipo",value:"tipoDocumento.descricao"},{title:"Número",value:"numero"},{title:"Emissor",value:"emissor"},{title:"UF",value:"ufEmissor.descricao"},{title:"Emissão",value:"data_emissao"},{title:"Validade",value:"data_vencimento"},{value:"actions"}],y={numero:{required:Qe.withMessage("O campo é obrigatorio",at)},emissor:{required:Qe.withMessage("O campo é obrigatorio",at)}},x=Ut(y,d),{data:E,pending:z,refresh:C}=([M,S]=Ht(async()=>ca("cliente-documentos",async()=>{const[T,U,Z]=await Promise.all([st(f),st(l),st(`${v}/${i}`)]),$=Z.map(H=>({...H,data_emissao:xa(H.data_emissao),data_vencimento:xa(H.data_vencimento)}));return{tipoDocumentoItems:T,ufItems:U,pessoasDocsItems:$}})),M=await M,S(),M);async function N(){if(await x.value.$validate()){const T={...d};for(const J in T)T[J]===""&&(T[J]=null);const U={...T,user_id:n,pessoa_id:i},{data:Z,error:$,status:H}=await je(k,{method:"POST",body:U});if(H.value==="error"&&$.value.statusCode===500)t.error("Erro ao cadastrar documento,erro no sistema.");else{t.success("Documento cadastrado com sucesso!"),C();for(const J in d)d[J]="";x.value.$reset()}}else t.error("Erro ao cadastrar documento, preencha os campos obrigatorios.")}function L(T){T&&(u.value={...T,data_emissao:Ea(T.data_emissao),data_vencimento:Ea(T.data_vencimento)},m.value=!0)}async function R(T){const U={tabvalores_tipodoc_id:u.value.tabvalores_tipodoc_id,numero:u.value.numero,emissor:u.value.emissor,tabvalores_ufemissor_id:u.value.tabvalores_ufemissor_id,data_vencimento:u.value.data_vencimento,data_emissao:u.value.data_emissao},{status:Z}=await je(`${s}/${T}`,{method:"PUT",body:U});Z.value==="success"&&(m.value=!1,t.success("Pessoa atualizada com sucesso!"),C())}async function P(T){T.excluido=!T.excluido;try{await je(`${s}/${T.id}`,{method:"PUT",body:JSON.stringify({excluido:T.excluido})})}catch(U){console.error("Erro ao excluir pessoa:",U)}}const G=()=>{if(O.isModal===!0){w("close-modal");return}r.push("/pessoas/lista")};return(T,U)=>{const Z=tr;return de(),Me(it,null,[V(z)?He("",!0):(de(),ke(rt,{key:0,class:"mt-3",style:{height:"425px"}},{default:F(()=>[A(De,null,{default:F(()=>[A(ce,{md:"2"},{default:F(()=>[A(Je,{modelValue:V(d).tabvalores_tipodoc_id,"onUpdate:modelValue":U[0]||(U[0]=$=>V(d).tabvalores_tipodoc_id=$),items:V(E).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),A(ce,null,{default:F(()=>[A(ge,{modelValue:V(d).numero,"onUpdate:modelValue":U[1]||(U[1]=$=>V(d).numero=$),"error-messages":V(x).numero.$errors.map($=>$.$message),label:"Numero",required:"",onBlur:V(x).numero.$touch,onInput:V(x).numero.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),A(ce,{md:"2"},{default:F(()=>[A(ge,{modelValue:V(d).emissor,"onUpdate:modelValue":U[2]||(U[2]=$=>V(d).emissor=$),"error-messages":V(x).emissor.$errors.map($=>$.$message),required:"",onBlur:V(x).emissor.$touch,onInput:V(x).emissor.$touch,label:"Emissor"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),A(ce,null,{default:F(()=>[A(Je,{modelValue:V(d).tabvalores_ufemissor_id,"onUpdate:modelValue":U[3]||(U[3]=$=>V(d).tabvalores_ufemissor_id=$),items:V(E).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),A(ce,{md:"2"},{default:F(()=>[A(ge,{modelValue:V(d).data_emissao,"onUpdate:modelValue":U[4]||(U[4]=$=>V(d).data_emissao=$),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),A(ce,{md:"2"},{default:F(()=>[A(ge,{modelValue:V(d).data_vencimento,"onUpdate:modelValue":U[5]||(U[5]=$=>V(d).data_vencimento=$),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1}),Ve("div",{class:"mt-1"},[Ve("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Tt,alt:"novo",onClick:N})])]),_:1}),A(ha,{style:{"max-height":"330px"},headers:b,items:V(E).pessoasDocsItems,"item-key":"id"},{"item.actions":F(({item:$})=>[A(De,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:F(()=>[Ve("div",{onClick:H=>L($),title:"editar"},U[15]||(U[15]=[Ve("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:ar,alt:"editar"},null,-1)]),8,ai),Ve("div",{onClick:H=>P($),title:"deletar"},[$.excluido?(de(),Me("img",ii)):(de(),Me("img",ni))],8,ri)]),_:2},1024)]),_:1},8,["items"]),A(Zt,{modelValue:V(m),"onUpdate:modelValue":U[14]||(U[14]=$=>bt(m)?m.value=$:null),"max-width":"600px"},{default:F(()=>[A(Wt,null,{default:F(()=>[A(rr,{style:{color:"green"}},{default:F(()=>U[16]||(U[16]=[Re("Atualizar Endereço")])),_:1}),A(ir,null,{default:F(()=>[A(De,null,{default:F(()=>[A(ce,{cols:"12",md:"6"},{default:F(()=>[A(Je,{modelValue:V(u).tabvalores_tipodoc_id,"onUpdate:modelValue":U[6]||(U[6]=$=>V(u).tabvalores_tipodoc_id=$),items:V(E).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),A(ce,{cols:"12",md:"6"},{default:F(()=>[A(ge,{modelValue:V(u).numero,"onUpdate:modelValue":U[7]||(U[7]=$=>V(u).numero=$),label:"Número"},null,8,["modelValue"])]),_:1}),A(ce,{cols:"12",md:"6"},{default:F(()=>[A(ge,{modelValue:V(u).emissor,"onUpdate:modelValue":U[8]||(U[8]=$=>V(u).emissor=$),label:"Número"},null,8,["modelValue"])]),_:1}),A(ce,{cols:"12",md:"6"},{default:F(()=>[A(Je,{modelValue:V(u).tabvalores_ufemissor_id,"onUpdate:modelValue":U[9]||(U[9]=$=>V(u).tabvalores_ufemissor_id=$),items:V(E).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),A(ce,{cols:"12",md:"6"},{default:F(()=>[A(ge,{modelValue:V(u).data_emissao,"onUpdate:modelValue":U[10]||(U[10]=$=>V(u).data_emissao=$),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),A(ce,{cols:"12",md:"6"},{default:F(()=>[A(ge,{modelValue:V(u).data_vencimento,"onUpdate:modelValue":U[11]||(U[11]=$=>V(u).data_vencimento=$),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),A(nr,null,{default:F(()=>[A(Fa),A(Ne,{color:"green",text:"",onClick:U[12]||(U[12]=$=>m.value=!1)},{default:F(()=>U[17]||(U[17]=[Re("Cancelar")])),_:1}),A(Ne,{color:"green",text:"",onClick:U[13]||(U[13]=$=>R(V(u).id))},{default:F(()=>U[18]||(U[18]=[Re("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),A(Z,{onClick:G},{default:F(()=>[A(Ne,{size:"large",class:"ml-10 mb-5",color:"red"},{default:F(()=>U[19]||(U[19]=[Re("Voltar")])),_:1})]),_:1})],64)}}},li=["onClick"],si={key:0,style:{width:"30px",height:"30px"},src:fa,alt:"Visualizar",title:"Reativar"},ui={key:1,src:va,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},di={__name:"Representantes",props:{isModal:{type:Boolean,default:!1}},async setup(_){let B,M;const S=_,w=ht(),{$toast:O}=kt(),t=Mt(),a=Pt(),r=`${w.public.auth}/service/gerencia/pesquisarPessoas`,g=`${w.public.auth}/service/gerencia/listarPapeis`,h=`${w.public.auth}/service/gerencia/representante`,f=`${w.public.auth}/service/gerencia/representante`,l=`${w.public.auth}/service/gerencia/representante`,v=_e(Ie("user-data").value.cartorio_token),{id:k}=t.params,s=Number(k||Ie("pessoa-id").value),m=_e([]),u=_e([]),n=_e([]),i=_e(!1),d=[{title:"Documento",align:"start",key:"representante",value:R=>{var P,G;return((P=R.representante)==null?void 0:P.doc_identificacao)||((G=R.representante)==null?void 0:G.documento)}},{title:"Pessoa",align:"start",key:"representante.nome"},{title:"Papel",align:"start",key:"papel.descricao"},{value:"actions"}],b=It({papeis:null,nome:null,pessoa:null,documento:null}),{data:y}=([B,M]=Ht(()=>je(g,{method:"POST",body:{rotina:"CADASTRO_PJ"}})),B=await B,M(),B);n.value=y.value;async function x(){try{const{data:R,error:P}=await je(r,{method:"POST",body:{cartorio_token:v.value,documento:b.documento,nome:b.nome}});R.value.length>0?(m.value=R.value,b.pessoa=m.value[0]):m.value=[]}catch(R){console.error("Erro na requisição",R)}}const E=()=>{i.value=!0},z=async()=>{const R={representante:b.pessoa,papel:n.value.find(P=>P.id===b.papeis)};try{const{data:P,error:G,status:T}=await je(h,{method:"POST",body:{ato_id:null,representante_id:b.pessoa.id,pessoa_id:s||k,papel_id:b.papeis,user_id:Ie("user-data").value.usuario_id}});T.value==="success"?(R.id=P.value.id,O.success("Pessoa Registrada com Sucesso!"),u.value.push(R)):O.error("Erro ao registrar a pessoa!")}catch{O.error("Erro no servidor. Tente novamente.")}};async function C(){const{data:R,error:P}=await je(`${f}/${k}`,{method:"GET"});u.value=R.value}async function N(R){R.excluido=!R.excluido;try{await je(`${l}/${R.id}`,{method:"PUT",body:JSON.stringify({excluido:R.excluido})})}catch(P){console.error("Erro ao excluir pessoa:",P)}}const L=()=>{if(S.isModal===!0){emit("close-modal");return}a.push("/pessoas/lista")};return Gt(()=>{k&&C()}),(R,P)=>{const G=yn,T=tr;return de(),Me(it,null,[A(rt,{style:{height:"425px"}},{default:F(()=>[A(De,{class:"mt-1"},{default:F(()=>[A(ce,{cols:"3"},{default:F(()=>[A(ge,{label:"Documento",modelValue:V(b).documento,"onUpdate:modelValue":P[0]||(P[0]=U=>V(b).documento=U)},null,8,["modelValue"])]),_:1}),A(ce,{cols:"4"},{default:F(()=>[A(ge,{label:"Pessoa",modelValue:V(b).nome,"onUpdate:modelValue":P[1]||(P[1]=U=>V(b).nome=U)},null,8,["modelValue"])]),_:1}),Ve("div",null,[Ve("img",{class:"mt-1",src:qr,style:{width:"40px",cursor:"pointer"},title:"Pesquisar Pessoa",onClick:x})]),Ve("div",null,[Ve("img",{class:"mt-1 ml-2",src:Tt,style:{width:"40px",cursor:"pointer"},title:"Criar Pessoa",onClick:E})])]),_:1}),A(De,null,{default:F(()=>[A(ce,{cols:"4"},{default:F(()=>[A(Je,{label:"Selecione a Pessoa",modelValue:V(b).pessoa,"onUpdate:modelValue":P[2]||(P[2]=U=>V(b).pessoa=U),items:V(m),"item-title":"nome","item-value":"id","return-object":"",required:""},null,8,["modelValue","items"])]),_:1}),A(ce,{cols:"3"},{default:F(()=>[A(Je,{label:"Papel",modelValue:V(b).papeis,"onUpdate:modelValue":P[3]||(P[3]=U=>V(b).papeis=U),items:V(n),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),Ve("div",null,[Ve("img",{class:"mt-1",src:Tt,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:z})])]),_:1}),A(De,null,{default:F(()=>[A(ce,null,{default:F(()=>[A(ha,{style:{"max-height":"330px"},headers:d,items:V(u)},{"item.actions":F(({item:U})=>[A(De,null,{default:F(()=>[Ve("div",{class:"mr-2",style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:Z=>N(U),title:"Deletar Pessoa"},[U.excluido?(de(),Me("img",si)):(de(),Me("img",ui))],8,li)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),A(G,{show:V(i),onClose:P[4]||(P[4]=U=>i.value=!1)},null,8,["show"])]),_:1}),A(T,{onClick:L},{default:F(()=>[A(Ne,{size:"large",class:"ml-10 mb-5",color:"red"},{default:F(()=>P[5]||(P[5]=[Re("Voltar")])),_:1})]),_:1})],64)}}},ci={class:"mt-1"},fi={style:{width:"150px","font-weight":"500"}},vi={style:{width:"200px","font-weight":"500"}},hi=["onClick"],_i=["onClick"],mi={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:fa,alt:"Visualizar",title:"Reativar"},pi={key:1,src:va,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},gi={__name:"Endereco",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(_,{emit:B}){let M,S;const w=B,O=_,{$toast:t}=kt(),a=Mt(),{id:r}=a.params,g=Pt(),h=ht(),f=`${h.public.auth}/service/gerencia/listarPais`,l=`${h.public.auth}/service/gerencia/getPessoaEnderecoById`,v=`${h.public.auth}/service/gerencia/createPessoaEndereco`,k=`${h.public.auth}/service/gerencia/updatePessoaEndereco`,s=_e(Ie("user-data").value.usuario_id).value,m=Number(r||Ie("pessoa-id").value),u=It({tabvalores_pais_id:null,cidade_id:null,codcep:null,logradouro:null,numero:null,bairro:null,complemento:null,cidade_estrangeira:null}),n=[{title:"País",value:"pais.descricao"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro"},{title:"N*",value:"numero"},{title:"Complemento",value:"complemento"},{title:"Bairro",value:"bairro"},{title:"Cidade",value:"cidade"},{value:"actions"}],i=_e(!1),d=_e(null),b=me(()=>{const $=z.value.paisItems.find(H=>H.id===u.tabvalores_pais_id);return $?$.estrangeiro:!1}),y=$=>{var H;return((H=$.cidades)==null?void 0:H.nome)||$.cidade_estrangeira},x={numero:{required:Qe.withMessage("O campo é obrigatorio",at)},bairro:{required:Qe.withMessage("O campo é obrigatorio",at)},logradouro:{required:Qe.withMessage("O campo é obrigatorio",at)},codcep:{required:Qe.withMessage("O campo é obrigatorio e precisa de 8 digitos",at)}},E=Ut(x,u),{data:z,status:C,pending:N,refresh:L}=([M,S]=Ht(async()=>ca("cliente-enderecos",async()=>{const[$,H,J]=await Promise.all([st(f),st(`${l}/${m}`),st(`${h.public.auth}/service/gerencia/listarCidades`)]);return{paisItems:$,enderecosItems:H,cidadesItems:J}})),M=await M,S(),M);async function R(){if(await E.value.$validate()){const H={...{...u},user_id:s,pessoa_id:m},{data:J,error:W,status:ae}=await je(v,{method:"POST",body:H});if(ae.value==="error"&&W.value.statusCode===500)t.error("Erro ao cadastrar endereço,erro no sistema.");else{t.success("Endereço cadastrado com sucesso!"),L();for(const he in u)u[he]=null;E.value.$reset()}}else t.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}async function P(){if(!u.cidade_estrangeira||!u.logradouro){t.error("Os Campos Cidade Estrangeira e Endereço são obrigatorios!");return}const H={...{...u},user_id:s,pessoa_id:m},{data:J,error:W,status:ae}=await je(v,{method:"POST",body:H});if(ae.value==="error"&&W.value.statusCode===500)t.error("Erro ao cadastrar endereço,erro no sistema.");else{t.success("Endereço cadastrado com sucesso!"),L();for(const he in u)u[he]=null;E.value.$reset()}}function G($){const H=z.value.enderecosItems.find(J=>J.id===$);H&&(d.value=H,i.value=!0)}async function T($){const H={tabvalores_pais_id:d.value.tabvalores_pais_id,cidade_id:d.value.cidade_id,codcep:d.value.codcep,logradouro:d.value.logradouro,numero:d.value.numero,bairro:d.value.bairro,complemento:d.value.complemento},{status:J}=await je(`${k}/${$}`,{method:"PUT",body:H});J.value==="success"&&(i.value=!1,t.success("Endereço atualizado com sucesso!"),L())}async function U($){$.excluido=!$.excluido;try{await je(`${k}/${$.id}`,{method:"PUT",body:{excluido:$.excluido}})}catch(H){console.error("Erro ao excluir pessoa:",H)}}const Z=()=>{if(O.isModal===!0){w("close-modal");return}g.push("/pessoas/lista")};return($,H)=>{const J=Nt("mask");return de(),Me(it,null,[V(N)?He("",!0):(de(),ke(rt,{key:0,class:"mt-3",style:{height:"425px"}},{default:F(()=>[A(De,null,{default:F(()=>[A(ce,{md:"2"},{default:F(()=>[A(Je,{modelValue:V(u).tabvalores_pais_id,"onUpdate:modelValue":H[0]||(H[0]=W=>V(u).tabvalores_pais_id=W),items:V(z).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),A(ce,{md:"2"},{default:F(()=>[V(b)?ut((de(),ke(ge,{key:1,modelValue:V(u).codcep,"onUpdate:modelValue":H[2]||(H[2]=W=>V(u).codcep=W),label:"CEP"},null,8,["modelValue"])),[[J,"########"]]):ut((de(),ke(ge,{key:0,modelValue:V(u).codcep,"onUpdate:modelValue":H[1]||(H[1]=W=>V(u).codcep=W),"error-messages":V(E).codcep.$errors.map(W=>W.$message),required:"",onBlur:V(E).codcep.$touch,onInput:V(E).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"])),[[J,"########"]])]),_:1}),A(ce,{md:"6"},{default:F(()=>[V(b)?(de(),ke(ge,{key:1,modelValue:V(u).logradouro,"onUpdate:modelValue":H[4]||(H[4]=W=>V(u).logradouro=W),label:"Endereço"},null,8,["modelValue"])):(de(),ke(ge,{key:0,modelValue:V(u).logradouro,"onUpdate:modelValue":H[3]||(H[3]=W=>V(u).logradouro=W),label:"Endereço","error-messages":V(E).logradouro.$errors.map(W=>W.$message),required:"",onBlur:V(E).logradouro.$touch,onInput:V(E).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),A(ce,{md:"1"},{default:F(()=>[V(b)?(de(),ke(ge,{key:1,modelValue:V(u).numero,"onUpdate:modelValue":H[6]||(H[6]=W=>V(u).numero=W),label:"N*"},null,8,["modelValue"])):(de(),ke(ge,{key:0,modelValue:V(u).numero,"onUpdate:modelValue":H[5]||(H[5]=W=>V(u).numero=W),required:"","error-messages":V(E).numero.$errors.map(W=>W.$message),onBlur:V(E).numero.$touch,onInput:V(E).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),Ve("div",ci,[Ve("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Tt,alt:"novo",onClick:H[7]||(H[7]=W=>V(b)?P():R())})]),A(ce,{md:"5"},{default:F(()=>[A(ge,{modelValue:V(u).complemento,"onUpdate:modelValue":H[8]||(H[8]=W=>V(u).complemento=W),label:"Complemento"},null,8,["modelValue"])]),_:1}),A(ce,{md:"3"},{default:F(()=>[V(b)?(de(),ke(ge,{key:1,modelValue:V(u).bairro,"onUpdate:modelValue":H[10]||(H[10]=W=>V(u).bairro=W),label:"Bairro"},null,8,["modelValue"])):(de(),ke(ge,{key:0,modelValue:V(u).bairro,"onUpdate:modelValue":H[9]||(H[9]=W=>V(u).bairro=W),"error-messages":V(E).bairro.$errors.map(W=>W.$message),required:"",onBlur:V(E).bairro.$touch,onInput:V(E).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),A(ce,{md:"3"},{default:F(()=>[V(b)?(de(),ke(ge,{key:1,modelValue:V(u).cidade_estrangeira,"onUpdate:modelValue":H[12]||(H[12]=W=>V(u).cidade_estrangeira=W),label:"Cidade Estrangeira"},null,8,["modelValue"])):(de(),ke(Je,{key:0,modelValue:V(u).cidade_id,"onUpdate:modelValue":H[11]||(H[11]=W=>V(u).cidade_id=W),items:V(z).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"]))]),_:1})]),_:1}),A(ha,{style:{"max-height":"330px"},headers:n,items:V(z).enderecosItems,"item-key":"id"},{"item.cidade":F(({item:W})=>[Ve("h4",fi,la(y(W)),1)]),"item.logradouro":F(({item:W})=>[Ve("h4",vi,la(W.logradouro),1)]),"item.actions":F(({item:W})=>[A(De,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:F(()=>[Ve("div",{onClick:ae=>G(W.id),title:"Visualizar"},H[24]||(H[24]=[Ve("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:ar,alt:"Visualizar"},null,-1)]),8,hi),Ve("div",{onClick:ae=>U(W),title:"Visualizar"},[W.excluido?(de(),Me("img",mi)):(de(),Me("img",pi))],8,_i)]),_:2},1024)]),_:1},8,["items"]),A(Zt,{modelValue:V(i),"onUpdate:modelValue":H[23]||(H[23]=W=>bt(i)?i.value=W:null),"max-width":"600px"},{default:F(()=>[A(Wt,null,{default:F(()=>[A(rr,{style:{color:"green"}},{default:F(()=>H[25]||(H[25]=[Re("Atualizar Endereço")])),_:1}),A(ir,null,{default:F(()=>[A(De,null,{default:F(()=>[A(ce,{cols:"12",md:"6"},{default:F(()=>[A(Je,{modelValue:V(d).tabvalores_pais_id,"onUpdate:modelValue":H[13]||(H[13]=W=>V(d).tabvalores_pais_id=W),items:V(z).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),A(ce,{cols:"12",md:"6"},{default:F(()=>[A(ge,{modelValue:V(d).logradouro,"onUpdate:modelValue":H[14]||(H[14]=W=>V(d).logradouro=W),label:"Logradouro"},null,8,["modelValue"])]),_:1}),A(ce,{cols:"12",md:"6"},{default:F(()=>[A(ge,{modelValue:V(d).complemento,"onUpdate:modelValue":H[15]||(H[15]=W=>V(d).complemento=W),label:"Complemento"},null,8,["modelValue"])]),_:1}),A(ce,{cols:"12",md:"6"},{default:F(()=>[A(ge,{modelValue:V(d).numero,"onUpdate:modelValue":H[16]||(H[16]=W=>V(d).numero=W),label:"Número"},null,8,["modelValue"])]),_:1}),A(ce,{cols:"12",md:"6"},{default:F(()=>[A(ge,{modelValue:V(d).bairro,"onUpdate:modelValue":H[17]||(H[17]=W=>V(d).bairro=W),label:"Bairro"},null,8,["modelValue"])]),_:1}),A(ce,{cols:"12",md:"6"},{default:F(()=>[A(ge,{modelValue:V(d).codcep,"onUpdate:modelValue":H[18]||(H[18]=W=>V(d).codcep=W),label:"CEP"},null,8,["modelValue"])]),_:1}),A(ce,{cols:"12",md:"6"},{default:F(()=>[V(d).cidade_estrangeira?(de(),ke(Je,{key:0,modelValue:V(d).cidade_id,"onUpdate:modelValue":H[19]||(H[19]=W=>V(d).cidade_id=W),items:V(z).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])):(de(),ke(ge,{key:1,modelValue:V(d).cidade_estrangeira,"onUpdate:modelValue":H[20]||(H[20]=W=>V(d).cidade_estrangeira=W),label:"Cidade Estrangeira"},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),A(nr,null,{default:F(()=>[A(Fa),A(Ne,{color:"green",text:"",onClick:H[21]||(H[21]=W=>i.value=!1)},{default:F(()=>H[26]||(H[26]=[Re("Cancelar")])),_:1}),A(Ne,{color:"green",text:"",onClick:H[22]||(H[22]=W=>T(V(d).id))},{default:F(()=>H[27]||(H[27]=[Re("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),A(Ne,{onClick:Z,class:"ml-10 mb-5",size:"large",color:"red"},{default:F(()=>H[28]||(H[28]=[Re("Voltar")])),_:1})],64)}}},bi={class:"finger-container"},wi=["onClick"],ki=["onClick"],yi={__name:"Digital",setup(_){const B=_e(["E1","E2","E3","E4","E5"]);var M=_e(["red","red","red","red","red"]);const S=_e(["D1","D2","D3","D4","D5"]);var w=_e(["red","red","red","red","red"]);const O=Mt(),{$toast:t}=kt(),a=ht(),{id:r}=O.params,g=_e(Ie("pessoa-id").value).value,h=`${a.public.biometria}/capture-finger`,f=`${a.public.managemant}/createPessoaBiometria`,l=`${a.public.managemant}/getPessoaBiometriaById`;async function v(){const{status:u,data:n}=await vt(`${l}/${r||g}`,{method:"GET"},"$wrCckM1pY4");u.value==="success"&&n.value&&n.value.forEach(i=>{(B.value.includes(i.dedo)||S.value.includes(i.dedo))&&s(i.dedo,"green")})}Gt(()=>{v()});async function k(u){const{status:n,data:i}=await vt(h,{method:"GET"},"$b5yqRnLFV9");if(n.value==="success"){const d=i.value.hash,b={user_id:Ie("user-data").value.usuario_id,pessoa_id:Number(r)||g,dedo:u,hash:d},{status:y}=await vt(f,{method:"POST",body:b},"$cWP9jlCX2Z");y.value==="success"?(t.success("Biometria enviada com sucesso!"),s(u,"green")):t.error("Falha ao enviar a biometria.")}else t.error("Erro ao Capturar biometria para o sistema.")}function s(u,n){const i=B.value.findIndex(d=>d===u);if(i!==-1)M.value[i]=n;else{const d=S.value.findIndex(b=>b===u);d!==-1&&(w.value[d]=n)}}function m(u,n){const d={E1:{top:82,left:-10},E2:{top:35,left:4},E3:{top:0,left:30},E4:{top:15,left:75},E5:{top:50,left:170},D1:{top:50,left:210},D2:{top:18,left:300},D3:{top:5,left:350},D4:{top:35,left:375},D5:{top:80,left:390}}[u];let b="red";if(n==="left"){const y=B.value.indexOf(u);y!==-1&&(b=M.value[y])}else if(n==="right"){const y=S.value.indexOf(u);y!==-1&&(b=w.value[y])}return{backgroundColor:b,top:`${d.top}px`,left:`${d.left}px`}}return(u,n)=>(de(),ke(ce,{style:{"margin-top":"20px"},cols:"auto",class:"biometria-container"},{default:F(()=>[Ve("div",bi,[(de(!0),Me(it,null,ba(V(B),(i,d)=>(de(),Me("div",{key:d,class:"finger",style:Lt(m(i,"left")),onClick:b=>k(i)},null,12,wi))),128)),(de(!0),Me(it,null,ba(V(S),(i,d)=>(de(),Me("div",{key:d,class:"finger",style:Lt(m(i,"right")),onClick:b=>k(i)},null,12,ki))),128))])]),_:1}))}},xi=Ya(yi,[["__scopeId","data-v-02650459"]]);function Ei(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Kt={exports:{}},Jt={},Sa;function yt(){return Sa||(Sa=1,function(_){var B=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function M(O,t){return Object.prototype.hasOwnProperty.call(O,t)}_.assign=function(O){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var a=t.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var r in a)M(a,r)&&(O[r]=a[r])}}return O},_.shrinkBuf=function(O,t){return O.length===t?O:O.subarray?O.subarray(0,t):(O.length=t,O)};var S={arraySet:function(O,t,a,r,g){if(t.subarray&&O.subarray){O.set(t.subarray(a,a+r),g);return}for(var h=0;h<r;h++)O[g+h]=t[a+h]},flattenChunks:function(O){var t,a,r,g,h,f;for(r=0,t=0,a=O.length;t<a;t++)r+=O[t].length;for(f=new Uint8Array(r),g=0,t=0,a=O.length;t<a;t++)h=O[t],f.set(h,g),g+=h.length;return f}},w={arraySet:function(O,t,a,r,g){for(var h=0;h<r;h++)O[g+h]=t[a+h]},flattenChunks:function(O){return[].concat.apply([],O)}};_.setTyped=function(O){O?(_.Buf8=Uint8Array,_.Buf16=Uint16Array,_.Buf32=Int32Array,_.assign(_,S)):(_.Buf8=Array,_.Buf16=Array,_.Buf32=Array,_.assign(_,w))},_.setTyped(B)}(Jt)),Jt}var Bt={},tt={},xt={},Aa;function Si(){if(Aa)return xt;Aa=1;var _=yt(),B=4,M=0,S=1,w=2;function O(p){for(var X=p.length;--X>=0;)p[X]=0}var t=0,a=1,r=2,g=3,h=258,f=29,l=256,v=l+1+f,k=30,s=19,m=2*v+1,u=15,n=16,i=7,d=256,b=16,y=17,x=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=512,R=new Array((v+2)*2);O(R);var P=new Array(k*2);O(P);var G=new Array(L);O(G);var T=new Array(h-g+1);O(T);var U=new Array(f);O(U);var Z=new Array(k);O(Z);function $(p,X,ee,oe,I){this.static_tree=p,this.extra_bits=X,this.extra_base=ee,this.elems=oe,this.max_length=I,this.has_stree=p&&p.length}var H,J,W;function ae(p,X){this.dyn_tree=p,this.max_code=0,this.stat_desc=X}function he(p){return p<256?G[p]:G[256+(p>>>7)]}function fe(p,X){p.pending_buf[p.pending++]=X&255,p.pending_buf[p.pending++]=X>>>8&255}function te(p,X,ee){p.bi_valid>n-ee?(p.bi_buf|=X<<p.bi_valid&65535,fe(p,p.bi_buf),p.bi_buf=X>>n-p.bi_valid,p.bi_valid+=ee-n):(p.bi_buf|=X<<p.bi_valid&65535,p.bi_valid+=ee)}function se(p,X,ee){te(p,ee[X*2],ee[X*2+1])}function we(p,X){var ee=0;do ee|=p&1,p>>>=1,ee<<=1;while(--X>0);return ee>>>1}function Ce(p){p.bi_valid===16?(fe(p,p.bi_buf),p.bi_buf=0,p.bi_valid=0):p.bi_valid>=8&&(p.pending_buf[p.pending++]=p.bi_buf&255,p.bi_buf>>=8,p.bi_valid-=8)}function Te(p,X){var ee=X.dyn_tree,oe=X.max_code,I=X.stat_desc.static_tree,q=X.stat_desc.has_stree,o=X.stat_desc.extra_bits,Q=X.stat_desc.extra_base,ve=X.stat_desc.max_length,e,Y,K,c,D,j,ue=0;for(c=0;c<=u;c++)p.bl_count[c]=0;for(ee[p.heap[p.heap_max]*2+1]=0,e=p.heap_max+1;e<m;e++)Y=p.heap[e],c=ee[ee[Y*2+1]*2+1]+1,c>ve&&(c=ve,ue++),ee[Y*2+1]=c,!(Y>oe)&&(p.bl_count[c]++,D=0,Y>=Q&&(D=o[Y-Q]),j=ee[Y*2],p.opt_len+=j*(c+D),q&&(p.static_len+=j*(I[Y*2+1]+D)));if(ue!==0){do{for(c=ve-1;p.bl_count[c]===0;)c--;p.bl_count[c]--,p.bl_count[c+1]+=2,p.bl_count[ve]--,ue-=2}while(ue>0);for(c=ve;c!==0;c--)for(Y=p.bl_count[c];Y!==0;)K=p.heap[--e],!(K>oe)&&(ee[K*2+1]!==c&&(p.opt_len+=(c-ee[K*2+1])*ee[K*2],ee[K*2+1]=c),Y--)}}function Be(p,X,ee){var oe=new Array(u+1),I=0,q,o;for(q=1;q<=u;q++)oe[q]=I=I+ee[q-1]<<1;for(o=0;o<=X;o++){var Q=p[o*2+1];Q!==0&&(p[o*2]=we(oe[Q]++,Q))}}function ye(){var p,X,ee,oe,I,q=new Array(u+1);for(ee=0,oe=0;oe<f-1;oe++)for(U[oe]=ee,p=0;p<1<<E[oe];p++)T[ee++]=oe;for(T[ee-1]=oe,I=0,oe=0;oe<16;oe++)for(Z[oe]=I,p=0;p<1<<z[oe];p++)G[I++]=oe;for(I>>=7;oe<k;oe++)for(Z[oe]=I<<7,p=0;p<1<<z[oe]-7;p++)G[256+I++]=oe;for(X=0;X<=u;X++)q[X]=0;for(p=0;p<=143;)R[p*2+1]=8,p++,q[8]++;for(;p<=255;)R[p*2+1]=9,p++,q[9]++;for(;p<=279;)R[p*2+1]=7,p++,q[7]++;for(;p<=287;)R[p*2+1]=8,p++,q[8]++;for(Be(R,v+1,q),p=0;p<k;p++)P[p*2+1]=5,P[p*2]=we(p,5);H=new $(R,E,l+1,v,u),J=new $(P,z,0,k,u),W=new $(new Array(0),C,0,s,i)}function $e(p){var X;for(X=0;X<v;X++)p.dyn_ltree[X*2]=0;for(X=0;X<k;X++)p.dyn_dtree[X*2]=0;for(X=0;X<s;X++)p.bl_tree[X*2]=0;p.dyn_ltree[d*2]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function We(p){p.bi_valid>8?fe(p,p.bi_buf):p.bi_valid>0&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function Le(p,X,ee,oe){We(p),fe(p,ee),fe(p,~ee),_.arraySet(p.pending_buf,p.window,X,ee,p.pending),p.pending+=ee}function pe(p,X,ee,oe){var I=X*2,q=ee*2;return p[I]<p[q]||p[I]===p[q]&&oe[X]<=oe[ee]}function ie(p,X,ee){for(var oe=p.heap[ee],I=ee<<1;I<=p.heap_len&&(I<p.heap_len&&pe(X,p.heap[I+1],p.heap[I],p.depth)&&I++,!pe(X,oe,p.heap[I],p.depth));)p.heap[ee]=p.heap[I],ee=I,I<<=1;p.heap[ee]=oe}function le(p,X,ee){var oe,I,q=0,o,Q;if(p.last_lit!==0)do oe=p.pending_buf[p.d_buf+q*2]<<8|p.pending_buf[p.d_buf+q*2+1],I=p.pending_buf[p.l_buf+q],q++,oe===0?se(p,I,X):(o=T[I],se(p,o+l+1,X),Q=E[o],Q!==0&&(I-=U[o],te(p,I,Q)),oe--,o=he(oe),se(p,o,ee),Q=z[o],Q!==0&&(oe-=Z[o],te(p,oe,Q)));while(q<p.last_lit);se(p,d,X)}function be(p,X){var ee=X.dyn_tree,oe=X.stat_desc.static_tree,I=X.stat_desc.has_stree,q=X.stat_desc.elems,o,Q,ve=-1,e;for(p.heap_len=0,p.heap_max=m,o=0;o<q;o++)ee[o*2]!==0?(p.heap[++p.heap_len]=ve=o,p.depth[o]=0):ee[o*2+1]=0;for(;p.heap_len<2;)e=p.heap[++p.heap_len]=ve<2?++ve:0,ee[e*2]=1,p.depth[e]=0,p.opt_len--,I&&(p.static_len-=oe[e*2+1]);for(X.max_code=ve,o=p.heap_len>>1;o>=1;o--)ie(p,ee,o);e=q;do o=p.heap[1],p.heap[1]=p.heap[p.heap_len--],ie(p,ee,1),Q=p.heap[1],p.heap[--p.heap_max]=o,p.heap[--p.heap_max]=Q,ee[e*2]=ee[o*2]+ee[Q*2],p.depth[e]=(p.depth[o]>=p.depth[Q]?p.depth[o]:p.depth[Q])+1,ee[o*2+1]=ee[Q*2+1]=e,p.heap[1]=e++,ie(p,ee,1);while(p.heap_len>=2);p.heap[--p.heap_max]=p.heap[1],Te(p,X),Be(ee,ve,p.bl_count)}function Se(p,X,ee){var oe,I=-1,q,o=X[0*2+1],Q=0,ve=7,e=4;for(o===0&&(ve=138,e=3),X[(ee+1)*2+1]=65535,oe=0;oe<=ee;oe++)q=o,o=X[(oe+1)*2+1],!(++Q<ve&&q===o)&&(Q<e?p.bl_tree[q*2]+=Q:q!==0?(q!==I&&p.bl_tree[q*2]++,p.bl_tree[b*2]++):Q<=10?p.bl_tree[y*2]++:p.bl_tree[x*2]++,Q=0,I=q,o===0?(ve=138,e=3):q===o?(ve=6,e=3):(ve=7,e=4))}function Ae(p,X,ee){var oe,I=-1,q,o=X[0*2+1],Q=0,ve=7,e=4;for(o===0&&(ve=138,e=3),oe=0;oe<=ee;oe++)if(q=o,o=X[(oe+1)*2+1],!(++Q<ve&&q===o)){if(Q<e)do se(p,q,p.bl_tree);while(--Q!==0);else q!==0?(q!==I&&(se(p,q,p.bl_tree),Q--),se(p,b,p.bl_tree),te(p,Q-3,2)):Q<=10?(se(p,y,p.bl_tree),te(p,Q-3,3)):(se(p,x,p.bl_tree),te(p,Q-11,7));Q=0,I=q,o===0?(ve=138,e=3):q===o?(ve=6,e=3):(ve=7,e=4)}}function Fe(p){var X;for(Se(p,p.dyn_ltree,p.l_desc.max_code),Se(p,p.dyn_dtree,p.d_desc.max_code),be(p,p.bl_desc),X=s-1;X>=3&&p.bl_tree[N[X]*2+1]===0;X--);return p.opt_len+=3*(X+1)+5+5+4,X}function Vt(p,X,ee,oe){var I;for(te(p,X-257,5),te(p,ee-1,5),te(p,oe-4,4),I=0;I<oe;I++)te(p,p.bl_tree[N[I]*2+1],3);Ae(p,p.dyn_ltree,X-1),Ae(p,p.dyn_dtree,ee-1)}function pt(p){var X=4093624447,ee;for(ee=0;ee<=31;ee++,X>>>=1)if(X&1&&p.dyn_ltree[ee*2]!==0)return M;if(p.dyn_ltree[9*2]!==0||p.dyn_ltree[10*2]!==0||p.dyn_ltree[13*2]!==0)return S;for(ee=32;ee<l;ee++)if(p.dyn_ltree[ee*2]!==0)return S;return M}var et=!1;function Ct(p){et||(ye(),et=!0),p.l_desc=new ae(p.dyn_ltree,H),p.d_desc=new ae(p.dyn_dtree,J),p.bl_desc=new ae(p.bl_tree,W),p.bi_buf=0,p.bi_valid=0,$e(p)}function gt(p,X,ee,oe){te(p,(t<<1)+(oe?1:0),3),Le(p,X,ee)}function Ye(p){te(p,a<<1,3),se(p,d,R),Ce(p)}function nt(p,X,ee,oe){var I,q,o=0;p.level>0?(p.strm.data_type===w&&(p.strm.data_type=pt(p)),be(p,p.l_desc),be(p,p.d_desc),o=Fe(p),I=p.opt_len+3+7>>>3,q=p.static_len+3+7>>>3,q<=I&&(I=q)):I=q=ee+5,ee+4<=I&&X!==-1?gt(p,X,ee,oe):p.strategy===B||q===I?(te(p,(a<<1)+(oe?1:0),3),le(p,R,P)):(te(p,(r<<1)+(oe?1:0),3),Vt(p,p.l_desc.max_code+1,p.d_desc.max_code+1,o+1),le(p,p.dyn_ltree,p.dyn_dtree)),$e(p),oe&&We(p)}function Dt(p,X,ee){return p.pending_buf[p.d_buf+p.last_lit*2]=X>>>8&255,p.pending_buf[p.d_buf+p.last_lit*2+1]=X&255,p.pending_buf[p.l_buf+p.last_lit]=ee&255,p.last_lit++,X===0?p.dyn_ltree[ee*2]++:(p.matches++,X--,p.dyn_ltree[(T[ee]+l+1)*2]++,p.dyn_dtree[he(X)*2]++),p.last_lit===p.lit_bufsize-1}return xt._tr_init=Ct,xt._tr_stored_block=gt,xt._tr_flush_block=nt,xt._tr_tally=Dt,xt._tr_align=Ye,xt}var qt,Va;function or(){if(Va)return qt;Va=1;function _(B,M,S,w){for(var O=B&65535|0,t=B>>>16&65535|0,a=0;S!==0;){a=S>2e3?2e3:S,S-=a;do O=O+M[w++]|0,t=t+O|0;while(--a);O%=65521,t%=65521}return O|t<<16|0}return qt=_,qt}var Xt,Ca;function lr(){if(Ca)return Xt;Ca=1;function _(){for(var S,w=[],O=0;O<256;O++){S=O;for(var t=0;t<8;t++)S=S&1?3988292384^S>>>1:S>>>1;w[O]=S}return w}var B=_();function M(S,w,O,t){var a=B,r=t+O;S^=-1;for(var g=t;g<r;g++)S=S>>>8^a[(S^w[g])&255];return S^-1}return Xt=M,Xt}var Qt,Da;function _a(){return Da||(Da=1,Qt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),Qt}var Ba;function Ai(){if(Ba)return tt;Ba=1;var _=yt(),B=Si(),M=or(),S=lr(),w=_a(),O=0,t=1,a=3,r=4,g=5,h=0,f=1,l=-2,v=-3,k=-5,s=-1,m=1,u=2,n=3,i=4,d=0,b=2,y=8,x=9,E=15,z=8,C=29,N=256,L=N+1+C,R=30,P=19,G=2*L+1,T=15,U=3,Z=258,$=Z+U+1,H=32,J=42,W=69,ae=73,he=91,fe=103,te=113,se=666,we=1,Ce=2,Te=3,Be=4,ye=3;function $e(e,Y){return e.msg=w[Y],Y}function We(e){return(e<<1)-(e>4?9:0)}function Le(e){for(var Y=e.length;--Y>=0;)e[Y]=0}function pe(e){var Y=e.state,K=Y.pending;K>e.avail_out&&(K=e.avail_out),K!==0&&(_.arraySet(e.output,Y.pending_buf,Y.pending_out,K,e.next_out),e.next_out+=K,Y.pending_out+=K,e.total_out+=K,e.avail_out-=K,Y.pending-=K,Y.pending===0&&(Y.pending_out=0))}function ie(e,Y){B._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,Y),e.block_start=e.strstart,pe(e.strm)}function le(e,Y){e.pending_buf[e.pending++]=Y}function be(e,Y){e.pending_buf[e.pending++]=Y>>>8&255,e.pending_buf[e.pending++]=Y&255}function Se(e,Y,K,c){var D=e.avail_in;return D>c&&(D=c),D===0?0:(e.avail_in-=D,_.arraySet(Y,e.input,e.next_in,D,K),e.state.wrap===1?e.adler=M(e.adler,Y,D,K):e.state.wrap===2&&(e.adler=S(e.adler,Y,D,K)),e.next_in+=D,e.total_in+=D,D)}function Ae(e,Y){var K=e.max_chain_length,c=e.strstart,D,j,ue=e.prev_length,re=e.nice_match,ne=e.strstart>e.w_size-$?e.strstart-(e.w_size-$):0,xe=e.window,ct=e.w_mask,Pe=e.prev,Ee=e.strstart+Z,Oe=xe[c+ue-1],Ze=xe[c+ue];e.prev_length>=e.good_match&&(K>>=2),re>e.lookahead&&(re=e.lookahead);do if(D=Y,!(xe[D+ue]!==Ze||xe[D+ue-1]!==Oe||xe[D]!==xe[c]||xe[++D]!==xe[c+1])){c+=2,D++;do;while(xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&c<Ee);if(j=Z-(Ee-c),c=Ee-Z,j>ue){if(e.match_start=Y,ue=j,j>=re)break;Oe=xe[c+ue-1],Ze=xe[c+ue]}}while((Y=Pe[Y&ct])>ne&&--K!==0);return ue<=e.lookahead?ue:e.lookahead}function Fe(e){var Y=e.w_size,K,c,D,j,ue;do{if(j=e.window_size-e.lookahead-e.strstart,e.strstart>=Y+(Y-$)){_.arraySet(e.window,e.window,Y,Y,0),e.match_start-=Y,e.strstart-=Y,e.block_start-=Y,c=e.hash_size,K=c;do D=e.head[--K],e.head[K]=D>=Y?D-Y:0;while(--c);c=Y,K=c;do D=e.prev[--K],e.prev[K]=D>=Y?D-Y:0;while(--c);j+=Y}if(e.strm.avail_in===0)break;if(c=Se(e.strm,e.window,e.strstart+e.lookahead,j),e.lookahead+=c,e.lookahead+e.insert>=U)for(ue=e.strstart-e.insert,e.ins_h=e.window[ue],e.ins_h=(e.ins_h<<e.hash_shift^e.window[ue+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[ue+U-1])&e.hash_mask,e.prev[ue&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=ue,ue++,e.insert--,!(e.lookahead+e.insert<U)););}while(e.lookahead<$&&e.strm.avail_in!==0)}function Vt(e,Y){var K=65535;for(K>e.pending_buf_size-5&&(K=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Fe(e),e.lookahead===0&&Y===O)return we;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var c=e.block_start+K;if((e.strstart===0||e.strstart>=c)&&(e.lookahead=e.strstart-c,e.strstart=c,ie(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-$&&(ie(e,!1),e.strm.avail_out===0))return we}return e.insert=0,Y===r?(ie(e,!0),e.strm.avail_out===0?Te:Be):(e.strstart>e.block_start&&(ie(e,!1),e.strm.avail_out===0),we)}function pt(e,Y){for(var K,c;;){if(e.lookahead<$){if(Fe(e),e.lookahead<$&&Y===O)return we;if(e.lookahead===0)break}if(K=0,e.lookahead>=U&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,K=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),K!==0&&e.strstart-K<=e.w_size-$&&(e.match_length=Ae(e,K)),e.match_length>=U)if(c=B._tr_tally(e,e.strstart-e.match_start,e.match_length-U),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=U){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,K=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else c=B._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(c&&(ie(e,!1),e.strm.avail_out===0))return we}return e.insert=e.strstart<U-1?e.strstart:U-1,Y===r?(ie(e,!0),e.strm.avail_out===0?Te:Be):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?we:Ce}function et(e,Y){for(var K,c,D;;){if(e.lookahead<$){if(Fe(e),e.lookahead<$&&Y===O)return we;if(e.lookahead===0)break}if(K=0,e.lookahead>=U&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,K=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=U-1,K!==0&&e.prev_length<e.max_lazy_match&&e.strstart-K<=e.w_size-$&&(e.match_length=Ae(e,K),e.match_length<=5&&(e.strategy===m||e.match_length===U&&e.strstart-e.match_start>4096)&&(e.match_length=U-1)),e.prev_length>=U&&e.match_length<=e.prev_length){D=e.strstart+e.lookahead-U,c=B._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-U),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,K=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=U-1,e.strstart++,c&&(ie(e,!1),e.strm.avail_out===0))return we}else if(e.match_available){if(c=B._tr_tally(e,0,e.window[e.strstart-1]),c&&ie(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return we}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(c=B._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<U-1?e.strstart:U-1,Y===r?(ie(e,!0),e.strm.avail_out===0?Te:Be):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?we:Ce}function Ct(e,Y){for(var K,c,D,j,ue=e.window;;){if(e.lookahead<=Z){if(Fe(e),e.lookahead<=Z&&Y===O)return we;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=U&&e.strstart>0&&(D=e.strstart-1,c=ue[D],c===ue[++D]&&c===ue[++D]&&c===ue[++D])){j=e.strstart+Z;do;while(c===ue[++D]&&c===ue[++D]&&c===ue[++D]&&c===ue[++D]&&c===ue[++D]&&c===ue[++D]&&c===ue[++D]&&c===ue[++D]&&D<j);e.match_length=Z-(j-D),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=U?(K=B._tr_tally(e,1,e.match_length-U),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(K=B._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),K&&(ie(e,!1),e.strm.avail_out===0))return we}return e.insert=0,Y===r?(ie(e,!0),e.strm.avail_out===0?Te:Be):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?we:Ce}function gt(e,Y){for(var K;;){if(e.lookahead===0&&(Fe(e),e.lookahead===0)){if(Y===O)return we;break}if(e.match_length=0,K=B._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,K&&(ie(e,!1),e.strm.avail_out===0))return we}return e.insert=0,Y===r?(ie(e,!0),e.strm.avail_out===0?Te:Be):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?we:Ce}function Ye(e,Y,K,c,D){this.good_length=e,this.max_lazy=Y,this.nice_length=K,this.max_chain=c,this.func=D}var nt;nt=[new Ye(0,0,0,0,Vt),new Ye(4,4,8,4,pt),new Ye(4,5,16,8,pt),new Ye(4,6,32,32,pt),new Ye(4,4,16,16,et),new Ye(8,16,32,32,et),new Ye(8,16,128,128,et),new Ye(8,32,128,256,et),new Ye(32,128,258,1024,et),new Ye(32,258,258,4096,et)];function Dt(e){e.window_size=2*e.w_size,Le(e.head),e.max_lazy_match=nt[e.level].max_lazy,e.good_match=nt[e.level].good_length,e.nice_match=nt[e.level].nice_length,e.max_chain_length=nt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=U-1,e.match_available=0,e.ins_h=0}function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new _.Buf16(G*2),this.dyn_dtree=new _.Buf16((2*R+1)*2),this.bl_tree=new _.Buf16((2*P+1)*2),Le(this.dyn_ltree),Le(this.dyn_dtree),Le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new _.Buf16(T+1),this.heap=new _.Buf16(2*L+1),Le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new _.Buf16(2*L+1),Le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function X(e){var Y;return!e||!e.state?$e(e,l):(e.total_in=e.total_out=0,e.data_type=b,Y=e.state,Y.pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?J:te,e.adler=Y.wrap===2?0:1,Y.last_flush=O,B._tr_init(Y),h)}function ee(e){var Y=X(e);return Y===h&&Dt(e.state),Y}function oe(e,Y){return!e||!e.state||e.state.wrap!==2?l:(e.state.gzhead=Y,h)}function I(e,Y,K,c,D,j){if(!e)return l;var ue=1;if(Y===s&&(Y=6),c<0?(ue=0,c=-c):c>15&&(ue=2,c-=16),D<1||D>x||K!==y||c<8||c>15||Y<0||Y>9||j<0||j>i)return $e(e,l);c===8&&(c=9);var re=new p;return e.state=re,re.strm=e,re.wrap=ue,re.gzhead=null,re.w_bits=c,re.w_size=1<<re.w_bits,re.w_mask=re.w_size-1,re.hash_bits=D+7,re.hash_size=1<<re.hash_bits,re.hash_mask=re.hash_size-1,re.hash_shift=~~((re.hash_bits+U-1)/U),re.window=new _.Buf8(re.w_size*2),re.head=new _.Buf16(re.hash_size),re.prev=new _.Buf16(re.w_size),re.lit_bufsize=1<<D+6,re.pending_buf_size=re.lit_bufsize*4,re.pending_buf=new _.Buf8(re.pending_buf_size),re.d_buf=1*re.lit_bufsize,re.l_buf=3*re.lit_bufsize,re.level=Y,re.strategy=j,re.method=K,ee(e)}function q(e,Y){return I(e,Y,y,E,z,d)}function o(e,Y){var K,c,D,j;if(!e||!e.state||Y>g||Y<0)return e?$e(e,l):l;if(c=e.state,!e.output||!e.input&&e.avail_in!==0||c.status===se&&Y!==r)return $e(e,e.avail_out===0?k:l);if(c.strm=e,K=c.last_flush,c.last_flush=Y,c.status===J)if(c.wrap===2)e.adler=0,le(c,31),le(c,139),le(c,8),c.gzhead?(le(c,(c.gzhead.text?1:0)+(c.gzhead.hcrc?2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0)),le(c,c.gzhead.time&255),le(c,c.gzhead.time>>8&255),le(c,c.gzhead.time>>16&255),le(c,c.gzhead.time>>24&255),le(c,c.level===9?2:c.strategy>=u||c.level<2?4:0),le(c,c.gzhead.os&255),c.gzhead.extra&&c.gzhead.extra.length&&(le(c,c.gzhead.extra.length&255),le(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(e.adler=S(e.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=W):(le(c,0),le(c,0),le(c,0),le(c,0),le(c,0),le(c,c.level===9?2:c.strategy>=u||c.level<2?4:0),le(c,ye),c.status=te);else{var ue=y+(c.w_bits-8<<4)<<8,re=-1;c.strategy>=u||c.level<2?re=0:c.level<6?re=1:c.level===6?re=2:re=3,ue|=re<<6,c.strstart!==0&&(ue|=H),ue+=31-ue%31,c.status=te,be(c,ue),c.strstart!==0&&(be(c,e.adler>>>16),be(c,e.adler&65535)),e.adler=1}if(c.status===W)if(c.gzhead.extra){for(D=c.pending;c.gzindex<(c.gzhead.extra.length&65535)&&!(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>D&&(e.adler=S(e.adler,c.pending_buf,c.pending-D,D)),pe(e),D=c.pending,c.pending===c.pending_buf_size));)le(c,c.gzhead.extra[c.gzindex]&255),c.gzindex++;c.gzhead.hcrc&&c.pending>D&&(e.adler=S(e.adler,c.pending_buf,c.pending-D,D)),c.gzindex===c.gzhead.extra.length&&(c.gzindex=0,c.status=ae)}else c.status=ae;if(c.status===ae)if(c.gzhead.name){D=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>D&&(e.adler=S(e.adler,c.pending_buf,c.pending-D,D)),pe(e),D=c.pending,c.pending===c.pending_buf_size)){j=1;break}c.gzindex<c.gzhead.name.length?j=c.gzhead.name.charCodeAt(c.gzindex++)&255:j=0,le(c,j)}while(j!==0);c.gzhead.hcrc&&c.pending>D&&(e.adler=S(e.adler,c.pending_buf,c.pending-D,D)),j===0&&(c.gzindex=0,c.status=he)}else c.status=he;if(c.status===he)if(c.gzhead.comment){D=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>D&&(e.adler=S(e.adler,c.pending_buf,c.pending-D,D)),pe(e),D=c.pending,c.pending===c.pending_buf_size)){j=1;break}c.gzindex<c.gzhead.comment.length?j=c.gzhead.comment.charCodeAt(c.gzindex++)&255:j=0,le(c,j)}while(j!==0);c.gzhead.hcrc&&c.pending>D&&(e.adler=S(e.adler,c.pending_buf,c.pending-D,D)),j===0&&(c.status=fe)}else c.status=fe;if(c.status===fe&&(c.gzhead.hcrc?(c.pending+2>c.pending_buf_size&&pe(e),c.pending+2<=c.pending_buf_size&&(le(c,e.adler&255),le(c,e.adler>>8&255),e.adler=0,c.status=te)):c.status=te),c.pending!==0){if(pe(e),e.avail_out===0)return c.last_flush=-1,h}else if(e.avail_in===0&&We(Y)<=We(K)&&Y!==r)return $e(e,k);if(c.status===se&&e.avail_in!==0)return $e(e,k);if(e.avail_in!==0||c.lookahead!==0||Y!==O&&c.status!==se){var ne=c.strategy===u?gt(c,Y):c.strategy===n?Ct(c,Y):nt[c.level].func(c,Y);if((ne===Te||ne===Be)&&(c.status=se),ne===we||ne===Te)return e.avail_out===0&&(c.last_flush=-1),h;if(ne===Ce&&(Y===t?B._tr_align(c):Y!==g&&(B._tr_stored_block(c,0,0,!1),Y===a&&(Le(c.head),c.lookahead===0&&(c.strstart=0,c.block_start=0,c.insert=0))),pe(e),e.avail_out===0))return c.last_flush=-1,h}return Y!==r?h:c.wrap<=0?f:(c.wrap===2?(le(c,e.adler&255),le(c,e.adler>>8&255),le(c,e.adler>>16&255),le(c,e.adler>>24&255),le(c,e.total_in&255),le(c,e.total_in>>8&255),le(c,e.total_in>>16&255),le(c,e.total_in>>24&255)):(be(c,e.adler>>>16),be(c,e.adler&65535)),pe(e),c.wrap>0&&(c.wrap=-c.wrap),c.pending!==0?h:f)}function Q(e){var Y;return!e||!e.state?l:(Y=e.state.status,Y!==J&&Y!==W&&Y!==ae&&Y!==he&&Y!==fe&&Y!==te&&Y!==se?$e(e,l):(e.state=null,Y===te?$e(e,v):h))}function ve(e,Y){var K=Y.length,c,D,j,ue,re,ne,xe,ct;if(!e||!e.state||(c=e.state,ue=c.wrap,ue===2||ue===1&&c.status!==J||c.lookahead))return l;for(ue===1&&(e.adler=M(e.adler,Y,K,0)),c.wrap=0,K>=c.w_size&&(ue===0&&(Le(c.head),c.strstart=0,c.block_start=0,c.insert=0),ct=new _.Buf8(c.w_size),_.arraySet(ct,Y,K-c.w_size,c.w_size,0),Y=ct,K=c.w_size),re=e.avail_in,ne=e.next_in,xe=e.input,e.avail_in=K,e.next_in=0,e.input=Y,Fe(c);c.lookahead>=U;){D=c.strstart,j=c.lookahead-(U-1);do c.ins_h=(c.ins_h<<c.hash_shift^c.window[D+U-1])&c.hash_mask,c.prev[D&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=D,D++;while(--j);c.strstart=D,c.lookahead=U-1,Fe(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=U-1,c.match_available=0,e.next_in=ne,e.input=xe,e.avail_in=re,c.wrap=ue,h}return tt.deflateInit=q,tt.deflateInit2=I,tt.deflateReset=ee,tt.deflateResetKeep=X,tt.deflateSetHeader=oe,tt.deflate=o,tt.deflateEnd=Q,tt.deflateSetDictionary=ve,tt.deflateInfo="pako deflate (from Nodeca project)",tt}var Et={},Ra;function sr(){if(Ra)return Et;Ra=1;var _=yt(),B=!0,M=!0;try{String.fromCharCode.apply(null,[0])}catch{B=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{M=!1}for(var S=new _.Buf8(256),w=0;w<256;w++)S[w]=w>=252?6:w>=248?5:w>=240?4:w>=224?3:w>=192?2:1;S[254]=S[254]=1,Et.string2buf=function(t){var a,r,g,h,f,l=t.length,v=0;for(h=0;h<l;h++)r=t.charCodeAt(h),(r&64512)===55296&&h+1<l&&(g=t.charCodeAt(h+1),(g&64512)===56320&&(r=65536+(r-55296<<10)+(g-56320),h++)),v+=r<128?1:r<2048?2:r<65536?3:4;for(a=new _.Buf8(v),f=0,h=0;f<v;h++)r=t.charCodeAt(h),(r&64512)===55296&&h+1<l&&(g=t.charCodeAt(h+1),(g&64512)===56320&&(r=65536+(r-55296<<10)+(g-56320),h++)),r<128?a[f++]=r:r<2048?(a[f++]=192|r>>>6,a[f++]=128|r&63):r<65536?(a[f++]=224|r>>>12,a[f++]=128|r>>>6&63,a[f++]=128|r&63):(a[f++]=240|r>>>18,a[f++]=128|r>>>12&63,a[f++]=128|r>>>6&63,a[f++]=128|r&63);return a};function O(t,a){if(a<65534&&(t.subarray&&M||!t.subarray&&B))return String.fromCharCode.apply(null,_.shrinkBuf(t,a));for(var r="",g=0;g<a;g++)r+=String.fromCharCode(t[g]);return r}return Et.buf2binstring=function(t){return O(t,t.length)},Et.binstring2buf=function(t){for(var a=new _.Buf8(t.length),r=0,g=a.length;r<g;r++)a[r]=t.charCodeAt(r);return a},Et.buf2string=function(t,a){var r,g,h,f,l=a||t.length,v=new Array(l*2);for(g=0,r=0;r<l;){if(h=t[r++],h<128){v[g++]=h;continue}if(f=S[h],f>4){v[g++]=65533,r+=f-1;continue}for(h&=f===2?31:f===3?15:7;f>1&&r<l;)h=h<<6|t[r++]&63,f--;if(f>1){v[g++]=65533;continue}h<65536?v[g++]=h:(h-=65536,v[g++]=55296|h>>10&1023,v[g++]=56320|h&1023)}return O(v,g)},Et.utf8border=function(t,a){var r;for(a=a||t.length,a>t.length&&(a=t.length),r=a-1;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?a:r+S[t[r]]>a?r:a},Et}var ea,Pa;function ur(){if(Pa)return ea;Pa=1;function _(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return ea=_,ea}var Ia;function Vi(){if(Ia)return Bt;Ia=1;var _=Ai(),B=yt(),M=sr(),S=_a(),w=ur(),O=Object.prototype.toString,t=0,a=4,r=0,g=1,h=2,f=-1,l=0,v=8;function k(n){if(!(this instanceof k))return new k(n);this.options=B.assign({level:f,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},n||{});var i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var d=_.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(d!==r)throw new Error(S[d]);if(i.header&&_.deflateSetHeader(this.strm,i.header),i.dictionary){var b;if(typeof i.dictionary=="string"?b=M.string2buf(i.dictionary):O.call(i.dictionary)==="[object ArrayBuffer]"?b=new Uint8Array(i.dictionary):b=i.dictionary,d=_.deflateSetDictionary(this.strm,b),d!==r)throw new Error(S[d]);this._dict_set=!0}}k.prototype.push=function(n,i){var d=this.strm,b=this.options.chunkSize,y,x;if(this.ended)return!1;x=i===~~i?i:i===!0?a:t,typeof n=="string"?d.input=M.string2buf(n):O.call(n)==="[object ArrayBuffer]"?d.input=new Uint8Array(n):d.input=n,d.next_in=0,d.avail_in=d.input.length;do{if(d.avail_out===0&&(d.output=new B.Buf8(b),d.next_out=0,d.avail_out=b),y=_.deflate(d,x),y!==g&&y!==r)return this.onEnd(y),this.ended=!0,!1;(d.avail_out===0||d.avail_in===0&&(x===a||x===h))&&(this.options.to==="string"?this.onData(M.buf2binstring(B.shrinkBuf(d.output,d.next_out))):this.onData(B.shrinkBuf(d.output,d.next_out)))}while((d.avail_in>0||d.avail_out===0)&&y!==g);return x===a?(y=_.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===r):(x===h&&(this.onEnd(r),d.avail_out=0),!0)},k.prototype.onData=function(n){this.chunks.push(n)},k.prototype.onEnd=function(n){n===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=B.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function s(n,i){var d=new k(i);if(d.push(n,!0),d.err)throw d.msg||S[d.err];return d.result}function m(n,i){return i=i||{},i.raw=!0,s(n,i)}function u(n,i){return i=i||{},i.gzip=!0,s(n,i)}return Bt.Deflate=k,Bt.deflate=s,Bt.deflateRaw=m,Bt.gzip=u,Bt}var Rt={},Xe={},ta,Ma;function Ci(){if(Ma)return ta;Ma=1;var _=30,B=12;return ta=function(S,w){var O,t,a,r,g,h,f,l,v,k,s,m,u,n,i,d,b,y,x,E,z,C,N,L,R;O=S.state,t=S.next_in,L=S.input,a=t+(S.avail_in-5),r=S.next_out,R=S.output,g=r-(w-S.avail_out),h=r+(S.avail_out-257),f=O.dmax,l=O.wsize,v=O.whave,k=O.wnext,s=O.window,m=O.hold,u=O.bits,n=O.lencode,i=O.distcode,d=(1<<O.lenbits)-1,b=(1<<O.distbits)-1;e:do{u<15&&(m+=L[t++]<<u,u+=8,m+=L[t++]<<u,u+=8),y=n[m&d];t:for(;;){if(x=y>>>24,m>>>=x,u-=x,x=y>>>16&255,x===0)R[r++]=y&65535;else if(x&16){E=y&65535,x&=15,x&&(u<x&&(m+=L[t++]<<u,u+=8),E+=m&(1<<x)-1,m>>>=x,u-=x),u<15&&(m+=L[t++]<<u,u+=8,m+=L[t++]<<u,u+=8),y=i[m&b];a:for(;;){if(x=y>>>24,m>>>=x,u-=x,x=y>>>16&255,x&16){if(z=y&65535,x&=15,u<x&&(m+=L[t++]<<u,u+=8,u<x&&(m+=L[t++]<<u,u+=8)),z+=m&(1<<x)-1,z>f){S.msg="invalid distance too far back",O.mode=_;break e}if(m>>>=x,u-=x,x=r-g,z>x){if(x=z-x,x>v&&O.sane){S.msg="invalid distance too far back",O.mode=_;break e}if(C=0,N=s,k===0){if(C+=l-x,x<E){E-=x;do R[r++]=s[C++];while(--x);C=r-z,N=R}}else if(k<x){if(C+=l+k-x,x-=k,x<E){E-=x;do R[r++]=s[C++];while(--x);if(C=0,k<E){x=k,E-=x;do R[r++]=s[C++];while(--x);C=r-z,N=R}}}else if(C+=k-x,x<E){E-=x;do R[r++]=s[C++];while(--x);C=r-z,N=R}for(;E>2;)R[r++]=N[C++],R[r++]=N[C++],R[r++]=N[C++],E-=3;E&&(R[r++]=N[C++],E>1&&(R[r++]=N[C++]))}else{C=r-z;do R[r++]=R[C++],R[r++]=R[C++],R[r++]=R[C++],E-=3;while(E>2);E&&(R[r++]=R[C++],E>1&&(R[r++]=R[C++]))}}else if(x&64){S.msg="invalid distance code",O.mode=_;break e}else{y=i[(y&65535)+(m&(1<<x)-1)];continue a}break}}else if(x&64)if(x&32){O.mode=B;break e}else{S.msg="invalid literal/length code",O.mode=_;break e}else{y=n[(y&65535)+(m&(1<<x)-1)];continue t}break}}while(t<a&&r<h);E=u>>3,t-=E,u-=E<<3,m&=(1<<u)-1,S.next_in=t,S.next_out=r,S.avail_in=t<a?5+(a-t):5-(t-a),S.avail_out=r<h?257+(h-r):257-(r-h),O.hold=m,O.bits=u},ta}var aa,za;function Di(){if(za)return aa;za=1;var _=yt(),B=15,M=852,S=592,w=0,O=1,t=2,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return aa=function(l,v,k,s,m,u,n,i){var d=i.bits,b=0,y=0,x=0,E=0,z=0,C=0,N=0,L=0,R=0,P=0,G,T,U,Z,$,H=null,J=0,W,ae=new _.Buf16(B+1),he=new _.Buf16(B+1),fe=null,te=0,se,we,Ce;for(b=0;b<=B;b++)ae[b]=0;for(y=0;y<s;y++)ae[v[k+y]]++;for(z=d,E=B;E>=1&&ae[E]===0;E--);if(z>E&&(z=E),E===0)return m[u++]=1<<24|64<<16|0,m[u++]=1<<24|64<<16|0,i.bits=1,0;for(x=1;x<E&&ae[x]===0;x++);for(z<x&&(z=x),L=1,b=1;b<=B;b++)if(L<<=1,L-=ae[b],L<0)return-1;if(L>0&&(l===w||E!==1))return-1;for(he[1]=0,b=1;b<B;b++)he[b+1]=he[b]+ae[b];for(y=0;y<s;y++)v[k+y]!==0&&(n[he[v[k+y]]++]=y);if(l===w?(H=fe=n,W=19):l===O?(H=a,J-=257,fe=r,te-=257,W=256):(H=g,fe=h,W=-1),P=0,y=0,b=x,$=u,C=z,N=0,U=-1,R=1<<z,Z=R-1,l===O&&R>M||l===t&&R>S)return 1;for(;;){se=b-N,n[y]<W?(we=0,Ce=n[y]):n[y]>W?(we=fe[te+n[y]],Ce=H[J+n[y]]):(we=96,Ce=0),G=1<<b-N,T=1<<C,x=T;do T-=G,m[$+(P>>N)+T]=se<<24|we<<16|Ce|0;while(T!==0);for(G=1<<b-1;P&G;)G>>=1;if(G!==0?(P&=G-1,P+=G):P=0,y++,--ae[b]===0){if(b===E)break;b=v[k+n[y]]}if(b>z&&(P&Z)!==U){for(N===0&&(N=z),$+=x,C=b-N,L=1<<C;C+N<E&&(L-=ae[C+N],!(L<=0));)C++,L<<=1;if(R+=1<<C,l===O&&R>M||l===t&&R>S)return 1;U=P&Z,m[U]=z<<24|C<<16|$-u|0}}return P!==0&&(m[$+P]=b-N<<24|64<<16|0),i.bits=z,0},aa}var Na;function Bi(){if(Na)return Xe;Na=1;var _=yt(),B=or(),M=lr(),S=Ci(),w=Di(),O=0,t=1,a=2,r=4,g=5,h=6,f=0,l=1,v=2,k=-2,s=-3,m=-4,u=-5,n=8,i=1,d=2,b=3,y=4,x=5,E=6,z=7,C=8,N=9,L=10,R=11,P=12,G=13,T=14,U=15,Z=16,$=17,H=18,J=19,W=20,ae=21,he=22,fe=23,te=24,se=25,we=26,Ce=27,Te=28,Be=29,ye=30,$e=31,We=32,Le=852,pe=592,ie=15,le=ie;function be(I){return(I>>>24&255)+(I>>>8&65280)+((I&65280)<<8)+((I&255)<<24)}function Se(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ae(I){var q;return!I||!I.state?k:(q=I.state,I.total_in=I.total_out=q.total=0,I.msg="",q.wrap&&(I.adler=q.wrap&1),q.mode=i,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new _.Buf32(Le),q.distcode=q.distdyn=new _.Buf32(pe),q.sane=1,q.back=-1,f)}function Fe(I){var q;return!I||!I.state?k:(q=I.state,q.wsize=0,q.whave=0,q.wnext=0,Ae(I))}function Vt(I,q){var o,Q;return!I||!I.state||(Q=I.state,q<0?(o=0,q=-q):(o=(q>>4)+1,q<48&&(q&=15)),q&&(q<8||q>15))?k:(Q.window!==null&&Q.wbits!==q&&(Q.window=null),Q.wrap=o,Q.wbits=q,Fe(I))}function pt(I,q){var o,Q;return I?(Q=new Se,I.state=Q,Q.window=null,o=Vt(I,q),o!==f&&(I.state=null),o):k}function et(I){return pt(I,le)}var Ct=!0,gt,Ye;function nt(I){if(Ct){var q;for(gt=new _.Buf32(512),Ye=new _.Buf32(32),q=0;q<144;)I.lens[q++]=8;for(;q<256;)I.lens[q++]=9;for(;q<280;)I.lens[q++]=7;for(;q<288;)I.lens[q++]=8;for(w(t,I.lens,0,288,gt,0,I.work,{bits:9}),q=0;q<32;)I.lens[q++]=5;w(a,I.lens,0,32,Ye,0,I.work,{bits:5}),Ct=!1}I.lencode=gt,I.lenbits=9,I.distcode=Ye,I.distbits=5}function Dt(I,q,o,Q){var ve,e=I.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new _.Buf8(e.wsize)),Q>=e.wsize?(_.arraySet(e.window,q,o-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(ve=e.wsize-e.wnext,ve>Q&&(ve=Q),_.arraySet(e.window,q,o-Q,ve,e.wnext),Q-=ve,Q?(_.arraySet(e.window,q,o-Q,Q,0),e.wnext=Q,e.whave=e.wsize):(e.wnext+=ve,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=ve))),0}function p(I,q){var o,Q,ve,e,Y,K,c,D,j,ue,re,ne,xe,ct,Pe=0,Ee,Oe,Ze,Ke,$t,Ot,ze,qe,Ue=new _.Buf8(4),ft,ot,ga=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return k;o=I.state,o.mode===P&&(o.mode=G),Y=I.next_out,ve=I.output,c=I.avail_out,e=I.next_in,Q=I.input,K=I.avail_in,D=o.hold,j=o.bits,ue=K,re=c,qe=f;e:for(;;)switch(o.mode){case i:if(o.wrap===0){o.mode=G;break}for(;j<16;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}if(o.wrap&2&&D===35615){o.check=0,Ue[0]=D&255,Ue[1]=D>>>8&255,o.check=M(o.check,Ue,2,0),D=0,j=0,o.mode=d;break}if(o.flags=0,o.head&&(o.head.done=!1),!(o.wrap&1)||(((D&255)<<8)+(D>>8))%31){I.msg="incorrect header check",o.mode=ye;break}if((D&15)!==n){I.msg="unknown compression method",o.mode=ye;break}if(D>>>=4,j-=4,ze=(D&15)+8,o.wbits===0)o.wbits=ze;else if(ze>o.wbits){I.msg="invalid window size",o.mode=ye;break}o.dmax=1<<ze,I.adler=o.check=1,o.mode=D&512?L:P,D=0,j=0;break;case d:for(;j<16;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}if(o.flags=D,(o.flags&255)!==n){I.msg="unknown compression method",o.mode=ye;break}if(o.flags&57344){I.msg="unknown header flags set",o.mode=ye;break}o.head&&(o.head.text=D>>8&1),o.flags&512&&(Ue[0]=D&255,Ue[1]=D>>>8&255,o.check=M(o.check,Ue,2,0)),D=0,j=0,o.mode=b;case b:for(;j<32;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}o.head&&(o.head.time=D),o.flags&512&&(Ue[0]=D&255,Ue[1]=D>>>8&255,Ue[2]=D>>>16&255,Ue[3]=D>>>24&255,o.check=M(o.check,Ue,4,0)),D=0,j=0,o.mode=y;case y:for(;j<16;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}o.head&&(o.head.xflags=D&255,o.head.os=D>>8),o.flags&512&&(Ue[0]=D&255,Ue[1]=D>>>8&255,o.check=M(o.check,Ue,2,0)),D=0,j=0,o.mode=x;case x:if(o.flags&1024){for(;j<16;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}o.length=D,o.head&&(o.head.extra_len=D),o.flags&512&&(Ue[0]=D&255,Ue[1]=D>>>8&255,o.check=M(o.check,Ue,2,0)),D=0,j=0}else o.head&&(o.head.extra=null);o.mode=E;case E:if(o.flags&1024&&(ne=o.length,ne>K&&(ne=K),ne&&(o.head&&(ze=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),_.arraySet(o.head.extra,Q,e,ne,ze)),o.flags&512&&(o.check=M(o.check,Q,ne,e)),K-=ne,e+=ne,o.length-=ne),o.length))break e;o.length=0,o.mode=z;case z:if(o.flags&2048){if(K===0)break e;ne=0;do ze=Q[e+ne++],o.head&&ze&&o.length<65536&&(o.head.name+=String.fromCharCode(ze));while(ze&&ne<K);if(o.flags&512&&(o.check=M(o.check,Q,ne,e)),K-=ne,e+=ne,ze)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=C;case C:if(o.flags&4096){if(K===0)break e;ne=0;do ze=Q[e+ne++],o.head&&ze&&o.length<65536&&(o.head.comment+=String.fromCharCode(ze));while(ze&&ne<K);if(o.flags&512&&(o.check=M(o.check,Q,ne,e)),K-=ne,e+=ne,ze)break e}else o.head&&(o.head.comment=null);o.mode=N;case N:if(o.flags&512){for(;j<16;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}if(D!==(o.check&65535)){I.msg="header crc mismatch",o.mode=ye;break}D=0,j=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),I.adler=o.check=0,o.mode=P;break;case L:for(;j<32;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}I.adler=o.check=be(D),D=0,j=0,o.mode=R;case R:if(o.havedict===0)return I.next_out=Y,I.avail_out=c,I.next_in=e,I.avail_in=K,o.hold=D,o.bits=j,v;I.adler=o.check=1,o.mode=P;case P:if(q===g||q===h)break e;case G:if(o.last){D>>>=j&7,j-=j&7,o.mode=Ce;break}for(;j<3;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}switch(o.last=D&1,D>>>=1,j-=1,D&3){case 0:o.mode=T;break;case 1:if(nt(o),o.mode=W,q===h){D>>>=2,j-=2;break e}break;case 2:o.mode=$;break;case 3:I.msg="invalid block type",o.mode=ye}D>>>=2,j-=2;break;case T:for(D>>>=j&7,j-=j&7;j<32;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}if((D&65535)!==(D>>>16^65535)){I.msg="invalid stored block lengths",o.mode=ye;break}if(o.length=D&65535,D=0,j=0,o.mode=U,q===h)break e;case U:o.mode=Z;case Z:if(ne=o.length,ne){if(ne>K&&(ne=K),ne>c&&(ne=c),ne===0)break e;_.arraySet(ve,Q,e,ne,Y),K-=ne,e+=ne,c-=ne,Y+=ne,o.length-=ne;break}o.mode=P;break;case $:for(;j<14;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}if(o.nlen=(D&31)+257,D>>>=5,j-=5,o.ndist=(D&31)+1,D>>>=5,j-=5,o.ncode=(D&15)+4,D>>>=4,j-=4,o.nlen>286||o.ndist>30){I.msg="too many length or distance symbols",o.mode=ye;break}o.have=0,o.mode=H;case H:for(;o.have<o.ncode;){for(;j<3;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}o.lens[ga[o.have++]]=D&7,D>>>=3,j-=3}for(;o.have<19;)o.lens[ga[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,ft={bits:o.lenbits},qe=w(O,o.lens,0,19,o.lencode,0,o.work,ft),o.lenbits=ft.bits,qe){I.msg="invalid code lengths set",o.mode=ye;break}o.have=0,o.mode=J;case J:for(;o.have<o.nlen+o.ndist;){for(;Pe=o.lencode[D&(1<<o.lenbits)-1],Ee=Pe>>>24,Oe=Pe>>>16&255,Ze=Pe&65535,!(Ee<=j);){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}if(Ze<16)D>>>=Ee,j-=Ee,o.lens[o.have++]=Ze;else{if(Ze===16){for(ot=Ee+2;j<ot;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}if(D>>>=Ee,j-=Ee,o.have===0){I.msg="invalid bit length repeat",o.mode=ye;break}ze=o.lens[o.have-1],ne=3+(D&3),D>>>=2,j-=2}else if(Ze===17){for(ot=Ee+3;j<ot;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}D>>>=Ee,j-=Ee,ze=0,ne=3+(D&7),D>>>=3,j-=3}else{for(ot=Ee+7;j<ot;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}D>>>=Ee,j-=Ee,ze=0,ne=11+(D&127),D>>>=7,j-=7}if(o.have+ne>o.nlen+o.ndist){I.msg="invalid bit length repeat",o.mode=ye;break}for(;ne--;)o.lens[o.have++]=ze}}if(o.mode===ye)break;if(o.lens[256]===0){I.msg="invalid code -- missing end-of-block",o.mode=ye;break}if(o.lenbits=9,ft={bits:o.lenbits},qe=w(t,o.lens,0,o.nlen,o.lencode,0,o.work,ft),o.lenbits=ft.bits,qe){I.msg="invalid literal/lengths set",o.mode=ye;break}if(o.distbits=6,o.distcode=o.distdyn,ft={bits:o.distbits},qe=w(a,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,ft),o.distbits=ft.bits,qe){I.msg="invalid distances set",o.mode=ye;break}if(o.mode=W,q===h)break e;case W:o.mode=ae;case ae:if(K>=6&&c>=258){I.next_out=Y,I.avail_out=c,I.next_in=e,I.avail_in=K,o.hold=D,o.bits=j,S(I,re),Y=I.next_out,ve=I.output,c=I.avail_out,e=I.next_in,Q=I.input,K=I.avail_in,D=o.hold,j=o.bits,o.mode===P&&(o.back=-1);break}for(o.back=0;Pe=o.lencode[D&(1<<o.lenbits)-1],Ee=Pe>>>24,Oe=Pe>>>16&255,Ze=Pe&65535,!(Ee<=j);){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}if(Oe&&!(Oe&240)){for(Ke=Ee,$t=Oe,Ot=Ze;Pe=o.lencode[Ot+((D&(1<<Ke+$t)-1)>>Ke)],Ee=Pe>>>24,Oe=Pe>>>16&255,Ze=Pe&65535,!(Ke+Ee<=j);){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}D>>>=Ke,j-=Ke,o.back+=Ke}if(D>>>=Ee,j-=Ee,o.back+=Ee,o.length=Ze,Oe===0){o.mode=we;break}if(Oe&32){o.back=-1,o.mode=P;break}if(Oe&64){I.msg="invalid literal/length code",o.mode=ye;break}o.extra=Oe&15,o.mode=he;case he:if(o.extra){for(ot=o.extra;j<ot;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}o.length+=D&(1<<o.extra)-1,D>>>=o.extra,j-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=fe;case fe:for(;Pe=o.distcode[D&(1<<o.distbits)-1],Ee=Pe>>>24,Oe=Pe>>>16&255,Ze=Pe&65535,!(Ee<=j);){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}if(!(Oe&240)){for(Ke=Ee,$t=Oe,Ot=Ze;Pe=o.distcode[Ot+((D&(1<<Ke+$t)-1)>>Ke)],Ee=Pe>>>24,Oe=Pe>>>16&255,Ze=Pe&65535,!(Ke+Ee<=j);){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}D>>>=Ke,j-=Ke,o.back+=Ke}if(D>>>=Ee,j-=Ee,o.back+=Ee,Oe&64){I.msg="invalid distance code",o.mode=ye;break}o.offset=Ze,o.extra=Oe&15,o.mode=te;case te:if(o.extra){for(ot=o.extra;j<ot;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}o.offset+=D&(1<<o.extra)-1,D>>>=o.extra,j-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){I.msg="invalid distance too far back",o.mode=ye;break}o.mode=se;case se:if(c===0)break e;if(ne=re-c,o.offset>ne){if(ne=o.offset-ne,ne>o.whave&&o.sane){I.msg="invalid distance too far back",o.mode=ye;break}ne>o.wnext?(ne-=o.wnext,xe=o.wsize-ne):xe=o.wnext-ne,ne>o.length&&(ne=o.length),ct=o.window}else ct=ve,xe=Y-o.offset,ne=o.length;ne>c&&(ne=c),c-=ne,o.length-=ne;do ve[Y++]=ct[xe++];while(--ne);o.length===0&&(o.mode=ae);break;case we:if(c===0)break e;ve[Y++]=o.length,c--,o.mode=ae;break;case Ce:if(o.wrap){for(;j<32;){if(K===0)break e;K--,D|=Q[e++]<<j,j+=8}if(re-=c,I.total_out+=re,o.total+=re,re&&(I.adler=o.check=o.flags?M(o.check,ve,re,Y-re):B(o.check,ve,re,Y-re)),re=c,(o.flags?D:be(D))!==o.check){I.msg="incorrect data check",o.mode=ye;break}D=0,j=0}o.mode=Te;case Te:if(o.wrap&&o.flags){for(;j<32;){if(K===0)break e;K--,D+=Q[e++]<<j,j+=8}if(D!==(o.total&4294967295)){I.msg="incorrect length check",o.mode=ye;break}D=0,j=0}o.mode=Be;case Be:qe=l;break e;case ye:qe=s;break e;case $e:return m;case We:default:return k}return I.next_out=Y,I.avail_out=c,I.next_in=e,I.avail_in=K,o.hold=D,o.bits=j,(o.wsize||re!==I.avail_out&&o.mode<ye&&(o.mode<Ce||q!==r))&&Dt(I,I.output,I.next_out,re-I.avail_out),ue-=I.avail_in,re-=I.avail_out,I.total_in+=ue,I.total_out+=re,o.total+=re,o.wrap&&re&&(I.adler=o.check=o.flags?M(o.check,ve,re,I.next_out-re):B(o.check,ve,re,I.next_out-re)),I.data_type=o.bits+(o.last?64:0)+(o.mode===P?128:0)+(o.mode===W||o.mode===U?256:0),(ue===0&&re===0||q===r)&&qe===f&&(qe=u),qe}function X(I){if(!I||!I.state)return k;var q=I.state;return q.window&&(q.window=null),I.state=null,f}function ee(I,q){var o;return!I||!I.state||(o=I.state,!(o.wrap&2))?k:(o.head=q,q.done=!1,f)}function oe(I,q){var o=q.length,Q,ve,e;return!I||!I.state||(Q=I.state,Q.wrap!==0&&Q.mode!==R)?k:Q.mode===R&&(ve=1,ve=B(ve,q,o,0),ve!==Q.check)?s:(e=Dt(I,q,o,o),e?(Q.mode=$e,m):(Q.havedict=1,f))}return Xe.inflateReset=Fe,Xe.inflateReset2=Vt,Xe.inflateResetKeep=Ae,Xe.inflateInit=et,Xe.inflateInit2=pt,Xe.inflate=p,Xe.inflateEnd=X,Xe.inflateGetHeader=ee,Xe.inflateSetDictionary=oe,Xe.inflateInfo="pako inflate (from Nodeca project)",Xe}var ra,$a;function dr(){return $a||($a=1,ra={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),ra}var ia,Oa;function Ri(){if(Oa)return ia;Oa=1;function _(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return ia=_,ia}var La;function Pi(){if(La)return Rt;La=1;var _=Bi(),B=yt(),M=sr(),S=dr(),w=_a(),O=ur(),t=Ri(),a=Object.prototype.toString;function r(f){if(!(this instanceof r))return new r(f);this.options=B.assign({chunkSize:16384,windowBits:0,to:""},f||{});var l=this.options;l.raw&&l.windowBits>=0&&l.windowBits<16&&(l.windowBits=-l.windowBits,l.windowBits===0&&(l.windowBits=-15)),l.windowBits>=0&&l.windowBits<16&&!(f&&f.windowBits)&&(l.windowBits+=32),l.windowBits>15&&l.windowBits<48&&(l.windowBits&15||(l.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O,this.strm.avail_out=0;var v=_.inflateInit2(this.strm,l.windowBits);if(v!==S.Z_OK)throw new Error(w[v]);if(this.header=new t,_.inflateGetHeader(this.strm,this.header),l.dictionary&&(typeof l.dictionary=="string"?l.dictionary=M.string2buf(l.dictionary):a.call(l.dictionary)==="[object ArrayBuffer]"&&(l.dictionary=new Uint8Array(l.dictionary)),l.raw&&(v=_.inflateSetDictionary(this.strm,l.dictionary),v!==S.Z_OK)))throw new Error(w[v])}r.prototype.push=function(f,l){var v=this.strm,k=this.options.chunkSize,s=this.options.dictionary,m,u,n,i,d,b=!1;if(this.ended)return!1;u=l===~~l?l:l===!0?S.Z_FINISH:S.Z_NO_FLUSH,typeof f=="string"?v.input=M.binstring2buf(f):a.call(f)==="[object ArrayBuffer]"?v.input=new Uint8Array(f):v.input=f,v.next_in=0,v.avail_in=v.input.length;do{if(v.avail_out===0&&(v.output=new B.Buf8(k),v.next_out=0,v.avail_out=k),m=_.inflate(v,S.Z_NO_FLUSH),m===S.Z_NEED_DICT&&s&&(m=_.inflateSetDictionary(this.strm,s)),m===S.Z_BUF_ERROR&&b===!0&&(m=S.Z_OK,b=!1),m!==S.Z_STREAM_END&&m!==S.Z_OK)return this.onEnd(m),this.ended=!0,!1;v.next_out&&(v.avail_out===0||m===S.Z_STREAM_END||v.avail_in===0&&(u===S.Z_FINISH||u===S.Z_SYNC_FLUSH))&&(this.options.to==="string"?(n=M.utf8border(v.output,v.next_out),i=v.next_out-n,d=M.buf2string(v.output,n),v.next_out=i,v.avail_out=k-i,i&&B.arraySet(v.output,v.output,n,i,0),this.onData(d)):this.onData(B.shrinkBuf(v.output,v.next_out))),v.avail_in===0&&v.avail_out===0&&(b=!0)}while((v.avail_in>0||v.avail_out===0)&&m!==S.Z_STREAM_END);return m===S.Z_STREAM_END&&(u=S.Z_FINISH),u===S.Z_FINISH?(m=_.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===S.Z_OK):(u===S.Z_SYNC_FLUSH&&(this.onEnd(S.Z_OK),v.avail_out=0),!0)},r.prototype.onData=function(f){this.chunks.push(f)},r.prototype.onEnd=function(f){f===S.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=B.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function g(f,l){var v=new r(l);if(v.push(f,!0),v.err)throw v.msg||w[v.err];return v.result}function h(f,l){return l=l||{},l.raw=!0,g(f,l)}return Rt.Inflate=r,Rt.inflate=g,Rt.inflateRaw=h,Rt.ungzip=g,Rt}var na,Ta;function Ii(){if(Ta)return na;Ta=1;var _=yt().assign,B=Vi(),M=Pi(),S=dr(),w={};return _(w,B,M,S),na=w,na}var Ua;function Mi(){return Ua||(Ua=1,function(_){(function(){var B={};_.exports=B;var M;typeof Ei=="function"?M=Ii():M=self.pako;function S(){typeof process>"u"&&console.log.apply(console,arguments)}(function(w,O){(function(){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a=function(){function g(h){this.message="JPEG error: "+h}return g.prototype=Error(),g.prototype.name="JpegError",g.constructor=g}(),r=function(){function g(h,f){this.message=h,this.g=f}return g.prototype=Error(),g.prototype.name="DNLMarkerError",g.constructor=g}();(function(){function g(){this.M=null,this.B=-1}function h(s,m){for(var u=0,n=[],i,d,b=16;0<b&&!s[b-1];)b--;n.push({children:[],index:0});var y=n[0],x;for(i=0;i<b;i++){for(d=0;d<s[i];d++){for(y=n.pop(),y.children[y.index]=m[u];0<y.index;)y=n.pop();for(y.index++,n.push(y);n.length<=i;)n.push(x={children:[],index:0}),y.children[y.index]=x.children,y=x;u++}i+1<b&&(n.push(x={children:[],index:0}),y.children[y.index]=x.children,y=x)}return n[0].children}function f(s,m,u,n,i,d,b,y,x){function E(){if(0<J)return J--,H>>J&1;if(H=s[m++],H===255){var ie=s[m++];if(ie){if(ie===220&&U){m+=2;var le=s[m++]<<8|s[m++];if(0<le&&le!==u.g)throw new r("Found DNL marker (0xFFDC) while parsing scan data",le)}throw new a("unexpected marker "+(H<<8|ie).toString(16))}}return J=7,H>>>7}function z(ie){for(;;){if(ie=ie[E()],typeof ie=="number")return ie;if((typeof ie>"u"?"undefined":t(ie))!=="object")throw new a("invalid huffman sequence")}}function C(ie){for(var le=0;0<ie;)le=le<<1|E(),ie--;return le}function N(ie){if(ie===1)return E()===1?1:-1;var le=C(ie);return le>=1<<ie-1?le:le+(-1<<ie)+1}function L(ie,le){var be=z(ie.D);for(be=be===0?0:N(be),ie.a[le]=ie.m+=be,be=1;64>be;){var Se=z(ie.o),Ae=Se&15;if(Se>>=4,Ae===0){if(15>Se)break;be+=16}else be+=Se,ie.a[le+k[be]]=N(Ae),be++}}function R(ie,le){var be=z(ie.D);be=be===0?0:N(be)<<x,ie.a[le]=ie.m+=be}function P(ie,le){ie.a[le]|=E()<<x}function G(ie,le){if(0<W)W--;else for(var be=d;be<=b;){var Se=z(ie.o),Ae=Se&15;if(Se>>=4,Ae===0){if(15>Se){W=C(Se)+(1<<Se)-1;break}be+=16}else be+=Se,ie.a[le+k[be]]=N(Ae)*(1<<x),be++}}function T(ie,le){for(var be=d,Se=0,Ae;be<=b;){Ae=le+k[be];var Fe=0>ie.a[Ae]?-1:1;switch(ae){case 0:if(Se=z(ie.o),Ae=Se&15,Se>>=4,Ae===0)15>Se?(W=C(Se)+(1<<Se),ae=4):(Se=16,ae=1);else{if(Ae!==1)throw new a("invalid ACn encoding");he=N(Ae),ae=Se?2:3}continue;case 1:case 2:ie.a[Ae]?ie.a[Ae]+=Fe*(E()<<x):(Se--,Se===0&&(ae=ae===2?3:0));break;case 3:ie.a[Ae]?ie.a[Ae]+=Fe*(E()<<x):(ie.a[Ae]=he<<x,ae=0);break;case 4:ie.a[Ae]&&(ie.a[Ae]+=Fe*(E()<<x))}be++}ae===4&&(W--,W===0&&(ae=0))}for(var U=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,Z=u.P,$=m,H=0,J=0,W=0,ae=0,he,fe=n.length,te,se,we,Ce,Te=u.S?d===0?y===0?R:P:y===0?G:T:L,Be=0,ye=fe===1?n[0].c*n[0].l:Z*u.O,$e,We;Be<ye;){var Le=i?Math.min(ye-Be,i):ye;for(te=0;te<fe;te++)n[te].m=0;if(W=0,fe===1){var pe=n[0];for(Ce=0;Ce<Le;Ce++)Te(pe,64*((pe.c+1)*(Be/pe.c|0)+Be%pe.c)),Be++}else for(Ce=0;Ce<Le;Ce++){for(te=0;te<fe;te++)for(pe=n[te],$e=pe.h,We=pe.j,se=0;se<We;se++)for(we=0;we<$e;we++)Te(pe,64*((pe.c+1)*((Be/Z|0)*pe.j+se)+(Be%Z*pe.h+we)));Be++}if(J=0,(pe=v(s,m))&&pe.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+pe.f),m=pe.offset),pe=pe&&pe.F,!pe||65280>=pe)throw new a("marker was not found");if(65488<=pe&&65495>=pe)m+=2;else break}return(pe=v(s,m))&&pe.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+pe.f),m=pe.offset),m-$}function l(s,m){for(var u=m.c,n=m.l,i=new Int16Array(64),d=0;d<n;d++)for(var b=0;b<u;b++){var y=64*((m.c+1)*d+b),x=i,E=m.G,z=m.a;if(!E)throw new a("missing required Quantization Table.");for(var C=0;64>C;C+=8){var N=z[y+C],L=z[y+C+1],R=z[y+C+2],P=z[y+C+3],G=z[y+C+4],T=z[y+C+5],U=z[y+C+6],Z=z[y+C+7];if(N*=E[C],!(L|R|P|G|T|U|Z))N=5793*N+512>>10,x[C]=N,x[C+1]=N,x[C+2]=N,x[C+3]=N,x[C+4]=N,x[C+5]=N,x[C+6]=N,x[C+7]=N;else{L*=E[C+1],R*=E[C+2],P*=E[C+3],G*=E[C+4],T*=E[C+5],U*=E[C+6],Z*=E[C+7];var $=5793*N+128>>8,H=5793*G+128>>8,J=R,W=U;G=2896*(L-Z)+128>>8,Z=2896*(L+Z)+128>>8,P<<=4,T<<=4,$=$+H+1>>1,H=$-H,N=3784*J+1567*W+128>>8,J=1567*J-3784*W+128>>8,W=N,G=G+T+1>>1,T=G-T,Z=Z+P+1>>1,P=Z-P,$=$+W+1>>1,W=$-W,H=H+J+1>>1,J=H-J,N=2276*G+3406*Z+2048>>12,G=3406*G-2276*Z+2048>>12,Z=N,N=799*P+4017*T+2048>>12,P=4017*P-799*T+2048>>12,T=N,x[C]=$+Z,x[C+7]=$-Z,x[C+1]=H+T,x[C+6]=H-T,x[C+2]=J+P,x[C+5]=J-P,x[C+3]=W+G,x[C+4]=W-G}}for(E=0;8>E;++E)N=x[E],L=x[E+8],R=x[E+16],P=x[E+24],G=x[E+32],T=x[E+40],U=x[E+48],Z=x[E+56],L|R|P|G|T|U|Z?($=5793*N+2048>>12,H=5793*G+2048>>12,J=R,W=U,G=2896*(L-Z)+2048>>12,Z=2896*(L+Z)+2048>>12,$=($+H+1>>1)+4112,H=$-H,N=3784*J+1567*W+2048>>12,J=1567*J-3784*W+2048>>12,W=N,G=G+T+1>>1,T=G-T,Z=Z+P+1>>1,P=Z-P,$=$+W+1>>1,W=$-W,H=H+J+1>>1,J=H-J,N=2276*G+3406*Z+2048>>12,G=3406*G-2276*Z+2048>>12,Z=N,N=799*P+4017*T+2048>>12,P=4017*P-799*T+2048>>12,T=N,N=$+Z,Z=$-Z,L=H+T,U=H-T,R=J+P,T=J-P,P=W+G,G=W-G,N=16>N?0:4080<=N?255:N>>4,L=16>L?0:4080<=L?255:L>>4,R=16>R?0:4080<=R?255:R>>4,P=16>P?0:4080<=P?255:P>>4,G=16>G?0:4080<=G?255:G>>4,T=16>T?0:4080<=T?255:T>>4,U=16>U?0:4080<=U?255:U>>4,Z=16>Z?0:4080<=Z?255:Z>>4,z[y+E]=N,z[y+E+8]=L,z[y+E+16]=R,z[y+E+24]=P,z[y+E+32]=G,z[y+E+40]=T,z[y+E+48]=U,z[y+E+56]=Z):(N=5793*N+8192>>14,N=-2040>N?0:2024<=N?255:N+2056>>4,z[y+E]=N,z[y+E+8]=N,z[y+E+16]=N,z[y+E+24]=N,z[y+E+32]=N,z[y+E+40]=N,z[y+E+48]=N,z[y+E+56]=N)}return m.a}function v(s,m){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:m,n=s.length-1;if(u=u<m?u:m,m>=n)return null;var i=s[m]<<8|s[m+1];if(65472<=i&&65534>=i)return{f:null,F:i,offset:m};for(var d=s[u]<<8|s[u+1];!(65472<=d&&65534>=d);){if(++u>=n)return null;d=s[u]<<8|s[u+1]}return{f:i.toString(16),F:d,offset:u}}var k=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);g.prototype={parse:function(s){function m(){var J=s[b]<<8|s[b+1];return b+=2,J}function u(){var J=m();J=b+J-2;var W=v(s,J,b);return W&&W.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+W.f),J=W.offset),J=s.subarray(b,J),b+=J.length,J}function n(J){for(var W=Math.ceil(J.v/8/J.s),ae=Math.ceil(J.g/8/J.u),he=0;he<J.b.length;he++){$=J.b[he];var fe=Math.ceil(Math.ceil(J.v/8)*$.h/J.s),te=Math.ceil(Math.ceil(J.g/8)*$.j/J.u);$.a=new Int16Array(64*ae*$.j*(W*$.h+1)),$.c=fe,$.l=te}J.P=W,J.O=ae}var i=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,d=i===void 0?null:i,b=0,y=null,x=0;i=[];var E=[],z=[],C=m();if(C!==65496)throw new a("SOI not found");for(C=m();C!==65497;){switch(C){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var N=u();C===65518&&N[0]===65&&N[1]===100&&N[2]===111&&N[3]===98&&N[4]===101&&(y={version:N[5]<<8|N[6],Y:N[7]<<8|N[8],Z:N[9]<<8|N[10],W:N[11]});break;case 65499:C=m()+b-2;for(var L;b<C;){var R=s[b++],P=new Uint16Array(64);if(R>>4)if(R>>4===1)for(N=0;64>N;N++)L=k[N],P[L]=m();else throw new a("DQT - invalid table spec");else for(N=0;64>N;N++)L=k[N],P[L]=s[b++];i[R&15]=P}break;case 65472:case 65473:case 65474:if(G)throw new a("Only single frame JPEGs supported");m();var G={};for(G.X=C===65473,G.S=C===65474,G.precision=s[b++],C=m(),G.g=d||C,G.v=m(),G.b=[],G.C={},N=s[b++],C=P=R=0;C<N;C++){L=s[b];var T=s[b+1]>>4,U=s[b+1]&15;R<T&&(R=T),P<U&&(P=U),T=G.b.push({h:T,j:U,T:s[b+2],G:null}),G.C[L]=T-1,b+=3}G.s=R,G.u=P,n(G);break;case 65476:for(L=m(),C=2;C<L;){for(R=s[b++],P=new Uint8Array(16),N=T=0;16>N;N++,b++)T+=P[N]=s[b];for(U=new Uint8Array(T),N=0;N<T;N++,b++)U[N]=s[b];C+=17+T,(R>>4?E:z)[R&15]=h(P,U)}break;case 65501:m();var Z=m();break;case 65498:for(N=++x===1&&!d,m(),R=s[b++],L=[],C=0;C<R;C++){P=G.C[s[b++]];var $=G.b[P];P=s[b++],$.D=z[P>>4],$.o=E[P&15],L.push($)}C=s[b++],R=s[b++],P=s[b++];try{var H=f(s,b,G,L,Z,C,R,P>>4,P&15,N);b+=H}catch(J){if(J instanceof r)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(s,{N:J.g});throw J}break;case 65500:b+=4;break;case 65535:s[b]!==255&&b--;break;default:if(s[b-3]===255&&192<=s[b-2]&&254>=s[b-2])b-=3;else if((N=v(s,b-2))&&N.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+N.f),b=N.offset;else throw new a("unknown marker "+C.toString(16))}C=m()}for(this.width=G.v,this.height=G.g,this.A=y,this.b=[],C=0;C<G.b.length;C++)$=G.b[C],(Z=i[$.T])&&($.G=Z),this.b.push({R:l(G,$),U:$.h/G.s,V:$.j/G.u,c:$.c,l:$.l});this.i=this.b.length},L:function(s,m){var u=this.width/s,n=this.height/m,i,d,b=this.b.length,y=s*m*b,x=new Uint8ClampedArray(y),E=new Uint32Array(s);for(d=0;d<b;d++){var z=this.b[d],C=z.U*u,N=z.V*n,L=d,R=z.R,P=z.c+1<<3;for(i=0;i<s;i++)z=0|i*C,E[i]=(z&4294967288)<<3|z&7;for(C=0;C<m;C++)for(z=0|C*N,z=P*(z&4294967288)|(z&7)<<3,i=0;i<s;i++)x[L]=R[z+E[i]],L+=b}if(n=this.M)for(d=0;d<y;)for(u=z=0;z<b;z++,d++,u+=2)x[d]=(x[d]*n[u]>>8)+n[u+1];return x},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(s){for(var m,u,n,i=0,d=s.length;i<d;i+=3)m=s[i],u=s[i+1],n=s[i+2],s[i]=m-179.456+1.402*n,s[i+1]=m+135.459-.344*u-.714*n,s[i+2]=m-226.816+1.772*u;return s},K:function(s){for(var m,u,n,i,d=0,b=0,y=s.length;b<y;b+=4)m=s[b],u=s[b+1],n=s[b+2],i=s[b+3],s[d++]=-122.67195406894+u*(-660635669420364e-19*u+.000437130475926232*n-54080610064599e-18*m+.00048449797120281*i-.154362151871126)+n*(-.000957964378445773*n+.000817076911346625*m-.00477271405408747*i+1.53380253221734)+m*(.000961250184130688*m-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),s[d++]=107.268039397724+u*(219927104525741e-19*u-.000640992018297945*n+.000659397001245577*m+.000426105652938837*i-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*m+.000770482631801132*i-.151051492775562)+m*(.00126935368114843*m-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),s[d++]=-20.810012546947+u*(-.000570115196973677*u-263409051004589e-19*n+.0020741088115012*m-.00288260236853442*i+.814272968359295)+n*(-153496057440975e-19*n-.000132689043961446*m+.000560833691242812*i-.195152027534049)+m*(.00174418132927582*m-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return s.subarray(0,d)},J:function(s){for(var m,u,n,i=0,d=s.length;i<d;i+=4)m=s[i],u=s[i+1],n=s[i+2],s[i]=434.456-m-1.402*n,s[i+1]=119.541-m+.344*u+.714*n,s[i+2]=481.816-m-1.772*u;return s},H:function(s){for(var m,u,n,i,d=0,b=1/255,y=0,x=s.length;y<x;y+=4)m=s[y]*b,u=s[y+1]*b,n=s[y+2]*b,i=s[y+3]*b,s[d++]=255+m*(-4.387332384609988*m+54.48615194189176*u+18.82290502165302*n+212.25662451639585*i-285.2331026137004)+u*(1.7149763477362134*u-5.6096736904047315*n-17.873870861415444*i-5.497006427196366)+n*(-2.5217340131683033*n-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),s[d++]=255+m*(8.841041422036149*m+60.118027045597366*u+6.871425592049007*n+31.159100130055922*i-79.2970844816548)+u*(-15.310361306967817*u+17.575251261109482*n+131.35250912493976*i-190.9453302588951)+n*(4.444339102852739*n+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),s[d++]=255+m*(.8842522430003296*m+8.078677503112928*u+30.89978309703729*n-.23883238689178934*i-14.183576799673286)+u*(10.49593273432072*u+63.02378494754052*n+50.606957656360734*i-112.23884253719248)+n*(.03296041114873217*n+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return s.subarray(0,d)},getData:function(s,m,u){if(4<this.i)throw new a("Unsupported color mode");if(s=this.L(s,m),this.i===1&&u){u=s.length,m=new Uint8ClampedArray(3*u);for(var n=0,i=0;i<u;i++){var d=s[i];m[n++]=d,m[n++]=d,m[n++]=d}return m}if(this.i===3&&this.w())return this.I(s);if(this.i===4){if(this.w())return u?this.K(s):this.J(s);if(u)return this.H(s)}return s}},w.JpegDecoder=g})()})(),w.encodeImage=function(t,a,r,g){var h={t256:[a],t257:[r],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[r],t279:[a*r*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(g)for(var f in g)h[f]=g[f];for(var l=new Uint8Array(w.encode([h])),v=new Uint8Array(t),k=new Uint8Array(1e3+a*r*4),f=0;f<l.length;f++)k[f]=l[f];for(var f=0;f<v.length;f++)k[1e3+f]=v[f];return k.buffer},w.encode=function(t){var a=new Uint8Array(2e4),r=4,g=w._binBE;a[0]=77,a[1]=77,a[3]=42;var h=8;g.writeUint(a,r,h),r+=4;for(var f=0;f<t.length;f++){var l=w._writeIFD(g,a,h,t[f]);h=l[1],f<t.length-1&&g.writeUint(a,l[0],h)}return a.slice(0,h).buffer},w.decode=function(t){w.decode._decodeG3.allow2D=null;var a=new Uint8Array(t),r=0,g=w._binBE.readASCII(a,r,2);r+=2;var h=g=="II"?w._binLE:w._binBE;h.readUshort(a,r),r+=2;var f=h.readUint(a,r);r+=4;for(var l=[];;){var v=w._readIFD(h,a,f,l,0,!1);if(f=h.readUint(a,v),f==0)break}return l},w.decodeImage=function(t,a,r){var g=new Uint8Array(t),h=w._binBE.readASCII(g,0,2);if(a.t256!=null){a.isLE=h=="II",a.width=a.t256[0],a.height=a.t257[0];var f=a.t259?a.t259[0]:1,l=a.t266?a.t266[0]:1;a.t284&&a.t284[0]==2&&S("PlanarConfiguration 2 should not be used!");var v;a.t258?v=Math.min(32,a.t258[0])*a.t258.length:v=a.t277?a.t277[0]:1,f==1&&a.t279!=null&&a.t278&&a.t262[0]==32803&&(v=Math.round(a.t279[0]*8/(a.width*a.t278[0])));var k=Math.ceil(a.width*v/8)*8,s=a.t273;s==null&&(s=a.t324);var m=a.t279;f==1&&s.length==1&&(m=[a.height*(k>>>3)]),m==null&&(m=a.t325);var u=new Uint8Array(a.height*(k>>>3)),n=0;if(a.t322!=null){for(var i=a.t322[0],d=a.t323[0],b=Math.floor((a.width+i-1)/i),y=Math.floor((a.height+d-1)/d),x=new Uint8Array(Math.ceil(i*d*v/8)|0),E=0;E<y;E++)for(var z=0;z<b;z++){for(var C=E*b+z,N=0;N<x.length;N++)x[N]=0;w.decode._decompress(a,r,g,s[C],m[C],f,x,0,l),f==6?u=x:w._copyTile(x,Math.ceil(i*v/8)|0,d,u,Math.ceil(a.width*v/8)|0,a.height,Math.ceil(z*i*v/8)|0,E*d)}n=u.length*8}else{var L=a.t278?a.t278[0]:a.height;L=Math.min(L,a.height);for(var C=0;C<s.length;C++)w.decode._decompress(a,r,g,s[C],m[C],f,u,Math.ceil(n/8)|0,l),n+=k*L;n=Math.min(n,u.length*8)}a.data=new Uint8Array(u.buffer,0,Math.ceil(n/8)|0)}},w.decode._decompress=function(t,a,r,g,h,f,l,v,k){if(f==1||h==l.length&&f!=32767)for(var s=0;s<h;s++)l[v+s]=r[g+s];else if(f==3)w.decode._decodeG3(r,g,h,l,v,t.width,k);else if(f==4)w.decode._decodeG4(r,g,h,l,v,t.width,k);else if(f==5)w.decode._decodeLZW(r,g,l,v);else if(f==6)w.decode._decodeOldJPEG(t,r,g,h,l,v);else if(f==7)w.decode._decodeNewJPEG(t,r,g,h,l,v);else if(f==8)for(var m=new Uint8Array(r.buffer,g,h),u=O.inflate(m),n=0;n<u.length;n++)l[v+n]=u[n];else f==32767?w.decode._decodeARW(t,r,g,h,l,v):f==32773?w.decode._decodePackBits(r,g,h,l,v):f==32809?w.decode._decodeThunder(r,g,h,l,v):f==34713?w.decode._decodeNikon(t,a,r,g,h,l,v):S("Unknown compression",f);var i=t.t258?Math.min(32,t.t258[0]):1,d=t.t277?t.t277[0]:1,b=i*d>>>3,y=t.t278?t.t278[0]:t.height,x=Math.ceil(i*d*t.width/8);if(i==16&&!t.isLE&&t.t33422==null)for(var E=0;E<y;E++)for(var z=v+E*x,C=1;C<x;C+=2){var N=l[z+C];l[z+C]=l[z+C-1],l[z+C-1]=N}if(t.t317&&t.t317[0]==2)for(var E=0;E<y;E++){var L=v+E*x;if(i==16)for(var s=b;s<x;s+=2){var R=(l[L+s+1]<<8|l[L+s])+(l[L+s-b+1]<<8|l[L+s-b]);l[L+s]=R&255,l[L+s+1]=R>>>8&255}else if(d==3)for(var s=3;s<x;s+=3)l[L+s]=l[L+s]+l[L+s-3]&255,l[L+s+1]=l[L+s+1]+l[L+s-2]&255,l[L+s+2]=l[L+s+2]+l[L+s-1]&255;else for(var s=b;s<x;s++)l[L+s]=l[L+s]+l[L+s-b]&255}},w.decode._ljpeg_diff=function(t,a,r){var g=w.decode._getbithuff,h,f;return h=g(t,a,r[0],r),f=g(t,a,h,0),f&1<<h-1||(f-=(1<<h)-1),f},w.decode._decodeARW=function(t,a,r,g,h,f){var l=t.t256[0],v=t.t257[0],k=t.t258[0],s=t.isLE?w._binLE:w._binBE,m=l*v==g||l*v*1.5==g;if(!m){v+=8;var u=[r,0,0,0],n=new Uint16Array(32770),i=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],ae,d,b,G,P,y=0,x=w.decode._ljpeg_diff;for(n[0]=15,b=ae=0;ae<18;ae++)for(var E=32768>>>(i[ae]>>>8),d=0;d<E;d++)n[++b]=i[ae];for(G=l;G--;)for(P=0;P<v+1;P+=2)if(P==v&&(P=1),y+=x(a,u,n),P<v){var z=y&4095;w.decode._putsF(h,(P*l+G)*k,z<<16-k)}return}if(l*v*1.5==g){for(var ae=0;ae<g;ae+=3){var C=a[r+ae+0],N=a[r+ae+1],L=a[r+ae+2];h[f+ae]=N<<4|C>>>4,h[f+ae+1]=C<<4|L>>>4,h[f+ae+2]=L<<4|N>>>4}return}var R=new Uint16Array(16),P,G,T,U,Z,$,H,J,W,ae,he,fe=new Uint8Array(l+1);for(P=0;P<v;P++){for(var te=0;te<l;te++)fe[te]=a[r++];for(he=0,G=0;G<l-30;he+=16){for(U=2047&(T=s.readUint(fe,he)),Z=2047&T>>>11,$=15&T>>>22,H=15&T>>>26,J=0;J<4&&128<<J<=U-Z;J++);for(W=30,ae=0;ae<16;ae++)ae==$?R[ae]=U:ae==H?R[ae]=Z:(R[ae]=((s.readUshort(fe,he+(W>>3))>>>(W&7)&127)<<J)+Z,R[ae]>2047&&(R[ae]=2047),W+=7);for(ae=0;ae<16;ae++,G+=2){var z=R[ae]<<1;w.decode._putsF(h,(P*l+G)*k,z<<16-k)}G-=G&1?1:31}}},w.decode._decodeNikon=function(t,a,r,g,h,f,l){var v=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],k=t.t256[0],s=t.t257[0],m=t.t258[0],u=0,n=0,i=w.decode._make_decoder,d=w.decode._getbithuff,b=a[0].exifIFD.makerNote,y=b.t150?b.t150:b.t140,x=0,E=y[x++],z=y[x++];(E==73||z==88)&&(x+=2110),E==70&&(u=2),m==14&&(u+=3);for(var C=[[0,0],[0,0]],N=t.isLE?w._binLE:w._binBE,T=0;T<2;T++)for(var L=0;L<2;L++)C[T][L]=N.readShort(y,x),x+=2;var R=1<<m&32767,P=0,G=N.readShort(y,x);x+=2,G>1&&(P=Math.floor(R/(G-1))),E==68&&z==32&&P>0&&(n=N.readShort(y,562));var T,U,Z,$,H,J,W=[0,0],ae=i(v[u]),he=[g,0,0,0];for(U=0;U<s;U++)for(n&&U==n&&(ae=i(v[u+1])),Z=0;Z<k;Z++){T=d(r,he,ae[0],ae),$=T&15,H=T>>>4,J=(d(r,he,$-H,0)<<1)+1<<H>>>1,J&1<<$-1||(J-=(1<<$)-(H==0?1:0)),Z<2?W[Z]=C[U&1][Z]+=J:W[Z&1]+=J;var fe=Math.min(Math.max(W[Z&1],0),(1<<m)-1),te=(U*k+Z)*m;w.decode._putsF(f,te,fe<<16-m)}},w.decode._putsF=function(t,a,r){r=r<<8-(a&7);var g=a>>>3;t[g]|=r>>>16,t[g+1]|=r>>>8,t[g+2]|=r},w.decode._getbithuff=function(t,a,r,g){var h=0;w.decode._get_byte;var f,l=a[0],v=a[1],k=a[2],s=a[3];if(r==0||k<0)return 0;for(;!s&&k<r&&(f=t[l++])!=-1&&!(s=h);)v=(v<<8)+f,k+=8;if(f=v<<32-k>>>32-r,g?(k-=g[f+1]>>>8,f=g[f+1]&255):k-=r,k<0)throw"e";return a[0]=l,a[1]=v,a[2]=k,a[3]=s,f},w.decode._make_decoder=function(t){var a,r,g,h,f,l=[];for(a=16;a!=0&&!t[a];a--);var v=17;for(l[0]=a,g=r=1;r<=a;r++)for(h=0;h<t[r];h++,++v)for(f=0;f<1<<a-r;f++)g<=1<<a&&(l[g++]=r<<8|t[v]);return l},w.decode._decodeNewJPEG=function(t,a,r,g,h,f){var l=t.t347,v=l?l.length:0,k=new Uint8Array(v+g);if(l){for(var s=216,m=217,u=0,n=0;n<v-1&&!(l[n]==255&&l[n+1]==m);n++)k[u++]=l[n];var i=a[r],d=a[r+1];(i!=255||d!=s)&&(k[u++]=i,k[u++]=d);for(var n=2;n<g;n++)k[u++]=a[r+n]}else for(var n=0;n<g;n++)k[n]=a[r+n];if(t.t262[0]==32803||t.t262[0]==34892){var b=t.t258[0],y=w.LosslessJpegDecode(k),x=y.length;if(b==16)if(t.isLE)for(var n=0;n<x;n++)h[f+(n<<1)]=y[n]&255,h[f+(n<<1)+1]=y[n]>>>8;else for(var n=0;n<x;n++)h[f+(n<<1)]=y[n]>>>8,h[f+(n<<1)+1]=y[n]&255;else if(b==14||b==12)for(var E=16-b,n=0;n<x;n++)w.decode._putsF(h,n*b,y[n]<<E);else throw new Error("unsupported bit depth "+b)}else{var z=new w.JpegDecoder;z.parse(k);for(var C=z.getData(z.width,z.height),n=0;n<C.length;n++)h[f+n]=C[n]}t.t262[0]==6&&(t.t262[0]=2)},w.decode._decodeOldJPEGInit=function(t,a,r,g){var h=216,f=219,l=196,v=221,k=192,s=218,m=0,u=0,n,i,d=!1,b,y,x,E=t.t513,z=E?E[0]:0,C=t.t514,N=C?C[0]:0,L=t.t324||t.t273||E,R=t.t530,P=0,G=0,T=t.t277?t.t277[0]:1,U=t.t515;if(L&&(u=L[0],d=L.length>1),!d){if(a[r]==255&&a[r+1]==h)return{jpegOffset:r};if(E!=null&&(a[r+z]==255&&a[r+z+1]==h?m=r+z:S("JPEGInterchangeFormat does not point to SOI"),C==null?S("JPEGInterchangeFormatLength field is missing"):(z>=u||z+N<=u)&&S("JPEGInterchangeFormatLength field value is invalid"),m!=null))return{jpegOffset:m}}if(R!=null&&(P=R[0],G=R[1]),E!=null&&C!=null)if(N>=2&&z+N<=u){for(a[r+z+N-2]==255&&a[r+z+N-1]==h?n=new Uint8Array(N-2):n=new Uint8Array(N),b=0;b<n.length;b++)n[b]=a[r+z+b];S("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else S("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(n==null){var Z=0,$=[];$[Z++]=255,$[Z++]=h;var H=t.t519;if(H==null)throw new Error("JPEGQTables tag is missing");for(b=0;b<H.length;b++)for($[Z++]=255,$[Z++]=f,$[Z++]=0,$[Z++]=67,$[Z++]=b,y=0;y<64;y++)$[Z++]=a[r+H[b]+y];for(x=0;x<2;x++){var J=t[x==0?"t520":"t521"];if(J==null)throw new Error((x==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(b=0;b<J.length;b++){$[Z++]=255,$[Z++]=l;var W=19;for(y=0;y<16;y++)W+=a[r+J[b]+y];for($[Z++]=W>>>8,$[Z++]=W&255,$[Z++]=b|x<<4,y=0;y<16;y++)$[Z++]=a[r+J[b]+y];for(y=0;y<W;y++)$[Z++]=a[r+J[b]+16+y]}}if($[Z++]=255,$[Z++]=k,$[Z++]=0,$[Z++]=8+3*T,$[Z++]=8,$[Z++]=t.height>>>8&255,$[Z++]=t.height&255,$[Z++]=t.width>>>8&255,$[Z++]=t.width&255,$[Z++]=T,T==1)$[Z++]=1,$[Z++]=17,$[Z++]=0;else for(b=0;b<3;b++)$[Z++]=b+1,$[Z++]=b!=0?17:(P&15)<<4|G&15,$[Z++]=b;U!=null&&U[0]!=0&&($[Z++]=255,$[Z++]=v,$[Z++]=0,$[Z++]=4,$[Z++]=U[0]>>>8&255,$[Z++]=U[0]&255),n=new Uint8Array($)}var ae=-1;for(b=0;b<n.length-1;){if(n[b]==255&&n[b+1]==k){ae=b;break}b++}if(ae==-1){var he=new Uint8Array(n.length+10+3*T);he.set(n);var fe=n.length;if(ae=n.length,n=he,n[fe++]=255,n[fe++]=k,n[fe++]=0,n[fe++]=8+3*T,n[fe++]=8,n[fe++]=t.height>>>8&255,n[fe++]=t.height&255,n[fe++]=t.width>>>8&255,n[fe++]=t.width&255,n[fe++]=T,T==1)n[fe++]=1,n[fe++]=17,n[fe++]=0;else for(b=0;b<3;b++)n[fe++]=b+1,n[fe++]=b!=0?17:(P&15)<<4|G&15,n[fe++]=b}if(a[u]==255&&a[u+1]==s){var te=a[u+2]<<8|a[u+3];for(i=new Uint8Array(te+2),i[0]=a[u],i[1]=a[u+1],i[2]=a[u+2],i[3]=a[u+3],b=0;b<te-2;b++)i[b+4]=a[u+b+4]}else{i=new Uint8Array(8+2*T);var se=0;if(i[se++]=255,i[se++]=s,i[se++]=0,i[se++]=6+2*T,i[se++]=T,T==1)i[se++]=1,i[se++]=0;else for(b=0;b<3;b++)i[se++]=b+1,i[se++]=b<<4|b;i[se++]=0,i[se++]=63,i[se++]=0}return{jpegOffset:r,tables:n,sosMarker:i,sofPosition:ae}},w.decode._decodeOldJPEG=function(t,a,r,g,h,f){var l,v,k,s,m,u=w.decode._decodeOldJPEGInit(t,a,r,g);if(u.jpegOffset!=null)for(v=r+g-u.jpegOffset,s=new Uint8Array(v),l=0;l<v;l++)s[l]=a[u.jpegOffset+l];else{for(k=u.tables.length,s=new Uint8Array(k+u.sosMarker.length+g+2),s.set(u.tables),m=k,s[u.sofPosition+5]=t.height>>>8&255,s[u.sofPosition+6]=t.height&255,s[u.sofPosition+7]=t.width>>>8&255,s[u.sofPosition+8]=t.width&255,(a[r]!=255||a[r+1]!=SOS)&&(s.set(u.sosMarker,m),m+=sosMarker.length),l=0;l<g;l++)s[m++]=a[r+l];s[m++]=255,s[m++]=EOI}var n=new w.JpegDecoder;n.parse(s);for(var i=n.getData(n.width,n.height),l=0;l<i.length;l++)h[f+l]=i[l];t.t262&&t.t262[0]==6&&(t.t262[0]=2)},w.decode._decodePackBits=function(t,a,r,g,h){for(var f=new Int8Array(t.buffer),l=new Int8Array(g.buffer),v=a+r;a<v;){var k=f[a];if(a++,k>=0&&k<128)for(var s=0;s<k+1;s++)l[h]=f[a],h++,a++;if(k>=-127&&k<0){for(var s=0;s<-k+1;s++)l[h]=f[a],h++;a++}}},w.decode._decodeThunder=function(t,a,r,g,h){for(var f=[0,1,0,-1],l=[0,1,2,3,0,-3,-2,-1],v=a+r,k=h*2,s=0;a<v;){var m=t[a],u=m>>>6,n=m&63;if(a++,u==3&&(s=n&15,g[k>>>1]|=s<<4*(1-k&1),k++),u==0)for(var i=0;i<n;i++)g[k>>>1]|=s<<4*(1-k&1),k++;if(u==2)for(var i=0;i<2;i++){var d=n>>>3*(1-i)&7;d!=4&&(s+=l[d],g[k>>>1]|=s<<4*(1-k&1),k++)}if(u==1)for(var i=0;i<3;i++){var d=n>>>2*(2-i)&3;d!=2&&(s+=f[d],g[k>>>1]|=s<<4*(1-k&1),k++)}}},w.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},w.decode._lens=function(){var t=function(k,s,m,u){for(var n=0;n<s.length;n++)k[s[n]]=m+n*u},a="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",r="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",g="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",h="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",f="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";a=a.split(","),r=r.split(","),g=g.split(","),h=h.split(","),f=f.split(",");var l={},v={};return t(l,a,0,1),t(l,g,64,64),t(l,f,1792,64),t(v,r,0,1),t(v,h,64,64),t(v,f,1792,64),[l,v]}(),w.decode._decodeG4=function(t,a,r,g,h,f,l){for(var v=w.decode,k=a<<3,s=0,m="",u=[],n=[],i=0;i<f;i++)n.push(0);n=v._makeDiff(n);for(var d=0,b=0,y=0,x=0,E=0,z=0,C="",N=0,L=Math.ceil(f/8)*8;k>>>3<a+r;){y=v._findDiff(n,d+(d==0?0:1),1-E),x=v._findDiff(n,y,E);var R=0;if(l==1&&(R=t[k>>>3]>>>7-(k&7)&1),l==2&&(R=t[k>>>3]>>>(k&7)&1),k++,m+=R,C=="H"){if(v._lens[E][m]!=null){var P=v._lens[E][m];m="",s+=P,P<64&&(v._addNtimes(u,s,E),d+=s,E=1-E,s=0,N--,N==0&&(C=""))}}else m=="0001"&&(m="",v._addNtimes(u,x-d,E),d=x),m=="001"&&(m="",C="H",N=2),v._dmap[m]!=null&&(b=y+v._dmap[m],v._addNtimes(u,b-d,E),d=b,m="",E=1-E);u.length==f&&C==""&&(v._writeBits(u,g,h*8+z*L),E=0,z++,d=0,n=v._makeDiff(u),u=[])}},w.decode._findDiff=function(t,a,r){for(var g=0;g<t.length;g+=2)if(t[g]>=a&&t[g+1]==r)return t[g]},w.decode._makeDiff=function(t){var a=[];t[0]==1&&a.push(0,1);for(var r=1;r<t.length;r++)t[r-1]!=t[r]&&a.push(r,t[r]);return a.push(t.length,0,t.length,1),a},w.decode._decodeG3=function(t,a,r,g,h,f,l){for(var v=w.decode,k=a<<3,s=0,m="",u=[],n=[],i=0;i<f;i++)u.push(0);for(var d=0,b=0,y=0,x=0,E=0,z=-1,C="",N=0,L=!1,R=Math.ceil(f/8)*8;k>>>3<a+r;){y=v._findDiff(n,d+(d==0?0:1),1-E),x=v._findDiff(n,y,E);var P=0;if(l==1&&(P=t[k>>>3]>>>7-(k&7)&1),l==2&&(P=t[k>>>3]>>>(k&7)&1),k++,m+=P,L){if(v._lens[E][m]!=null){var G=v._lens[E][m];m="",s+=G,G<64&&(v._addNtimes(u,s,E),E=1-E,s=0)}}else if(C=="H"){if(v._lens[E][m]!=null){var G=v._lens[E][m];m="",s+=G,G<64&&(v._addNtimes(u,s,E),d+=s,E=1-E,s=0,N--,N==0&&(C=""))}}else m=="0001"&&(m="",v._addNtimes(u,x-d,E),d=x),m=="001"&&(m="",C="H",N=2),v._dmap[m]!=null&&(b=y+v._dmap[m],v._addNtimes(u,b-d,E),d=b,m="",E=1-E);m.endsWith("000000000001")&&(z>=0&&v._writeBits(u,g,h*8+z*R),l==1&&(L=(t[k>>>3]>>>7-(k&7)&1)==1),l==2&&(L=(t[k>>>3]>>>(k&7)&1)==1),k++,v._decodeG3.allow2D==null&&(v._decodeG3.allow2D=L),v._decodeG3.allow2D||(L=!0,k--),m="",E=0,z++,d=0,n=v._makeDiff(u),u=[])}u.length==f&&v._writeBits(u,g,h*8+z*R)},w.decode._addNtimes=function(t,a,r){for(var g=0;g<a;g++)t.push(r)},w.decode._writeBits=function(t,a,r){for(var g=0;g<t.length;g++)a[r+g>>>3]|=t[g]<<7-(r+g&7)},w.decode._decodeLZW=function(t,a,r,g){if(w.decode._lzwTab==null){for(var h=new Uint32Array(65535),f=new Uint16Array(65535),m=new Uint8Array(2e6),l=0;l<256;l++)m[l<<2]=l,h[l]=l<<2,f[l]=1;w.decode._lzwTab=[h,f,m]}for(var v=w.decode._copyData,k=w.decode._lzwTab[0],s=w.decode._lzwTab[1],m=w.decode._lzwTab[2],u=258,n=1032,i=9,d=a<<3,b=256,y=257,x=0,E=0,z=0;x=t[d>>>3]<<16|t[d+8>>>3]<<8|t[d+16>>>3],E=x>>24-(d&7)-i&(1<<i)-1,d+=i,E!=y;){if(E==b){if(i=9,u=258,n=1032,x=t[d>>>3]<<16|t[d+8>>>3]<<8|t[d+16>>>3],E=x>>24-(d&7)-i&(1<<i)-1,d+=i,E==y)break;r[g]=E,g++}else if(E<u){var C=k[E],N=s[E];if(v(m,C,r,g,N),g+=N,z>=u)k[u]=n,m[k[u]]=C[0],s[u]=1,n=n+1+3&-4,u++;else{k[u]=n;var L=k[z],R=s[z];v(m,L,m,n,R),m[n+R]=m[C],R++,s[u]=R,u++,n=n+R+3&-4}u+1==1<<i&&i++}else{if(z>=u)k[u]=n,s[u]=0,u++;else{k[u]=n;var L=k[z],R=s[z];v(m,L,m,n,R),m[n+R]=m[n],R++,s[u]=R,u++,v(m,n,r,g,R),g+=R,n=n+R+3&-4}u+1==1<<i&&i++}z=E}},w.decode._copyData=function(t,a,r,g,h){for(var f=0;f<h;f+=4)r[g+f]=t[a+f],r[g+f+1]=t[a+f+1],r[g+f+2]=t[a+f+2],r[g+f+3]=t[a+f+3]},w.tags={},w.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},w._readIFD=function(t,a,r,g,h,f){var l=t.readUshort(a,r);r+=2;var v={};g.push(v),f&&S("   ".repeat(h),g.length-1,">>>----------------");for(var k=0;k<l;k++){var s=t.readUshort(a,r);r+=2;var m=t.readUshort(a,r);r+=2;var u=t.readUint(a,r);r+=4;var n=t.readUint(a,r);r+=4;var i=[];if((m==1||m==7)&&(i=new Uint8Array(a.buffer,u<5?r-4:n,u)),m==2){var d=u<5?r-4:n,b=a[d];b<128?i.push(t.readASCII(a,d,u-1)):i=new Uint8Array(a.buffer,d,u-1)}if(m==3)for(var y=0;y<u;y++)i.push(t.readUshort(a,(u<3?r-4:n)+2*y));if(m==4)for(var y=0;y<u;y++)i.push(t.readUint(a,(u<2?r-4:n)+4*y));if(m==5)for(var y=0;y<u;y++)i.push(t.readUint(a,n+y*8)/t.readUint(a,n+y*8+4));if(m==8)for(var y=0;y<u;y++)i.push(t.readShort(a,(u<3?r-4:n)+2*y));if(m==9)for(var y=0;y<u;y++)i.push(t.readInt(a,(u<2?r-4:n)+4*y));if(m==10)for(var y=0;y<u;y++)i.push(t.readInt(a,n+y*8)/t.readInt(a,n+y*8+4));if(m==11)for(var y=0;y<u;y++)i.push(t.readFloat(a,n+y*4));if(m==12)for(var y=0;y<u;y++)i.push(t.readDouble(a,n+y*8));if(v["t"+s]=i,u!=0&&i.length==0&&S("unknown TIFF tag type: ",m,"num:",u),f&&S("   ".repeat(h),s,m,w.tags[s],i),!(s==330&&v.t272&&v.t272[0]=="DSLR-A100")){if(s==330||s==34665||s==50740&&t.readUshort(a,t.readUint(i,0))<300){for(var x=s==50740?[t.readUint(i,0)]:i,E=[],y=0;y<x.length;y++)w._readIFD(t,a,x[y],E,h+1,f);s==330&&(v.subIFD=E),s==34665&&(v.exifIFD=E[0]),s==50740&&(v.dngPrvt=E[0])}}if(s==37500){var z=i;if(t.readASCII(z,0,5)=="Nikon")v.makerNote=w.decode(z.slice(10).buffer)[0];else if(t.readUshort(a,n)<300){var C=[];w._readIFD(t,a,n,C,h+1,f),v.makerNote=C[0]}}}return f&&S("   ".repeat(h),"<<<---------------"),r},w._writeIFD=function(t,a,r,g){var h=Object.keys(g);t.writeUshort(a,r,h.length),r+=2;for(var f=r+h.length*12+4,l=0;l<h.length;l++){var v=h[l],k=parseInt(v.slice(1)),s=w.ttypes[k];if(s==null)throw new Error("unknown type of tag: "+k);var m=g[v];s==2&&(m=m[0]+"\0");var u=m.length;t.writeUshort(a,r,k),r+=2,t.writeUshort(a,r,s),r+=2,t.writeUint(a,r,u),r+=4;var n=[-1,1,1,2,4,8,0,0,0,0,0,0,8][s]*u,i=r;if(n>4&&(t.writeUint(a,r,f),i=f),s==2&&t.writeASCII(a,i,m),s==3)for(var d=0;d<u;d++)t.writeUshort(a,i+2*d,m[d]);if(s==4)for(var d=0;d<u;d++)t.writeUint(a,i+4*d,m[d]);if(s==5)for(var d=0;d<u;d++)t.writeUint(a,i+8*d,Math.round(m[d]*1e4)),t.writeUint(a,i+8*d+4,1e4);if(s==12)for(var d=0;d<u;d++)t.writeDouble(a,i+8*d,m[d]);n>4&&(n+=n&1,f+=n),r+=4}return[r,f]},w.toRGBA8=function(t){var a=t.width,r=t.height,g=a*r,h=g*4,f=t.data,l=new Uint8Array(g*4),v=t.t262?t.t262[0]:2,k=t.t258?Math.min(32,t.t258[0]):1;if(v==0)for(var s=Math.ceil(k*a/8),m=0;m<r;m++){var u=m*s,n=m*a;if(k==1)for(var i=0;i<a;i++){var d=n+i<<2,b=f[u+(i>>3)]>>7-(i&7)&1;l[d]=l[d+1]=l[d+2]=(1-b)*255,l[d+3]=255}if(k==4)for(var i=0;i<a;i++){var d=n+i<<2,b=f[u+(i>>1)]>>4-4*(i&1)&15;l[d]=l[d+1]=l[d+2]=(15-b)*17,l[d+3]=255}if(k==8)for(var i=0;i<a;i++){var d=n+i<<2,b=f[u+i];l[d]=l[d+1]=l[d+2]=255-b,l[d+3]=255}}else if(v==1)for(var s=Math.ceil(k*a/8),m=0;m<r;m++){var u=m*s,n=m*a;if(k==1)for(var i=0;i<a;i++){var d=n+i<<2,b=f[u+(i>>3)]>>7-(i&7)&1;l[d]=l[d+1]=l[d+2]=b*255,l[d+3]=255}if(k==2)for(var i=0;i<a;i++){var d=n+i<<2,b=f[u+(i>>2)]>>6-2*(i&3)&3;l[d]=l[d+1]=l[d+2]=b*85,l[d+3]=255}if(k==8)for(var i=0;i<a;i++){var d=n+i<<2,b=f[u+i];l[d]=l[d+1]=l[d+2]=b,l[d+3]=255}if(k==16)for(var i=0;i<a;i++){var d=n+i<<2,b=f[u+(2*i+1)];l[d]=l[d+1]=l[d+2]=Math.min(255,b),l[d+3]=255}}else if(v==2){var y=t.t258?t.t258.length:3;if(k==8){if(y==4)for(var i=0;i<h;i++)l[i]=f[i];if(y==3)for(var i=0;i<g;i++){var d=i<<2,x=i*3;l[d]=f[x],l[d+1]=f[x+1],l[d+2]=f[x+2],l[d+3]=255}}else{if(y==4)for(var i=0;i<g;i++){var d=i<<2,x=i*8+1;l[d]=f[x],l[d+1]=f[x+2],l[d+2]=f[x+4],l[d+3]=f[x+6]}if(y==3)for(var i=0;i<g;i++){var d=i<<2,x=i*6+1;l[d]=f[x],l[d+1]=f[x+2],l[d+2]=f[x+4],l[d+3]=255}}}else if(v==3)for(var E=t.t320,i=0;i<g;i++){var d=i<<2,z=f[i];l[d]=E[z]>>8,l[d+1]=E[256+z]>>8,l[d+2]=E[512+z]>>8,l[d+3]=255}else if(v==5)for(var y=t.t258?t.t258.length:4,C=y>4?1:0,i=0;i<g;i++){var d=i<<2,N=i*y,L=255-f[N],R=255-f[N+1],P=255-f[N+2],G=(255-f[N+3])*(1/255);l[d]=~~(L*G+.5),l[d+1]=~~(R*G+.5),l[d+2]=~~(P*G+.5),l[d+3]=255*(1-C)+f[N+4]*C}else S("Unknown Photometric interpretation: "+v);return l},w.replaceIMG=function(t){t==null&&(t=document.getElementsByTagName("img"));for(var a=["tif","tiff","dng","cr2","nef"],r=0;r<t.length;r++){var g=t[r],h=g.getAttribute("src");if(h!=null){var f=h.split(".").pop().toLowerCase();if(a.indexOf(f)!=-1){var l=new XMLHttpRequest;w._xhrs.push(l),w._imgs.push(g),l.open("GET",h),l.responseType="arraybuffer",l.onload=w._imgLoaded,l.send()}}}},w._xhrs=[],w._imgs=[],w._imgLoaded=function(t){var a=t.target.response,r=w.decode(a),g=r,h=0,f=g[0];r[0].subIFD&&(g=g.concat(r[0].subIFD));for(var l=0;l<g.length;l++){var n=g[l];if(!(n.t258==null||n.t258.length<3)){var v=n.t256*n.t257;v>h&&(h=v,f=n)}}w.decodeImage(a,f,r);var k=w.toRGBA8(f),s=f.width,m=f.height,u=w._xhrs.indexOf(t.target),n=w._imgs[u];w._xhrs.splice(u,1),w._imgs.splice(u,1);var i=document.createElement("canvas");i.width=s,i.height=m;for(var d=i.getContext("2d"),b=d.createImageData(s,m),l=0;l<k.length;l++)b.data[l]=k[l];d.putImageData(b,0,0),n.setAttribute("src",i.toDataURL())},w._binBE={nextZero:function(t,a){for(;t[a]!=0;)a++;return a},readUshort:function(t,a){return t[a]<<8|t[a+1]},readShort:function(t,a){var r=w._binBE.ui8;return r[0]=t[a+1],r[1]=t[a+0],w._binBE.i16[0]},readInt:function(t,a){var r=w._binBE.ui8;return r[0]=t[a+3],r[1]=t[a+2],r[2]=t[a+1],r[3]=t[a+0],w._binBE.i32[0]},readUint:function(t,a){var r=w._binBE.ui8;return r[0]=t[a+3],r[1]=t[a+2],r[2]=t[a+1],r[3]=t[a+0],w._binBE.ui32[0]},readASCII:function(t,a,r){for(var g="",h=0;h<r;h++)g+=String.fromCharCode(t[a+h]);return g},readFloat:function(t,a){for(var r=w._binBE.ui8,g=0;g<4;g++)r[g]=t[a+3-g];return w._binBE.fl32[0]},readDouble:function(t,a){for(var r=w._binBE.ui8,g=0;g<8;g++)r[g]=t[a+7-g];return w._binBE.fl64[0]},writeUshort:function(t,a,r){t[a]=r>>8&255,t[a+1]=r&255},writeUint:function(t,a,r){t[a]=r>>24&255,t[a+1]=r>>16&255,t[a+2]=r>>8&255,t[a+3]=r>>0&255},writeASCII:function(t,a,r){for(var g=0;g<r.length;g++)t[a+g]=r.charCodeAt(g)},writeDouble:function(t,a,r){w._binBE.fl64[0]=r;for(var g=0;g<8;g++)t[a+g]=w._binBE.ui8[7-g]}},w._binBE.ui8=new Uint8Array(8),w._binBE.i16=new Int16Array(w._binBE.ui8.buffer),w._binBE.i32=new Int32Array(w._binBE.ui8.buffer),w._binBE.ui32=new Uint32Array(w._binBE.ui8.buffer),w._binBE.fl32=new Float32Array(w._binBE.ui8.buffer),w._binBE.fl64=new Float64Array(w._binBE.ui8.buffer),w._binLE={nextZero:w._binBE.nextZero,readUshort:function(t,a){return t[a+1]<<8|t[a]},readShort:function(t,a){var r=w._binBE.ui8;return r[0]=t[a+0],r[1]=t[a+1],w._binBE.i16[0]},readInt:function(t,a){var r=w._binBE.ui8;return r[0]=t[a+0],r[1]=t[a+1],r[2]=t[a+2],r[3]=t[a+3],w._binBE.i32[0]},readUint:function(t,a){var r=w._binBE.ui8;return r[0]=t[a+0],r[1]=t[a+1],r[2]=t[a+2],r[3]=t[a+3],w._binBE.ui32[0]},readASCII:w._binBE.readASCII,readFloat:function(t,a){for(var r=w._binBE.ui8,g=0;g<4;g++)r[g]=t[a+g];return w._binBE.fl32[0]},readDouble:function(t,a){for(var r=w._binBE.ui8,g=0;g<8;g++)r[g]=t[a+g];return w._binBE.fl64[0]}},w._copyTile=function(t,a,r,g,h,f,l,v){for(var k=Math.min(a,h-l),s=Math.min(r,f-v),m=0;m<s;m++)for(var u=(v+m)*h+l,n=m*a,i=0;i<k;i++)g[u+i]=t[n+i]},w.LosslessJpegDecode=function(){function t(h){this.w=h,this.N=0,this._=0,this.G=0}t.prototype={t:function(h){this.N=Math.max(0,Math.min(this.w.length,h))},i:function(){return this.w[this.N++]},l:function(){var h=this.N;return this.N+=2,this.w[h]<<8|this.w[h+1]},J:function(){return this._==0&&(this.G=this.w[this.N],this.N+=1+(this.G+1>>>8),this._=8),this.G>>>--this._&1},Z:function(h){var f=this._,l=this.G,v=Math.min(f,h);h-=v,f-=v;for(var k=l>>>f&(1<<v)-1;h>0;)l=this.w[this.N],this.N+=1+(l+1>>>8),v=Math.min(8,h),h-=v,f=8-v,k<<=v,k|=l>>>f&(1<<v)-1;return this._=f,this.G=l,k}};var a={};a.X=function(){return[0,0,-1]},a.s=function(h,f,l){h[a.Y(h,0,l)+2]=f},a.Y=function(h,f,l){if(h[f+2]!=-1)return 0;if(l==0)return f;for(var v=0;v<2;v++){h[f+v]==0&&(h[f+v]=h.length,h.push(0),h.push(0),h.push(-1));var k=a.Y(h,h[f+v],l-1);if(k!=0)return k}return 0},a.B=function(h,f){for(var l=0,v=0,k=0,s=f._,m=f.G,u=f.N;;)if(s==0&&(m=f.w[u],u+=1+(m+1>>>8),s=8),k=m>>>--s&1,l=h[l+k],v=h[l+2],v!=-1)return f._=s,f.G=m,f.N=u,v;return-1};function r(h){this.z=new t(h),this.D(this.z)}r.prototype={$:function(h,f){this.Q=h.i(),this.F=h.l(),this.o=h.l();var l=this.O=h.i();this.L=[];for(var v=0;v<l;v++){var k=h.i();h.i(),h.i(),this.L[k]=v}h.t(h.N+f-(6+l*3))},e:function(){var h=0,f=this.z.i();this.H==null&&(this.H={});for(var l=this.H[f]=a.X(),v=[],k=0;k<16;k++)v[k]=this.z.i(),h+=v[k];for(var k=0;k<16;k++)for(var s=0;s<v[k];s++)a.s(l,this.z.i(),k+1);return h+17},W:function(h){for(;h>0;)h-=this.e()},p:function(h,f){var l=h.i();this.U||(this.U=[]);for(var v=0;v<l;v++){var k=h.i(),s=h.i();this.U[this.L[k]]=this.H[s>>>4]}this.g=h.i(),h.t(h.N+f-(2+l*2))},D:function(h){var f=!1,l=h.l();if(l===r.q)do{var l=h.l(),v=h.l()-2;switch(l){case r.m:this.$(h,v);break;case r.K:this.W(v);break;case r.V:this.p(h,v),f=!0;break;default:h.t(h.N+v);break}}while(!f)},I:function(h,f){var l=a.B(f,h);if(l==16)return-32768;var v=h.Z(l);return v&1<<l-1||(v-=(1<<l)-1),v},B:function(h,f){for(var l=this.z,v=this.O,k=this.F,s=this.I,m=this.g,u=this.o*v,n=this.U,i=0;i<v;i++)h[i]=s(l,n[i])+(1<<this.Q-1);for(var d=v;d<u;d+=v)for(var i=0;i<v;i++)h[d+i]=s(l,n[i])+h[d+i-v];for(var b=f,y=1;y<k;y++){for(var i=0;i<v;i++)h[b+i]=s(l,n[i])+h[b+i-f];for(var d=v;d<u;d+=v)for(var i=0;i<v;i++){var x=b+d+i,E=h[x-v];m==6&&(E=h[x-f]+(E-h[x-v-f]>>>1)),h[x]=E+s(l,n[i])}b+=f}}},r.m=65475,r.K=65476,r.q=65496,r.V=65498;function g(h){var f=new r(h),l=f.Q>8?Uint16Array:Uint8Array,v=new l(f.o*f.F*f.O),k=f.o*f.O;return f.B(v,k),v}return g}()})(B,M)})()}(Kt)),Kt.exports}var oa=Mi();const zi={__name:"TiffViewer",props:{tiffUrl:String,isModal:{type:Boolean,default:!1}},emits:["error"],setup(_,{emit:B}){const M=_,S=_e(null),w=_e(!1),O=_e(!1),t=B,a=me(()=>({width:M.isModal?"100%":"250px",height:M.isModal?"100%":"250px"}));return ua(()=>M.tiffUrl,async()=>{if(M.tiffUrl){O.value=!0;try{const h=await(await fetch(M.tiffUrl)).arrayBuffer(),f=oa.decode(h);oa.decodeImage(h,f[0]);const l=oa.toRGBA8(f[0]);if(S.value){const v=S.value,k=v.getContext("2d");v.width=f[0].width,v.height=f[0].height;const s=new ImageData(new Uint8ClampedArray(l),f[0].width,f[0].height);k.clearRect(0,0,v.width,v.height),k.putImageData(s,0,0)}O.value=!1}catch(g){O.value=!1,w.value=!0,t("error"),console.error("Erro ao carregar TIFF:",g)}}},{immediate:!0}),(g,h)=>(de(),Me(it,null,[V(O)?(de(),ke(ja,{key:0,style:{"margin-left":"200px"},class:"loading-spinner",indeterminate:"",size:"64"})):He("",!0),V(w)?He("",!0):(de(),Me("canvas",{key:1,ref_key:"tiffCanvas",ref:S,style:Lt(V(a))},null,4))],64))}},Ni="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAlmSURBVHic7Z1rjF1VFcd/zLSlUqYzLfJohxlKIBJTFAmmMcpjLNUAAY0JBIMxtISPimKCWm2V1wc/QpRHFCEYjSmvKtgXA8jDWkWKtFFMEGKlkKD2QaudaTvtjB/WvWFyufesfR57n33OXb9kfbkn9+z/3nudffZj7X3AMAzDMAzDMAzDMAzDMAzDMIw6c0zZAnIwH/g8cCHwceBE4ARghud0jwC7gf8ALwHPAY8DezynazQ4E3gAGAOmIrEx4H7gDI/57npmAKuBccqv8CRHWI3/Vqjr6AOeoPwKdrUngQEvJdGFzAVeofxKTWt/bmg3cjAD2ET5lZnVNmKvg1x8m/IrMa99s/BS6RJOBw5QfgXmtQPAomKLpju4C7cCfgm4FhgCegPo6gWGG2luddT4owC6asVcYD/JhToJfAfoKUkjjbRXNbQkad2PdQhTsRz9qVpVlrg2fA9d74rS1FWQdSQX5jbCNPeu9ALbSda8vjR1FWMecIjkwry+NHWduZ5kzYeR9QtD4TqqWZAD6I5rrwEHNpBciOvKk6ayHnsN5MKl+V9eljgHVlCx1itrPEA/cClwBfAxYLDxm28mgFOId+19PvAOMNNzOhPAv4G3gNeRhbINyHDTK8PIWrz2lPqyKjSh2mvAlx0Efgqc6iNTvcDtlL8WX4VOlNaJ9W1jwC0UOEyOZS0+uvdnB1xGAyFsIwXEJAwAf4kgM1PIO64qaCOZULadHFPQvYgXlZ2Jpl2ZNSMlcBXll1fT1pHxdXB7BOKbtp5qRTD3ENfDc3PaDAxTfofvKDLE+T4wO20GImA2UvCvI3kpsyzHkKG6Mw843nj6Wrzvsa/xHjNJH5Nwn+vN+9F7sUeBb1GtZrmu9AAr0VuZg8iITuWLyo2mkMo34mIler1d5XKjXyg32Yo9+THSA7xMct39rPVP7UKWz1USurNxs6rQB5yP5OujyLtzGDgOmeeYQAI39yL7/f4GvIb0bzYjHagqMAn8ENmi1olzXG6kxeIN55IZhkHgRuAFpIKz9p4PIZs/vwacFDQH2VhEcn72utxE60zEvNFhGTJt7WPYdRj4NdKaxMpM9M67ilYQMbIU2ELxld7JnkW2pcdI7vqrkgMsQDo2oSq+1R4CTvaQryHgEeR1vB9YC5zl+N+ucYBrgHcpr/Kbtgf4QoH5GkIOoGiXzpDD/2vvAMciPd2yK366TSKjo1kF5O+RhHQecvh/rR3gBKRnX3aFd7IngeNz5jFpFLbP4f+p6q/dhI5WyWVNAp0MjAIfyfDfw0gncRQZ5+9o2CHee2oXAIuBs4ElSMcyyxP9J+AyYFeG/4I4QKcp233oQR656y/GFmA+8FcHba32PDL9meWpnIcstoxmSPfFjGmCdPg63XeNw/9r9wqYjVRkmgpYi5wcVhSfIP36/iaytSBnIR2+1vvtwi3gs3YO8GMHTU17E/icRy3LgJ0p9NyRMZ0hpMO3r2FrcI/2rZUDfNlBz/Tm0Wm5MyfzgYcdNU1S7BDRhdo4wEJk7tqloH9A+M7pzY7a9uBnsqgTtXGAxxy0TAFfDaiplZsSdE23BwNqqoUDXOSgo/nkl81q3F4FoRaRauEAf3DQsYY4AlOOQc4K1vQ+E0hP5R1gxEHDm4Tp8LkyALyBrvtTAbRU3gFcniafQ72sXI6ue20AHZV2gFPQI3hCFGJWtFnDw8AHPWuotAN8wyH9Imf4iuYcdP1f8ayh0g7wrJL2857TLwJttfJpz+lX1gH6kSYyKe0qbBBdTnIexoEPeEy/sg7wWSXdQ+Rfaw/BHPQzji/2mH6q+ivzmNVWlijXtwD/CyEkJweQmIAkzgshxIWYHGCxcv2pICqK4ffKddcAT+/E5ACnK9dfDaKiGLYo180B2qDtX98RQkRB7FSuLwiiwoGYHECLddsRQkRB7FauR3N0fEwOMEe5Ph5ERTFoDhDNOkZMDjCpXK/SCSTaHrxoyj0aIcg4P4ljg6goBq2Jj2bLeUwOoMXRnxhERTFoWt8NosKBmBzgX8p1bZ4gJj6kXH8riAoHYnKAvyvXzw6iohg0rf8MosKBmBxAm+jRpopjYkS5vj2EiKzEvBg0z2P6RTEH/dP2n/GYfmVXA/uAI0ra13pMvyi+RLmrmpV1AND3AI56Tr8ItLCw5zynX2kHuNEh/ZgPaToX/SuiN3jWUGkHGEQPCt3oWUMetA9rHEECX31SaQcAOYpN07AsgI60uISFPxZAR+UdYKmDhp3E9fmYAWS1UtM9EkBL5R0A3M4BejSQFhceRdf7u0BaauEAFznomCLDlzA8cCtuWi8IpKcWDgByQoZLwd4UUFMrNyTomm6/DKipNg6wkPZn5bSz1YTfKXyLo7a9hA0Bq40DgJwG6lLIU8im0tzfyXNgALd3ftOcPtJQILVyAIB7HDQ17Q1kOOaLy4F/pNBzt0ctnaidA8wi/TFxozh+HMGR80j/9dSnKSeMrXYOANLsvuKgrdVeQPbqaQGn7TgOWdjJclDkVsK8jtqRqv6qdlTsJrI92WPIdq3NwB+RE0Z2N+woshJ5ErJhYzEyYfNJsm3i3Ibs/dMig32Ru/5ibAGaDBD3YdHPILucy6SWr4DpzALupfzKbrW7iCNyufYO0OQa3OcJfNou4GrPeU1D1zgAyGSR64yhD1tD2FNAXegqB2gygnTwQlX8ZsIc+ZaFrnSAJkuBX5HvW4GdbAKJVYj1a2FNutoBmiwEvg78lvwfjnwK+XBkbE19J1LVX5XmAbJyPPLBhyXAh4EzkbCs/ob1IAs2+4G3kenkV5GvfrxINY6lmU6q+usGB+g2UtVfu51Bddqm3W1odTPR+kM7B9CavGiONzHeh3bMzjutP7RzAO18m087yzFCs1S5/rbLTX5Oci9yK3FtKjWEHvQVU6cvl1yt3GQKWFmsdqMAVqHXm9NRu3OBg8qNjiJOYC1B+fQA30XfkjZOisOpXD/O/DKwAjgNGx2EZCawCLgO90CZn7S7Uacx/SDwGhIVY1SfceTYmvcdTdPb4Q//RdbdR/xpMgJyG/CbtH/qIX0gpFl8toHOD7pKP3KeTdmZMMtm2yjgWNo+3LZsm8Vl6ykwPrEX2YipHX5kVr4dQLbKeRmiDwL3oc8TmIW3cWSot7Bj7bUh69JuH3AJcAWyvj6EBEzYXEA49iLrNtuQfZEbqV7sgmEYhmEYhmEYhmEYhmEYhmEYnvk/IOetxTmdx/8AAAAASUVORK5CYII=",ma=Symbol.for("vuetify:v-slider");function $i(_,B,M){const S=M==="vertical",w=B.getBoundingClientRect(),O="touches"in _?_.touches[0]:_;return S?O.clientY-(w.top+w.height/2):O.clientX-(w.left+w.width/2)}function Oi(_,B){return"touches"in _&&_.touches.length?_.touches[0][B]:"changedTouches"in _&&_.changedTouches.length?_.changedTouches[0][B]:_[B]}const Li=dt({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:_=>typeof _=="boolean"||_==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:_=>typeof _=="boolean"||_==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:_=>["vertical","horizontal"].includes(_)},reverse:Boolean,...gr(),...br({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Ti=_=>{const B=me(()=>parseFloat(_.min)),M=me(()=>parseFloat(_.max)),S=me(()=>+_.step>0?parseFloat(_.step):0),w=me(()=>Math.max(wa(S.value),wa(B.value)));function O(t){if(t=parseFloat(t),S.value<=0)return t;const a=Wa(t,B.value,M.value),r=B.value%S.value,g=Math.round((a-r)/S.value)*S.value+r;return parseFloat(Math.min(g,M.value).toFixed(w.value))}return{min:B,max:M,step:S,decimals:w,roundValue:O}},Ui=_=>{let{props:B,steps:M,onSliderStart:S,onSliderMove:w,onSliderEnd:O,getActiveThumb:t}=_;const{isRtl:a}=jt(),r=Ge(B,"reverse"),g=me(()=>B.direction==="vertical"),h=me(()=>g.value!==r.value),{min:f,max:l,step:v,decimals:k,roundValue:s}=M,m=me(()=>parseInt(B.thumbSize,10)),u=me(()=>parseInt(B.tickSize,10)),n=me(()=>parseInt(B.trackSize,10)),i=me(()=>(l.value-f.value)/v.value),d=Ge(B,"disabled"),b=me(()=>B.error||B.disabled?void 0:B.thumbColor??B.color),y=me(()=>B.error||B.disabled?void 0:B.trackColor??B.color),x=me(()=>B.error||B.disabled?void 0:B.trackFillColor??B.color),E=zt(!1),z=zt(0),C=_e(),N=_e();function L(te){var Le;const se=B.direction==="vertical",we=se?"top":"left",Ce=se?"height":"width",Te=se?"clientY":"clientX",{[we]:Be,[Ce]:ye}=(Le=C.value)==null?void 0:Le.$el.getBoundingClientRect(),$e=Oi(te,Te);let We=Math.min(Math.max(($e-Be-z.value)/ye,0),1)||0;return(se?h.value:h.value!==a.value)&&(We=1-We),s(f.value+We*(l.value-f.value))}const R=te=>{O({value:L(te)}),E.value=!1,z.value=0},P=te=>{N.value=t(te),N.value&&(N.value.focus(),E.value=!0,N.value.contains(te.target)?z.value=$i(te,N.value,B.direction):(z.value=0,w({value:L(te)})),S({value:L(te)}))},G={passive:!0,capture:!0};function T(te){w({value:L(te)})}function U(te){te.stopPropagation(),te.preventDefault(),R(te),window.removeEventListener("mousemove",T,G),window.removeEventListener("mouseup",U)}function Z(te){var se;R(te),window.removeEventListener("touchmove",T,G),(se=te.target)==null||se.removeEventListener("touchend",Z)}function $(te){var se;P(te),window.addEventListener("touchmove",T,G),(se=te.target)==null||se.addEventListener("touchend",Z,{passive:!1})}function H(te){te.preventDefault(),P(te),window.addEventListener("mousemove",T,G),window.addEventListener("mouseup",U,{passive:!1})}const J=te=>{const se=(te-f.value)/(l.value-f.value)*100;return Wa(isNaN(se)?0:se,0,100)},W=Ge(B,"showTicks"),ae=me(()=>W.value?B.ticks?Array.isArray(B.ticks)?B.ticks.map(te=>({value:te,position:J(te),label:te.toString()})):Object.keys(B.ticks).map(te=>({value:parseFloat(te),position:J(parseFloat(te)),label:B.ticks[te]})):i.value!==1/0?wr(i.value+1).map(te=>{const se=f.value+te*v.value;return{value:se,position:J(se)}}):[]:[]),he=me(()=>ae.value.some(te=>{let{label:se}=te;return!!se})),fe={activeThumbRef:N,color:Ge(B,"color"),decimals:k,disabled:d,direction:Ge(B,"direction"),elevation:Ge(B,"elevation"),hasLabels:he,isReversed:r,indexFromEnd:h,min:f,max:l,mousePressed:E,numTicks:i,onSliderMousedown:H,onSliderTouchstart:$,parsedTicks:ae,parseMouseMove:L,position:J,readonly:Ge(B,"readonly"),rounded:Ge(B,"rounded"),roundValue:s,showTicks:W,startOffset:z,step:v,thumbSize:m,thumbColor:b,thumbLabel:Ge(B,"thumbLabel"),ticks:Ge(B,"ticks"),tickSize:u,trackColor:y,trackContainerRef:C,trackFillColor:x,trackSize:n,vertical:g};return Za(ma,fe),fe},Hi=dt({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Ft()},"VSliderThumb"),Gi=_t()({name:"VSliderThumb",directives:{Ripple:kr},props:Hi(),emits:{"update:modelValue":_=>!0},setup(_,B){let{slots:M,emit:S}=B;const w=Yt(ma),{isRtl:O,rtlClasses:t}=jt();if(!w)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:r,disabled:g,thumbSize:h,thumbLabel:f,direction:l,isReversed:v,vertical:k,readonly:s,elevation:m,mousePressed:u,decimals:n,indexFromEnd:i}=w,d=me(()=>g.value?void 0:m.value),{elevationClasses:b}=yr(d),{textColorClasses:y,textColorStyles:x}=Ka(a),{pageup:E,pagedown:z,end:C,home:N,left:L,right:R,down:P,up:G}=Er,T=[E,z,C,N,L,R,P,G],U=me(()=>r.value?[1,2,3]:[1,5,10]);function Z(H,J){if(!T.includes(H.key))return;H.preventDefault();const W=r.value||.1,ae=(_.max-_.min)/W;if([L,R,P,G].includes(H.key)){const fe=(k.value?[O.value?L:R,v.value?P:G]:i.value!==O.value?[L,G]:[R,G]).includes(H.key)?1:-1,te=H.shiftKey?2:H.ctrlKey?1:0;J=J+fe*W*U.value[te]}else if(H.key===N)J=_.min;else if(H.key===C)J=_.max;else{const he=H.key===z?1:-1;J=J-he*W*(ae>100?ae/10:10)}return Math.max(_.min,Math.min(_.max,J))}function $(H){const J=Z(H,_.modelValue);J!=null&&S("update:modelValue",J)}return mt(()=>{const H=lt(i.value?100-_.position:_.position,"%");return A("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":_.focused,"v-slider-thumb--pressed":_.focused&&u.value},_.class,t.value],style:[{"--v-slider-thumb-position":H,"--v-slider-thumb-size":lt(h.value)},_.style],role:"slider",tabindex:g.value?-1:0,"aria-label":_.name,"aria-valuemin":_.min,"aria-valuemax":_.max,"aria-valuenow":_.modelValue,"aria-readonly":!!s.value,"aria-orientation":l.value,onKeydown:s.value?void 0:$},[A("div",{class:["v-slider-thumb__surface",y.value,b.value],style:{...x.value}},null),ut(A("div",{class:["v-slider-thumb__ripple",y.value],style:x.value},null),[[Nt("ripple"),_.ripple,null,{circle:!0,center:!0}]]),A(xr,{origin:"bottom center"},{default:()=>{var J;return[ut(A("div",{class:"v-slider-thumb__label-container"},[A("div",{class:["v-slider-thumb__label"]},[A("div",null,[((J=M["thumb-label"])==null?void 0:J.call(M,{modelValue:_.modelValue}))??_.modelValue.toFixed(r.value?n.value:1)])])]),[[Ja,f.value&&_.focused||f.value==="always"]])]}})])}),{}}}),ji=dt({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ft()},"VSliderTrack"),Fi=_t()({name:"VSliderTrack",props:ji(),emits:{},setup(_,B){let{slots:M}=B;const S=Yt(ma);if(!S)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:w,parsedTicks:O,rounded:t,showTicks:a,tickSize:r,trackColor:g,trackFillColor:h,trackSize:f,vertical:l,min:v,max:k,indexFromEnd:s}=S,{roundedClasses:m}=Sr(t),{backgroundColorClasses:u,backgroundColorStyles:n}=sa(h),{backgroundColorClasses:i,backgroundColorStyles:d}=sa(g),b=me(()=>`inset-${l.value?"block":"inline"}-${s.value?"end":"start"}`),y=me(()=>l.value?"height":"width"),x=me(()=>({[b.value]:"0%",[y.value]:"100%"})),E=me(()=>_.stop-_.start),z=me(()=>({[b.value]:lt(_.start,"%"),[y.value]:lt(E.value,"%")})),C=me(()=>a.value?(l.value?O.value.slice().reverse():O.value).map((L,R)=>{var G;const P=L.value!==v.value&&L.value!==k.value?lt(L.position,"%"):void 0;return A("div",{key:L.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":L.position>=_.start&&L.position<=_.stop,"v-slider-track__tick--first":L.value===v.value,"v-slider-track__tick--last":L.value===k.value}],style:{[b.value]:P}},[(L.label||M["tick-label"])&&A("div",{class:"v-slider-track__tick-label"},[((G=M["tick-label"])==null?void 0:G.call(M,{tick:L,index:R}))??L.label])])}):[]);return mt(()=>A("div",{class:["v-slider-track",m.value,_.class],style:[{"--v-slider-track-size":lt(f.value),"--v-slider-tick-size":lt(r.value)},_.style]},[A("div",{class:["v-slider-track__background",i.value,{"v-slider-track__background--opacity":!!w.value||!h.value}],style:{...x.value,...d.value}},null),A("div",{class:["v-slider-track__fill",u.value],style:{...z.value,...n.value}},null),a.value&&A("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[C.value])])),{}}}),Yi=dt({...Ar(),...Li(),...Vr(),modelValue:{type:[Number,String],default:0}},"VSlider"),Zi=_t()({name:"VSlider",props:Yi(),emits:{"update:focused":_=>!0,"update:modelValue":_=>!0,start:_=>!0,end:_=>!0},setup(_,B){let{slots:M,emit:S}=B;const w=_e(),{rtlClasses:O}=jt(),t=Ti(_),a=da(_,"modelValue",void 0,y=>t.roundValue(y??t.min.value)),{min:r,max:g,mousePressed:h,roundValue:f,onSliderMousedown:l,onSliderTouchstart:v,trackContainerRef:k,position:s,hasLabels:m,readonly:u}=Ui({props:_,steps:t,onSliderStart:()=>{S("start",a.value)},onSliderEnd:y=>{let{value:x}=y;const E=f(x);a.value=E,S("end",E)},onSliderMove:y=>{let{value:x}=y;return a.value=f(x)},getActiveThumb:()=>{var y;return(y=w.value)==null?void 0:y.$el}}),{isFocused:n,focus:i,blur:d}=Cr(_),b=me(()=>s(a.value));return mt(()=>{const y=ka.filterProps(_),x=!!(_.label||M.label||M.prepend);return A(ka,wt({class:["v-slider",{"v-slider--has-labels":!!M["tick-label"]||m.value,"v-slider--focused":n.value,"v-slider--pressed":h.value,"v-slider--disabled":_.disabled},O.value,_.class],style:_.style},y,{focused:n.value}),{...M,prepend:x?E=>{var z,C;return A(it,null,[((z=M.label)==null?void 0:z.call(M,E))??(_.label?A(Dr,{id:E.id.value,class:"v-slider__label",text:_.label},null):void 0),(C=M.prepend)==null?void 0:C.call(M,E)])}:void 0,default:E=>{let{id:z,messagesId:C}=E;return A("div",{class:"v-slider__container",onMousedown:u.value?void 0:l,onTouchstartPassive:u.value?void 0:v},[A("input",{id:z.value,name:_.name||z.value,disabled:!!_.disabled,readonly:!!_.readonly,tabindex:"-1",value:a.value},null),A(Fi,{ref:k,start:0,stop:b.value},{"tick-label":M["tick-label"]}),A(Gi,{ref:w,"aria-describedby":C.value,focused:n.value,min:r.value,max:g.value,modelValue:a.value,"onUpdate:modelValue":N=>a.value=N,position:b.value,elevation:_.elevation,onFocus:i,onBlur:d,ripple:_.ripple,name:_.name},{"thumb-label":M["thumb-label"]})])}})}),{}}}),Wi=["src"],Ki={key:2,src:Ni},Ji={__name:"ReconhecimentoFacial",setup(_){const B=_e(null),M=_e([]),S=_e(""),w=_e(!1),O=_e(null),t=_e(null),a=Mt(),{id:r}=a.params,g=_e(1),f=Ie("pessoa_token").value,v=Ie("user-data").value.nome,k=ht(),s=`${k.public.managemant}/upload`,m=`${k.public.managemant}/getLinkTipo`,u=`${k.public.managemant}/download`,{$toast:n}=kt(),i=me(()=>!!t.value),d=me(()=>!!O.value),b=_e(!1),y=async()=>{const L=await navigator.mediaDevices.enumerateDevices();M.value=L.filter(R=>R.kind==="videoinput").map(R=>({deviceId:R.deviceId,label:R.label||`Camera ${M.value.length+1}`}))},x=async()=>{w.value=!0;try{await navigator.mediaDevices.getUserMedia({video:!0}),await y()}catch(L){console.error("Erro ao acessar dispositivos de mídia:",L)}},E=()=>{w.value=!1;const L=B.value.srcObject;L&&L.getTracks().forEach(P=>P.stop())},z=async()=>{if(S.value){const L=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:S.value}}});B.value.srcObject=L}},C=async()=>{const L=document.createElement("canvas"),R=L.getContext("2d"),P=B.value.videoWidth,G=B.value.videoHeight,T=P*g.value,U=G*g.value,Z=(P-T)/2,$=(G-U)/2;L.width=P,L.height=G,R.drawImage(B.value,Z,$,T,U),L.toBlob(async H=>{const J=new FormData;J.append("file",H,`${v}.jpg`),J.append("cartorio_token",Ie("user-data").value.cartorio_token),J.append("token",f),J.append("tipo","foto");const{status:W}=await vt(s,{method:"POST",body:J},"$fRRPU47ULS");if(W.value==="success"){n.success("Imagem enviada!");const ae=URL.createObjectURL(H);O.value=ae,E()}else n.error("Erro ao enviar imagem para o sistema.")},"image/jpeg")};return r&&(async L=>{var U;if(!L)return;const{data:R}=await vt(m,{method:"POST",body:{tipo:"foto",id:L}},"$N16ZtKMkSh");if(console.log(R),!((U=R.value)!=null&&U.link))return;const{data:P}=await vt(u,{method:"POST",body:{bucket:"qvgjz",path:R.value.link}},"$mC9TAMOeqI"),G=R.value.link,T=P.value;/\.(tr7|tiff)$/i.test(G)?(t.value=T,b.value=!1):O.value=T})(r),Gt(async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await y()}catch(L){console.error("Erro ao acessar dispositivos de mídia:",L)}}),(L,R)=>{const P=zi;return de(),ke(ce,{cols:"auto"},{default:F(()=>[A(Zt,{"max-width":"700",modelValue:V(w),"onUpdate:modelValue":R[3]||(R[3]=G=>bt(w)?w.value=G:null)},{activator:F(({props:G})=>[A(Ne,wt(G,{variant:"outlined",style:{width:"300px",height:"300px"},onClick:x}),{default:F(()=>[V(i)&&!V(b)?(de(),ke(P,{key:0,"tiff-url":V(t),onError:R[0]||(R[0]=T=>b.value=!0)},null,8,["tiff-url"])):V(d)?(de(),Me("img",{key:1,src:V(O),style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,Wi)):(de(),Me("img",Ki))]),_:2},1040)]),default:F(({isActive:G})=>[A(Wt,{title:"Biometria"},{default:F(()=>[A(De,null,{default:F(()=>[A(ce,null,{default:F(()=>[A(rt,null,{default:F(()=>[A(er,{items:V(M),modelValue:V(S),"onUpdate:modelValue":R[1]||(R[1]=T=>bt(S)?S.value=T:null),"item-title":"label","item-value":"deviceId",label:"Selecionar Webcam"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),A(De,null,{default:F(()=>[A(ce,null,{default:F(()=>[A(Ne,{size:"large",class:"ml-5",onClick:z},{default:F(()=>R[4]||(R[4]=[Re("Exibir")])),_:1})]),_:1})]),_:1}),A(De,null,{default:F(()=>[A(rt,{style:{overflow:"hidden"}},{default:F(()=>[A(ce,null,{default:F(()=>[Ve("video",{class:"ml-3",ref_key:"video",ref:B,width:"640",height:"480",autoplay:"",style:Lt({transform:`scale(${V(g)})`,transformOrigin:"center center"})},null,4)]),_:1})]),_:1})]),_:1}),A(rt,null,{default:F(()=>[A(Zi,{modelValue:V(g),"onUpdate:modelValue":R[2]||(R[2]=T=>bt(g)?g.value=T:null),min:1,max:3,step:"0.1",label:"Zoom"},null,8,["modelValue"])]),_:1}),A(De,{class:"mt-10 mb-5 ml-5"},{default:F(()=>[A(Ne,{color:"red",size:"large",onClick:E},{default:F(()=>R[5]||(R[5]=[Re("Fechar")])),_:1}),A(Ne,{color:"green",size:"large",class:"ml-5",onClick:C},{default:F(()=>R[6]||(R[6]=[Re("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},qi=""+new URL("escanearFicha.CgD8l9Wn.png",import.meta.url).href,Xi={__name:"Scanner",setup(_){const B=ht(),{$toast:M}=kt(),S=`${B.public.envioDoc}`,w=`${B.public.biometria}/run-scanner`,t=Ie("pessoa_token").value;async function a(){try{await r(),await g()}catch(h){console.error("Erro ao executar scanner ou listar arquivos:",h)}}async function r(){try{const{data:h}=await vt(w,{method:"GET"},"$qlTK399Ixo")}catch(h){M.error("Erro ao acionar o scanner:",h)}}async function g(){try{const{status:h,data:f}=await vt(S,{method:"POST",body:{tipo:"ficha",pessoa_token:t}},"$JkvEThvk9m")}catch(h){console.error("Erro ao enviar o arquivo:",h)}}return(h,f)=>(de(),Me("div",null,[Ve("img",{onClick:a,src:qi,style:{width:"280px",height:"120px",cursor:"pointer","margin-top":"30px"}})]))}},Qi=""+new URL("imprimirFicha.BlhLZ85F.png",import.meta.url).href,en={style:{display:"flex","flex-direction":"column"}},tn={__name:"Impressao",setup(_){const B=_e(""),S=`${ht().public.managemant}/gerarRelatorioPessoa`,w=async()=>{const t=await vt(S,{method:"POST",body:{consulta:"FICHA ASSINATURA",pessoa_token:Ie("pessoa_token").value}},"$LOyFO5WGQE");B.value=t.data.value},O=async()=>{await w();const t=document.createElement("iframe");t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.style.border="none",document.body.appendChild(t);const a=t.contentWindow.document;a.open(),a.write(B.value),a.close(),t.contentWindow.focus(),t.contentWindow.print(),document.body.removeChild(t)};return(t,a)=>{const r=Xi;return de(),ke(ce,{cols:"auto"},{default:F(()=>[Ve("div",en,[Ve("img",{onClick:a[0]||(a[0]=g=>O()),src:Qi,style:{width:"280px",height:"120px",cursor:"pointer"}}),A(r)])]),_:1})}}},an={__name:"Index",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],setup(_,{emit:B}){const M=Pt(),S=B,w=_,O=()=>{if(w.isModal===!0){S("close-modal");return}M.push("/pessoas/lista")};return(t,a)=>{const r=xi,g=Ji,h=tn;return de(),Me(it,null,[A(rt,null,{default:F(()=>[A(De,{class:"d-flex align-items-center"},{default:F(()=>[A(r),A(g,{class:"ml-5 mr-5"}),A(h)]),_:1})]),_:1}),A(Ne,{onClick:O,class:"mt-10",size:"large",color:"red"},{default:F(()=>a[0]||(a[0]=[Re("Voltar")])),_:1})],64)}}},rn={},nn={style:{height:"425px"}};function on(_,B){return de(),Me("div",nn,B[0]||(B[0]=[Ve("h1",null,"Restrições",-1)]))}const ln=Ya(rn,[["render",on]]),pa=Symbol.for("vuetify:v-tabs"),sn=dt({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...qa(Br({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),St=_t()({name:"VTab",props:sn(),setup(_,B){let{slots:M,attrs:S}=B;const{textColorClasses:w,textColorStyles:O}=Ka(_,"sliderColor"),t=_e(),a=_e(),r=me(()=>_.direction==="horizontal"),g=me(()=>{var f,l;return((l=(f=t.value)==null?void 0:f.group)==null?void 0:l.isSelected.value)??!1});function h(f){var v,k;let{value:l}=f;if(l){const s=(k=(v=t.value)==null?void 0:v.$el.parentElement)==null?void 0:k.querySelector(".v-tab--selected .v-tab__slider"),m=a.value;if(!s||!m)return;const u=getComputedStyle(s).color,n=s.getBoundingClientRect(),i=m.getBoundingClientRect(),d=r.value?"x":"y",b=r.value?"X":"Y",y=r.value?"right":"bottom",x=r.value?"width":"height",E=n[d],z=i[d],C=E>z?n[y]-i[y]:n[d]-i[d],N=Math.sign(C)>0?r.value?"right":"bottom":Math.sign(C)<0?r.value?"left":"top":"center",R=(Math.abs(C)+(Math.sign(C)<0?n[x]:i[x]))/Math.max(n[x],i[x])||0,P=n[x]/i[x]||0,G=1.5;Pr(m,{backgroundColor:[u,"currentcolor"],transform:[`translate${b}(${C}px) scale${b}(${P})`,`translate${b}(${C/G}px) scale${b}(${(R-1)/G+1})`,"none"],transformOrigin:Array(3).fill(N)},{duration:225,easing:Ir})}}return mt(()=>{const f=Ne.filterProps(_);return A(Ne,wt({symbol:pa,ref:t,class:["v-tab",_.class],style:_.style,tabindex:g.value?0:-1,role:"tab","aria-selected":String(g.value),active:!1},f,S,{block:_.fixed,maxWidth:_.fixed?300:void 0,"onGroup:selected":h}),{...M,default:()=>{var l;return A(it,null,[((l=M.default)==null?void 0:l.call(M))??_.text,!_.hideSlider&&A("div",{ref:a,class:["v-tab__slider",w.value],style:O.value},null)])}})}),Rr({},t)}}),un=_=>{const{touchstartX:B,touchendX:M,touchstartY:S,touchendY:w}=_,O=.5,t=16;_.offsetX=M-B,_.offsetY=w-S,Math.abs(_.offsetY)<O*Math.abs(_.offsetX)&&(_.left&&M<B-t&&_.left(_),_.right&&M>B+t&&_.right(_)),Math.abs(_.offsetX)<O*Math.abs(_.offsetY)&&(_.up&&w<S-t&&_.up(_),_.down&&w>S+t&&_.down(_))};function dn(_,B){var S;const M=_.changedTouches[0];B.touchstartX=M.clientX,B.touchstartY=M.clientY,(S=B.start)==null||S.call(B,{originalEvent:_,...B})}function cn(_,B){var S;const M=_.changedTouches[0];B.touchendX=M.clientX,B.touchendY=M.clientY,(S=B.end)==null||S.call(B,{originalEvent:_,...B}),un(B)}function fn(_,B){var S;const M=_.changedTouches[0];B.touchmoveX=M.clientX,B.touchmoveY=M.clientY,(S=B.move)==null||S.call(B,{originalEvent:_,...B})}function vn(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const B={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:_.left,right:_.right,up:_.up,down:_.down,start:_.start,move:_.move,end:_.end};return{touchstart:M=>dn(M,B),touchend:M=>cn(M,B),touchmove:M=>fn(M,B)}}function hn(_,B){var a;const M=B.value,S=M!=null&&M.parent?_.parentElement:_,w=(M==null?void 0:M.options)??{passive:!0},O=(a=B.instance)==null?void 0:a.$.uid;if(!S||!O)return;const t=vn(B.value);S._touchHandlers=S._touchHandlers??Object.create(null),S._touchHandlers[O]=t,Xa(t).forEach(r=>{S.addEventListener(r,t[r],w)})}function _n(_,B){var O,t;const M=(O=B.value)!=null&&O.parent?_.parentElement:_,S=(t=B.instance)==null?void 0:t.$.uid;if(!(M!=null&&M._touchHandlers)||!S)return;const w=M._touchHandlers[S];Xa(w).forEach(a=>{M.removeEventListener(a,w[a])}),delete M._touchHandlers[S]}const cr={mounted:hn,unmounted:_n},fr=Symbol.for("vuetify:v-window"),vr=Symbol.for("vuetify:v-window-group"),hr=dt({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:_=>typeof _=="boolean"||_==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ft(),...Qa(),...Mr()},"VWindow"),Ha=_t()({name:"VWindow",directives:{Touch:cr},props:hr(),emits:{"update:modelValue":_=>!0},setup(_,B){let{slots:M}=B;const{themeClasses:S}=zr(_),{isRtl:w}=jt(),{t:O}=Nr(),t=$r(_,vr),a=_e(),r=me(()=>w.value?!_.reverse:_.reverse),g=zt(!1),h=me(()=>{const d=_.direction==="vertical"?"y":"x",y=(r.value?!g.value:g.value)?"-reverse":"";return`v-window-${d}${y}-transition`}),f=zt(0),l=_e(void 0),v=me(()=>t.items.value.findIndex(d=>t.selected.value.includes(d.id)));ua(v,(d,b)=>{const y=t.items.value.length,x=y-1;y<=2?g.value=d<b:d===x&&b===0?g.value=!0:d===0&&b===x?g.value=!1:g.value=d<b}),Za(fr,{transition:h,isReversed:g,transitionCount:f,transitionHeight:l,rootRef:a});const k=me(()=>_.continuous||v.value!==0),s=me(()=>_.continuous||v.value!==t.items.value.length-1);function m(){k.value&&t.prev()}function u(){s.value&&t.next()}const n=me(()=>{const d=[],b={icon:w.value?_.nextIcon:_.prevIcon,class:`v-window__${r.value?"right":"left"}`,onClick:t.prev,"aria-label":O("$vuetify.carousel.prev")};d.push(k.value?M.prev?M.prev({props:b}):A(Ne,b,null):A("div",null,null));const y={icon:w.value?_.prevIcon:_.nextIcon,class:`v-window__${r.value?"left":"right"}`,onClick:t.next,"aria-label":O("$vuetify.carousel.next")};return d.push(s.value?M.next?M.next({props:y}):A(Ne,y,null):A("div",null,null)),d}),i=me(()=>_.touch===!1?_.touch:{...{left:()=>{r.value?m():u()},right:()=>{r.value?u():m()},start:b=>{let{originalEvent:y}=b;y.stopPropagation()}},..._.touch===!0?{}:_.touch});return mt(()=>ut(A(_.tag,{ref:a,class:["v-window",{"v-window--show-arrows-on-hover":_.showArrows==="hover"},S.value,_.class],style:_.style},{default:()=>{var d,b;return[A("div",{class:"v-window__container",style:{height:l.value}},[(d=M.default)==null?void 0:d.call(M,{group:t}),_.showArrows!==!1&&A("div",{class:"v-window__controls"},[n.value])]),(b=M.additional)==null?void 0:b.call(M,{group:t})]}}),[[Nt("touch"),i.value]])),{group:t}}}),mn=dt({...qa(hr(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),_r=_t()({name:"VTabsWindow",props:mn(),emits:{"update:modelValue":_=>!0},setup(_,B){let{slots:M}=B;const S=Yt(pa,null),w=da(_,"modelValue"),O=me({get(){var t;return w.value!=null||!S?w.value:(t=S.items.value.find(a=>S.selected.value.includes(a.id)))==null?void 0:t.value},set(t){w.value=t}});return mt(()=>{const t=Ha.filterProps(_);return A(Ha,wt({_as:"VTabsWindow"},t,{modelValue:O.value,"onUpdate:modelValue":a=>O.value=a,class:["v-tabs-window",_.class],style:_.style,mandatory:!1,touch:!1}),M)}),{}}}),mr=dt({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ft(),...Or(),...Lr()},"VWindowItem"),Ga=_t()({name:"VWindowItem",directives:{Touch:cr},props:mr(),emits:{"group:selected":_=>!0},setup(_,B){let{slots:M}=B;const S=Yt(fr),w=Tr(_,vr),{isBooted:O}=Jr();if(!S||!w)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const t=zt(!1),a=me(()=>O.value&&(S.isReversed.value?_.reverseTransition!==!1:_.transition!==!1));function r(){!t.value||!S||(t.value=!1,S.transitionCount.value>0&&(S.transitionCount.value-=1,S.transitionCount.value===0&&(S.transitionHeight.value=void 0)))}function g(){var k;t.value||!S||(t.value=!0,S.transitionCount.value===0&&(S.transitionHeight.value=lt((k=S.rootRef.value)==null?void 0:k.clientHeight)),S.transitionCount.value+=1)}function h(){r()}function f(k){t.value&&Gr(()=>{!a.value||!t.value||!S||(S.transitionHeight.value=lt(k.clientHeight))})}const l=me(()=>{const k=S.isReversed.value?_.reverseTransition:_.transition;return a.value?{name:typeof k!="string"?S.transition.value:k,onBeforeEnter:g,onAfterEnter:r,onEnterCancelled:h,onBeforeLeave:g,onAfterLeave:r,onLeaveCancelled:h,onEnter:f}:!1}),{hasContent:v}=Ur(_,w.isSelected);return mt(()=>A(Hr,{transition:l.value,disabled:!O.value},{default:()=>{var k;return[ut(A("div",{class:["v-window-item",w.selectedClass.value,_.class],style:_.style},[v.value&&((k=M.default)==null?void 0:k.call(M))]),[[Ja,w.isSelected.value]])]}})),{groupItem:w}}}),pn=dt({...mr()},"VTabsWindowItem"),At=_t()({name:"VTabsWindowItem",props:pn(),setup(_,B){let{slots:M}=B;return mt(()=>{const S=Ga.filterProps(_);return A(Ga,wt({_as:"VTabsWindowItem"},S,{class:["v-tabs-window-item",_.class],style:_.style}),M)}),{}}});function gn(_){return _?_.map(B=>Wr(B)?B:{text:B,value:B}):[]}const bn=dt({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Kr({mandatory:"force",selectedClass:"v-tab-item--selected"}),...jr(),...Qa()},"VTabs"),wn=_t()({name:"VTabs",props:bn(),emits:{"update:modelValue":_=>!0},setup(_,B){let{attrs:M,slots:S}=B;const w=da(_,"modelValue"),O=me(()=>gn(_.items)),{densityClasses:t}=Fr(_),{backgroundColorClasses:a,backgroundColorStyles:r}=sa(Ge(_,"bgColor")),{scopeId:g}=Yr();return Zr({VTab:{color:Ge(_,"color"),direction:Ge(_,"direction"),stacked:Ge(_,"stacked"),fixed:Ge(_,"fixedTabs"),sliderColor:Ge(_,"sliderColor"),hideSlider:Ge(_,"hideSlider")}}),mt(()=>{const h=ya.filterProps(_),f=!!(S.window||_.items.length>0);return A(it,null,[A(ya,wt(h,{modelValue:w.value,"onUpdate:modelValue":l=>w.value=l,class:["v-tabs",`v-tabs--${_.direction}`,`v-tabs--align-tabs-${_.alignTabs}`,{"v-tabs--fixed-tabs":_.fixedTabs,"v-tabs--grow":_.grow,"v-tabs--stacked":_.stacked},t.value,a.value,_.class],style:[{"--v-tabs-height":lt(_.height)},r.value,_.style],role:"tablist",symbol:pa},g,M),{default:()=>{var l;return[((l=S.default)==null?void 0:l.call(S))??O.value.map(v=>{var k;return((k=S.tab)==null?void 0:k.call(S,{item:v}))??A(St,wt(v,{key:v.text,value:v.value}),{default:S[`tab.${v.value}`]?()=>{var s;return(s=S[`tab.${v.value}`])==null?void 0:s.call(S,{item:v})}:void 0})})]}}),f&&A(_r,wt({modelValue:w.value,"onUpdate:modelValue":l=>w.value=l,key:"tabs-window"},g),{default:()=>{var l;return[O.value.map(v=>{var k;return((k=S.item)==null?void 0:k.call(S,{item:v}))??A(At,{value:v.value},{default:()=>{var s;return(s=S[`item.${v.value}`])==null?void 0:s.call(S,{item:v})}})}),(l=S.window)==null?void 0:l.call(S)]}})])}),{}}}),kn={style:{"background-color":"#f5f2f2",padding:"5px 0px 0px 20px"}},yn={__name:"RegistroPessoas",props:{show:Boolean},emits:["close"],setup(_,{emit:B}){const M=_,S=_e(M.show),w=B,O=_e("dados"),t=_e(!1),a=_e(!1),r=_e(!1),g=It({tipo_pessoa:"fisica"}),h=[{label:"FÍSICA",value:"FISICA"},{label:"JURÍDICA",value:"JURIDICA"},{label:"ESTRANGEIRA",value:"ESTRANGEIRA"}],f=()=>{t.value=!0,r.value=!0},l=()=>{a.value=!0,r.value=!0};ua(()=>M.show,k=>{S.value=k});const v=()=>{S.value=!1,w("close")};return(k,s)=>{const m=Qr,u=ti,n=oi,i=di,d=gi,b=an,y=ln;return de(),ke(Zt,{persistent:"",modelValue:V(S),"onUpdate:modelValue":s[3]||(s[3]=x=>bt(S)?S.value=x:null),"max-width":"900"},{default:F(()=>[A(Wt,null,{default:F(()=>[A(rt,null,{default:F(()=>[s[10]||(s[10]=Ve("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Cadastramento de pessoas ",-1)),Ve("div",kn,[A(Je,{modelValue:V(g).tipo_pessoa,"onUpdate:modelValue":s[0]||(s[0]=x=>V(g).tipo_pessoa=x),style:{width:"200px"},items:h,"item-title":"label","item-value":"value",label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:V(r)},null,8,["modelValue","disabled"])]),A(wn,{modelValue:V(O),"onUpdate:modelValue":s[1]||(s[1]=x=>bt(O)?O.value=x:null),"bg-color":"#f5f2f2"},{default:F(()=>[A(St,{value:"dados"},{default:F(()=>s[4]||(s[4]=[Re("Dados")])),_:1}),V(t)?(de(),ke(St,{key:0,value:"documento"},{default:F(()=>s[5]||(s[5]=[Re("Documentos")])),_:1})):He("",!0),V(a)?(de(),ke(St,{key:1,value:"representante"},{default:F(()=>s[6]||(s[6]=[Re("Representantes")])),_:1})):He("",!0),V(a)||V(t)?(de(),ke(St,{key:2,value:"endereco"},{default:F(()=>s[7]||(s[7]=[Re("Endereços")])),_:1})):He("",!0),V(t)?(de(),ke(St,{key:3,value:"biometria"},{default:F(()=>s[8]||(s[8]=[Re("Biometria")])),_:1})):He("",!0),V(a)||V(t)?(de(),ke(St,{key:4,value:"restricao"},{default:F(()=>s[9]||(s[9]=[Re("Restrições")])),_:1})):He("",!0)]),_:1},8,["modelValue"]),A(_r,{modelValue:V(O),"onUpdate:modelValue":s[2]||(s[2]=x=>bt(O)?O.value=x:null)},{default:F(()=>[A(At,{value:"dados"},{default:F(()=>[V(g).tipo_pessoa==="fisica"?(de(),ke(m,{key:0,onSaved:f,onCloseModal:v,isModal:!0})):V(g).tipo_pessoa==="juridica"?(de(),ke(u,{key:1,onSaved:l,onCloseModal:v,isModal:!0})):He("",!0)]),_:1}),k.showTabs?(de(),ke(At,{key:0,value:"documento"},{default:F(()=>[A(n,{onCloseModal:v,isModal:!0})]),_:1})):He("",!0),V(a)?(de(),ke(At,{key:1,value:"representante"},{default:F(()=>[A(i,{onCloseModal:v,isModal:!0})]),_:1})):He("",!0),V(a)||V(t)?(de(),ke(At,{key:2,value:"endereco"},{default:F(()=>[A(d,{onCloseModal:v,isModal:!0})]),_:1})):He("",!0),k.showTabs?(de(),ke(At,{key:3,value:"biometria"},{default:F(()=>[A(rt,null,{default:F(()=>[A(b,{onCloseModal:v,isModal:!0})]),_:1})]),_:1})):He("",!0),k.showTabs?(de(),ke(At,{key:4,value:"restricao"},{default:F(()=>[A(y,{onCloseModal:v,isModal:!0})]),_:1})):He("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{wn as V,yn as _,St as a,_r as b,At as c,zi as d,ti as e,oi as f,di as g,gi as h,an as i,ln as j,Qr as k};
