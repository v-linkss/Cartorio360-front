import{_ as X}from"./DEnbuNJQ.js";import{u as Z,r as d,D as p,F,o as b,A as K,w as r,x as H,b as o,a as n,s as u,q as l,K as J,L as q,c as D,J as G}from"./DXq1RCv8.js";import{u as A}from"./CkDNeakM.js";import{a as M,_ as Y,b as j,c as Q}from"./CBYd86re.js";import{_ as W}from"./DCsXQasW.js";import{V as $}from"./Clrg6PPk.js";import{V}from"./HL_xHFx0.js";import{V as s}from"./mZG8unQc.js";import{V as g}from"./CgIBcZUR.js";const ee="data:image/png;base64,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",te=n("h1",null,"Ordens de Serviço",-1),ae=n("hr",{class:"mt-5 mb-5"},null,-1),oe=["onClick"],le=n("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:ee,alt:"Receber"},null,-1),ie=[le],re=["onClick","title"],se=["disabled","onClick"],ue={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:j,alt:"Visualizar",title:"Reativar"},ne={key:1,src:Q,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},be={__name:"index",setup(de){const _=H(),C=`${_.public.managemant}/listarUsuarios`,h=`${_.public.managemant}/listarOrdensServico`,O=`${_.public.managemant}/tipoAtos`,B=Z(),f=d(p("auth_token").value)||null,v=d(p("user-data").value.cartorio_token)||null,m=d([]),k=d([]),w=d([]),L=d(["PENDENTE","EM ANDAMENTO","CONCLUÍDA","LAVRADA"]),t=F({numero:null,data_inicio:x(),data_fim:x(),data_lavratura_inicio:null,data_lavratura_fim:null,protocolo:null,livro:null,folha:null,situacao:null,usuario_token:f.value,selo:null,ato_tipo_token:null,apresentante:null}),I=[{title:"Número",value:"numero"},{title:"Situação",value:"situacao"},{title:"CPF",value:"apresentante_cpf"},{title:"Apresentante",value:"apresentante_nome"},{title:"Usuario",value:"usuario_nome"},{title:"Data Recebimento",value:"dt_pagto"},{value:"actions"}];function x(){const i=new Date,a=i.getFullYear(),c=String(i.getMonth()+1).padStart(2,"0"),e=String(i.getDate()).padStart(2,"0");return`${a}-${c}-${e}`}async function R(){const{data:i,error:a}=await A(C,{method:"POST",body:{cartorio_token:v.value}},"$865v1qFEsl");k.value=i.value}async function E(){try{const{data:i,error:a}=await A(h,{method:"POST",body:{cartorio_token:v.value,numero:t.numero,data_inicio:t.data_inicio,data_fim:t.data_fim,data_lavratura_inicio:t.data_lavratura_inicio,data_lavratura_fim:t.data_lavratura_fim,protocolo:t.protocolo,livro:t.livro,folha:t.folha,situacao:t.situacao,usuario_token:t.usuario_token,selo:t.selo,ato_tipo_token:t.ato_tipo_token,apresentante:t.apresentante}},"$GorUGsNsKS");i.value.length>0?m.value=i.value:m.value=[]}catch(i){console.error("Erro na requisição",i)}}async function P(){const{data:i,error:a}=await A(O,{method:"POST",body:{cartorio_token:v.value,usuario_token:f.value}},"$wkWiNo8Od3");w.value=i.value}async function N(){const i=x(),{data:a,error:c}=await A(h,{method:"POST",body:{cartorio_token:v.value,usuario_token:f.value,data_fim:i,data_inicio:i}},"$zDH8ovqZZe");a.value.length>0?(m.value=a.value,console.log(a.value)):m.value=[]}R(),P(),N();async function z(i){console.log("excluido")}function y(i){const a=p("user-service"),c=m.value.find(e=>e.id===i);a.value=c.token,B.push({path:`/ordens-servicos/atualizar/${i}`})}const U=d(null),T=()=>{const i=p("user-service"),a=p("ordem-button");i.value=null,U.value=!0,a.value=U.value};return(i,a)=>{const c=X;return b(),K($,{class:"mt-5"},{default:r(()=>[o(V,{class:"mb-5"},{default:r(()=>[te,o(c,{to:"/ordens-servicos/criar-registro"},{default:r(()=>[n("img",{style:{width:"60px",height:"60px",cursor:"pointer","margin-left":"70px"},src:M,alt:"novo",onClick:T})]),_:1})]),_:1}),o(V,{style:{"margin-bottom":"-35px"}},{default:r(()=>[o(s,null,{default:r(()=>[o(u,{modelValue:l(t).numero,"onUpdate:modelValue":a[0]||(a[0]=e=>l(t).numero=e),label:"Número",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),o(s,null,{default:r(()=>[o(u,{modelValue:l(t).data_inicio,"onUpdate:modelValue":a[1]||(a[1]=e=>l(t).data_inicio=e),type:"date",label:"Abertura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),o(s,null,{default:r(()=>[o(u,{modelValue:l(t).data_fim,"onUpdate:modelValue":a[2]||(a[2]=e=>l(t).data_fim=e),type:"date",label:"Abertura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),o(s,null,{default:r(()=>[o(u,{modelValue:l(t).data_lavratura_inicio,"onUpdate:modelValue":a[3]||(a[3]=e=>l(t).data_lavratura_inicio=e),type:"date",label:"Lavratura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),o(s,null,{default:r(()=>[o(u,{modelValue:l(t).data_lavratura_fim,"onUpdate:modelValue":a[4]||(a[4]=e=>l(t).data_lavratura_fim=e),type:"date",label:"Lavratura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),o(s,null,{default:r(()=>[o(u,{modelValue:l(t).protocolo,"onUpdate:modelValue":a[5]||(a[5]=e=>l(t).protocolo=e),label:"Protocolo",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),o(s,{md:"1"},{default:r(()=>[o(u,{modelValue:l(t).livro,"onUpdate:modelValue":a[6]||(a[6]=e=>l(t).livro=e),label:"Livro",style:{width:"80px"}},null,8,["modelValue"])]),_:1}),o(s,{md:"1"},{default:r(()=>[o(u,{modelValue:l(t).folha,"onUpdate:modelValue":a[7]||(a[7]=e=>l(t).folha=e),label:"Folha",style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1}),o(V,null,{default:r(()=>[o(s,{md:"3"},{default:r(()=>[o(g,{modelValue:l(t).situacao,"onUpdate:modelValue":a[8]||(a[8]=e=>l(t).situacao=e),items:l(L),label:"Situação"},null,8,["modelValue","items"])]),_:1}),o(s,{md:"2"},{default:r(()=>[o(g,{items:l(k),modelValue:l(t).usuario_token,"onUpdate:modelValue":a[9]||(a[9]=e=>l(t).usuario_token=e),"item-title":"user_nome","item-value":"user_token",label:"Usuario"},null,8,["items","modelValue"])]),_:1}),o(s,{md:"1"},{default:r(()=>[o(u,{modelValue:l(t).selo,"onUpdate:modelValue":a[10]||(a[10]=e=>l(t).selo=e),label:"Selo"},null,8,["modelValue"])]),_:1}),o(s,{md:"3"},{default:r(()=>[o(g,{modelValue:l(t).ato_tipo_token,"onUpdate:modelValue":a[11]||(a[11]=e=>l(t).ato_tipo_token=e),items:l(w),"item-title":"descricao","item-value":"token",label:"Serviço"},null,8,["modelValue","items"])]),_:1}),o(s,{md:"2"},{default:r(()=>[o(u,{modelValue:l(t).apresentante,"onUpdate:modelValue":a[12]||(a[12]=e=>l(t).apresentante=e),label:"Apresentante"},null,8,["modelValue"])]),_:1}),o(s,null,{default:r(()=>[n("div",null,[n("img",{onClick:E,style:{width:"40px",height:"40px",cursor:"pointer"},src:W,alt:"Pesquisar"})])]),_:1})]),_:1}),ae,o(G,{headers:I,items:l(m),"item-key":"id"},{"item.actions":r(({item:e})=>[o(V,{style:{display:"flex",gap:"10px","margin-top":"-5px"}},{default:r(()=>[n("div",{onClick:S=>y(e.id),title:"Receber"},ie,8,oe),n("div",{class:q({disabled:!e.btn_editar}),onClick:S=>e.btn_editar?y(e.id):null,title:e.btn_editar?"Editar":"Desabilitado"},[n("img",{style:J({cursor:e.btn_editar?"pointer":"default",width:"30px",height:"30px"}),src:Y,alt:"Editar"},null,4)],10,re),n("div",{disabled:!e.btn_cancelar,onClick:S=>e.btn_cancelar?z(e):null,title:"Excluir"},[e.excluido?(b(),D("img",ue)):(b(),D("img",ne))],8,se)]),_:2},1024)]),_:1},8,["items"])]),_:1})}}};export{be as default};
