import{_ as ne}from"./CvAtAUYe.js";import{_ as K}from"./DsnLBlyM.js";import{_ as W}from"./BVz1G1IN.js";import{_ as ue}from"./L8lhCgyo.js";import{_ as de}from"./CZ6s2hnK.js";import{_ as X,a as Y}from"./DJvq3mCv.js";import{C as Z,J as ee,u as ce,r as f,e as F,f as me,s as E,o as _,j as S,w as a,i as s,b as t,k as w,a as p,t as pe,c as b,A as G,d as j,L as _e,v as L,l as te,y as ve,V as J,h as fe,m as ye}from"./CC1fXFig.js";import{u as B}from"./B3h4Ol7V.js";import{V}from"./Ct8PT_32.js";import{V as re}from"./CF3cEpod.js";import{V as x}from"./Deq4BsE7.js";import{V as H}from"./CkMxGJcA.js";import{V as ae}from"./C4rhmkio.js";import{V as ge}from"./TOsycsxP.js";import{V as ke,a as Ve,b as be,c as xe}from"./BWvSmk39.js";import{V as oe}from"./BHtegVa1.js";import{_ as he,a as $e}from"./BidkqTEn.js";import{f as Q}from"./BqUfNmhP.js";import{c as we,r as ze,u as Ce}from"./D-rG0GiJ.js";const Te={style:{width:"800px","font-weight":"500"}},Oe=["onClick"],Be=["onClick"],qe=["onClick"],Ue={key:0,style:{width:"30px",height:"30px"},src:X,alt:"Reativar",title:"Reativar"},Pe={key:1,src:Y,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},dt={__name:"Bens",async setup(se){let n,g;const h=Z(),y=ee(),k=te(),{$toast:z}=ce(),C=`${k.public.managemant}/atos_bens`,T=`${k.public.managemant}/atos_bens`,q=`${k.public.managemant}/listarBens`,P=`${k.public.managemant}/listarTipoBens`,A=f(F("user-data").value.cartorio_token),U=f(F("user-data").value.usuario_id).value,$=f(y.query.origem==="vizualizar"),O=f([]),v=f([]),i=f(!1),M=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"vlr_alienacao"},{align:"end",value:"actions"}],d=me({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),N=async()=>{if(d.vlr_alienacao<=0&&!d.descricao){z.error("Os campos Descrição é obrigatório e Valor não pode ser 0 !");return}const{data:u,status:e}=await B(`${C}`,{method:"POST",body:{descricao:d.descricao,tipo_id:d.tipo_id,valor_mercado:"0.00",vlr_alienacao:d.vlr_alienacao.replace(/,/g,""),user_id:U,ato_id:Number.parseInt(y.query.ato_id),token:y.query.ato_token_edit}},"$aGIwRtPn6M");e.value==="success"&&(z.success("Bem registrado com sucesso!"),O.value.push(u.value),Object.assign(d,{vlr_alienacao:null,descricao:null,tipo_id:null}))},D=async u=>{const{status:e}=await B(`${T}/${u}`,{method:"PUT",body:{descricao:v.value.descricao,tipo_id:v.value.tipo_id,vlr_alienacao:v.value.vlr_alienacao.replace(/,/g,"")}},"$4hUMyAQlzU");e.value==="success"&&(z.success("Bem Atualizado com sucesso!"),i.value=!1)},R=u=>{const e=O.value.find(m=>m.id===u);e&&(v.value=e,i.value=!0)},{data:c}=([n,g]=E(()=>B(`${P}`,{method:"POST",body:{cartorio_token:A.value,imoveis:!1}},"$da802I2H8c")),n=await n,g(),n);d.tiposBens=c.value;const{data:o}=([n,g]=E(()=>B(`${q}`,{method:"POST",body:{ato_token:y.query.ato_token_edit}},"$iXfJJrO35d")),n=await n,g(),n);O.value=o.value&&Object.keys(o.value).length===0?[]:o.value;async function l(u){u.excluido=!u.excluido;try{await B(`${T}/${u.id}`,{method:"PUT",body:JSON.stringify({excluido:u.excluido})},"$PGKHfsa7Pl")}catch(e){console.error("Erro ao excluir pessoa:",e)}}const I=()=>{const u=y.query.origem||"criar",e=y.query.id;switch(u){case"atualizar":case"vizualizar":h.push(`/os/atualizar/${e}`);break;case"atualizar-lista":case"vizualizar-lista":h.push("/atos/lista");break;default:h.push("/os/criar-registro");break}};return(u,e)=>{const m=ne,le=K;return _(),S(oe,null,{default:a(()=>[s($)?w("",!0):(_(),S(V,{key:0,class:"mt-5",cols:"12"},{default:a(()=>[t(re,{label:"Descrição",modelValue:s(d).descricao,"onUpdate:modelValue":e[0]||(e[0]=r=>s(d).descricao=r)},null,8,["modelValue"])]),_:1})),s($)?w("",!0):(_(),S(x,{key:1,class:"ml-1 mb-3"},{default:a(()=>[t(V,{class:"mt-6",cols:"8"},{default:a(()=>[t(H,{label:"Selecione o Tipo",items:s(d).tiposBens,modelValue:s(d).tipo_id,"onUpdate:modelValue":e[1]||(e[1]=r=>s(d).tipo_id=r),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),t(V,{class:"ml-5",cols:"3"},{default:a(()=>[e[9]||(e[9]=p("label",null,"Valor",-1)),t(m,{modelValue:s(d).vlr_alienacao,"onUpdate:modelValue":e[2]||(e[2]=r=>s(d).vlr_alienacao=r)},null,8,["modelValue"])]),_:1}),p("div",null,[p("img",{class:"mt-7 ml-4",src:W,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:N})])]),_:1})),t(x,null,{default:a(()=>[t(V,null,{default:a(()=>[t(ae,{style:{height:"465px"},headers:M,items:s(O)},{"item.descricao":a(({item:r})=>[p("h3",Te,pe(r.descricao),1)]),"item.actions":a(({item:r})=>[t(x,{style:{"margin-top":"-8px"},justify:"end"},{default:a(()=>[p("div",{style:{cursor:"pointer"},class:"mr-2",onClick:ie=>u.redirectToFicha(r),title:"Visualizar Ficha"},e[10]||(e[10]=[p("img",{style:{width:"30px",height:"30px"},src:ue,alt:"Visualizar"},null,-1)]),8,Oe),p("div",{style:{cursor:"pointer"},class:"mr-2",onClick:ie=>R(r.id),title:"Alterar Papel"},e[11]||(e[11]=[p("img",{style:{width:"30px",height:"30px"},src:de,alt:"Editar"},null,-1)]),8,Be),p("div",{style:{cursor:"pointer"},class:"mr-2",onClick:ie=>l(r),title:"Deletar Pessoa"},[r.excluido?(_(),b("img",Ue)):(_(),b("img",Pe))],8,qe)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),t(ge,{modelValue:s(i),"onUpdate:modelValue":e[8]||(e[8]=r=>G(i)?i.value=r:null),"max-width":"600px"},{default:a(()=>[t(ke,null,{default:a(()=>[t(Ve,{style:{color:"green"}},{default:a(()=>e[12]||(e[12]=[j("Atualizar Bem")])),_:1}),t(be,null,{default:a(()=>[t(V,{class:"mt-1",cols:"12"},{default:a(()=>[t(re,{label:"Descrição",modelValue:s(v).descricao,"onUpdate:modelValue":e[3]||(e[3]=r=>s(v).descricao=r)},null,8,["modelValue"])]),_:1}),t(x,null,{default:a(()=>[t(V,{class:"mt-6 ml-3",cols:"8"},{default:a(()=>[t(H,{label:"Selecione o Tipo",items:s(d).tiposBens,modelValue:s(v).tipo_id,"onUpdate:modelValue":e[4]||(e[4]=r=>s(v).tipo_id=r),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),t(V,{class:"ml-5",cols:"3"},{default:a(()=>[e[13]||(e[13]=p("label",null,"Valor",-1)),t(m,{modelValue:s(v).vlr_alienacao,"onUpdate:modelValue":e[5]||(e[5]=r=>s(v).vlr_alienacao=r)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(xe,null,{default:a(()=>[t(_e),t(L,{color:"green",text:"",onClick:e[6]||(e[6]=r=>i.value=!1)},{default:a(()=>e[14]||(e[14]=[j("Cancelar")])),_:1}),t(L,{color:"green",text:"",onClick:e[7]||(e[7]=r=>D(s(v).id))},{default:a(()=>e[15]||(e[15]=[j("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(x,null,{default:a(()=>[t(le,{onClick:I},{default:a(()=>[t(L,{size:"large",color:"red"},{default:a(()=>e[16]||(e[16]=[j("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Ae={style:{width:"200px"}},De={style:{width:"300px"}},Ie={style:{width:"800px","font-weight":"500"}},Se=["onClick"],je=["onClick"],Me=["onClick"],Ne={key:0,style:{width:"30px",height:"30px"},src:X,alt:"Visualizar",title:"Reativar"},Re={key:1,src:Y,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},ct={__name:"Imoveis",async setup(se){let n,g;const h=te(),y=`${h.public.auth}/service/gerencia/atos_imoveis`,k=`${h.public.auth}/service/gerencia/atos_bens`,z=Z(),C=ee(),T=f(""),q=f(""),P=f(!1),A=f(!1),U=f(null),$=f(C.query.origem==="vizualizar"),O=[{title:"Matrícula",value:"registro_matricula"},{title:"Descrição",value:"descricao"},{value:"actions"}],{data:v,status:i}=([n,g]=E(()=>Q(y,{method:"POST",body:{ato_token:C.query.ato_token_edit}})),n=await n,g(),n),M=ve(()=>{if(Object.keys(v.value).length!==0)return v.value.filter(c=>{const o=c.matricula?c.matricula.toLowerCase():"",l=c.descricao?c.descricao.toLowerCase():"",I=o.includes(q.value.toLowerCase()),u=l.includes(T.value.toLowerCase());return I&&u})});async function d(c){c.excluido=!c.excluido;try{await Q(`${k}/${c.id}`,{method:"PUT",body:{excluido:c.excluido}})}catch(o){console.error("Erro ao excluir pessoa:",o)}}function N(c){U.value=c,A.value=!0}const D=async()=>{await Q(y,{method:"POST",body:{ato_token:C.query.ato_token_edit}})},R=()=>{const c=C.query.origem||"criar",o=C.query.id;switch(c){case"atualizar":case"vizualizar":z.push(`/os/atualizar/${o}`);break;case"atualizar-lista":case"vizualizar-lista":z.push("/atos/lista");break;default:z.push("/os/criar-registro");break}};return(c,o)=>{const l=K,I=he,u=$e;return s(i)==="success"?(_(),S(oe,{key:0,class:"mt-5"},{default:a(()=>[s($)?w("",!0):(_(),b("img",{key:0,onClick:o[0]||(o[0]=e=>P.value=!0),style:{cursor:"pointer"},src:W,alt:"Cadastro"})),t(x,{style:{gap:"3rem"}},{default:a(()=>[p("div",Ae,[t(J,{class:"mt-7 mb-4",modelValue:s(q),"onUpdate:modelValue":o[1]||(o[1]=e=>G(q)?q.value=e:null),label:"Matrícula","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),p("div",De,[t(J,{class:"mt-7 mb-4",modelValue:s(T),"onUpdate:modelValue":o[2]||(o[2]=e=>G(T)?T.value=e:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),t(ae,{density:"compact",headers:O,items:s(M),"item-key":"id"},{"item.descricao":a(({item:e})=>[p("h3",Ie,pe(e.descricao),1)]),"item.actions":a(({item:e})=>[t(x,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:a(()=>[s($)?w("",!0):(_(),b("div",{key:0,style:{cursor:"pointer"},onClick:m=>c.redirectToView(e.id),title:"Visualizar"},o[5]||(o[5]=[p("img",{style:{width:"30px",height:"30px"},src:ue,alt:"Visualizar"},null,-1)]),8,Se)),s($)?w("",!0):(_(),b("div",{key:1,style:{cursor:"pointer"},onClick:m=>N(e.id),title:"Atualizar"},o[6]||(o[6]=[p("img",{style:{width:"30px",height:"30px"},src:de,alt:"Atualizar"},null,-1)]),8,je)),s($)?w("",!0):(_(),b("div",{key:2,style:{cursor:"pointer"},onClick:m=>d(e),title:"Deletar"},[e.excluido?(_(),b("img",Ne)):(_(),b("img",Re))],8,Me))]),_:2},1024)]),_:1},8,["items"]),t(l,{onClick:R},{default:a(()=>[t(L,{size:"large",color:"red"},{default:a(()=>o[7]||(o[7]=[j("Voltar")])),_:1})]),_:1}),t(I,{onRefresh:D,show:s(P),onClose:o[3]||(o[3]=e=>P.value=!1)},null,8,["show"]),t(u,{onRefresh:D,imovel_id:s(U),show:s(A),onClose:o[4]||(o[4]=e=>A.value=!1)},null,8,["imovel_id","show"])]),_:1})):w("",!0)}}},Le=["onClick"],Ee={key:0,style:{width:"30px",height:"30px"},src:X,alt:"Visualizar",title:"Reativar"},Fe={key:1,src:Y,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},mt={__name:"Outros",props:{ato_id:{type:Number,required:!0}},async setup(se){let n,g;const h=Z(),y=ee(),k=te(),{$toast:z}=ce(),C=`${k.public.managemant}/outros_tj`,T=`${k.public.managemant}/outros`,q=`${k.public.managemant}/atos_outros`,P=`${k.public.managemant}/atos_outros`;`${k.public.managemant}`;const A=f(F("user-data").value.cartorio_token),U=f(y.query.origem==="vizualizar"),$=f([]),O=f([]),v=[{title:"Id",align:"start",key:"id"},{title:"Descrição",align:"start",key:"descricao"},{title:"Quantidade",align:"start",key:"quantidade"},{title:"Valor Unitario",align:"start",key:"valor_unitario"},{value:"actions"}],i=me({observacao:null,outros_tj_id:null,quantidade:1,valor_unitario:null}),M={observacao:{required:we.withMessage("O campo é obrigatório",ze)}};Ce(M,i);async function d(){const{error:o,status:l}=await B(q,{method:"POST",body:{ato_id:y.query.ato_id,observacao:i.observacao,valor_unitario:i.valor_unitario.replace(/,/g,""),outros_tj_id:i.outros_tj_id,quantidade:i.quantidade,user_id:F("user-data").value.usuario_id}},"$kQ0nj1mhl6");l.value==="success"&&(z.success("Outro Ato registrado com sucesso"),await D())}async function N(o){o.excluido=!o.excluido;try{await B(`${P}/${o.id}`,{method:"PUT",body:JSON.stringify({excluido:o.excluido})},"$DwnPGm5aLw")}catch(l){console.error("Erro ao excluir observação:",l)}}async function D(){const{data:o}=await B(T,{method:"POST",body:{ato_token:y.query.ato_token_edit}},"$2e0uNuFQSO");$.value=o.value||[]}const{data:R}=([n,g]=E(()=>B(C,{method:"POST",body:{cartorio_token:A}},"$YuLwFWKIry")),n=await n,g(),n);O.value=R.value,[n,g]=E(()=>D()),await n,g();const c=()=>{const o=y.query.origem||"criar",l=y.query.id;switch(o){case"atualizar":case"vizualizar":h.push(`/os/atualizar/${l}`);break;case"atualizar-lista":case"vizualizar-lista":h.push("/atos/lista");break;default:h.push("/os/criar-registro");break}};return(o,l)=>{const I=ne,u=K,e=fe("mask");return _(),S(oe,null,{default:a(()=>[U.value?w("",!0):(_(),S(x,{key:0},{default:a(()=>[t(V,{cols:"5",class:"mt-6"},{default:a(()=>[t(H,{label:"Outros Atos",items:O.value,"item-title":"descricao","item-value":"id",modelValue:i.outros_tj_id,"onUpdate:modelValue":l[0]||(l[0]=m=>i.outros_tj_id=m)},null,8,["items","modelValue"])]),_:1}),t(V,{cols:"2",class:"mt-6"},{default:a(()=>[ye(t(J,{label:"QTD",type:"number",modelValue:i.quantidade,"onUpdate:modelValue":l[1]||(l[1]=m=>i.quantidade=m)},null,8,["modelValue"]),[[e,"###"]])]),_:1}),t(V,{cols:"2"},{default:a(()=>[l[4]||(l[4]=p("label",{for:""},"Valor unitario",-1)),t(I,{modelValue:i.valor_unitario,"onUpdate:modelValue":l[2]||(l[2]=m=>i.valor_unitario=m)},null,8,["modelValue"])]),_:1}),p("div",null,[p("img",{class:"btn-pointer ml-2 mt-7",src:W,style:{width:"40px",cursor:"pointer"},title:"Criar Pessoa",onClick:d})])]),_:1})),U.value?w("",!0):(_(),S(x,{key:1},{default:a(()=>[t(V,{cols:"9"},{default:a(()=>[t(J,{label:"Observação",modelValue:i.observacao,"onUpdate:modelValue":l[3]||(l[3]=m=>i.observacao=m)},null,8,["modelValue"])]),_:1})]),_:1})),t(x,null,{default:a(()=>[t(V,null,{default:a(()=>[t(ae,{style:{height:"465px"},headers:v,items:$.value},{"item.actions":a(({item:m})=>[U.value?w("",!0):(_(),b("div",{key:0,style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:le=>N(m),title:"Deletar Observação"},[m.excluido?(_(),b("img",Ee)):(_(),b("img",Fe))],8,Le))]),_:1},8,["items"])]),_:1})]),_:1}),t(x,null,{default:a(()=>[t(u,{onClick:c},{default:a(()=>[t(L,{size:"large",color:"red"},{default:a(()=>l[5]||(l[5]=[j("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}};export{dt as _,ct as a,mt as b};
