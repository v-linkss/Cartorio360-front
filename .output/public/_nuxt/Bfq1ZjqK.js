import{_ as de}from"./DxhtBlId.js";import{_ as J}from"./zhs9mdLm.js";import{_ as te}from"./BVz1G1IN.js";import{_ as ce}from"./jNAH1ETI.js";import{_ as me}from"./DmP6YNpA.js";import{_ as ae,a as oe}from"./DJvq3mCv.js";import{m as H,Q as Y,u as se,r as c,n as Q,p as le,H as G,o as _,y as R,w as a,x as s,b as e,z as q,a as k,t as _e,c as P,M as ee,d as S,R as ve,I as E,A as W,K as pe,V as L,q as fe,v as ye,B as ge}from"./KmxbTDZB.js";import{u as D}from"./DLq9EETm.js";import{V as y}from"./Dtk2z_RO.js";import{V as ue}from"./ANQ_rdlg.js";import{V as z}from"./ELG2dCWN.js";import{V as K}from"./CID6-TrE.js";import{V as ie}from"./FgNYIwgh.js";import{V as be}from"./DuY-l32M.js";import{V as Ve,a as ke,b as he,c as xe}from"./Dt_-M_Zp.js";import{V as X}from"./Dovvx7W8.js";import{_ as $e,a as we}from"./syaPipua.js";import{f as N}from"./Dlkw5yEr.js";import{c as ze,r as Ce,u as qe}from"./C2H22RUC.js";const Te={style:{width:"800px","font-weight":"500"}},Be=["onClick"],Oe=["onClick"],Ue=["onClick"],Ae={key:0,style:{width:"30px",height:"30px"},src:ae,alt:"Reativar",title:"Reativar"},Pe={key:1,src:oe,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},ct={__name:"Bens",async setup(Z){let r,i;const $=H(),v=Y(),g=W(),{$toast:T}=se(),B=`${g.public.managemant}/atos_bens`,O=`${g.public.managemant}/atos_bens`,U=`${g.public.managemant}/listarBens`,M=`${g.public.managemant}/listarTipoBens`,I=c(Q("user-data").value.cartorio_token),C=c(Q("user-data").value.usuario_id).value,w=c(v.query.origem==="vizualizar"),A=c([]),b=c([]),n=c(!1),d=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"vlr_alienacao"},{align:"end",value:"actions"}],o=le({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),x=async()=>{if(o.vlr_alienacao<=0&&!o.descricao){T.error("Os campos Descrição é obrigatório e Valor não pode ser 0 !");return}const{data:p,status:t}=await D(`${B}`,{method:"POST",body:{descricao:o.descricao,tipo_id:o.tipo_id,valor_mercado:"0.00",vlr_alienacao:o.vlr_alienacao.replace(/,/g,""),user_id:C,ato_id:Number.parseInt(v.query.ato_id),token:v.query.ato_token_edit}},"$aGIwRtPn6M");t.value==="success"&&(T.success("Bem registrado com sucesso!"),A.value.push(p.value),Object.assign(o,{vlr_alienacao:null,descricao:null,tipo_id:null}))},h=async p=>{const{status:t}=await D(`${O}/${p}`,{method:"PUT",body:{descricao:b.value.descricao,tipo_id:b.value.tipo_id,vlr_alienacao:b.value.vlr_alienacao.replace(/,/g,"")}},"$4hUMyAQlzU");t.value==="success"&&(T.success("Bem Atualizado com sucesso!"),n.value=!1)},F=p=>{const t=A.value.find(V=>V.id===p);t&&(b.value=t,n.value=!0)},{data:f}=([r,i]=G(()=>D(`${M}`,{method:"POST",body:{cartorio_token:I.value,imoveis:!1}},"$da802I2H8c")),r=await r,i(),r);o.tiposBens=f.value;const{data:l}=([r,i]=G(()=>D(`${U}`,{method:"POST",body:{ato_token:v.query.ato_token_edit}},"$iXfJJrO35d")),r=await r,i(),r);A.value=l.value&&Object.keys(l.value).length===0?[]:l.value;async function u(p){p.excluido=!p.excluido;try{await D(`${O}/${p.id}`,{method:"PUT",body:JSON.stringify({excluido:p.excluido})},"$PGKHfsa7Pl")}catch(t){console.error("Erro ao excluir pessoa:",t)}}const j=()=>{const p=v.query.origem||"criar",t=v.query.id;switch(p){case"atualizar":case"vizualizar":$.push(`/os/atualizar/${t}`);break;case"atualizar-lista":case"vizualizar-lista":$.push("/atos/lista");break;default:$.push("/os/criar-registro");break}};return(p,t)=>{const V=de,re=J;return _(),R(X,null,{default:a(()=>[s(w)?q("",!0):(_(),R(y,{key:0,class:"mt-5",cols:"12"},{default:a(()=>[e(ue,{label:"Descrição",modelValue:s(o).descricao,"onUpdate:modelValue":t[0]||(t[0]=m=>s(o).descricao=m)},null,8,["modelValue"])]),_:1})),s(w)?q("",!0):(_(),R(z,{key:1,class:"ml-1 mb-3"},{default:a(()=>[e(y,{class:"mt-6",cols:"8"},{default:a(()=>[e(K,{label:"Selecione o Tipo",items:s(o).tiposBens,modelValue:s(o).tipo_id,"onUpdate:modelValue":t[1]||(t[1]=m=>s(o).tipo_id=m),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(y,{class:"ml-5",cols:"3"},{default:a(()=>[t[9]||(t[9]=k("label",null,"Valor",-1)),e(V,{modelValue:s(o).vlr_alienacao,"onUpdate:modelValue":t[2]||(t[2]=m=>s(o).vlr_alienacao=m)},null,8,["modelValue"])]),_:1}),k("div",null,[k("img",{class:"mt-7 ml-4",src:te,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:x})])]),_:1})),e(z,null,{default:a(()=>[e(y,null,{default:a(()=>[e(ie,{style:{height:"465px"},headers:d,items:s(A)},{"item.descricao":a(({item:m})=>[k("h3",Te,_e(m.descricao),1)]),"item.actions":a(({item:m})=>[e(z,{style:{"margin-top":"-8px"},justify:"end"},{default:a(()=>[k("div",{style:{cursor:"pointer"},class:"mr-2",onClick:ne=>p.redirectToFicha(m),title:"Visualizar Ficha"},t[10]||(t[10]=[k("img",{style:{width:"30px",height:"30px"},src:ce,alt:"Visualizar"},null,-1)]),8,Be),k("div",{style:{cursor:"pointer"},class:"mr-2",onClick:ne=>F(m.id),title:"Alterar Papel"},t[11]||(t[11]=[k("img",{style:{width:"30px",height:"30px"},src:me,alt:"Editar"},null,-1)]),8,Oe),k("div",{style:{cursor:"pointer"},class:"mr-2",onClick:ne=>u(m),title:"Deletar Pessoa"},[m.excluido?(_(),P("img",Ae)):(_(),P("img",Pe))],8,Ue)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(be,{modelValue:s(n),"onUpdate:modelValue":t[8]||(t[8]=m=>ee(n)?n.value=m:null),"max-width":"600px"},{default:a(()=>[e(Ve,null,{default:a(()=>[e(ke,{style:{color:"green"}},{default:a(()=>t[12]||(t[12]=[S("Atualizar Bem")])),_:1}),e(he,null,{default:a(()=>[e(y,{class:"mt-1",cols:"12"},{default:a(()=>[e(ue,{label:"Descrição",modelValue:s(b).descricao,"onUpdate:modelValue":t[3]||(t[3]=m=>s(b).descricao=m)},null,8,["modelValue"])]),_:1}),e(z,null,{default:a(()=>[e(y,{class:"mt-6 ml-3",cols:"8"},{default:a(()=>[e(K,{label:"Selecione o Tipo",items:s(o).tiposBens,modelValue:s(b).tipo_id,"onUpdate:modelValue":t[4]||(t[4]=m=>s(b).tipo_id=m),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(y,{class:"ml-5",cols:"3"},{default:a(()=>[t[13]||(t[13]=k("label",null,"Valor",-1)),e(V,{modelValue:s(b).vlr_alienacao,"onUpdate:modelValue":t[5]||(t[5]=m=>s(b).vlr_alienacao=m)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(xe,null,{default:a(()=>[e(ve),e(E,{color:"green",text:"",onClick:t[6]||(t[6]=m=>n.value=!1)},{default:a(()=>t[14]||(t[14]=[S("Cancelar")])),_:1}),e(E,{color:"green",text:"",onClick:t[7]||(t[7]=m=>h(s(b).id))},{default:a(()=>t[15]||(t[15]=[S("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(z,null,{default:a(()=>[e(re,{onClick:j},{default:a(()=>[e(E,{size:"large",color:"red"},{default:a(()=>t[16]||(t[16]=[S("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},De={style:{width:"200px"}},Re={style:{width:"300px"}},Me={style:{width:"800px","font-weight":"500"}},Ie=["onClick"],Se=["onClick"],je=["onClick"],Ne={key:0,style:{width:"30px",height:"30px"},src:ae,alt:"Visualizar",title:"Reativar"},Ee={key:1,src:oe,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},mt={__name:"Imoveis",async setup(Z){let r,i;const $=W(),v=`${$.public.auth}/service/gerencia/atos_imoveis`,g=`${$.public.auth}/service/gerencia/atos_bens`,T=H(),B=Y(),O=c(""),U=c(""),M=c(!1),I=c(!1),C=c(null),w=c(B.query.origem==="vizualizar"),A=[{title:"Matrícula",value:"registro_matricula"},{title:"Descrição",value:"descricao"},{value:"actions"}],{data:b,status:n}=([r,i]=G(()=>N(v,{method:"POST",body:{ato_token:B.query.ato_token_edit}})),r=await r,i(),r),d=pe(()=>{if(Object.keys(b.value).length!==0)return b.value.filter(f=>{const l=f.matricula?f.matricula.toLowerCase():"",u=f.descricao?f.descricao.toLowerCase():"",j=l.includes(U.value.toLowerCase()),p=u.includes(O.value.toLowerCase());return j&&p})});async function o(f){f.excluido=!f.excluido;try{await N(`${g}/${f.id}`,{method:"PUT",body:{excluido:f.excluido}})}catch(l){console.error("Erro ao excluir pessoa:",l)}}function x(f){C.value=f,I.value=!0}const h=async()=>{await N(v,{method:"POST",body:{ato_token:B.query.ato_token_edit}})},F=()=>{const f=B.query.origem||"criar",l=B.query.id;switch(f){case"atualizar":case"vizualizar":T.push(`/os/atualizar/${l}`);break;case"atualizar-lista":case"vizualizar-lista":T.push("/atos/lista");break;default:T.push("/os/criar-registro");break}};return(f,l)=>{const u=J,j=$e,p=we;return s(n)==="success"?(_(),R(X,{key:0,class:"mt-5"},{default:a(()=>[s(w)?q("",!0):(_(),P("img",{key:0,onClick:l[0]||(l[0]=t=>M.value=!0),style:{cursor:"pointer"},src:te,alt:"Cadastro"})),e(z,{style:{gap:"3rem"}},{default:a(()=>[k("div",De,[e(L,{class:"mt-7 mb-4",modelValue:s(U),"onUpdate:modelValue":l[1]||(l[1]=t=>ee(U)?U.value=t:null),label:"Matrícula","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),k("div",Re,[e(L,{class:"mt-7 mb-4",modelValue:s(O),"onUpdate:modelValue":l[2]||(l[2]=t=>ee(O)?O.value=t:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),e(ie,{density:"compact",headers:A,items:s(d),"item-key":"id"},{"item.descricao":a(({item:t})=>[k("h3",Me,_e(t.descricao),1)]),"item.actions":a(({item:t})=>[e(z,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:a(()=>[s(w)?q("",!0):(_(),P("div",{key:0,style:{cursor:"pointer"},onClick:V=>f.redirectToView(t.id),title:"Visualizar"},l[5]||(l[5]=[k("img",{style:{width:"30px",height:"30px"},src:ce,alt:"Visualizar"},null,-1)]),8,Ie)),s(w)?q("",!0):(_(),P("div",{key:1,style:{cursor:"pointer"},onClick:V=>x(t.id),title:"Atualizar"},l[6]||(l[6]=[k("img",{style:{width:"30px",height:"30px"},src:me,alt:"Atualizar"},null,-1)]),8,Se)),s(w)?q("",!0):(_(),P("div",{key:2,style:{cursor:"pointer"},onClick:V=>o(t),title:"Deletar"},[t.excluido?(_(),P("img",Ne)):(_(),P("img",Ee))],8,je))]),_:2},1024)]),_:1},8,["items"]),e(u,{onClick:F},{default:a(()=>[e(E,{size:"large",color:"red"},{default:a(()=>l[7]||(l[7]=[S("Voltar")])),_:1})]),_:1}),e(j,{onRefresh:h,show:s(M),onClose:l[3]||(l[3]=t=>M.value=!1)},null,8,["show"]),e(p,{onRefresh:h,imovel_id:s(C),show:s(I),onClose:l[4]||(l[4]=t=>I.value=!1)},null,8,["imovel_id","show"])]),_:1})):q("",!0)}}},_t={__name:"SeparacaoDivorcio",setup(Z){const r=W(),i=le({dt_casamento:null,tabvalores_regimecasamento_id:null,qtd_filhos_maiores:null,qtd_filhos_menores:null,responsavel_menores_id:null}),$=c([]),v=H(),g=Y(),{$toast:T}=se(),B=`${r.public.auth}/service/gerencia/getAtos/${g.query.ato_id}`,O=`${r.public.auth}/service/gerencia/regime_casamento`,U=`${r.public.auth}/service/gerencia/getAtosPessoaById/${g.query.ato_id}`,M=`${r.public.managemant}/updateAtos`;c(""),c(""),c(!1),c(!1),c(null),fe(async()=>{const[d,o,x]=await Promise.all([N(B,{method:"GET"}),N(O,{method:"GET"}),N(U,{method:"GET"})]);d.data.value&&Object.assign(i,d.data.value[0]||d.data.value),o.data.value&&($.value=o.data.value),x.data.value&&(C.value=x.data.value)});const I=async()=>{try{const{data:d}=await N(U,{method:"GET"});C.value=d.value||[]}catch{}},C=c([]),w=pe(()=>{var d;return((d=C.value)==null?void 0:d.map(o=>{var x;return{id:o.id,nome:((x=o.pessoa)==null?void 0:x.nome)||"Sem nome"}}))||[]}),A=()=>{const d=g.query.origem||"criar",o=g.query.id;switch(d){case"atualizar":case"vizualizar":v.push(`/os/atualizar/${o}`);break;case"atualizar-lista":case"vizualizar-lista":v.push("/atos/lista");break;default:v.push("/os/criar-registro");break}};async function b(){const{data:d,error:o,status:x}=await D(`${M}/${g.query.ato_id}`,{method:"PUT",body:{dt_casamento:i.dt_casamento,tabvalores_regimecasamento_id:i.tabvalores_regimecasamento_id,qtd_filhos_maiores:i.qtd_filhos_maiores,qtd_filhos_menores:i.qtd_filhos_menores,responsavel_menores_id:i.responsavel_menores_id}},"$sJMejO9HYY");x.value==="success"&&T.success("Divórcio salvo com sucesso")}const n=d=>{const o=["Backspace","Tab","ArrowLeft","ArrowRight","Delete"];!/[0-9]/.test(d.key)&&!o.includes(d.key)&&d.preventDefault()};return(d,o)=>{const x=J;return _(),R(X,{class:"mt-5"},{default:a(()=>[e(z,{dense:""},{default:a(()=>[e(y,{cols:"12",sm:"4",md:"3"},{default:a(()=>[e(L,{modelValue:s(i).dt_casamento,"onUpdate:modelValue":o[0]||(o[0]=h=>s(i).dt_casamento=h),type:"date",label:"Data Casamento"},null,8,["modelValue"])]),_:1}),e(y,{cols:"12",sm:"6",md:"4"},{default:a(()=>[s($).length?(_(),R(K,{key:0,label:"Regime Bens",modelValue:s(i).tabvalores_regimecasamento_id,"onUpdate:modelValue":o[1]||(o[1]=h=>s(i).tabvalores_regimecasamento_id=h),items:s($),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])):q("",!0)]),_:1}),e(y,{cols:"12",sm:"6",md:"3"},{default:a(()=>[e(L,{label:"Filhos Maiores",modelValue:s(i).qtd_filhos_maiores,"onUpdate:modelValue":o[2]||(o[2]=h=>s(i).qtd_filhos_maiores=h),modelModifiers:{number:!0},type:"number",min:"0",onKeydown:n},null,8,["modelValue"])]),_:1}),e(y,{cols:"12",sm:"6",md:"3"},{default:a(()=>[e(L,{label:"Filhos Menores",modelValue:s(i).qtd_filhos_menores,"onUpdate:modelValue":o[3]||(o[3]=h=>s(i).qtd_filhos_menores=h),modelModifiers:{number:!0},type:"number",min:"0",onKeydown:n},null,8,["modelValue"])]),_:1}),e(y,{cols:"12",sm:"6",md:"4"},{default:a(()=>[s(w).length?(_(),R(K,{key:0,onFocus:I,label:"Responsável",modelValue:s(i).responsavel_menores_id,"onUpdate:modelValue":o[4]||(o[4]=h=>s(i).responsavel_menores_id=h),items:s(w),"item-title":"nome","item-value":"id",required:""},null,8,["modelValue","items"])):q("",!0)]),_:1})]),_:1}),e(z,{class:"mt-5",justify:"start",align:"center"},{default:a(()=>[e(y,{cols:"auto"},{default:a(()=>[e(x,{onClick:A},{default:a(()=>[e(E,{size:"large",color:"red"},{default:a(()=>o[5]||(o[5]=[S("Voltar")])),_:1})]),_:1})]),_:1}),e(y,{cols:"auto"},{default:a(()=>[e(E,{class:"ml-2",onClick:b,size:"large",color:"green"},{default:a(()=>o[6]||(o[6]=[S("Salvar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Le=["onClick"],Fe={key:0,style:{width:"30px",height:"30px"},src:ae,alt:"Visualizar",title:"Reativar"},Ge={key:1,src:oe,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},pt={__name:"Outros",props:{ato_id:{type:Number,required:!0}},async setup(Z){let r,i;const $=H(),v=Y(),g=W(),{$toast:T}=se(),B=`${g.public.managemant}/outros_tj`,O=`${g.public.managemant}/outros`,U=`${g.public.managemant}/atos_outros`,M=`${g.public.managemant}/atos_outros`;`${g.public.managemant}`;const I=c(Q("user-data").value.cartorio_token),C=c(v.query.origem==="vizualizar"),w=c([]),A=c([]),b=[{title:"Id",align:"start",key:"id"},{title:"Descrição",align:"start",key:"descricao"},{title:"Quantidade",align:"start",key:"quantidade"},{title:"Valor Unitario",align:"start",key:"valor_unitario"},{value:"actions"}],n=le({observacao:null,outros_tj_id:null,quantidade:1,valor_unitario:null}),d={observacao:{required:ze.withMessage("O campo é obrigatório",Ce)}};qe(d,n);async function o(){const{error:l,status:u}=await D(U,{method:"POST",body:{ato_id:v.query.ato_id,observacao:n.observacao,valor_unitario:n.valor_unitario.replace(/,/g,""),outros_tj_id:n.outros_tj_id,quantidade:n.quantidade,user_id:Q("user-data").value.usuario_id}},"$kQ0nj1mhl6");u.value==="success"&&(T.success("Outro Ato registrado com sucesso"),await h())}async function x(l){l.excluido=!l.excluido;try{await D(`${M}/${l.id}`,{method:"PUT",body:JSON.stringify({excluido:l.excluido})},"$DwnPGm5aLw")}catch(u){console.error("Erro ao excluir observação:",u)}}async function h(){const{data:l}=await D(O,{method:"POST",body:{ato_token:v.query.ato_token_edit}},"$2e0uNuFQSO");w.value=l.value||[]}const{data:F}=([r,i]=G(()=>D(B,{method:"POST",body:{cartorio_token:I}},"$YuLwFWKIry")),r=await r,i(),r);A.value=F.value,[r,i]=G(()=>h()),await r,i();const f=()=>{const l=v.query.origem||"criar",u=v.query.id;switch(l){case"atualizar":case"vizualizar":$.push(`/os/atualizar/${u}`);break;case"atualizar-lista":case"vizualizar-lista":$.push("/atos/lista");break;default:$.push("/os/criar-registro");break}};return(l,u)=>{const j=de,p=J,t=ye("mask");return _(),R(X,null,{default:a(()=>[C.value?q("",!0):(_(),R(z,{key:0},{default:a(()=>[e(y,{cols:"5",class:"mt-6"},{default:a(()=>[e(K,{label:"Outros Atos",items:A.value,"item-title":"descricao","item-value":"id",modelValue:n.outros_tj_id,"onUpdate:modelValue":u[0]||(u[0]=V=>n.outros_tj_id=V)},null,8,["items","modelValue"])]),_:1}),e(y,{cols:"2",class:"mt-6"},{default:a(()=>[ge(e(L,{label:"QTD",type:"number",modelValue:n.quantidade,"onUpdate:modelValue":u[1]||(u[1]=V=>n.quantidade=V)},null,8,["modelValue"]),[[t,"###"]])]),_:1}),e(y,{cols:"2"},{default:a(()=>[u[4]||(u[4]=k("label",{for:""},"Valor unitario",-1)),e(j,{modelValue:n.valor_unitario,"onUpdate:modelValue":u[2]||(u[2]=V=>n.valor_unitario=V)},null,8,["modelValue"])]),_:1}),k("div",null,[k("img",{class:"btn-pointer ml-2 mt-7",src:te,style:{width:"40px",cursor:"pointer"},title:"Criar Pessoa",onClick:o})])]),_:1})),C.value?q("",!0):(_(),R(z,{key:1},{default:a(()=>[e(y,{cols:"9"},{default:a(()=>[e(L,{label:"Observação",modelValue:n.observacao,"onUpdate:modelValue":u[3]||(u[3]=V=>n.observacao=V)},null,8,["modelValue"])]),_:1})]),_:1})),e(z,null,{default:a(()=>[e(y,null,{default:a(()=>[e(ie,{style:{height:"465px"},headers:b,items:w.value},{"item.actions":a(({item:V})=>[C.value?q("",!0):(_(),P("div",{key:0,style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:re=>x(V),title:"Deletar Observação"},[V.excluido?(_(),P("img",Fe)):(_(),P("img",Ge))],8,Le))]),_:1},8,["items"])]),_:1})]),_:1}),e(z,null,{default:a(()=>[e(p,{onClick:f},{default:a(()=>[e(E,{size:"large",color:"red"},{default:a(()=>u[5]||(u[5]=[S("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}};export{ct as _,mt as a,_t as b,pt as c};
