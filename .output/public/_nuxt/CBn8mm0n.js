import{_ as P}from"./DbFvZTU7.js";import{_ as R,s as A,r as y,I as T,O as U,u,o as _,n as B,w as i,D as E,z as S,b as a,a as o,x as v,y as g,c as V,L as F,p as J,e as j}from"./CFcBe-yA.js";import{a as G,u as O}from"./CDwlmSQU.js";import{_ as X,a as q}from"./CrE-eFFQ.js";import{_ as H}from"./DCsXQasW.js";import{_ as K,a as M}from"./qu7Wfn_m.js";import{V as Q}from"./DwUsCwiJ.js";import{V as w}from"./Cx_6yMhL.js";const m=n=>(J("data-v-a73331dd"),n=n(),j(),n),W=m(()=>o("img",{class:"btn-pointer",src:X,alt:"Cadastro"},null,-1)),Y={style:{width:"200px"}},Z={style:{width:"300px"}},ee=["onClick"],te=m(()=>o("img",{style:{width:"30px",height:"30px"},src:H,alt:"Visualizar"},null,-1)),se=[te],oe=["onClick"],ae=m(()=>o("img",{style:{width:"30px",height:"30px"},src:K,alt:"Atualizar"},null,-1)),ie=[ae],ne=["onClick"],le={key:0,style:{width:"30px",height:"30px"},src:M,alt:"Visualizar",title:"Reativar"},ce={key:1,src:q,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},re={__name:"index",async setup(n){let l,h;const f=S(),C=`${f.public.managemant}/getAllPessoa`,k=`${f.public.managemant}/updatePessoa`,x=A(),c=y(""),r=y(""),b=[{title:"Documento",value:"doc_identificacao"},{title:"Nome/RazÃ£o Social",value:"nome"},{value:"actions"}],{data:$,pending:z}=([l,h]=T(()=>G(C,"$Jxa9V4cJXG")),l=await l,h(),l),L=U(()=>$.value.filter(e=>{const s=e.doc_identificacao?e.doc_identificacao.toLowerCase():"",p=e.nome?e.nome.toLowerCase():"",t=s.includes(r.value.toLowerCase()),d=p.includes(c.value.toLowerCase());return t&&d}));async function D(e){e.excluido=!e.excluido;try{await O(`${k}/${e.id}`,{method:"PUT",body:{excluido:e.excluido}},"$yehyeyA3ii")}catch(s){console.error("Erro ao excluir pessoa:",s)}}function I(e){x.push({path:`/pessoas/vizualizar/${e}`})}function N(e){x.push({path:`/pessoas/atualizar/${e}`})}return(e,s)=>{const p=P;return u(z)?E("",!0):(_(),B(Q,{key:0,class:"mt-5"},{default:i(()=>[a(p,{to:"/pessoas/cadastro"},{default:i(()=>[W]),_:1}),a(w,{style:{gap:"10rem"}},{default:i(()=>[o("div",Y,[a(v,{class:"mt-7 mb-4",modelValue:u(r),"onUpdate:modelValue":s[0]||(s[0]=t=>g(r)?r.value=t:null),label:"Documento","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),o("div",Z,[a(v,{class:"mt-7 mb-4",modelValue:u(c),"onUpdate:modelValue":s[1]||(s[1]=t=>g(c)?c.value=t:null),label:"Pessoa","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])])]),_:1}),a(F,{density:"compact",headers:b,items:u(L),"item-key":"id"},{"item.actions":i(({item:t})=>[a(w,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:i(()=>[o("div",{class:"btn-pointer",onClick:d=>I(t.id),title:"Visualizar"},se,8,ee),o("div",{class:"btn-pointer",onClick:d=>N(t.id),title:"Atualizar"},ie,8,oe),o("div",{class:"btn-pointer",onClick:d=>D(t),title:"Deletar"},[t.excluido?(_(),V("img",le)):(_(),V("img",ce))],8,ne)]),_:2},1024)]),_:1},8,["items"])]),_:1}))}}},ye=R(re,[["__scopeId","data-v-a73331dd"]]);export{ye as default};
