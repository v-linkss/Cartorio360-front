import{_ as de,a as _e,b as ce,c as pe,d as ve,e as fe}from"./Bo4ld8f2.js";import{_ as be}from"./BUkSts9r.js";import{p as ge,r as n,m as Ve,P as Q,u as ye,q as Ae,E as D,I as qe,x as s,o as S,y as X,w as a,b as e,V as j,G as H,d as _,z as Y,A as Z,n as $e,c as J,F as ke,a as C,t as we,K as R,D as ze}from"./Dwmx49sP.js";import{f as P}from"./Bx2d0s9s.js";import{u as Pe}from"./7OQ8YMcS.js";import{V as M}from"./CDgzV2MF.js";import{V}from"./Ci61N74R.js";import{V as I}from"./Crwv9GZb.js";import{V as ee}from"./DRz5s4Xk.js";import{_ as De,a as xe,b as Te}from"./DuTlZnr3.js";import{_ as Be}from"./Bj3rnaID.js";import{_ as Ue}from"./BT_TreR9.js";import{V as he}from"./CH7bsryF.js";import{a as Ce,V as v,d as Re,e as f}from"./BtRIjy87.js";import"./BWW3FF6x.js";import"./D3vCmuWc.js";import"./eJuZzMGP.js";import"./DmEgJH5a.js";import"./B0IxRygJ.js";import"./D2XW9g-k.js";import"./JTUx7cev.js";import"./Dz9brRPr.js";import"./DG8zkEg1.js";import"./BVz1G1IN.js";import"./DJvq3mCv.js";import"./iTrXxMaM.js";import"./Cf0gnrdl.js";import"./c440XPsc.js";import"./CG4W1e6U.js";import"./BSk2d6vC.js";import"./WjKz16sa.js";import"./MX0ZOffi.js";import"./-zgYk4Vu.js";import"./5effPsSN.js";import"./5TtbYQMe.js";import"./BWvBwIbD.js";import"./C1rh0aDu.js";const Se={__name:"SeparacaoDivorcio",async setup(ae){let i,c;const $=Z(),t=ge({dt_casamento:null,tabvalores_regimecasamento_id:null,qtd_filhos_maiores:null,qtd_filhos_menores:null,responsavel_menores_id:null}),b=n([]),z=Ve(),d=Q(),{$toast:E}=ye(),x=`${$.public.auth}/service/gerencia/getAtos/${d.query.ato_id}`,F=`${$.public.auth}/service/gerencia/regime_casamento`,N=`${$.public.auth}/service/gerencia/getAtosPessoaById/${d.query.ato_id}`,O=`${$.public.managemant}/updateAtos`;n(""),n(""),n(!1),n(!1),n(null),Ae(async()=>{var p,u,U,h,m;const{data:r,status:l}=await P(x,{method:"GET"});r.value&&(t.dt_casamento=(p=r.value[0])==null?void 0:p.dt_casamento,t.tabvalores_regimecasamento_id=(u=r.value[0])==null?void 0:u.tabvalores_regimecasamento_id,t.qtd_filhos_maiores=(U=r.value[0])==null?void 0:U.qtd_filhos_maiores,t.qtd_filhos_menores=(h=r.value[0])==null?void 0:h.qtd_filhos_menores,t.responsavel_menores_id=(m=r.value[0])==null?void 0:m.responsavel_menores_id)});const{data:g,status:y}=([i,c]=D(()=>P(x,{method:"GET"})),i=await i,c(),i),{data:k}=([i,c]=D(()=>P(F,{method:"GET"})),i=await i,c(),i),{data:T}=([i,c]=D(()=>P(N,{method:"GET"})),i=await i,c(),i),A=n([]),w=qe(()=>{var r;return((r=A.value)==null?void 0:r.map(l=>{var p;return{id:l.id,nome:((p=l.pessoa)==null?void 0:p.nome)||"Sem nome"}}))||[]});g.value&&(t.dt_casamento=g.value.dt_casamento,t.tabvalores_regimecasamento_id=g.value.tabvalores_regimecasamento_id,t.qtd_filhos_maiores=g.value.qtd_filhos_maiores,t.qtd_filhos_menores=g.value.qtd_filhos_menores,t.responsavel_menores_id=g.value.responsavel_menores_id),k.value&&(b.value=k.value),T.value&&(A.value=T.value);const G=()=>{const r=d.query.origem||"criar",l=d.query.id;switch(r){case"atualizar":case"vizualizar":z.push(`/os/atualizar/${l}`);break;case"atualizar-lista":case"vizualizar-lista":z.push("/atos/lista");break;default:z.push("/os/criar-registro");break}};async function L(){const{data:r,error:l,status:p}=await Pe(`${O}/${d.query.ato_id}`,{method:"PUT",body:{dt_casamento:t.dt_casamento,tabvalores_regimecasamento_id:t.tabvalores_regimecasamento_id,qtd_filhos_maiores:t.qtd_filhos_maiores,qtd_filhos_menores:t.qtd_filhos_menores,responsavel_menores_id:t.responsavel_menores_id}},"$sJMejO9HYY");p.value==="success"&&E.success("Divórcio salvo com sucesso")}const B=r=>{const l=["Backspace","Tab","ArrowLeft","ArrowRight","Delete"];!/[0-9]/.test(r.key)&&!l.includes(r.key)&&r.preventDefault()};return(r,l)=>{const p=be;return s(y)==="success"?(S(),X(ee,{key:0,class:"mt-5"},{default:a(()=>[e(M,{dense:""},{default:a(()=>[e(V,{cols:"12",sm:"4",md:"3"},{default:a(()=>[e(j,{modelValue:s(t).dt_casamento,"onUpdate:modelValue":l[0]||(l[0]=u=>s(t).dt_casamento=u),type:"date",label:"Data Casamento"},null,8,["modelValue"])]),_:1}),e(V,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(I,{label:"Regime Bens",modelValue:s(t).tabvalores_regimecasamento_id,"onUpdate:modelValue":l[1]||(l[1]=u=>s(t).tabvalores_regimecasamento_id=u),items:s(b),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),e(V,{cols:"12",sm:"6",md:"3"},{default:a(()=>[e(j,{label:"Filhos Maiores",modelValue:s(t).qtd_filhos_maiores,"onUpdate:modelValue":l[2]||(l[2]=u=>s(t).qtd_filhos_maiores=u),modelModifiers:{number:!0},type:"number",min:"0",onKeydown:B},null,8,["modelValue"])]),_:1}),e(V,{cols:"12",sm:"6",md:"3"},{default:a(()=>[e(j,{label:"Filhos Menores",modelValue:s(t).qtd_filhos_menores,"onUpdate:modelValue":l[3]||(l[3]=u=>s(t).qtd_filhos_menores=u),type:"number",min:"0",onKeydown:B},null,8,["modelValue"])]),_:1}),e(V,{cols:"12",sm:"6",md:"4"},{default:a(()=>[e(I,{label:"Responsável",modelValue:s(t).responsavel_menores_id,"onUpdate:modelValue":l[4]||(l[4]=u=>s(t).responsavel_menores_id=u),items:s(w),"item-title":"nome","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1})]),_:1}),e(M,{class:"mt-5",justify:"start",align:"center"},{default:a(()=>[e(V,{cols:"auto"},{default:a(()=>[e(p,{onClick:G},{default:a(()=>[e(H,{size:"large",color:"red"},{default:a(()=>l[5]||(l[5]=[_("Voltar")])),_:1})]),_:1})]),_:1}),e(V,{cols:"auto"},{default:a(()=>[e(H,{class:"ml-2",onClick:L,size:"large",color:"green"},{default:a(()=>l[6]||(l[6]=[_("Salvar")])),_:1})]),_:1})]),_:1})]),_:1})):Y("",!0)}}},Me={class:"mb-10"},Ie={style:{color:"red","margin-left":"30px"}},Ee={key:0},$a={__name:"[id]",async setup(ae){let i,c;const $=n(null),t=n(null),b=n(null),z=Z(),d=Q(),E=n(d.query.origem==="vizualizar"),x=`${z.public.auth}/service/gerencia/listarSituacoes`,F=`${z.public.auth}/service/gerencia/getAtos`,N=n($e("user-data").value.cartorio_token),O=d.query.id?{ato_token:d.query.tipo_ato_token}:{cartorio_token:N},g=n([]),y=n([]),k=n(!1),T=d.query.tipo_ato||"",A=n(null),w=n(null),[G,L]=T.split(" - ");A.value=G||"",w.value=L||"";async function B(){try{const{data:m}=await P(`${F}/${d.query.ato_id}`,{method:"GET"});y.value=m.value}catch(m){console.error(m)}}[i,c]=D(()=>B()),await i,c();const{data:r,status:l}=([i,c]=D(()=>P(x,{method:"POST",body:O})),i=await i,c(),i);g.value=r.value;const p=m=>{$.value=m},u=m=>{t.value=m};function U(){y.dt_lavratura||(k.value=!0)}function h({descricao:m,usaImoveisParams:o}){const[K,W]=m.split(" - ");A.value=K||"",w.value=W||""}return(m,o)=>{const K=de,W=_e,oe=Se,te=De,se=xe,le=ce,ie=pe,re=ve,ne=fe,ue=Te,me=Be;return S(),J(ke,null,[e(ee,null,{default:a(()=>[C("div",Me,[e(M,{class:"mb-5 mt-5"},{default:a(()=>[o[5]||(o[5]=C("h1",null,"Ordem de Serviço nº",-1)),C("h1",Ie,we(s(d).query.numero_os),1)]),_:1}),e(M,null,{default:a(()=>[e(V,{md:"6"},{default:a(()=>[e(I,{label:"Serviço",class:"mr-5",modelValue:s(A),"onUpdate:modelValue":o[0]||(o[0]=q=>R(A)?A.value=q:null),disabled:""},null,8,["modelValue"])]),_:1}),e(V,{md:"5"},{default:a(()=>[e(I,{modelValue:s(w),"onUpdate:modelValue":o[1]||(o[1]=q=>R(w)?w.value=q:null),label:"Tipo de Ato",disabled:""},null,8,["modelValue"])]),_:1}),s(E)?Y("",!0):(S(),J("div",Ee,[C("img",{class:"mt-2",style:ze({cursor:s(y).dt_lavratura?"default":"pointer",width:"35px",height:"35px"}),src:Ue,alt:"Editar",onClick:U},null,4)]))]),_:1})]),e(he,{width:"1300"},{default:a(()=>[e(Ce,{modelValue:s(b),"onUpdate:modelValue":o[2]||(o[2]=q=>R(b)?b.value=q:null),"bg-color":"#f5f2f2"},{default:a(()=>[e(v,{value:"dados"},{default:a(()=>o[6]||(o[6]=[_("Dados")])),_:1}),e(v,{value:"partes"},{default:a(()=>o[7]||(o[7]=[_("Partes")])),_:1}),e(v,{value:"bens"},{default:a(()=>o[8]||(o[8]=[_("Bens")])),_:1}),e(v,{value:"imoveis"},{default:a(()=>o[9]||(o[9]=[_("Imoveis")])),_:1}),e(v,{value:"divorcio"},{default:a(()=>o[10]||(o[10]=[_("Matrimônio")])),_:1}),e(v,{value:"minuta"},{default:a(()=>o[11]||(o[11]=[_("Minuta")])),_:1}),e(v,{value:"livro"},{default:a(()=>o[12]||(o[12]=[_("Livro")])),_:1}),e(v,{value:"observacao"},{default:a(()=>o[13]||(o[13]=[_("Observações")])),_:1}),e(v,{value:"anexo"},{default:a(()=>o[14]||(o[14]=[_("Anexos")])),_:1}),e(v,{value:"outros"},{default:a(()=>o[15]||(o[15]=[_("Outros")])),_:1})]),_:1},8,["modelValue"]),e(Re,{modelValue:s(b),"onUpdate:modelValue":o[3]||(o[3]=q=>R(b)?b.value=q:null)},{default:a(()=>[e(f,{value:"dados"},{default:a(()=>[e(K,{item_dados:s(y),item_situacoes:s(g)},null,8,["item_dados","item_situacoes"])]),_:1}),e(f,{value:"partes"},{default:a(()=>[e(W)]),_:1}),e(f,{value:"divorcio"},{default:a(()=>[e(oe)]),_:1}),e(f,{value:"bens"},{default:a(()=>[e(te)]),_:1}),e(f,{value:"imoveis"},{default:a(()=>[e(se)]),_:1}),e(f,{value:"minuta"},{default:a(()=>[e(le,{onPage:p,onDoc:u})]),_:1}),e(f,{value:"livro"},{default:a(()=>[e(ie,{pages:s($),document:s(t)},null,8,["pages","document"])]),_:1}),e(f,{value:"observacao"},{default:a(()=>[e(re)]),_:1}),e(f,{value:"anexo"},{default:a(()=>[e(ne)]),_:1}),e(f,{value:"outros"},{default:a(()=>[e(ue)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),s(k)?(S(),X(me,{key:0,show:s(k),servicos:s(y).servicos||[],tiposAtos:s(y).tiposAtos||[],onClose:o[4]||(o[4]=q=>k.value=!1),onUpdateAto:h},null,8,["show","servicos","tiposAtos"])):Y("",!0)],64)}}};export{$a as default};
