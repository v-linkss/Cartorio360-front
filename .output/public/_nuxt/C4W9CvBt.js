import{_ as me,a as pe,b as _e,c as fe,d as ve,e as Ve}from"./DZePtFlv.js";import{_ as ye}from"./ZN9v-XaS.js";import{_ as ge}from"./a-TVMJ-j.js";import{_ as ee,a as te,b as oe,c as ae}from"./CIRLdqQh.js";import{_ as le}from"./CCaEuro3.js";import{z as se,D as ie,u as be,r as _,m as W,A as xe,E as M,o as D,q as ne,w as t,b as e,v as a,a as n,t as re,c as q,F as z,d as V,G as $e,H,s as Q,p as ke,V as Y,I as Ce,J as we}from"./DaneSYc1.js";import{u as E}from"./DJoYMKY3.js";import{V as $}from"./DbBP1eS_.js";import{V as Z}from"./C-QOaEHa.js";import{V as k}from"./BMSRPTUx.js";import{V as L}from"./Dt-bgEF4.js";import{V as ue}from"./ICyKXb_2.js";import{V as Ae,a as de,b as Pe,c as Te,d as Be}from"./DwKQgpcP.js";import{V as ce}from"./DHqbyCIU.js";import{_ as ze}from"./Pc_j6hB9.js";import{f as K}from"./B3dH7oiR.js";import{V as De,a as P,b as Ue,c as T}from"./Cm0eVwjU.js";import"./B6gml0Zs.js";import"./DEpi5b-x.js";import"./CdP3NN9a.js";import"./CYN8aCLJ.js";import"./BFKUrqas.js";import"./DiaQsNN7.js";import"./Cmu8drLJ.js";import"./Dxoz1pcJ.js";const he={style:{width:"800px","font-weight":"500"}},Oe=["onClick"],Ie=["onClick"],Re=["onClick"],Se={key:0,style:{width:"30px",height:"30px"},src:oe,alt:"Reativar",title:"Reativar"},Ee={key:1,src:ae,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Me={__name:"Bens",async setup(X){let r,v;const C=se(),g=ie(),c=Q(),{$toast:y}=be(),b=`${c.public.managemant}/atos_bens`,U=`${c.public.managemant}/atos_bens`,I=`${c.public.managemant}/atos_bens`,R=`${c.public.managemant}/listarTipoBens`,S=_(W("user-data").value.cartorio_token),h=_(W("user-data").value.usuario_id).value,w=_([]),m=_([]),u=_(!1),d=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"valor_mercado"},{align:"end",value:"actions"}],i=xe({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),f=async()=>{if(!i.vlr_alienacao&&!i.descricao){y.error("Os campos Descrição e Valor são Obrigatorios!");return}const{data:p,status:o}=await E(`${b}`,{method:"POST",body:{descricao:i.descricao,tipo_id:i.tipo_id,valor_mercado:i.vlr_alienacao,user_id:h,ato_id:Number.parseInt(g.query.ato_id),token:g.query.ato_token_edit}},"$aGIwRtPn6M");o.value==="success"&&(y.success("Bem registrado com sucesso!"),w.value.push(p.value),Object.assign(i,{vlr_alienacao:null,descricao:null,tipo_id:null}))},A=async p=>{const{status:o}=await E(`${U}/${p}`,{method:"PUT",body:{descricao:m.value.descricao,tipo_id:m.value.tipo_id,valor_mercado:m.value.valor_mercado}},"$4hUMyAQlzU");o.value==="success"&&(y.success("Bem Atualizado com sucesso!"),u.value=!1)},F=p=>{const o=w.value.find(O=>O.id===p);o&&(m.value=o,u.value=!0)},{data:x}=([r,v]=M(()=>E(`${R}`,{method:"POST",body:{cartorio_token:S.value,imoveis:!1}},"$da802I2H8c")),r=await r,v(),r);i.tiposBens=x.value;const{data:l}=([r,v]=M(()=>E(`${I}/${g.query.ato_id}`,{method:"GET"},"$iXfJJrO35d")),r=await r,v(),r);w.value=l.value;async function G(p){p.excluido=!p.excluido;try{await E(`${U}/${p.id}`,{method:"PUT",body:JSON.stringify({excluido:p.excluido})},"$PGKHfsa7Pl")}catch(o){console.error("Erro ao excluir pessoa:",o)}}const J=()=>{const p=g.query.origem||"criar",o=g.query.id;p==="atualizar"?C.push(`/os/atualizar/${o}`):C.push("/os/criar-registro")};return(p,o)=>{const O=ye,j=ge;return D(),ne(ce,null,{default:t(()=>[e($,{class:"mt-5",cols:"12"},{default:t(()=>[e(Z,{label:"Descrição",modelValue:a(i).descricao,"onUpdate:modelValue":o[0]||(o[0]=s=>a(i).descricao=s)},null,8,["modelValue"])]),_:1}),e(k,{class:"ml-1 mb-3"},{default:t(()=>[e($,{class:"mt-6",cols:"8"},{default:t(()=>[e(L,{label:"Selecione o Tipo",items:a(i).tiposBens,modelValue:a(i).tipo_id,"onUpdate:modelValue":o[1]||(o[1]=s=>a(i).tipo_id=s),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e($,{class:"ml-5",cols:"3"},{default:t(()=>[o[9]||(o[9]=n("label",null,"Valor",-1)),e(O,{modelValue:a(i).vlr_alienacao,"onUpdate:modelValue":o[2]||(o[2]=s=>a(i).vlr_alienacao=s)},null,8,["modelValue"])]),_:1}),n("div",null,[n("img",{class:"mt-7 ml-4",src:ee,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:f})])]),_:1}),e(k,null,{default:t(()=>[e($,null,{default:t(()=>[e(ue,{style:{height:"465px"},headers:d,items:a(w)},{"item.descricao":t(({item:s})=>[n("h3",he,re(s.descricao),1)]),"item.actions":t(({item:s})=>[e(k,{style:{"margin-top":"-8px"},justify:"end"},{default:t(()=>[n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:N=>p.redirectToFicha(s),title:"Visualizar Ficha"},o[10]||(o[10]=[n("img",{style:{width:"30px",height:"30px"},src:le,alt:"Visualizar"},null,-1)]),8,Oe),n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:N=>F(s.id),title:"Alterar Papel"},o[11]||(o[11]=[n("img",{style:{width:"30px",height:"30px"},src:te,alt:"Editar"},null,-1)]),8,Ie),n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:N=>G(s),title:"Deletar Pessoa"},[s.excluido?(D(),q("img",Se)):(D(),q("img",Ee))],8,Re)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(Ae,{modelValue:a(u),"onUpdate:modelValue":o[8]||(o[8]=s=>z(u)?u.value=s:null),"max-width":"600px"},{default:t(()=>[e(de,null,{default:t(()=>[e(Pe,{style:{color:"green"}},{default:t(()=>o[12]||(o[12]=[V("Atualizar Bem")])),_:1}),e(Te,null,{default:t(()=>[e($,{class:"mt-1",cols:"12"},{default:t(()=>[e(Z,{label:"Descrição",modelValue:a(m).descricao,"onUpdate:modelValue":o[3]||(o[3]=s=>a(m).descricao=s)},null,8,["modelValue"])]),_:1}),e(k,null,{default:t(()=>[e($,{class:"mt-6 ml-3",cols:"8"},{default:t(()=>[e(L,{label:"Selecione o Tipo",items:a(i).tiposBens,modelValue:a(m).tipo_id,"onUpdate:modelValue":o[4]||(o[4]=s=>a(m).tipo_id=s),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e($,{class:"ml-5",cols:"3"},{default:t(()=>[o[13]||(o[13]=n("label",null,"Valor",-1)),e(O,{modelValue:a(m).valor_mercado,"onUpdate:modelValue":o[5]||(o[5]=s=>a(m).valor_mercado=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(Be,null,{default:t(()=>[e($e),e(H,{color:"green",text:"",onClick:o[6]||(o[6]=s=>u.value=!1)},{default:t(()=>o[14]||(o[14]=[V("Cancelar")])),_:1}),e(H,{color:"green",text:"",onClick:o[7]||(o[7]=s=>A(a(m).id))},{default:t(()=>o[15]||(o[15]=[V("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(k,null,{default:t(()=>[e(j,{onClick:J},{default:t(()=>[e(H,{size:"large",color:"red"},{default:t(()=>o[16]||(o[16]=[V("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},qe={style:{width:"200px"}},Ne={style:{width:"300px"}},Le=["onClick"],Fe=["onClick"],Ge=["onClick"],Je={key:0,style:{width:"30px",height:"30px"},src:oe,alt:"Visualizar",title:"Reativar"},je={key:1,src:ae,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},He={__name:"Imoveis",async setup(X){let r,v;const C=Q(),g=`${C.public.auth}/service/gerencia/getAllPessoa`;`${C.public.auth}`,se();const c=_(""),y=_(""),b=_(!1),U=[{title:"Matrícula",value:"doc_identificacao"},{title:"Descrição",value:"nome"},{value:"actions"}],{data:I,status:R}=([r,v]=M(()=>K(g)),r=await r,v(),r),S=ke(()=>I.value.filter(u=>{const d=u.doc_identificacao?u.doc_identificacao.toLowerCase():"",i=u.nome?u.nome.toLowerCase():"",f=d.includes(y.value.toLowerCase()),A=i.includes(c.value.toLowerCase());return f&&A}));async function h(u){}function w(u){}function m(u){}return(u,d)=>{const i=ze;return a(R)==="success"?(D(),ne(ce,{key:0,class:"mt-5"},{default:t(()=>[n("img",{onClick:d[0]||(d[0]=f=>b.value=!0),style:{cursor:"pointer"},src:ee,alt:"Cadastro"}),e(k,{style:{gap:"3rem"}},{default:t(()=>[n("div",qe,[e(Y,{class:"mt-7 mb-4",modelValue:a(y),"onUpdate:modelValue":d[1]||(d[1]=f=>z(y)?y.value=f:null),label:"Matrícula","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),n("div",Ne,[e(Y,{class:"mt-7 mb-4",modelValue:a(c),"onUpdate:modelValue":d[2]||(d[2]=f=>z(c)?c.value=f:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),e(ue,{density:"compact",headers:U,items:a(S),"item-key":"id"},{"item.actions":t(({item:f})=>[e(k,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:t(()=>[n("div",{style:{cursor:"pointer"},onClick:A=>(f.id,void 0),title:"Visualizar"},d[4]||(d[4]=[n("img",{style:{width:"30px",height:"30px"},src:le,alt:"Visualizar"},null,-1)]),8,Le),n("div",{style:{cursor:"pointer"},onClick:A=>(f.id,void 0),title:"Atualizar"},d[5]||(d[5]=[n("img",{style:{width:"30px",height:"30px"},src:te,alt:"Atualizar"},null,-1)]),8,Fe),n("div",{style:{cursor:"pointer"},onClick:A=>h(f),title:"Deletar"},[f.excluido?(D(),q("img",Je)):(D(),q("img",je))],8,Ge)]),_:2},1024)]),_:1},8,["items"]),e(i,{show:a(b),onClose:d[3]||(d[3]=f=>b.value=!1)},null,8,["show"])]),_:1})):Ce("",!0)}}},We={class:"mb-10"},Ke={style:{color:"red","margin-left":"30px"}},xt={__name:"[id]",async setup(X){let r,v;const C=_(null),g=_(null),c=_(null),y=Q(),b=ie(),U=`${y.public.auth}/service/gerencia/listarSituacoes`,I=`${y.public.auth}/service/gerencia/getAtos`,R=_(W("user-data").value.cartorio_token),S=b.query.id?{ato_token:b.query.tipo_ato_token}:{cartorio_token:R},h=_([]),w=_([]),m=_("PROCURAÇÕES"),u=_("PROCURAÇÃO COM BENS");async function d(){try{const{data:x}=await K(`${I}/${b.query.ato_id}`,{method:"GET"});w.value=x.value}catch(x){console.log(x)}}[r,v]=M(()=>d()),await r,v();const{data:i,status:f}=([r,v]=M(()=>K(U,{method:"POST",body:S})),r=await r,v(),r);h.value=i.value;const A=x=>{C.value=x},F=x=>{g.value=x};return(x,l)=>{const G=me,J=pe,p=Me,o=He,O=_e,j=fe,s=ve,N=Ve;return D(),q(we,null,[n("div",We,[e(k,{class:"mb-5 mt-5"},{default:t(()=>[l[4]||(l[4]=n("h1",null,"Ordem de Serviço nº",-1)),n("h1",Ke,re(a(b).query.numero_os),1)]),_:1}),e(k,null,{default:t(()=>[e($,{md:"6"},{default:t(()=>[e(L,{class:"mr-5",modelValue:a(m),"onUpdate:modelValue":l[0]||(l[0]=B=>z(m)?m.value=B:null),disabled:""},null,8,["modelValue"])]),_:1}),e($,{md:"6"},{default:t(()=>[e(L,{modelValue:a(u),"onUpdate:modelValue":l[1]||(l[1]=B=>z(u)?u.value=B:null),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),e(de,{width:"1300"},{default:t(()=>[e(De,{modelValue:a(c),"onUpdate:modelValue":l[2]||(l[2]=B=>z(c)?c.value=B:null),"bg-color":"#f5f2f2"},{default:t(()=>[e(P,{value:"dados"},{default:t(()=>l[5]||(l[5]=[V("Dados")])),_:1}),e(P,{value:"partes"},{default:t(()=>l[6]||(l[6]=[V("Partes")])),_:1}),e(P,{value:"bens"},{default:t(()=>l[7]||(l[7]=[V("Bens")])),_:1}),e(P,{value:"imoveis"},{default:t(()=>l[8]||(l[8]=[V("Imoveis")])),_:1}),e(P,{value:"minuta"},{default:t(()=>l[9]||(l[9]=[V("Minuta")])),_:1}),e(P,{value:"livro"},{default:t(()=>l[10]||(l[10]=[V("Livro")])),_:1}),e(P,{value:"observacao"},{default:t(()=>l[11]||(l[11]=[V("Observações")])),_:1}),e(P,{value:"anexo"},{default:t(()=>l[12]||(l[12]=[V("Anexos")])),_:1})]),_:1},8,["modelValue"]),e(Ue,{modelValue:a(c),"onUpdate:modelValue":l[3]||(l[3]=B=>z(c)?c.value=B:null)},{default:t(()=>[e(T,{value:"dados"},{default:t(()=>[e(G,{item_dados:a(w),item_situacoes:a(h)},null,8,["item_dados","item_situacoes"])]),_:1}),e(T,{value:"partes"},{default:t(()=>[e(J)]),_:1}),e(T,{value:"bens"},{default:t(()=>[e(p)]),_:1}),e(T,{value:"imoveis"},{default:t(()=>[e(o)]),_:1}),e(T,{value:"minuta"},{default:t(()=>[e(O,{onPage:A,onDoc:F})]),_:1}),e(T,{value:"livro"},{default:t(()=>[e(j,{pages:a(C),document:a(g)},null,8,["pages","document"])]),_:1}),e(T,{value:"observacao"},{default:t(()=>[e(s)]),_:1}),e(T,{value:"anexo"},{default:t(()=>[e(N)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{xt as default};
