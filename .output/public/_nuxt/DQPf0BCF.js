import{_ as pe,a as _e,b as ve,c as fe,d as Ve,e as ye}from"./v7a6Brra.js";import{_ as ge}from"./9g0fVOvy.js";import{_ as te}from"./9wNeLzBk.js";import{_ as oe}from"./BVz1G1IN.js";import{_ as ae}from"./BtRKiHCm.js";import{_ as le,a as se,b as ie}from"./d1f2vF3Z.js";import{B as re,G as Q,u as be,r as p,m as K,C as xe,H as L,o as S,E as ne,w as t,b as e,v as s,a as n,t as ue,c as N,I,d as v,J as $e,z as G,s as X,p as ke,V as Z,K as Ce,F as we}from"./Bj4CsPuQ.js";import{u as E}from"./DnNk-C0n.js";import{V as k}from"./DGSyWHPL.js";import{V as ee}from"./BJYiC4Oi.js";import{V as C}from"./DtzMr3Bo.js";import{V as J}from"./gsOddEzt.js";import{V as de}from"./B88FAQta.js";import{V as Ae,a as ce,b as Pe,c as Be,d as Te}from"./CMUstMqc.js";import{V as me}from"./DQ7sH0G4.js";import{_ as ze,a as he}from"./Ds4koh0T.js";import{f as H}from"./De4neJip.js";import{V as Ue,a as P,b as Oe,c as B}from"./CEgf5C13.js";import"./7qQ9HAT7.js";import"./B1QJFe--.js";import"./CdP3NN9a.js";import"./FVFaoe6i.js";import"./Dzn6-7ge.js";import"./TmhbKbHQ.js";import"./q0QPzD35.js";import"./C_T1ljM5.js";const De={style:{width:"800px","font-weight":"500"}},Ie=["onClick"],Se=["onClick"],Me=["onClick"],Re={key:0,style:{width:"30px",height:"30px"},src:se,alt:"Reativar",title:"Reativar"},qe={key:1,src:ie,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Ee={__name:"Bens",async setup(Y){let u,f;const w=re(),y=Q(),_=X(),{$toast:b}=be(),g=`${_.public.managemant}/atos_bens`,x=`${_.public.managemant}/atos_bens`,A=`${_.public.managemant}/listarBens`,T=`${_.public.managemant}/listarTipoBens`,z=p(K("user-data").value.cartorio_token),h=p(K("user-data").value.usuario_id).value,$=p([]),m=p([]),V=p(!1),R=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"vlr_alienacao"},{align:"end",value:"actions"}],d=xe({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),F=async()=>{if(!d.vlr_alienacao&&!d.descricao){b.error("Os campos Descrição e Valor são Obrigatorios!");return}const{data:i,status:o}=await E(`${g}`,{method:"POST",body:{descricao:d.descricao,tipo_id:d.tipo_id,valor_mercado:"0.00",vlr_alienacao:d.vlr_alienacao,user_id:h,ato_id:Number.parseInt(y.query.ato_id),token:y.query.ato_token_edit}},"$aGIwRtPn6M");o.value==="success"&&(b.success("Bem registrado com sucesso!"),$.value.push(i.value),Object.assign(d,{vlr_alienacao:null,descricao:null,tipo_id:null}))},q=async i=>{const{status:o}=await E(`${x}/${i}`,{method:"PUT",body:{descricao:m.value.descricao,tipo_id:m.value.tipo_id,vlr_alienacao:m.value.vlr_alienacao}},"$4hUMyAQlzU");o.value==="success"&&(b.success("Bem Atualizado com sucesso!"),V.value=!1)},c=i=>{const o=$.value.find(M=>M.id===i);o&&(m.value=o,V.value=!0)},{data:a}=([u,f]=L(()=>E(`${T}`,{method:"POST",body:{cartorio_token:z.value,imoveis:!1}},"$da802I2H8c")),u=await u,f(),u);d.tiposBens=a.value;const{data:l}=([u,f]=L(()=>E(`${A}`,{method:"POST",body:{ato_token:y.query.ato_token_edit}},"$iXfJJrO35d")),u=await u,f(),u);$.value=l.value&&Object.keys(l.value).length===0?[]:l.value;async function U(i){i.excluido=!i.excluido;try{await E(`${x}/${i.id}`,{method:"PUT",body:JSON.stringify({excluido:i.excluido})},"$PGKHfsa7Pl")}catch(o){console.error("Erro ao excluir pessoa:",o)}}const O=()=>{const i=y.query.origem||"criar",o=y.query.id;i==="atualizar"?w.push(`/os/atualizar/${o}`):w.push("/os/criar-registro")};return(i,o)=>{const M=ge,W=te;return S(),ne(me,null,{default:t(()=>[e(k,{class:"mt-5",cols:"12"},{default:t(()=>[e(ee,{label:"Descrição",modelValue:s(d).descricao,"onUpdate:modelValue":o[0]||(o[0]=r=>s(d).descricao=r)},null,8,["modelValue"])]),_:1}),e(C,{class:"ml-1 mb-3"},{default:t(()=>[e(k,{class:"mt-6",cols:"8"},{default:t(()=>[e(J,{label:"Selecione o Tipo",items:s(d).tiposBens,modelValue:s(d).tipo_id,"onUpdate:modelValue":o[1]||(o[1]=r=>s(d).tipo_id=r),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(k,{class:"ml-5",cols:"3"},{default:t(()=>[o[9]||(o[9]=n("label",null,"Valor",-1)),e(M,{modelValue:s(d).vlr_alienacao,"onUpdate:modelValue":o[2]||(o[2]=r=>s(d).vlr_alienacao=r)},null,8,["modelValue"])]),_:1}),n("div",null,[n("img",{class:"mt-7 ml-4",src:oe,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:F})])]),_:1}),e(C,null,{default:t(()=>[e(k,null,{default:t(()=>[e(de,{style:{height:"465px"},headers:R,items:s($)},{"item.descricao":t(({item:r})=>[n("h3",De,ue(r.descricao),1)]),"item.actions":t(({item:r})=>[e(C,{style:{"margin-top":"-8px"},justify:"end"},{default:t(()=>[n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:j=>i.redirectToFicha(r),title:"Visualizar Ficha"},o[10]||(o[10]=[n("img",{style:{width:"30px",height:"30px"},src:ae,alt:"Visualizar"},null,-1)]),8,Ie),n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:j=>c(r.id),title:"Alterar Papel"},o[11]||(o[11]=[n("img",{style:{width:"30px",height:"30px"},src:le,alt:"Editar"},null,-1)]),8,Se),n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:j=>U(r),title:"Deletar Pessoa"},[r.excluido?(S(),N("img",Re)):(S(),N("img",qe))],8,Me)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(Ae,{modelValue:s(V),"onUpdate:modelValue":o[8]||(o[8]=r=>I(V)?V.value=r:null),"max-width":"600px"},{default:t(()=>[e(ce,null,{default:t(()=>[e(Pe,{style:{color:"green"}},{default:t(()=>o[12]||(o[12]=[v("Atualizar Bem")])),_:1}),e(Be,null,{default:t(()=>[e(k,{class:"mt-1",cols:"12"},{default:t(()=>[e(ee,{label:"Descrição",modelValue:s(m).descricao,"onUpdate:modelValue":o[3]||(o[3]=r=>s(m).descricao=r)},null,8,["modelValue"])]),_:1}),e(C,null,{default:t(()=>[e(k,{class:"mt-6 ml-3",cols:"8"},{default:t(()=>[e(J,{label:"Selecione o Tipo",items:s(d).tiposBens,modelValue:s(m).tipo_id,"onUpdate:modelValue":o[4]||(o[4]=r=>s(m).tipo_id=r),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(k,{class:"ml-5",cols:"3"},{default:t(()=>[o[13]||(o[13]=n("label",null,"Valor",-1)),e(M,{modelValue:s(m).vlr_alienacao,"onUpdate:modelValue":o[5]||(o[5]=r=>s(m).vlr_alienacao=r)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(Te,null,{default:t(()=>[e($e),e(G,{color:"green",text:"",onClick:o[6]||(o[6]=r=>V.value=!1)},{default:t(()=>o[14]||(o[14]=[v("Cancelar")])),_:1}),e(G,{color:"green",text:"",onClick:o[7]||(o[7]=r=>q(s(m).id))},{default:t(()=>o[15]||(o[15]=[v("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(C,null,{default:t(()=>[e(W,{onClick:O},{default:t(()=>[e(G,{size:"large",color:"red"},{default:t(()=>o[16]||(o[16]=[v("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Le={style:{width:"200px"}},Ne={style:{width:"300px"}},Fe=["onClick"],je=["onClick"],Ge=["onClick"],Je={key:0,style:{width:"30px",height:"30px"},src:se,alt:"Visualizar",title:"Reativar"},He={key:1,src:ie,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},We={__name:"Imoveis",async setup(Y){let u,f;const w=X(),y=`${w.public.auth}/service/gerencia/atos_imoveis`,_=`${w.public.auth}/service/gerencia/atos_bens`,b=re(),g=Q(),x=p(""),A=p(""),T=p(!1),z=p(!1),h=p(null),$=[{title:"Matrícula",value:"registro_matricula"},{title:"Descrição",value:"descricao"},{value:"actions"}],{data:m,status:V}=([u,f]=L(()=>H(y,{method:"POST",body:{ato_token:g.query.ato_token_edit}})),u=await u,f(),u),R=ke(()=>{if(Object.keys(m.value).length!==0)return m.value.filter(c=>{const a=c.matricula?c.matricula.toLowerCase():"",l=c.descricao?c.descricao.toLowerCase():"",U=a.includes(A.value.toLowerCase()),O=l.includes(x.value.toLowerCase());return U&&O})});async function d(c){c.excluido=!c.excluido;try{await H(`${_}/${c.id}`,{method:"PUT",body:{excluido:c.excluido}})}catch(a){console.error("Erro ao excluir pessoa:",a)}}function F(c){h.value=c,z.value=!0}const q=()=>{const c=g.query.origem||"criar",a=g.query.id;c==="atualizar"?b.push(`/os/atualizar/${a}`):b.push("/os/criar-registro")};return(c,a)=>{const l=te,U=ze,O=he;return s(V)==="success"?(S(),ne(me,{key:0,class:"mt-5"},{default:t(()=>[n("img",{onClick:a[0]||(a[0]=i=>T.value=!0),style:{cursor:"pointer"},src:oe,alt:"Cadastro"}),e(C,{style:{gap:"3rem"}},{default:t(()=>[n("div",Le,[e(Z,{class:"mt-7 mb-4",modelValue:s(A),"onUpdate:modelValue":a[1]||(a[1]=i=>I(A)?A.value=i:null),label:"Matrícula","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),n("div",Ne,[e(Z,{class:"mt-7 mb-4",modelValue:s(x),"onUpdate:modelValue":a[2]||(a[2]=i=>I(x)?x.value=i:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),e(de,{density:"compact",headers:$,items:s(R),"item-key":"id"},{"item.actions":t(({item:i})=>[e(C,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:t(()=>[n("div",{style:{cursor:"pointer"},onClick:o=>c.redirectToView(i.id),title:"Visualizar"},a[6]||(a[6]=[n("img",{style:{width:"30px",height:"30px"},src:ae,alt:"Visualizar"},null,-1)]),8,Fe),n("div",{style:{cursor:"pointer"},onClick:o=>F(i.id),title:"Atualizar"},a[7]||(a[7]=[n("img",{style:{width:"30px",height:"30px"},src:le,alt:"Atualizar"},null,-1)]),8,je),n("div",{style:{cursor:"pointer"},onClick:o=>d(i),title:"Deletar"},[i.excluido?(S(),N("img",Je)):(S(),N("img",He))],8,Ge)]),_:2},1024)]),_:1},8,["items"]),e(l,{onClick:q},{default:t(()=>[e(G,{size:"large",color:"red"},{default:t(()=>a[8]||(a[8]=[v("Voltar")])),_:1})]),_:1}),e(U,{onRefreshList:a[3]||(a[3]=()=>{}),show:s(T),onClose:a[4]||(a[4]=i=>T.value=!1)},null,8,["show"]),e(O,{imovel_id:s(h),show:s(z),onClose:a[5]||(a[5]=i=>z.value=!1)},null,8,["imovel_id","show"])]),_:1})):Ce("",!0)}}},Ke={class:"mb-10"},Qe={style:{color:"red","margin-left":"30px"}},kt={__name:"[id]",async setup(Y){let u,f;const w=p(null),y=p(null),_=p(null),b=X(),g=Q(),x=`${b.public.auth}/service/gerencia/listarSituacoes`,A=`${b.public.auth}/service/gerencia/getAtos`,T=p(K("user-data").value.cartorio_token),z=g.query.id?{ato_token:g.query.tipo_ato_token}:{cartorio_token:T},h=p([]),$=p([]),m=p("PROCURAÇÕES"),V=p("PROCURAÇÃO COM BENS");async function R(){try{const{data:a}=await H(`${A}/${g.query.ato_id}`,{method:"GET"});$.value=a.value}catch(a){console.log(a)}}[u,f]=L(()=>R()),await u,f();const{data:d,status:F}=([u,f]=L(()=>H(x,{method:"POST",body:z})),u=await u,f(),u);h.value=d.value;const q=a=>{w.value=a},c=a=>{y.value=a};return(a,l)=>{const U=pe,O=_e,i=Ee,o=We,M=ve,W=fe,r=Ve,j=ye;return S(),N(we,null,[n("div",Ke,[e(C,{class:"mb-5 mt-5"},{default:t(()=>[l[4]||(l[4]=n("h1",null,"Ordem de Serviço nº",-1)),n("h1",Qe,ue(s(g).query.numero_os),1)]),_:1}),e(C,null,{default:t(()=>[e(k,{md:"6"},{default:t(()=>[e(J,{class:"mr-5",modelValue:s(m),"onUpdate:modelValue":l[0]||(l[0]=D=>I(m)?m.value=D:null),disabled:""},null,8,["modelValue"])]),_:1}),e(k,{md:"6"},{default:t(()=>[e(J,{modelValue:s(V),"onUpdate:modelValue":l[1]||(l[1]=D=>I(V)?V.value=D:null),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),e(ce,{width:"1300"},{default:t(()=>[e(Ue,{modelValue:s(_),"onUpdate:modelValue":l[2]||(l[2]=D=>I(_)?_.value=D:null),"bg-color":"#f5f2f2"},{default:t(()=>[e(P,{value:"dados"},{default:t(()=>l[5]||(l[5]=[v("Dados")])),_:1}),e(P,{value:"partes"},{default:t(()=>l[6]||(l[6]=[v("Partes")])),_:1}),e(P,{value:"bens"},{default:t(()=>l[7]||(l[7]=[v("Bens")])),_:1}),e(P,{value:"imoveis"},{default:t(()=>l[8]||(l[8]=[v("Imoveis")])),_:1}),e(P,{value:"minuta"},{default:t(()=>l[9]||(l[9]=[v("Minuta")])),_:1}),e(P,{value:"livro"},{default:t(()=>l[10]||(l[10]=[v("Livro")])),_:1}),e(P,{value:"observacao"},{default:t(()=>l[11]||(l[11]=[v("Observações")])),_:1}),e(P,{value:"anexo"},{default:t(()=>l[12]||(l[12]=[v("Anexos")])),_:1})]),_:1},8,["modelValue"]),e(Oe,{modelValue:s(_),"onUpdate:modelValue":l[3]||(l[3]=D=>I(_)?_.value=D:null)},{default:t(()=>[e(B,{value:"dados"},{default:t(()=>[e(U,{item_dados:s($),item_situacoes:s(h)},null,8,["item_dados","item_situacoes"])]),_:1}),e(B,{value:"partes"},{default:t(()=>[e(O)]),_:1}),e(B,{value:"bens"},{default:t(()=>[e(i)]),_:1}),e(B,{value:"imoveis"},{default:t(()=>[e(o)]),_:1}),e(B,{value:"minuta"},{default:t(()=>[e(M,{onPage:q,onDoc:c})]),_:1}),e(B,{value:"livro"},{default:t(()=>[e(W,{pages:s(w),document:s(y)},null,8,["pages","document"])]),_:1}),e(B,{value:"observacao"},{default:t(()=>[e(r)]),_:1}),e(B,{value:"anexo"},{default:t(()=>[e(j)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{kt as default};
