import{_ as Z}from"./6oLM_AL5.js";import{a as c,V as h,c as _,b as ee,d as ae,e as oe,f as te,g as le,h as se,i as de}from"./BoXhwWOE.js";import{_ as ie,r as U,n as ue,u as ne,q as me,A as k,s as re,E as pe,o as n,v as m,w as t,z as ce,M as _e,a as R,t as fe,x as f,b as e,d as r,G as V,C as D,V as u,N as x,y as N}from"./eAsSazjL.js";import{u as Ve}from"./C0CpjhRq.js";import{u as ve}from"./BVGIvFa1.js";import{a as be}from"./CGOZ2Df3.js";import{V as g}from"./CdsjMHQ6.js";import{V as S}from"./DpKXj-DI.js";import{V as v}from"./DVwI284P.js";import{V as i}from"./BH3UsMig.js";import"./Cu6vUCMr.js";import"./DfjuBLsA.js";import"./DJEq94n7.js";import"./L2vL9P5y.js";import"./CUgyeQ6d.js";import"./CInXMfZy.js";import"./_NPTRUiR.js";import"./BlCoIj9f.js";const Ce={style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}},Ie={style:{"background-color":"#f5f2f2",padding:"20px 0px 20px 20px"}},Ue={__name:"[id]",emits:["saved"],setup(ge,{emit:Ae}){const p=U(null),w=ue(),{$toast:E}=ne(),T=me(),{id:C}=T.params,b=ce(),M=`${b.public.managemant}/updatePessoa`,B=`${b.public.managemant}/listarEstadoCivil`,J=`${b.public.managemant}/listarCapacidadeCivil`,z=`${b.public.managemant}/listarCidades`,G=`${b.public.managemant}/getPessoaById`,y=U([]),F=U([]),P=U([]),L={nome:"",nome_pai:"",nome_mae:"",profissao:"",data_nascimento:"",doc_identificacao:"",cpf_pai:"",cpf_mae:"",tipo_pessoa:"FISICA",tabvalores_estadocivil_id:"",tabvalores_capacidadecivil_id:"",cidade_natural_id:"",cartorio_id:k("user-data").value.cartorio_id,user_id:k("user-data").value.usuario_id},W=[{label:"FÍSICA",value:"FISICA"},{label:"JURÍDICA",value:"JURIDICA"},{label:"ESTRANGEIRA",value:"ESTRANGEIRA"}],o=re({...L});function j(s){if(s)return s.replace(/[.\-]/g,"");s=null}ve(o);async function q(){try{const[s,a,d,I]=await Promise.all([$fetch(B),$fetch(J),$fetch(z),$fetch(`${G}/${C}`)]),A=k("pessoa_token");return A.value=I.token,y.value=s,F.value=a,P.value=d,Object.assign(o,I),{estadoCivilItems:s,capacidadeCivilItems:a,cidadeNascimentoItems:d}}catch(s){console.error("Erro ao carregar os dados da pessoa:",s)}}pe(()=>{C&&q()});function O(s){const a={};for(const d in s)s[d]===""?a[d]=null:d==="doc_identificacao"||d==="cpf_pai"||d==="cpf_mae"?a[d]=j(s[d]):a[d]=s[d];return a}async function H(){const s=O(o);await Ve(`${M}/${C}`,{method:"PUT",body:s},"$NdF8Uiv290"),E.success("Pessoa atualizada com sucesso!"),w.push("/pessoas/lista")}return(s,a)=>{const d=Z,I=ae,A=oe,K=te,Q=le,X=se,Y=de,$=_e("mask");return n(),m(be,{width:"1300"},{default:t(()=>[R("h1",Ce,fe(f(C)?"Atualização de Pessoas":"Cadastramento de Pessoas"),1),R("div",Ie,[e(g,{modelValue:o.tipo_pessoa,"onUpdate:modelValue":a[0]||(a[0]=l=>o.tipo_pessoa=l),style:{width:"200px"},items:W,"item-title":"label","item-value":"value",label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:""},null,8,["modelValue"])]),e(h,{modelValue:f(p),"onUpdate:modelValue":a[1]||(a[1]=l=>D(p)?p.value=l:null),"bg-color":"#f5f2f2"},{default:t(()=>[e(c,{value:"dados"},{default:t(()=>[r("Dados")]),_:1}),o.tipo_pessoa==="FISICA"?(n(),m(c,{key:0,value:"documento"},{default:t(()=>[r("Documentos")]),_:1})):V("",!0),o.tipo_pessoa==="JURIDICA"?(n(),m(c,{key:1,value:"representante"},{default:t(()=>[r("Representantes")]),_:1})):V("",!0),o.tipo_pessoa==="JURIDICA"||o.tipo_pessoa==="FISICA"?(n(),m(c,{key:2,value:"endereco"},{default:t(()=>[r("Endereços")]),_:1})):V("",!0),o.tipo_pessoa==="FISICA"?(n(),m(c,{key:3,value:"biometria"},{default:t(()=>[r("Biometria")]),_:1})):V("",!0),o.tipo_pessoa==="JURIDICA"||o.tipo_pessoa==="FISICA"?(n(),m(c,{key:4,value:"restricao"},{default:t(()=>[r("Restrições")]),_:1})):V("",!0)]),_:1},8,["modelValue"]),e(ee,{modelValue:f(p),"onUpdate:modelValue":a[15]||(a[15]=l=>D(p)?p.value=l:null)},{default:t(()=>[e(_,{value:"dados"},{default:t(()=>[o.tipo_pessoa==="FISICA"?(n(),m(S,{key:0},{default:t(()=>[e(v,null,{default:t(()=>[e(i,{cols:"12",md:"8"},{default:t(()=>[e(u,{modelValue:o.nome,"onUpdate:modelValue":a[2]||(a[2]=l=>o.nome=l),label:"Nome"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:t(()=>[x(e(u,{modelValue:o.doc_identificacao,"onUpdate:modelValue":a[3]||(a[3]=l=>o.doc_identificacao=l),label:"CPF"},null,8,["modelValue"]),[[$,"###.###.###-##"]])]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(i,{cols:"12",md:"4"},{default:t(()=>[e(g,{modelValue:o.tabvalores_estadocivil_id,"onUpdate:modelValue":a[4]||(a[4]=l=>o.tabvalores_estadocivil_id=l),items:f(y),"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"4"},{default:t(()=>[e(u,{modelValue:o.profissao,"onUpdate:modelValue":a[5]||(a[5]=l=>o.profissao=l),label:"Profissão"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:t(()=>[e(u,{modelValue:o.local_trabalho,"onUpdate:modelValue":a[6]||(a[6]=l=>o.local_trabalho=l),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(i,{cols:"12",md:"4"},{default:t(()=>[e(u,{modelValue:o.data_nascimento,"onUpdate:modelValue":a[7]||(a[7]=l=>o.data_nascimento=l),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:t(()=>[e(g,{modelValue:o.tabvalores_capacidadecivil_id,"onUpdate:modelValue":a[8]||(a[8]=l=>o.tabvalores_capacidadecivil_id=l),items:f(F),label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"4"},{default:t(()=>[e(g,{modelValue:o.cidade_natural_id,"onUpdate:modelValue":a[9]||(a[9]=l=>o.cidade_natural_id=l),items:f(P),label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(i,{cols:"12",md:"4"},{default:t(()=>[x(e(u,{modelValue:o.cpf_pai,"onUpdate:modelValue":a[10]||(a[10]=l=>o.cpf_pai=l),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[$,"###.###.###-##"]])]),_:1}),e(i,{cols:"12",md:"4"},{default:t(()=>[e(u,{modelValue:o.nome_pai,"onUpdate:modelValue":a[11]||(a[11]=l=>o.nome_pai=l),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),e(v,null,{default:t(()=>[e(i,{cols:"12",md:"4"},{default:t(()=>[x(e(u,{modelValue:o.cpf_mae,"onUpdate:modelValue":a[12]||(a[12]=l=>o.cpf_mae=l),modelModifiers:{date:!0},label:"CPF da Mãe"},null,8,["modelValue"]),[[$,"###.###.###-##"]])]),_:1}),e(i,{cols:"12",md:"4"},{default:t(()=>[e(u,{modelValue:o.nome_mae,"onUpdate:modelValue":a[13]||(a[13]=l=>o.nome_mae=l),modelModifiers:{date:!0},label:"Nome da Mãe"},null,8,["modelValue"])]),_:1})]),_:1}),e(v,{class:"mb-3"},{default:t(()=>[e(d,{to:"/pessoas/lista"},{default:t(()=>[e(N,{size:"large",color:"red"},{default:t(()=>[r("Voltar")]),_:1})]),_:1}),e(N,{onClick:a[14]||(a[14]=l=>H()),class:"ml-4",size:"large",color:"green"},{default:t(()=>[r("Salvar")]),_:1})]),_:1})]),_:1})):o.tipo_pessoa==="JURIDICA"?(n(),m(I,{key:1})):V("",!0)]),_:1}),e(_,{value:"documento"},{default:t(()=>[e(A)]),_:1}),e(_,{value:"representante"},{default:t(()=>[e(K)]),_:1}),e(_,{value:"endereco"},{default:t(()=>[e(Q)]),_:1}),e(_,{value:"biometria"},{default:t(()=>[e(S,{class:"mt-5"},{default:t(()=>[e(X)]),_:1})]),_:1}),e(_,{value:"restricao"},{default:t(()=>[e(Y)]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Le=ie(Ue,[["__scopeId","data-v-3aac3d31"]]);export{Le as default};
