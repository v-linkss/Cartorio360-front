import{_ as ve,a as fe,b as Ve,c as ge,d as ye,e as xe}from"./CRsYsdUD.js";import{_ as be}from"./2aiAhEy3.js";import{_ as $e}from"./t6hM0QM7.js";import{_ as le,a as se,b as ie,c as ne}from"./Bnv_6PzL.js";import{_ as re}from"./DcPdNccw.js";import{z as ue,D as X,u as we,r as d,m as Q,A as ke,E as N,o as M,q as Y,w as o,b as e,v as a,a as u,t as de,c as L,F as B,d as $,G as Ce,H as K,s as Z,g as Ae,p as Pe,V as te,I as Te,J as Be}from"./BdiXWuYW.js";import{u as q}from"./B9UJ37QS.js";import{V as D}from"./CffPtzwX.js";import{V as ae}from"./BnHOX6NM.js";import{V as I}from"./CRmxHBvb.js";import{V as j}from"./BWQu0GxJ.js";import{V as ce}from"./B5kKtZX8.js";import{V as me,a as ee,b as Ue,c as ze,d as De}from"./NzW0ynT-.js";import{V as oe}from"./D0UArRp6.js";import{_ as Ie,a as Me,b as Oe}from"./CcPOhWNR.js";import{V as pe,a as P,b as _e,c as T}from"./gVnKh9hp.js";import{f as H}from"./TYSUBe4N.js";import"./CMV_F4kW.js";import"./DvqlM6v7.js";import"./CdP3NN9a.js";import"./CZA0O7tt.js";import"./DMbdeUUs.js";import"./BFHFsY4q.js";import"./D99sVKwZ.js";import"./-_5K71_K.js";const he={style:{width:"800px","font-weight":"500"}},Se=["onClick"],Ee=["onClick"],Re=["onClick"],qe={key:0,style:{width:"30px",height:"30px"},src:ie,alt:"Reativar",title:"Reativar"},Ne={key:1,src:ne,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Le={__name:"Bens",async setup(F){let i,v;const g=ue(),f=X(),y=Z(),{$toast:C}=we(),x=`${y.public.managemant}/atos_bens`,n=`${y.public.managemant}/atos_bens`,U=`${y.public.managemant}/atos_bens`,z=`${y.public.managemant}/listarTipoBens`,w=d(Q("user-data").value.cartorio_token),h=d(Q("user-data").value.usuario_id).value,A=d([]),m=d([]),k=d(!1),R=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"valor_mercado"},{align:"end",value:"actions"}],c=ke({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),G=async()=>{if(!c.vlr_alienacao&&!c.descricao){C.error("Os campos Descrição e Valor são Obrigatorios!");return}const{data:V,status:t}=await q(`${x}`,{method:"POST",body:{descricao:c.descricao,tipo_id:c.tipo_id,valor_mercado:c.vlr_alienacao,user_id:h,ato_id:Number.parseInt(f.query.ato_id),token:f.query.ato_token_edit}},"$aGIwRtPn6M");t.value==="success"&&(C.success("Bem registrado com sucesso!"),A.value.push(V.value),Object.assign(c,{vlr_alienacao:null,descricao:null,tipo_id:null}))},p=async V=>{const{status:t}=await q(`${n}/${V}`,{method:"PUT",body:{descricao:m.value.descricao,tipo_id:m.value.tipo_id,valor_mercado:m.value.valor_mercado}},"$4hUMyAQlzU");t.value==="success"&&(C.success("Bem Atualizado com sucesso!"),k.value=!1)},r=V=>{const t=A.value.find(E=>E.id===V);t&&(m.value=t,k.value=!0)},{data:b}=([i,v]=N(()=>q(`${z}`,{method:"POST",body:{cartorio_token:w.value,imoveis:!1}},"$da802I2H8c")),i=await i,v(),i);c.tiposBens=b.value,console.log(c.tiposBens);const{data:l}=([i,v]=N(()=>q(`${U}/${f.query.ato_id}`,{method:"GET"},"$iXfJJrO35d")),i=await i,v(),i);A.value=l.value,console.log(A.value);async function _(V){V.excluido=!V.excluido;try{await q(`${n}/${V.id}`,{method:"PUT",body:JSON.stringify({excluido:V.excluido})},"$PGKHfsa7Pl")}catch(t){console.error("Erro ao excluir pessoa:",t)}}const S=()=>{const V=f.query.origem||"criar",t=f.query.id;V==="atualizar"?g.push(`/os/atualizar/${t}`):g.push("/os/criar-registro")};return(V,t)=>{const E=be,W=$e;return M(),Y(oe,null,{default:o(()=>[e(D,{class:"mt-5",cols:"12"},{default:o(()=>[e(ae,{label:"Descrição",modelValue:a(c).descricao,"onUpdate:modelValue":t[0]||(t[0]=s=>a(c).descricao=s)},null,8,["modelValue"])]),_:1}),e(I,{class:"ml-1 mb-3"},{default:o(()=>[e(D,{class:"mt-6",cols:"8"},{default:o(()=>[e(j,{label:"Selecione o Tipo",items:a(c).tiposBens,modelValue:a(c).tipo_id,"onUpdate:modelValue":t[1]||(t[1]=s=>a(c).tipo_id=s),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(D,{class:"ml-5",cols:"3"},{default:o(()=>[t[9]||(t[9]=u("label",null,"Valor",-1)),e(E,{modelValue:a(c).vlr_alienacao,"onUpdate:modelValue":t[2]||(t[2]=s=>a(c).vlr_alienacao=s)},null,8,["modelValue"])]),_:1}),u("div",null,[u("img",{class:"mt-7 ml-4",src:le,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:G})])]),_:1}),e(I,null,{default:o(()=>[e(D,null,{default:o(()=>[e(ce,{style:{height:"465px"},headers:R,items:a(A)},{"item.descricao":o(({item:s})=>[u("h3",he,de(s.descricao),1)]),"item.actions":o(({item:s})=>[e(I,{style:{"margin-top":"-8px"},justify:"end"},{default:o(()=>[u("div",{style:{cursor:"pointer"},class:"mr-2",onClick:J=>V.redirectToFicha(s),title:"Visualizar Ficha"},t[10]||(t[10]=[u("img",{style:{width:"30px",height:"30px"},src:re,alt:"Visualizar"},null,-1)]),8,Se),u("div",{style:{cursor:"pointer"},class:"mr-2",onClick:J=>r(s.id),title:"Alterar Papel"},t[11]||(t[11]=[u("img",{style:{width:"30px",height:"30px"},src:se,alt:"Editar"},null,-1)]),8,Ee),u("div",{style:{cursor:"pointer"},class:"mr-2",onClick:J=>_(s),title:"Deletar Pessoa"},[s.excluido?(M(),L("img",qe)):(M(),L("img",Ne))],8,Re)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(me,{modelValue:a(k),"onUpdate:modelValue":t[8]||(t[8]=s=>B(k)?k.value=s:null),"max-width":"600px"},{default:o(()=>[e(ee,null,{default:o(()=>[e(Ue,{style:{color:"green"}},{default:o(()=>t[12]||(t[12]=[$("Atualizar Bem")])),_:1}),e(ze,null,{default:o(()=>[e(D,{class:"mt-1",cols:"12"},{default:o(()=>[e(ae,{label:"Descrição",modelValue:a(m).descricao,"onUpdate:modelValue":t[3]||(t[3]=s=>a(m).descricao=s)},null,8,["modelValue"])]),_:1}),e(I,null,{default:o(()=>[e(D,{class:"mt-6 ml-3",cols:"8"},{default:o(()=>[e(j,{label:"Selecione o Tipo",items:a(c).tiposBens,modelValue:a(m).tipo_id,"onUpdate:modelValue":t[4]||(t[4]=s=>a(m).tipo_id=s),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(D,{class:"ml-5",cols:"3"},{default:o(()=>[t[13]||(t[13]=u("label",null,"Valor",-1)),e(E,{modelValue:a(m).valor_mercado,"onUpdate:modelValue":t[5]||(t[5]=s=>a(m).valor_mercado=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(De,null,{default:o(()=>[e(Ce),e(K,{color:"green",text:"",onClick:t[6]||(t[6]=s=>k.value=!1)},{default:o(()=>t[14]||(t[14]=[$("Cancelar")])),_:1}),e(K,{color:"green",text:"",onClick:t[7]||(t[7]=s=>p(a(m).id))},{default:o(()=>t[15]||(t[15]=[$("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(I,null,{default:o(()=>[e(W,{onClick:S},{default:o(()=>[e(K,{size:"large",color:"red"},{default:o(()=>t[16]||(t[16]=[$("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Fe={__name:"Atualizar",props:{show:Boolean,imovel_id:Number},emits:["close"],setup(F,{emit:i}){const v=F,g=d("dados"),f=d(v.show),y=i;Ae(()=>v.show,x=>{f.value=x});const C=()=>{f.value=!1,y("close")};return(x,n)=>{const U=Ie,z=Me;return M(),Y(me,{persistent:"",modelValue:a(f),"onUpdate:modelValue":n[2]||(n[2]=w=>B(f)?f.value=w:null),"max-width":"1000"},{default:o(()=>[e(ee,null,{default:o(()=>[e(oe,null,{default:o(()=>[n[5]||(n[5]=u("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Atualizar imovel ",-1)),e(pe,{modelValue:a(g),"onUpdate:modelValue":n[0]||(n[0]=w=>B(g)?g.value=w:null),"bg-color":"#f5f2f2"},{default:o(()=>[e(P,{value:"dados"},{default:o(()=>n[3]||(n[3]=[$("Dados")])),_:1}),e(P,{value:"partes"},{default:o(()=>n[4]||(n[4]=[$("Partes")])),_:1})]),_:1},8,["modelValue"]),e(_e,{modelValue:a(g),"onUpdate:modelValue":n[1]||(n[1]=w=>B(g)?g.value=w:null)},{default:o(()=>[e(T,{value:"dados"},{default:o(()=>[e(U,{isUpdate:!0,imovel_id:v.imovel_id,onCloseModal:C},null,8,["imovel_id"])]),_:1}),e(T,{value:"partes"},{default:o(()=>[e(z,{onCloseModal:C})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Ge={style:{width:"200px"}},Je={style:{width:"300px"}},je=["onClick"],He=["onClick"],We=["onClick"],Ke={key:0,style:{width:"30px",height:"30px"},src:ie,alt:"Visualizar",title:"Reativar"},Qe={key:1,src:ne,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Xe={__name:"Imoveis",async setup(F){let i,v;const g=Z(),f=`${g.public.auth}/service/gerencia/atos_imoveis`,y=`${g.public.auth}/service/gerencia/atos_bens`;ue();const C=X(),x=d(""),n=d(""),U=d(!1),z=d(!1),w=d(null),h=[{title:"Matrícula",value:"registro_matricula"},{title:"Descrição",value:"descricao"},{value:"actions"}],{data:A,status:m}=([i,v]=N(()=>H(f,{method:"POST",body:{ato_token:C.query.ato_token_edit}})),i=await i,v(),i),k=Pe(()=>A.value.filter(p=>{const r=p.matricula?p.matricula.toLowerCase():"",b=p.descricao?p.descricao.toLowerCase():"",l=r.includes(n.value.toLowerCase()),_=b.includes(x.value.toLowerCase());return l&&_}));async function R(p){p.excluido=!p.excluido;try{await H(`${y}/${p.id}`,{method:"PUT",body:{excluido:p.excluido}})}catch(r){console.error("Erro ao excluir pessoa:",r)}}function c(p){}function G(p){w.value=p,z.value=!0}return(p,r)=>{const b=Oe,l=Fe;return a(m)==="success"?(M(),Y(oe,{key:0,class:"mt-5"},{default:o(()=>[u("img",{onClick:r[0]||(r[0]=_=>U.value=!0),style:{cursor:"pointer"},src:le,alt:"Cadastro"}),e(I,{style:{gap:"3rem"}},{default:o(()=>[u("div",Ge,[e(te,{class:"mt-7 mb-4",modelValue:a(n),"onUpdate:modelValue":r[1]||(r[1]=_=>B(n)?n.value=_:null),label:"Matrícula","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),u("div",Je,[e(te,{class:"mt-7 mb-4",modelValue:a(x),"onUpdate:modelValue":r[2]||(r[2]=_=>B(x)?x.value=_:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),e(ce,{density:"compact",headers:h,items:a(k),"item-key":"id"},{"item.actions":o(({item:_})=>[e(I,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:o(()=>[u("div",{style:{cursor:"pointer"},onClick:S=>(_.id,void 0),title:"Visualizar"},r[5]||(r[5]=[u("img",{style:{width:"30px",height:"30px"},src:re,alt:"Visualizar"},null,-1)]),8,je),u("div",{style:{cursor:"pointer"},onClick:S=>G(_.id),title:"Atualizar"},r[6]||(r[6]=[u("img",{style:{width:"30px",height:"30px"},src:se,alt:"Atualizar"},null,-1)]),8,He),u("div",{style:{cursor:"pointer"},onClick:S=>R(_),title:"Deletar"},[_.excluido?(M(),L("img",Ke)):(M(),L("img",Qe))],8,We)]),_:2},1024)]),_:1},8,["items"]),e(b,{show:a(U),onClose:r[3]||(r[3]=_=>U.value=!1)},null,8,["show"]),e(l,{imovel_id:a(w),show:a(z),onClose:r[4]||(r[4]=_=>z.value=!1)},null,8,["imovel_id","show"])]),_:1})):Te("",!0)}}},Ye={class:"mb-10"},Ze={style:{color:"red","margin-left":"30px"}},Ao={__name:"[id]",async setup(F){let i,v;const g=d(null),f=d(null),y=d(null),C=Z(),x=X(),n=`${C.public.auth}/service/gerencia/listarSituacoes`,U=`${C.public.auth}/service/gerencia/getAtos`,z=d(Q("user-data").value.cartorio_token),w=x.query.id?{ato_token:x.query.tipo_ato_token}:{cartorio_token:z},h=d([]),A=d([]),m=d("PROCURAÇÕES"),k=d("PROCURAÇÃO COM BENS");async function R(){try{const{data:b}=await H(`${U}/${x.query.ato_id}`,{method:"GET"});A.value=b.value}catch(b){console.log(b)}}[i,v]=N(()=>R()),await i,v();const{data:c,status:G}=([i,v]=N(()=>H(n,{method:"POST",body:w})),i=await i,v(),i);h.value=c.value;const p=b=>{g.value=b},r=b=>{f.value=b};return(b,l)=>{const _=ve,S=fe,V=Le,t=Xe,E=Ve,W=ge,s=ye,J=xe;return M(),L(Be,null,[u("div",Ye,[e(I,{class:"mb-5 mt-5"},{default:o(()=>[l[4]||(l[4]=u("h1",null,"Ordem de Serviço nº",-1)),u("h1",Ze,de(a(x).query.numero_os),1)]),_:1}),e(I,null,{default:o(()=>[e(D,{md:"6"},{default:o(()=>[e(j,{class:"mr-5",modelValue:a(m),"onUpdate:modelValue":l[0]||(l[0]=O=>B(m)?m.value=O:null),disabled:""},null,8,["modelValue"])]),_:1}),e(D,{md:"6"},{default:o(()=>[e(j,{modelValue:a(k),"onUpdate:modelValue":l[1]||(l[1]=O=>B(k)?k.value=O:null),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),e(ee,{width:"1300"},{default:o(()=>[e(pe,{modelValue:a(y),"onUpdate:modelValue":l[2]||(l[2]=O=>B(y)?y.value=O:null),"bg-color":"#f5f2f2"},{default:o(()=>[e(P,{value:"dados"},{default:o(()=>l[5]||(l[5]=[$("Dados")])),_:1}),e(P,{value:"partes"},{default:o(()=>l[6]||(l[6]=[$("Partes")])),_:1}),e(P,{value:"bens"},{default:o(()=>l[7]||(l[7]=[$("Bens")])),_:1}),e(P,{value:"imoveis"},{default:o(()=>l[8]||(l[8]=[$("Imoveis")])),_:1}),e(P,{value:"minuta"},{default:o(()=>l[9]||(l[9]=[$("Minuta")])),_:1}),e(P,{value:"livro"},{default:o(()=>l[10]||(l[10]=[$("Livro")])),_:1}),e(P,{value:"observacao"},{default:o(()=>l[11]||(l[11]=[$("Observações")])),_:1}),e(P,{value:"anexo"},{default:o(()=>l[12]||(l[12]=[$("Anexos")])),_:1})]),_:1},8,["modelValue"]),e(_e,{modelValue:a(y),"onUpdate:modelValue":l[3]||(l[3]=O=>B(y)?y.value=O:null)},{default:o(()=>[e(T,{value:"dados"},{default:o(()=>[e(_,{item_dados:a(A),item_situacoes:a(h)},null,8,["item_dados","item_situacoes"])]),_:1}),e(T,{value:"partes"},{default:o(()=>[e(S)]),_:1}),e(T,{value:"bens"},{default:o(()=>[e(V)]),_:1}),e(T,{value:"imoveis"},{default:o(()=>[e(t)]),_:1}),e(T,{value:"minuta"},{default:o(()=>[e(E,{onPage:p,onDoc:r})]),_:1}),e(T,{value:"livro"},{default:o(()=>[e(W,{pages:a(g),document:a(f)},null,8,["pages","document"])]),_:1}),e(T,{value:"observacao"},{default:o(()=>[e(s)]),_:1}),e(T,{value:"anexo"},{default:o(()=>[e(J)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{Ao as default};
