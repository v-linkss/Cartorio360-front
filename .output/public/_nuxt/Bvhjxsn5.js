import{_ as R}from"./DesmQGhx.js";import{_ as S,a as A,b as E}from"./BP1uhy__.js";import{_ as N}from"./D-gTAuop.js";import{_ as U}from"./CL5U5-h4.js";import{r as u,m as v,C as M,I as P,p as F,v as m,G as I,w as s,K as j,s as G,o as p,b as r,a as o,V as K,x as O,c as y}from"./DQhxv2KM.js";import{u as W}from"./2l0y23Gb.js";import{f as q}from"./02CDnTra.js";import{V as H}from"./Ddk49kjL.js";import{V as k}from"./D6muoYhM.js";import{V as J}from"./BlCawZhT.js";import"./DrQLnPGh.js";import"./C-k8K03Q.js";import"./CEHMAnYj.js";import"./BiuKny3r.js";const Q={style:{width:"300px"}},X=["onClick"],Y=["onClick"],Z=["onClick"],tt={key:0,style:{width:"30px",height:"30px"},src:A,alt:"Visualizar",title:"Reativar"},at={key:1,src:E,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},xt={__name:"index",async setup(et){let l,_;const f=G(),g=`${f.public.managemant}/listar_situacao_matriculas`,C=`${f.public.managemant}/situacao-matriculas`,V=u(v("auth_token").value)||null,w=u(v("user-data").value.cartorio_token)||null,h=M(),c=u(""),$=u(""),b=[{title:"ID",value:"id"},{title:"Descrição",value:"descricao"},{title:"Situação",value:"situacao"},{value:"actions"}],z={cartorio_token:w.value,user_token:V.value},{data:n,status:T}=([l,_]=P(()=>W(`${g}`,{method:"POST",body:z},"$7ux5A7Bg14")),l=await l,_(),l);console.log("sitaucao matricula",n.value);const x=F(()=>n.value?n.value.filter(t=>{var e,i;const a=((e=t.situacao_descricao)==null?void 0:e.toLowerCase())??"",d=((i=t.situacao)==null?void 0:i.toLowerCase())??"";return a.includes($.value.toLowerCase())&&d.includes(c.value.toLowerCase())}):[]);console.log("filtro",x.value);async function D(t){t.excluido=!t.excluido;try{await q(`${C}/${t.id}`,{method:"PUT",body:{excluido:t.excluido}})}catch(a){console.error("Erro ao excluir pessoa:",a)}}function L(t){h.push({path:`/tipos-matriculas/vizualizar/${t}`})}function B(t){h.push({path:`/tipos-matriculas/atualizar/${t}`})}return(t,a)=>{const d=R;return m(T)==="success"?(p(),I(H,{key:0,class:"mt-5"},{default:s(()=>[r(d,{to:"/tipos-matriculas/cadastro"},{default:s(()=>a[1]||(a[1]=[o("img",{style:{cursor:"pointer"},src:S,alt:"Cadastro"},null,-1)])),_:1}),r(k,{style:{gap:"3rem"}},{default:s(()=>[o("div",Q,[r(K,{class:"mt-7 mb-4",modelValue:m(c),"onUpdate:modelValue":a[0]||(a[0]=e=>O(c)?c.value=e:null),label:"Sitação","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),r(J,{density:"compact",headers:b,items:m(x),"item-key":"id"},{"item.actions":s(({item:e})=>[r(k,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:s(()=>[o("div",{style:{cursor:"pointer"},onClick:i=>L(e.id),title:"Visualizar"},a[2]||(a[2]=[o("img",{style:{width:"30px",height:"30px"},src:N,alt:"Visualizar"},null,-1)]),8,X),o("div",{style:{cursor:"pointer"},onClick:i=>B(e.id),title:"Atualizar"},a[3]||(a[3]=[o("img",{style:{width:"30px",height:"30px"},src:U,alt:"Atualizar"},null,-1)]),8,Y),o("div",{style:{cursor:"pointer"},onClick:i=>D(e),title:"Deletar"},[e.excluido?(p(),y("img",tt)):(p(),y("img",at))],8,Z)]),_:2},1024)]),_:1},8,["items"])]),_:1})):j("",!0)}}};export{xt as default};
