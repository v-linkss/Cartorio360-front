import{_ as ye}from"./eWdL-p5y.js";import{_ as Ce}from"./BOUTo4A_.js";import{V as oe,a as Oe,b as Se}from"./CKvifnFf.js";import{V as K}from"./rIIY4oBm.js";import{V as $}from"./BBtjS20Y.js";import{bU as Fe,bV as Ue,bW as Be,bX as Re,bY as Me,bZ as Ne,b_ as Te,P as Z,r as m,bj as $e,f as Ie,y as be,h as q,j as De,b$ as Pe,c0 as Ee,c1 as ve,c2 as qe,b as e,c3 as Ge,G as le,F as ne,L as fe,K as He,bG as ze,c4 as Je,c5 as Le,aV as X,c6 as je,c7 as Qe,c8 as Ye,o as H,z as Y,w as r,B as L,d as D,A as l,D as te,a as v,q as Ke,s as I,v as re,t as ae,V as U,M as Ve,C as se,bp as We,u as Ze,N as _e,O as pe,c as ge}from"./kel_KTqI.js";import{V as ie}from"./CsQWLb_f.js";import{a as G}from"./Ctxw8aW4.js";import{_ as he,a as Xe}from"./HBU26js5.js";import{V as ee}from"./qVX3ECkv.js";import{c as eo,r as oo,u as to}from"./DIe62Qzf.js";import{_ as ao}from"./BK5R3BsW.js";import{_ as lo,a as no}from"./DdFOrgXD.js";import{V as O}from"./CvrAmHDj.js";const ro=Fe({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:o=>!isNaN(parseFloat(o))},maxRows:{type:[Number,String],validator:o=>!isNaN(parseFloat(o))},suffix:String,modelModifiers:Object,...Ue(),...Be()},"VTextarea"),so=Re()({name:"VTextarea",directives:{Intersect:Me},inheritAttrs:!1,props:ro(),emits:{"click:control":o=>!0,"mousedown:control":o=>!0,"update:focused":o=>!0,"update:modelValue":o=>!0},setup(o,B){let{attrs:i,emit:p,slots:f}=B;const _=Ne(o,"modelValue"),{isFocused:x,focus:S,blur:V}=Te(o),R=Z(()=>typeof o.counterValue=="function"?o.counterValue(_.value):(_.value||"").toString().length),N=Z(()=>{if(i.maxlength)return i.maxlength;if(!(!o.counter||typeof o.counter!="number"&&typeof o.counter!="string"))return o.counter});function P(c,d){var s,t;!o.autofocus||!c||(t=(s=d[0].target)==null?void 0:s.focus)==null||t.call(s)}const A=m(),k=m(),g=$e(""),M=m(),w=Z(()=>o.persistentPlaceholder||x.value||o.active);function y(){var c;M.value!==document.activeElement&&((c=M.value)==null||c.focus()),x.value||S()}function n(c){y(),p("click:control",c)}function j(c){p("mousedown:control",c)}function z(c){c.stopPropagation(),y(),X(()=>{_.value="",je(o["onClick:clear"],c)})}function W(c){var s;const d=c.target;if(_.value=d.value,(s=o.modelModifiers)!=null&&s.trim){const t=[d.selectionStart,d.selectionEnd];X(()=>{d.selectionStart=t[0],d.selectionEnd=t[1]})}}const T=m(),E=m(+o.rows),b=Z(()=>["plain","underlined"].includes(o.variant));Ie(()=>{o.autoGrow||(E.value=+o.rows)});function u(){o.autoGrow&&X(()=>{if(!T.value||!k.value)return;const c=getComputedStyle(T.value),d=getComputedStyle(k.value.$el),s=parseFloat(c.getPropertyValue("--v-field-padding-top"))+parseFloat(c.getPropertyValue("--v-input-padding-top"))+parseFloat(c.getPropertyValue("--v-field-padding-bottom")),t=T.value.scrollHeight,h=parseFloat(c.lineHeight),F=Math.max(parseFloat(o.rows)*h+s,parseFloat(d.getPropertyValue("--v-input-control-height"))),Q=parseFloat(o.maxRows)*h+s||1/0,a=Ye(t??0,F,Q);E.value=Math.floor((a-s)/h),g.value=Qe(a)})}be(u),q(_,u),q(()=>o.rows,u),q(()=>o.maxRows,u),q(()=>o.density,u);let C;return q(T,c=>{c?(C=new ResizeObserver(u),C.observe(T.value)):C==null||C.disconnect()}),De(()=>{C==null||C.disconnect()}),Pe(()=>{const c=!!(f.counter||o.counter||o.counterValue),d=!!(c||f.details),[s,t]=Ee(i),{modelValue:h,...F}=ve.filterProps(o),Q=qe(o);return e(ve,le({ref:A,modelValue:_.value,"onUpdate:modelValue":a=>_.value=a,class:["v-textarea v-text-field",{"v-textarea--prefixed":o.prefix,"v-textarea--suffixed":o.suffix,"v-text-field--prefixed":o.prefix,"v-text-field--suffixed":o.suffix,"v-textarea--auto-grow":o.autoGrow,"v-textarea--no-resize":o.noResize||o.autoGrow,"v-input--plain-underlined":b.value},o.class],style:o.style},s,F,{centerAffix:E.value===1&&!b.value,focused:x.value}),{...f,default:a=>{let{id:J,isDisabled:ue,isDirty:de,isReadonly:xe,isValid:Ae}=a;return e(Ge,le({ref:k,style:{"--v-textarea-control-height":g.value},onClick:n,onMousedown:j,"onClick:clear":z,"onClick:prependInner":o["onClick:prependInner"],"onClick:appendInner":o["onClick:appendInner"]},Q,{id:J.value,active:w.value||de.value,centerAffix:E.value===1&&!b.value,dirty:de.value||o.dirty,disabled:ue.value,focused:x.value,error:Ae.value===!1}),{...f,default:ke=>{let{props:{class:ce,...me}}=ke;return e(ne,null,[o.prefix&&e("span",{class:"v-text-field__prefix"},[o.prefix]),fe(e("textarea",le({ref:M,class:ce,value:_.value,onInput:W,autofocus:o.autofocus,readonly:xe.value,disabled:ue.value,placeholder:o.placeholder,rows:o.rows,name:o.name,onFocus:y,onBlur:V},me,t),null),[[He("intersect"),{handler:P},null,{once:!0}]]),o.autoGrow&&fe(e("textarea",{class:[ce,"v-textarea__sizer"],id:`${me.id}-sizer`,"onUpdate:modelValue":we=>_.value=we,ref:T,readonly:!0,"aria-hidden":"true"},null),[[ze,_.value]]),o.suffix&&e("span",{class:"v-text-field__suffix"},[o.suffix])])}})},details:d?a=>{var J;return e(ne,null,[(J=f.details)==null?void 0:J.call(f,a),c&&e(ne,null,[e("span",null,null),e(Je,{active:o.persistentCounter||x.value,value:R.value,max:N.value,disabled:o.disabled},f.counter)])])}:void 0})}),Le({},A,k,M)}}),io=v("h1",null,"Confirmação de Recebimento",-1),uo=v("p",null," O valor recebido é menor que o valor da OS, confirma o recebimento parcial? ",-1),co={__name:"ModalRecebimentoCond",props:{show:Boolean,faltaReceber:Number},emits:["close","confirmar"],setup(o,{emit:B}){const i=o,p=m(i.show),f=B;q(()=>i.show,S=>{p.value=S});const _=()=>{f("confirmar"),x()},x=()=>{p.value=!1,f("close")};return(S,V)=>(H(),Y(ie,{persistent:"",modelValue:l(p),"onUpdate:modelValue":V[0]||(V[0]=R=>te(p)?p.value=R:null),"max-width":"650"},{default:r(()=>[e(oe,null,{default:r(()=>[e(K,null,{default:r(()=>[e($,{class:"mb-5 mt-1 ml-2"},{default:r(()=>[io]),_:1}),e($,{class:"ml-2"},{default:r(()=>[uo]),_:1})]),_:1}),e(Oe,null,{default:r(()=>[e(L,{style:{"background-color":"#429946",color:"white"},onClick:_},{default:r(()=>[D("Confirmar")]),_:1}),e(L,{style:{"background-color":"red",color:"white"},onClick:x},{default:r(()=>[D("Cancelar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},mo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABJhJREFUeJztW81v3EQcfTM73ZU3C1GF4NJAG+UGSKgSjZAgfwCFHnMpiAMSyckHGim2FAl8cSRvFFopApEixIW/APFx48IKCS5wQOKGGpqWAx/SqhslMY6HS1PZg+0de2fsSdN3m/HM6Ofn37zxPI8JNMO27Y5lWcuEkKsAngcwNabLHoBfOOefd7vdm57nhTrjIzoHX1tbOxdF0VcAXqg4xM+Msdd937+jMq4ktBFg23an2+3+gOo3f4yfLMt6SVcmUB2DAoBlWcuY/OYB4OL+/v47CsbJBNM1MCHkjWSZc/41gOV+v79b1G91dXWGEHITwKuJ6jcBfKg+So0ZAOBZoTz25gGg3+/vMsaWhern1IWVhk4CesmCzM0fw/f920LVY0oiyoBOAk4Exq4CjuNcAXANwCWMX8NNwR6AH+M4/mBjY+PLooatoouu664D+AjABQBtZeHpRxvALCHk6sLCwpnBYPBtXsPcDLj/5L/QEV3diOP4Sl4mFGnANU3x1A5K6bt514reA14Uyi8HQfC9mpD0wnGcVwB8l6i6lNe2KANSy9hJuXkACIJgIFTlLqOnfhl8REDTATSNU0+A9G7QcRyuM5CmcOozoIgA6d2b6eCci7vLBygiYAkPAQmc89uU0qW861KeoOM4OwCeOS5HUXRhc3NzR0F8yrCysnKeMXYrUfV7EATnx/WT1YBRssAY6+U1bAqdTkd827sn068SAZRS4wiIokiMaZTZUEAlAo6OjowjIOOhSBEg9R5ACBlxzpPlXAIcx3kNwDYADmApCIJv6mgXx3GPkJSkqcsAzvlIKBdlwMcAzgGY4Zxv19VOfCiEEKVTICUolNIil3YmEcTTNbZLxRTHsToRLJkBjUBrBlBKU4MVaUCDSDnWhJA9mU6yUyA1GOfcOHs8juPUQxGzNg+VpgA0fqmZAKmYtIqgiVNAjOmRCOoUQQiOsQkQH4pSDYjj2HgCIMTUarXUEcAYO3EimPHQMiFFwOHhoSgoxmVAhi6pE8F2u238FBBFMAxDdRkwGo2MJwBCTNPT0+oI2NraOgTwb6Kq7XmeMecFbNvuADiTqAplj9WVscVTjA6HQ2OyoNfrVTJDgBIEiOvqmC1xrQjDUD8B4puVScZohiGqngD83xQxhoAMQ1RqCQQm0ACTjNGqhigwwRQwaUcoegGoQwRN2hFW3QkCD8kqAGEfILsTBCYQQZMzADpE0HBjtJIhCpTLAGON0aqGKDCBBsAsT6CSIQpMQEDBFHhwqKLoZIbKdmIsTYvgEoDdcSczVLabRASlT4lRSlNfiJHjCdz/elv0DU95u6qGKFAiAww3RisZokA5DfhbqJr1PK/xY3aLi4stALPJuiiK/pHtL30DU1NTO0gvhU8dHBxcd133rOwYquG67tm5ubkbAJ5MVN8bDoe3ZMco9eeo4zifAni7TJ8G8EkQBEWimkKpFGaMvQfgr9Ih1Yc/W63W+2U6lCLA9/07hJDLAP4oFVY9uMs5v7y+vl4qtsK/xrIwGAzuzs/Pf8YYCznnTxBCHofGX3DH4ADArwC2CSFvBUHwW9kB/gMs68lWOHHFdwAAAABJRU5ErkJggg==",vo=v("h1",null,"Ordem de Serviço nº",-1),fo={style:{color:"red","margin-left":"18px"}},_o={style:{"max-width":"180px"}},po=v("hr",{class:"mb-5"},null,-1),go=["onClick"],bo=v("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:mo,alt:"Remover"},null,-1),Vo=[bo],ho={style:{display:"flex","justify-content":"flex-start"}},xo={__name:"Ordem",props:{show:Boolean,ordem:{type:Object,required:!0}},emits:["close"],setup(o,{emit:B}){const i=o,{$toast:p}=Ke(),f=m(i.show),_=m(!1),x=se(),S=`${x.public.managemant}/listarFormasReceb`,V=`${x.public.managemant}/receberOs`,R=I("auth_token").value,N=m([]),P=m(null),A=m([]),k=m([]),g=re({descricao:null,forma:null,valor:""}),M=B,w=[{title:"Forma",value:"forma"},{title:"Valor",value:"valor"},{value:"actions"}];q(()=>i.show,b=>{f.value=b});const y=()=>{f.value=!1,M("close")},n=async()=>{P.value=Number(i.ordem.valor),_.value=!0},j=async()=>{const b={ordemserv_token:i.ordem.token,usuario_token:R,recebimentos:[k.value]},{data:u,error:C}=await G(V,{method:"POST",body:JSON.stringify(b)},"$vhMIR8Sr2p");u.value[0].status==="OK"&&(p.success("Valores Recebidos com Sucesso!"),A.value=[],y())},z=()=>{i.ordem.valor=parseFloat(i.ordem.valor).toFixed(2),i.ordem.valor_pago=parseFloat(i.ordem.valor_pago).toFixed(2)},W=async()=>{try{const u={cartorio_token:m(I("user-data").value.cartorio_token).value},{data:C,error:c}=await G(S,{method:"POST",body:JSON.stringify(u)},"$eiMzO5y6Bb");N.value=We(C.value)}catch(b){console.error("Erro ao realizar a requisição:",b)}},T=async()=>{const b=N.value.find(u=>u.token===g.forma);if(!b){p.error("Por favor, selecione uma forma.");return}if(Number(i.ordem.valor)<=0){p.error("O valor recebido não deve ultrapassar o valor total da ordem.");return}A.value.push({forma:g.forma,descricao:b.descricao,valor:g.valor}),k.value.push({forma_receb_token:g.forma,valor:Number(g.valor)}),i.ordem.valor_pago=parseFloat(i.ordem.valor_pago)+parseFloat(g.valor),i.ordem.valor=parseFloat(i.ordem.valor)-parseFloat(g.valor),g.forma=null,g.valor="0.00",z()},E=b=>{const u=A.value.indexOf(b);u!==-1&&(A.value.splice(u,1),k.value.splice(u,1),i.ordem.valor_pago=parseFloat(i.ordem.valor_pago)-parseFloat(b.valor),i.ordem.valor=parseFloat(i.ordem.valor)+parseFloat(b.valor))};return W(),(b,u)=>{const C=Ce,c=co;return H(),Y(ie,{persistent:"",modelValue:l(f),"onUpdate:modelValue":u[6]||(u[6]=d=>te(f)?f.value=d:null),"max-width":"650"},{default:r(()=>[e(oe,null,{default:r(()=>[e(K,null,{default:r(()=>[e($,{class:"mb-5 mt-1 ml-2"},{default:r(()=>[vo,v("h1",fo,ae(i.ordem.numero),1)]),_:1}),e(K,null,{default:r(()=>[e($,null,{default:r(()=>[e(U,{class:"mr-5",label:"Recebido",modelValue:i.ordem.valor_pago,"onUpdate:modelValue":u[0]||(u[0]=d=>i.ordem.valor_pago=d),disabled:""},null,8,["modelValue"]),e(U,{label:"Falta Receber",modelValue:i.ordem.valor,"onUpdate:modelValue":u[1]||(u[1]=d=>i.ordem.valor=d),disabled:""},null,8,["modelValue"])]),_:1}),e($,null,{default:r(()=>[e(ee,{class:"mb-5 mr-5",label:"Forma",modelValue:l(g).forma,"onUpdate:modelValue":u[2]||(u[2]=d=>l(g).forma=d),items:l(N),"item-title":"descricao","item-value":"token"},null,8,["modelValue","items"]),v("div",_o,[e(C,{modelValue:l(g).valor,"onUpdate:modelValue":u[3]||(u[3]=d=>l(g).valor=d)},null,8,["modelValue"])]),v("div",null,[v("img",{src:he,class:"ml-5",style:{cursor:"pointer",height:"40px",width:"40px"},onClick:T})])]),_:1})]),_:1}),po,e(Ve,{headers:w,items:l(A),"item-value":"token"},{"item.forma":r(({item:d})=>[D(ae(d.descricao),1)]),"item.actions":r(({item:d})=>[v("div",{style:{display:"flex","justify-content":"flex-end"},onClick:s=>E(d),title:"Remover"},Vo,8,go)]),_:1},8,["items"])]),_:1}),v("div",ho,[e(L,{class:"ml-8",size:"large",onClick:y,color:"red"},{default:r(()=>[D("Voltar")]),_:1}),Number(i.ordem.valor)>0?(H(),Y(L,{key:0,class:"ml-6 mb-6",size:"large",color:"green",onClick:n},{default:r(()=>[D("Salvar")]),_:1})):(H(),Y(L,{key:1,size:"large",class:"ml-6 mb-6",color:"green",onClick:j},{default:r(()=>[D("Salvar")]),_:1}))])]),_:1}),e(c,{modelValue:l(_),"onUpdate:modelValue":u[4]||(u[4]=d=>te(_)?_.value=d:null),faltaReceber:l(P),onClose:u[5]||(u[5]=d=>_.value=!1),onConfirmar:j},null,8,["modelValue","faltaReceber"])]),_:1},8,["modelValue"])}}},Ao=v("h1",null,"Cancelamento da OS nº",-1),ko={style:{color:"red","margin-left":"18px"}},wo={class:"mb-5",style:{display:"flex","justify-content":"flex-start"}},yo={class:"ml-6"},Co={class:"ml-6"},Oo={__name:"Ordem",props:{show:Boolean,numero_os:Number,ordemserv_token:String},emits:["close"],setup(o,{emit:B}){const i=o,p=m(i.show),f=se();m(I("user-data").value.cartorio_token).value;const _=I("auth_token").value,x=`${f.public.managemant}/analisaCancelamento`,S=`${f.public.managemant}/cancelaOs`,V=re({motivo:null}),R=m(null),N=B,P={motivo:{required:eo.withMessage("O campo é obrigatorio",oo)}},A=to(P,V);q(()=>i.show,w=>{p.value=w});const k=()=>{p.value=!1,N("close")};(async()=>{const{data:w,error:y}=await G(`${x}`,{method:"POST",body:{ordemserv_token:i.ordemserv_token}},"$1fnrIk2fgs");R.value=w.value.mensagem})();const M=async()=>{if(await A.value.$validate()){const{status:w}=await G(`${S}`,{method:"POST",body:{usuario_token:_,motivo:V.motivo,ordemserv_token:i.ordemserv_token}},"$21WlhUNXeM");w.value==="success"&&(window.location.reload(),k())}};return(w,y)=>(H(),Y(ie,{persistent:"",modelValue:l(p),"onUpdate:modelValue":y[1]||(y[1]=n=>te(p)?p.value=n:null),"max-width":"650"},{default:r(()=>[e(oe,null,{default:r(()=>[e(K,null,{default:r(()=>[e($,{class:"mb-5 mt-1 ml-2"},{default:r(()=>[Ao,v("h1",ko,ae(i.numero_os),1)]),_:1}),e(K,null,{default:r(()=>[e(oe,{variant:"outlined",class:"mb-5"},{default:r(()=>[e(Se,null,{default:r(()=>[D(ae(l(R)),1)]),_:1})]),_:1}),e(so,{label:"Motivo",modelValue:l(V).motivo,"onUpdate:modelValue":y[0]||(y[0]=n=>l(V).motivo=n),required:"","error-messages":l(A).motivo.$errors.map(n=>n.$message),onBlur:l(A).motivo.$touch,onInput:l(A).motivo.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),v("div",wo,[v("div",yo,[e(L,{size:"large",color:"red",onClick:k},{default:r(()=>[D("Fechar")]),_:1})]),v("div",Co,[e(L,{size:"large",color:"green",onClick:M},{default:r(()=>[D("Salvar")]),_:1})])])]),_:1})]),_:1},8,["modelValue"]))}},So=""+new URL("recebe.CceqgowM.png",import.meta.url).href,Fo=v("h1",null,"Ordens de Serviço",-1),Uo=v("hr",{class:"mt-5 mb-5"},null,-1),Bo=["title","onClick"],Ro=["onClick","title"],Mo=["disabled","onClick"],No={key:0,style:{width:"30px",height:"30px"},src:no,alt:"Visualizar",title:"Bloqueado"},To={key:1,src:Xe,alt:"Cancelamento",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Cancelamento"},Ko={__name:"index",setup(o){const B=se(),i=`${B.public.managemant}/listarUsuarios`,p=`${B.public.managemant}/listarOrdensServico`,f=`${B.public.managemant}/tipoAtos`,_=Ze(),x=m(I("auth_token").value)||null,S=m(I("user-data").value.cartorio_token)||null,V=m([]),R=m([]),N=m([]),P=m(["PENDENTE","EM ANDAMENTO","CONCLUÍDA","LAVRADA"]),A=m(!1),k=m(!1),g=m(null),M=m(null),w=m(null),y=m({}),n=re({numero:null,data_inicio:z(),data_fim:z(),data_lavratura_inicio:null,data_lavratura_fim:null,protocolo:null,livro:null,folha:null,situacao:null,usuario_token:x.value,selo:null,ato_tipo_token:null,apresentante:null}),j=[{title:"Número",value:"numero"},{title:"Situação",value:"situacao"},{title:"CPF",value:"apresentante_cpf"},{title:"Apresentante",value:"apresentante_nome"},{title:"Usuario",value:"usuario_nome"},{title:"Data Recebimento",value:"dt_pagto"},{title:"Valor",value:"valor"},{value:"actions"}];function z(){const s=new Date,t=s.getFullYear(),h=String(s.getMonth()+1).padStart(2,"0"),F=String(s.getDate()).padStart(2,"0");return`${t}-${h}-${F}`}async function W(){const{data:s,error:t}=await G(i,{method:"POST",body:{cartorio_token:S.value}},"$pAAptWJdb1");R.value=s.value}async function T(){try{sessionStorage.setItem("pesquisaOS",JSON.stringify(n));const{data:s,error:t}=await G(p,{method:"POST",body:{cartorio_token:S.value,numero:n.numero||null,data_inicio:n.data_inicio||null,data_fim:n.data_fim||null,data_lavratura_inicio:n.data_lavratura_inicio||null,data_lavratura_fim:n.data_lavratura_fim||null,protocolo:n.protocolo||null,livro:n.livro||null,folha:n.folha||null,situacao:n.situacao||null,usuario_token:n.usuario_token,selo:n.selo||null,ato_tipo_token:n.ato_tipo_token,apresentante:n.apresentante||null}},"$IO02J210Z9");s.value.length>0?V.value=s.value:V.value=[]}catch(s){console.error("Erro na requisição",s)}}async function E(){const{data:s,error:t}=await G(f,{method:"POST",body:{cartorio_token:S.value,usuario_token:x.value}},"$YgUhKRJlsV");N.value=s.value}const b=async()=>{try{const s=z(),t=sessionStorage.getItem("pesquisaOS"),h=JSON.parse(t),{data:F,error:Q}=await G(p,{method:"POST",body:{cartorio_token:S.value,usuario_token:x.value,data_fim:(h==null?void 0:h.data_fim)||s,data_inicio:(h==null?void 0:h.data_inicio)||s}},"$xKnfARCL4G");F.value.length>0?(V.value=F.value,console.log(V.value)):V.value=[]}catch(s){console.error("Erro ao buscar serviços",s)}};W(),E();function u(s,t,h){w.value=s,M.value=t,k.value=!0}function C(s){const t=I("user-service"),h=V.value.find(F=>F.id===s);t.value=t.value=JSON.stringify({id:h.id,token:h.token}),_.push({path:`/os/atualizar/${s}`})}function c(s,t){w.value=s,y.value={token:t.token,numero:t.numero,valor:t.valor,valor_pago:t.valor_pago},A.value=!0}const d=()=>{const s=I("user-service"),t=I("ordem-button");s.value=null,g.value=!0,t.value=g.value};return be(()=>{X(async()=>{const s=sessionStorage.getItem("pesquisaOS");if(s){const t=JSON.parse(s);Object.assign(n,t)}await b()})}),(s,t)=>{const h=ye,F=xo,Q=Oo;return H(),Y(K,{class:"mt-5"},{default:r(()=>[e($,{class:"mb-5"},{default:r(()=>[Fo,e(h,{to:"/os/criar-registro"},{default:r(()=>[v("img",{style:{width:"60px",height:"60px",cursor:"pointer","margin-left":"70px"},src:he,alt:"novo",onClick:d})]),_:1})]),_:1}),e($,{style:{"margin-bottom":"-35px"}},{default:r(()=>[e(O,null,{default:r(()=>[e(U,{modelValue:l(n).numero,"onUpdate:modelValue":t[0]||(t[0]=a=>l(n).numero=a),label:"Número",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(U,{modelValue:l(n).data_inicio,"onUpdate:modelValue":t[1]||(t[1]=a=>l(n).data_inicio=a),type:"date",label:"Abertura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(U,{modelValue:l(n).data_fim,"onUpdate:modelValue":t[2]||(t[2]=a=>l(n).data_fim=a),type:"date",label:"Abertura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(U,{modelValue:l(n).data_lavratura_inicio,"onUpdate:modelValue":t[3]||(t[3]=a=>l(n).data_lavratura_inicio=a),type:"date",label:"Lavratura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(U,{modelValue:l(n).data_lavratura_fim,"onUpdate:modelValue":t[4]||(t[4]=a=>l(n).data_lavratura_fim=a),type:"date",label:"Lavratura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(U,{modelValue:l(n).protocolo,"onUpdate:modelValue":t[5]||(t[5]=a=>l(n).protocolo=a),label:"Protocolo",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(O,{md:"1"},{default:r(()=>[e(U,{modelValue:l(n).livro,"onUpdate:modelValue":t[6]||(t[6]=a=>l(n).livro=a),label:"Livro",style:{width:"80px"}},null,8,["modelValue"])]),_:1}),e(O,{md:"1"},{default:r(()=>[e(U,{modelValue:l(n).folha,"onUpdate:modelValue":t[7]||(t[7]=a=>l(n).folha=a),label:"Folha",style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1}),e($,null,{default:r(()=>[e(O,{md:"3"},{default:r(()=>[e(ee,{modelValue:l(n).situacao,"onUpdate:modelValue":t[8]||(t[8]=a=>l(n).situacao=a),items:l(P),label:"Situação"},null,8,["modelValue","items"])]),_:1}),e(O,{md:"2"},{default:r(()=>[e(ee,{items:l(R),modelValue:l(n).usuario_token,"onUpdate:modelValue":t[9]||(t[9]=a=>l(n).usuario_token=a),"item-title":"user_nome","item-value":"user_token",label:"Usuario"},null,8,["items","modelValue"])]),_:1}),e(O,{md:"1"},{default:r(()=>[e(U,{modelValue:l(n).selo,"onUpdate:modelValue":t[10]||(t[10]=a=>l(n).selo=a),label:"Selo"},null,8,["modelValue"])]),_:1}),e(O,{md:"3"},{default:r(()=>[e(ee,{modelValue:l(n).ato_tipo_token,"onUpdate:modelValue":t[11]||(t[11]=a=>l(n).ato_tipo_token=a),items:l(N),"item-title":"descricao","item-value":"token",label:"Serviço"},null,8,["modelValue","items"])]),_:1}),e(O,{md:"2"},{default:r(()=>[e(U,{modelValue:l(n).apresentante,"onUpdate:modelValue":t[12]||(t[12]=a=>l(n).apresentante=a),label:"Apresentante"},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[v("div",null,[v("img",{onClick:T,style:{width:"40px",height:"40px",cursor:"pointer"},src:ao,alt:"Pesquisar"})])]),_:1})]),_:1}),Uo,e(Ve,{headers:j,items:l(V),"item-key":"id"},{"item.actions":r(({item:a})=>[e($,{style:{display:"flex",gap:"10px","margin-top":"-5px"}},{default:r(()=>[v("div",{class:pe({disabled:!a.btn_receber}),title:a.btn_receber?"Receber":"Bloqueado",onClick:J=>a.btn_receber?c(a.numero,a):null},[v("img",{style:_e({cursor:a.btn_receber?"pointer":"default",width:"30px",height:"30px"}),src:So,alt:"Receber"},null,4)],10,Bo),v("div",{class:pe({disabled:!a.btn_editar}),onClick:J=>a.btn_editar?C(a.id):null,title:a.btn_editar?"Editar":"Bloqueado"},[v("img",{style:_e({cursor:a.btn_editar?"pointer":"default",width:"30px",height:"30px"}),src:lo,alt:"Editar"},null,4)],10,Ro),v("div",{disabled:!a.btn_cancelar,onClick:J=>a.btn_cancelar?u(a.numero,a.token):null,title:"Cancelamento"},[a.excluido?(H(),ge("img",No)):(H(),ge("img",To))],8,Mo)]),_:2},1024)]),_:1},8,["items"]),e(F,{show:l(A),numero_os:l(w),ordem:l(y),onClose:t[13]||(t[13]=a=>A.value=!1)},null,8,["show","numero_os","ordem"]),e(Q,{show:l(k),numero_os:l(w),ordemserv_token:l(M),onClose:t[14]||(t[14]=a=>k.value=!1)},null,8,["show","numero_os","ordemserv_token"])]),_:1})}}};export{Ko as default};
