import{_ as le}from"./BW9DhXR-.js";import{L as ne,a3 as Pe,a4 as Me,N as ie,a5 as Ne,r as z,E as ae,Q as de,z as oe,b as t,F as ue,A as W,a6 as qe,a7 as Re,a8 as We,a9 as Le,O as Se,aa as Ge,ab as He,ac as Xe,ad as Ye,ae as Ze,af as R,ag as Je,ah as Ke,ai as we,T as Qe,aj as et,x as a,_ as Ue,Y as tt,n as ce,u as J,$ as me,I as ve,a0 as Ee,o as U,c as se,G as T,a1 as at,t as ot,J as j,w as n,K as E,a2 as te,a as S,s as pe,p as st,e as rt,ak as Oe,q as lt,V as nt,v as it,y as K,B as dt,d as G,C as ut}from"./BZTNwVvR.js";import{b as be,u as ge}from"./B5oO3n1S.js";import{V as D,_ as ee}from"./B7yLVG-_.js";import{_ as Be}from"./37abXc2X.js";import{u as $e}from"./CtPXWs3V.js";import{V as y}from"./UwjzeoXS.js";import{V as N}from"./DnAiITvf.js";import{V as Y}from"./Bg7pj8Z0.js";import{_ as Te}from"./CJa5AhcK.js";import{_ as ct,V as mt,a as pt}from"./DlSdPqug.js";import{_ as ft}from"./L4ZI-Rra.js";import{V as _t}from"./RlfaseZ3.js";import{V as De}from"./D2nGCvm2.js";import{m as vt,V as xe,a as bt,b as Ce}from"./CuVDPnTN.js";const Ve=Symbol.for("vuetify:v-tabs"),gt=ne({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Pe(Me({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),H=ie()({name:"VTab",props:gt(),setup(e,s){let{slots:l,attrs:o}=s;const{textColorClasses:i,textColorStyles:b}=Ne(e,"sliderColor"),w=z(),f=z(),I=ae(()=>e.direction==="horizontal"),m=ae(()=>{var x,u;return((u=(x=w.value)==null?void 0:x.group)==null?void 0:u.isSelected.value)??!1});function k(x){var g,h;let{value:u}=x;if(u){const r=(h=(g=w.value)==null?void 0:g.$el.parentElement)==null?void 0:h.querySelector(".v-tab--selected .v-tab__slider"),P=f.value;if(!r||!P)return;const _=getComputedStyle(r).color,d=r.getBoundingClientRect(),$=P.getBoundingClientRect(),C=I.value?"x":"y",c=I.value?"X":"Y",V=I.value?"right":"bottom",B=I.value?"width":"height",Z=d[C],O=$[C],p=Z>O?d[V]-$[V]:d[C]-$[C],A=Math.sign(p)>0?I.value?"right":"bottom":Math.sign(p)<0?I.value?"left":"top":"center",v=(Math.abs(p)+(Math.sign(p)<0?d[B]:$[B]))/Math.max(d[B],$[B])||0,Fe=d[B]/$[B]||0,he=1.5;Re(P,{backgroundColor:[_,"currentcolor"],transform:[`translate${c}(${p}px) scale${c}(${Fe})`,`translate${c}(${p/he}px) scale${c}(${(v-1)/he+1})`,"none"],transformOrigin:Array(3).fill(A)},{duration:225,easing:We})}}return de(()=>{const x=oe.filterProps(e);return t(oe,W({symbol:Ve,ref:w,class:["v-tab",e.class],style:e.style,tabindex:m.value?0:-1,role:"tab","aria-selected":String(m.value),active:!1},x,o,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":k}),{...l,default:()=>{var u;return t(ue,null,[((u=l.default)==null?void 0:u.call(l))??e.text,!e.hideSlider&&t("div",{ref:f,class:["v-tab__slider",i.value],style:b.value},null)])}})}),qe({},w)}}),$t=ne({...Pe(vt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Ae=ie()({name:"VTabsWindow",props:$t(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:l}=s;const o=Le(Ve,null),i=Se(e,"modelValue"),b=ae({get(){var w;return i.value!=null||!o?i.value:(w=o.items.value.find(f=>o.selected.value.includes(f.id)))==null?void 0:w.value},set(w){i.value=w}});return de(()=>{const w=xe.filterProps(e);return t(xe,W({_as:"VTabsWindow"},w,{modelValue:b.value,"onUpdate:modelValue":f=>b.value=f,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),l)}),{}}}),Vt=ne({...bt()},"VTabsWindowItem"),X=ie()({name:"VTabsWindowItem",props:Vt(),setup(e,s){let{slots:l}=s;return de(()=>{const o=Ce.filterProps(e);return t(Ce,W({_as:"VTabsWindowItem"},o,{class:["v-tabs-window-item",e.class],style:e.style}),l)}),{}}});function yt(e){return e?e.map(s=>et(s)?s:{text:s,value:s}):[]}const ht=ne({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ge({mandatory:"force",selectedClass:"v-tab-item--selected"}),...He(),...Xe()},"VTabs"),wt=ie()({name:"VTabs",props:ht(),emits:{"update:modelValue":e=>!0},setup(e,s){let{attrs:l,slots:o}=s;const i=Se(e,"modelValue"),b=ae(()=>yt(e.items)),{densityClasses:w}=Ye(e),{backgroundColorClasses:f,backgroundColorStyles:I}=Ze(R(e,"bgColor")),{scopeId:m}=Je();return Ke({VTab:{color:R(e,"color"),direction:R(e,"direction"),stacked:R(e,"stacked"),fixed:R(e,"fixedTabs"),sliderColor:R(e,"sliderColor"),hideSlider:R(e,"hideSlider")}}),de(()=>{const k=we.filterProps(e),x=!!(o.window||e.items.length>0);return t(ue,null,[t(we,W(k,{modelValue:i.value,"onUpdate:modelValue":u=>i.value=u,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},w.value,f.value,e.class],style:[{"--v-tabs-height":Qe(e.height)},I.value,e.style],role:"tablist",symbol:Ve},m,l),{default:()=>{var u;return[((u=o.default)==null?void 0:u.call(o))??b.value.map(g=>{var h;return((h=o.tab)==null?void 0:h.call(o,{item:g}))??t(H,W(g,{key:g.text,value:g.value}),{default:o[`tab.${g.value}`]?()=>{var r;return(r=o[`tab.${g.value}`])==null?void 0:r.call(o,{item:g})}:void 0})})]}}),x&&t(Ae,W({modelValue:i.value,"onUpdate:modelValue":u=>i.value=u,key:"tabs-window"},m),{default:()=>{var u;return[b.value.map(g=>{var h;return((h=o.item)==null?void 0:h.call(o,{item:g}))??t(X,{value:g.value},{default:()=>{var r;return(r=o[`item.${g.value}`])==null?void 0:r.call(o,{item:g})}})}),(u=o.window)==null?void 0:u.call(o)]}})])}),{}}});function Ie(e,s){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);s&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),l.push.apply(l,o)}return l}function Q(e){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?Ie(Object(l),!0).forEach(function(o){xt(e,o,l[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):Ie(Object(l)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(l,o))})}return e}function xt(e,s,l){return s in e?Object.defineProperty(e,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[s]=l,e}function re(e){return typeof e=="function"}function _e(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function fe(e){return re(e.$validator)?Q({},e):{$validator:e}}function je(e){return typeof e=="object"?e.$valid:e}function ze(e){return e.$validator||e}function Ct(e,s){if(!_e(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!_e(s)&&!re(s))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const l=fe(s);return l.$params=Q(Q({},l.$params||{}),e),l}function It(e,s){if(!re(e)&&typeof a(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!_e(s)&&!re(s))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const l=fe(s);return l.$message=e,l}function kt(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const l=fe(e);return Q(Q({},l),{},{$async:!0,$watchTargets:s})}function Pt(e){return{$validator(s){for(var l=arguments.length,o=new Array(l>1?l-1:0),i=1;i<l;i++)o[i-1]=arguments[i];return a(s).reduce((b,w,f)=>{const I=Object.entries(w).reduce((m,k)=>{let[x,u]=k;const g=e[x]||{},h=Object.entries(g).reduce((r,P)=>{let[_,d]=P;const C=ze(d).call(this,u,w,f,...o),c=je(C);if(r.$data[_]=C,r.$data.$invalid=!c||!!r.$data.$invalid,r.$data.$error=r.$data.$invalid,!c){let V=d.$message||"";const B=d.$params||{};typeof V=="function"&&(V=V({$pending:!1,$invalid:!c,$params:B,$model:u,$response:C})),r.$errors.push({$property:x,$message:V,$params:B,$response:C,$model:u,$pending:!1,$validator:_})}return{$valid:r.$valid&&c,$data:r.$data,$errors:r.$errors}},{$valid:!0,$data:{},$errors:[]});return m.$data[x]=h.$data,m.$errors[x]=h.$errors,{$valid:m.$valid&&h.$valid,$data:m.$data,$errors:m.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:b.$valid&&I.$valid,$data:b.$data.concat(I.$data),$errors:b.$errors.concat(I.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:s=>{let{$response:l}=s;return l?l.$errors.map(o=>Object.values(o).map(i=>i.map(b=>b.$message)).reduce((i,b)=>i.concat(b),[])):[]}}}const ye=e=>{if(e=a(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let s in e)return!0;return!1}return!!String(e).length},St=e=>(e=a(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function q(){for(var e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];return o=>(o=a(o),!ye(o)||s.every(i=>(i.lastIndex=0,i.test(o))))}var F=Object.freeze({__proto__:null,forEach:Pt,len:St,normalizeValidatorObject:fe,regex:q,req:ye,unwrap:a,unwrapNormalizedValidator:ze,unwrapValidatorResponse:je,withAsync:kt,withMessage:It,withParams:Ct});q(/^[a-zA-Z]*$/);q(/^[a-zA-Z0-9]*$/);q(/^\d*(\.\d+)?$/);const Ut=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;q(Ut);function Et(e){return typeof e=="string"&&(e=e.trim()),ye(e)}var M={$validator:Et,$message:"Value is required",$params:{type:"required"}};const Ot=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;q(Ot);q(/(^[0-9]*$)|(^-[0-9]+$)/);q(/^[-]?\d*(\.\d+)?$/);const ke=F.withMessage("CPF inválido",e=>{if(!e)return!1;const s=e.replace(/[^\d]+/g,"");if(s.length!==11||/^(\d)\1+$/.test(s))return!1;let l=0;for(let i=0;i<9;i++)l+=parseInt(s.charAt(i))*(10-i);let o=11-l%11;if((o===10||o===11)&&(o=0),o!==parseInt(s.charAt(9)))return!1;l=0;for(let i=0;i<10;i++)l+=parseInt(s.charAt(i))*(11-i);return o=11-l%11,(o===10||o===11)&&(o=0),o===parseInt(s.charAt(10))}),Bt=e=>(st("data-v-eec6267a"),e=e(),rt(),e),Tt={key:1},Dt=Bt(()=>S("img",{class:"btn-pointer",src:ee,alt:"Sair"},null,-1)),At={__name:"Dados",emits:["saved"],async setup(e,{emit:s}){let l,o;const i=s,b=tt(),{$toast:w}=ce(),f=pe();f.public.createPessoaUrl;const I=f.public.updatePessoaUrl,m=f.public.listarEstadoCivilUrl,k=f.public.listarCapacidadeCivilUrl,x=f.public.listarCidadesUrl,u={nome:"",nome_pai:"",nome_mae:"",profissao:"",local_trabalho:"",data_nascimento:"",doc_identificacao:"",cpf_pai:"",cpf_mae:"",local_trabalho:"",tipo_pessoa:"FISICA",tabvalores_estadocivil_id:"",tabvalores_capacidadecivil_id:"",cidade_natural_id:"",cartorio_id:J("user-data").value.cartorio_id,user_id:J("user-data").value.usuario_id},g=z(!1),h=J("pessoa-id"),r=me({...u});function P(O){if(O)return O.replace(/[.\-]/g,"");O=null}const{data:_,status:d,pending:$,error:C}=([l,o]=ve(async()=>be("cliente-dados",async()=>{const[O,p,A]=await Promise.all([$fetch(m),$fetch(k),$fetch(x)]);return{estadoCivilItems:O,capacidadeCivilItems:p,cidadeNascimentoItems:A}})),l=await l,o(),l),c={nome:{required:F.withMessage("O campo é obrigatorio",M)},nome_mae:{required:F.withMessage("O campo é obrigatorio",M)},doc_identificacao:{required:F.withMessage("O campo é obrigatorio",M),cpf:ke},cpf_mae:{required:F.withMessage("O campo é obrigatorio",M),cpf:ke}},V=$e(c,r);async function B(){i("saved")}async function Z(){const O={...r};for(const A in O)O[A]===""&&(O[A]=null);const p={...O,doc_identificacao:P(r.doc_identificacao),cpf_mae:P(r.cpf_mae)};await ge(`${I}/${h.value}`,{method:"PUT",body:p},"$fcbWHpl5XR"),w.success("Pessoa atualizada com sucesso!"),b.push("/pessoas/registros")}return(O,p)=>{const A=le,L=Ee("mask");return U(),se(ue,null,[a($)?(U(),T(at,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):a(C)?(U(),se("div",Tt,ot(a(C).message),1)):j("",!0),a($)?j("",!0):(U(),T(Y,{key:2,class:"mt-5"},{default:n(()=>[t(D,null,{default:n(()=>[t(y,{cols:"12",md:"8"},{default:n(()=>[t(E,{modelValue:r.nome,"onUpdate:modelValue":p[0]||(p[0]=v=>r.nome=v),"error-messages":a(V).nome.$errors.map(v=>v.$message),label:"Nome",required:"",onBlur:a(V).nome.$touch,onInput:a(V).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(y,{cols:"12",md:"4"},{default:n(()=>[te(t(E,{modelValue:r.doc_identificacao,"onUpdate:modelValue":p[1]||(p[1]=v=>r.doc_identificacao=v),"error-messages":a(V).doc_identificacao.$errors.map(v=>v.$message),label:"CPF",required:"",onBlur:a(V).doc_identificacao.$touch,onInput:a(V).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[L,"###.###.###-##"]])]),_:1})]),_:1}),t(D,null,{default:n(()=>[t(y,{cols:"12",md:"4"},{default:n(()=>[t(N,{modelValue:r.tabvalores_estadocivil_id,"onUpdate:modelValue":p[2]||(p[2]=v=>r.tabvalores_estadocivil_id=v),items:a(_).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),t(y,{cols:"12",md:"4"},{default:n(()=>[t(E,{modelValue:r.profissao,"onUpdate:modelValue":p[3]||(p[3]=v=>r.profissao=v),label:"Profissão"},null,8,["modelValue"])]),_:1}),t(y,{cols:"12",md:"4"},{default:n(()=>[t(E,{modelValue:r.local_trabalho,"onUpdate:modelValue":p[4]||(p[4]=v=>r.local_trabalho=v),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),t(D,null,{default:n(()=>[t(y,{cols:"12",md:"4"},{default:n(()=>[t(E,{modelValue:r.data_nascimento,"onUpdate:modelValue":p[5]||(p[5]=v=>r.data_nascimento=v),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),t(y,{cols:"12",md:"4"},{default:n(()=>[t(N,{modelValue:r.tabvalores_capacidadecivil_id,"onUpdate:modelValue":p[6]||(p[6]=v=>r.tabvalores_capacidadecivil_id=v),items:a(_).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(y,{cols:"12",md:"4"},{default:n(()=>[t(N,{modelValue:r.cidade_natural_id,"onUpdate:modelValue":p[7]||(p[7]=v=>r.cidade_natural_id=v),items:a(_).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(D,null,{default:n(()=>[t(y,{cols:"12",md:"4"},{default:n(()=>[te(t(E,{modelValue:r.cpf_pai,"onUpdate:modelValue":p[8]||(p[8]=v=>r.cpf_pai=v),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[L,"###.###.###-##"]])]),_:1}),t(y,{cols:"12",md:"4"},{default:n(()=>[t(E,{modelValue:r.nome_pai,"onUpdate:modelValue":p[9]||(p[9]=v=>r.nome_pai=v),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),t(D,null,{default:n(()=>[t(y,{cols:"12",md:"4"},{default:n(()=>[te(t(E,{modelValue:r.cpf_mae,"onUpdate:modelValue":p[10]||(p[10]=v=>r.cpf_mae=v),modelModifiers:{date:!0},"error-messages":a(V).cpf_mae.$errors.map(v=>v.$message),label:"CPF da Mãe",required:"",onBlur:a(V).cpf_mae.$touch,onInput:a(V).cpf_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[L,"###.###.###-##"]])]),_:1}),t(y,{cols:"12",md:"4"},{default:n(()=>[t(E,{modelValue:r.nome_mae,"onUpdate:modelValue":p[11]||(p[11]=v=>r.nome_mae=v),modelModifiers:{date:!0},"error-messages":a(V).nome_mae.$errors.map(v=>v.$message),label:"Nome da Mãe",required:"",onBlur:a(V).nome_mae.$touch,onInput:a(V).nome_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),t(D,null,{default:n(()=>[t(A,{to:"/pessoas/registros"},{default:n(()=>[Dt]),_:1}),S("img",{class:"btn-pointer",src:Be,onClick:p[12]||(p[12]=v=>g.value?Z():B())})]),_:1})]),_:1}))],64)}}},jt=Ue(At,[["__scopeId","data-v-eec6267a"]]),zt=S("img",{class:"btn-pointer",src:ee,alt:"Sair"},null,-1),Ft={__name:"Documentos",async setup(e){let s,l;ce();const o=pe(),i=o.public.listarTipoDocumentoUrl,b=o.public.listarUfUrl,w=o.public.allPessoaDocApiUrl;o.public.createPessoaDocUrl;const f=me({tabvalores_tipodoc_id:"",emissor:"",validade:"",numero:"",data_emissao:"",data_vencimento:"",tabvalores_ufemissor_id:""}),I=[{title:"Tipo",value:"tabvalores_tipodoc_id"},{title:"Número",value:"numero"},{title:"Emissor",value:"emissor"},{title:"UF",value:"tabvalores_ufemissor_id"},{title:"Emissão",value:"data_emissao"},{title:"Validade",value:"data_vencimento"}],m={numero:{required:F.withMessage("O campo é obrigatorio",M)},emissor:{required:F.withMessage("O campo é obrigatorio",M)}},k=$e(m,f),{data:x,pending:u}=([s,l]=ve(async()=>be("cliente-documentos",async()=>{const[h,r,P]=await Promise.all([$fetch(i),$fetch(b),$fetch(w)]);return{tipoDocumentoItems:h,ufItems:r,pessoasDocsItems:P}})),s=await s,l(),s);async function g(){const h={...f};for(const P in h)h[P]===""&&(h[P]=null);const r={...h};console.log(r)}return(h,r)=>{const P=le;return a(u)?j("",!0):(U(),T(Y,{key:0,class:"mt-5"},{default:n(()=>[t(D,null,{default:n(()=>[t(y,{md:"2"},{default:n(()=>[t(N,{modelValue:a(f).tabvalores_tipodoc_id,"onUpdate:modelValue":r[0]||(r[0]=_=>a(f).tabvalores_tipodoc_id=_),items:a(x).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(y,null,{default:n(()=>[t(E,{modelValue:a(f).numero,"onUpdate:modelValue":r[1]||(r[1]=_=>a(f).numero=_),"error-messages":a(k).numero.$errors.map(_=>_.$message),label:"Numero",required:"",onBlur:a(k).numero.$touch,onInput:a(k).numero.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(y,{md:"2"},{default:n(()=>[t(E,{modelValue:a(f).emissor,"onUpdate:modelValue":r[2]||(r[2]=_=>a(f).emissor=_),"error-messages":a(k).emissor.$errors.map(_=>_.$message),required:"",onBlur:a(k).emissor.$touch,onInput:a(k).emissor.$touch,label:"Emissor"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(y,null,{default:n(()=>[t(N,{modelValue:a(f).tabvalores_ufemissor_id,"onUpdate:modelValue":r[3]||(r[3]=_=>a(f).tabvalores_ufemissor_id=_),items:a(x).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(y,{md:"2"},{default:n(()=>[t(E,{modelValue:a(f).data_emissao,"onUpdate:modelValue":r[4]||(r[4]=_=>a(f).data_emissao=_),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),t(y,{md:"2"},{default:n(()=>[t(E,{modelValue:a(f).data_vencimento,"onUpdate:modelValue":r[5]||(r[5]=_=>a(f).data_vencimento=_),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1}),S("div",{class:"mt-3"},[S("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Te,alt:"novo",onClick:g})])]),_:1}),t(Oe,{headers:I,items:a(x).pessoasDocsItems,"item-key":"name"},null,8,["items"]),t(P,{to:"/pessoas/registros"},{default:n(()=>[zt]),_:1})]),_:1}))}}},Mt=S("img",{class:"btn-pointer",src:ee,alt:"Sair"},null,-1),Nt={__name:"Endereco",async setup(e){let s,l;const{$toast:o}=ce(),i=pe(),b=i.public.listarPaisUrl,w=i.public.getAllPessoaEnderecoUrl,f=i.public.listarCidadesUrl,I=i.public.createPessoaEnderecoUrl,m=me({tabvalores_pais_id:"",cidade_id:"",codcep:"",logradouro:"",numero:"",bairro:"",data_vencimento:"",tabvalores_ufemissor_id:""}),k=[{title:"País",value:"tabvalores_pais_id"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro"},{title:"N*",value:"numero"},{title:"Bairro",value:"data_vencimento"},{title:"Cidade",value:" tabvalores_ufemissor_id"}],x={numero:{required:F.withMessage("O campo é obrigatorio",M)},bairro:{required:F.withMessage("O campo é obrigatorio",M)},logradouro:{required:F.withMessage("O campo é obrigatorio",M)},codcep:{required:F.withMessage("O campo é obrigatorio e precisa de 8 digitos",M)}},u=$e(x,m),{data:g,status:h,pending:r}=([s,l]=ve(async()=>be("cliente-enderecos",async()=>{const[_,d,$]=await Promise.all([$fetch(b),$fetch(w),$fetch(f)]);return{paisItems:_,enderecosItems:d,cidadesItems:$}})),s=await s,l(),s);async function P(){if(await u.value.$validate()){const _={...m};for(const V in _)_[V]===""&&(_[V]=null);const d={..._},{data:$,error:C,status:c}=await ge(I,{method:"POST",body:d},"$xTfPNGciav");c.value==="error"&&C.value.statusCode===500?o.error("Erro ao cadastrar endereço,falta de id obrigatorios."):o.success("Endereço cadastrado com sucesso!")}else o.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}return(_,d)=>{const $=le,C=Ee("mask");return a(r)?j("",!0):(U(),T(Y,{key:0,class:"mt-5"},{default:n(()=>[t(D,null,{default:n(()=>[t(y,{md:"2"},{default:n(()=>[t(N,{modelValue:a(m).tabvalores_pais_id,"onUpdate:modelValue":d[0]||(d[0]=c=>a(m).tabvalores_pais_id=c),items:a(g).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(y,null,{default:n(()=>[te(t(E,{modelValue:a(m).codcep,"onUpdate:modelValue":d[1]||(d[1]=c=>a(m).codcep=c),"error-messages":a(u).codcep.$errors.map(c=>c.$message),required:"",onBlur:a(u).codcep.$touch,onInput:a(u).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"]),[[C,"########"]])]),_:1}),t(y,{md:"2"},{default:n(()=>[t(E,{modelValue:a(m).logradouro,"onUpdate:modelValue":d[2]||(d[2]=c=>a(m).logradouro=c),label:"Endereço","error-messages":a(u).logradouro.$errors.map(c=>c.$message),required:"",onBlur:a(u).logradouro.$touch,onInput:a(u).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(y,{md:"1"},{default:n(()=>[t(E,{modelValue:a(m).numero,"onUpdate:modelValue":d[3]||(d[3]=c=>a(m).numero=c),"error-messages":a(u).numero.$errors.map(c=>c.$message),required:"",onBlur:a(u).numero.$touch,onInput:a(u).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(y,{md:"2"},{default:n(()=>[t(E,{modelValue:a(m).bairro,"onUpdate:modelValue":d[4]||(d[4]=c=>a(m).bairro=c),"error-messages":a(u).bairro.$errors.map(c=>c.$message),required:"",onBlur:a(u).bairro.$touch,onInput:a(u).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(y,{md:"2"},{default:n(()=>[t(N,{modelValue:a(m).cidade_id,"onUpdate:modelValue":d[5]||(d[5]=c=>a(m).cidade_id=c),items:a(g).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S("div",{class:"mt-3"},[S("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Te,alt:"novo",onClick:P})])]),_:1}),t(Oe,{headers:k,items:a(g).enderecosItems,"item-key":"name"},null,8,["items"]),t($,{to:"/pessoas/registros"},{default:n(()=>[Mt]),_:1})]),_:1}))}}},qt=S("img",{src:pt},null,-1),Rt=S("img",{style:{cursor:"pointer"},src:ee,alt:"Excluir"},null,-1),Wt=[Rt],Lt=S("img",{style:{cursor:"pointer"},src:Be,alt:"Salvar"},null,-1),Gt=[Lt],Ht=S("img",{class:"btn-pointer",src:ft,alt:"Excluir"},null,-1),Xt=S("img",{class:"mt-15",src:ee,alt:"Sair"},null,-1),Yt={__name:"Biometria",setup(e){const s=z(null),l=z([]),o=z(""),i=z(!1),b=z(1),f=J("auth_token").value,m=J("user-data").value.nome,x=pe().public.minioUploadFaceIdUrl,{$toast:u}=ce(),g=async()=>{const d=await navigator.mediaDevices.enumerateDevices();l.value=d.filter($=>$.kind==="videoinput").map($=>({deviceId:$.deviceId,label:$.label||`Camera ${l.value.length+1}`}))},h=async()=>{i.value=!0;try{await navigator.mediaDevices.getUserMedia({video:!0}),await g()}catch(d){console.error("Erro ao acessar dispositivos de mídia:",d)}},r=()=>{i.value=!1;const d=s.value.srcObject;d&&d.getTracks().forEach(C=>C.stop())},P=async()=>{if(o.value){const d=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:o.value}}});s.value.srcObject=d}},_=async()=>{const d=document.createElement("canvas"),$=d.getContext("2d"),C=s.value.videoWidth,c=s.value.videoHeight,V=C*b.value,B=c*b.value,Z=(C-V)/2,O=(c-B)/2;d.width=C,d.height=c,$.drawImage(s.value,Z,O,V,B),d.toBlob(async p=>{const A=new FormData;A.append("file",p,`${m}.jpg`),A.append("pessoa_token",f);const{status:L}=await ge(x,{method:"POST",body:A},"$Rc7uHa9zmE");L.value==="success"?(u.success("Imagem enviada!"),r()):u.error("Erro ao enviar imagem para o sistema.")},"image/jpeg")};return lt(async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await g()}catch(d){console.error("Erro ao acessar dispositivos de mídia:",d)}}),(d,$)=>{const C=le;return U(),se(ue,null,[t(D,{class:"d-flex align-items-center justify-space-between"},{default:n(()=>[t(y,{cols:"auto"},{default:n(()=>[t(nt,{src:ct,width:500,class:"mr-4"})]),_:1}),t(it),t(y,{cols:"auto"},{default:n(()=>[t(_t,{"max-width":"700",modelValue:a(i),"onUpdate:modelValue":$[2]||($[2]=c=>K(i)?i.value=c:null)},{activator:n(({props:c})=>[t(oe,W(c,{variant:"outlined",style:{width:"300px",height:"300px"},onClick:h}),{default:n(()=>[qt]),_:2},1040)]),default:n(({isActive:c})=>[t(De,{title:"Biometria"},{default:n(()=>[t(D,null,{default:n(()=>[t(y,null,{default:n(()=>[t(dt,{items:a(l),modelValue:a(o),"onUpdate:modelValue":$[0]||($[0]=V=>K(o)?o.value=V:null),"item-title":"label","item-value":"deviceId",label:"Selecionar Webcam"},null,8,["items","modelValue"])]),_:1})]),_:1}),t(D,null,{default:n(()=>[t(y,null,{default:n(()=>[t(oe,{onClick:P},{default:n(()=>[G("Exibir")]),_:1})]),_:1})]),_:1}),t(D,null,{default:n(()=>[t(Y,{style:{overflow:"hidden"}},{default:n(()=>[t(y,null,{default:n(()=>[S("video",{class:"ml-3",ref_key:"video",ref:s,width:"640",height:"480",autoplay:"",style:ut({transform:`scale(${a(b)})`,transformOrigin:"center center"})},null,4)]),_:1})]),_:1})]),_:1}),t(Y,null,{default:n(()=>[t(mt,{modelValue:a(b),"onUpdate:modelValue":$[1]||($[1]=V=>K(b)?b.value=V:null),min:1,max:3,step:"0.1",label:"Zoom"},null,8,["modelValue"])]),_:1}),t(D,{class:"mt-10 justify-space-around"},{default:n(()=>[S("div",{onClick:r},Wt),S("div",{onClick:_},Gt)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(y,null,{default:n(()=>[Ht]),_:1})]),_:1}),t(C,{to:"/pessoas/registro"},{default:n(()=>[Xt]),_:1})],64)}}},Zt={},Jt=S("h1",null,"Restrições",-1),Kt=[Jt];function Qt(e,s){return U(),se("div",null,Kt)}const ea=Ue(Zt,[["render",Qt]]),ta=S("h1",{style:{"background-color":"#C8FCCA",color:"#429946",padding:"10px 0px 0px 20px"}}," Cadastramento de pessoas ",-1),aa={style:{"background-color":"#C8FCCA",padding:"20px 0px 20px 20px"}},ga={__name:"index",setup(e){const s=z(null),l=z(!1),o=z(!1),b=me({...{tipo_pessoa:"FISICA"}}),w=["FISICA","JURIDICA","ESTRANGEIRA"],f=()=>{l.value=!0,o.value=!0};return(I,m)=>{const k=jt,x=Ft,u=Nt,g=Yt,h=ea;return U(),T(De,{width:"1300"},{default:n(()=>[ta,S("div",aa,[t(N,{modelValue:a(b).tipo_pessoa,"onUpdate:modelValue":m[0]||(m[0]=r=>a(b).tipo_pessoa=r),style:{width:"200px"},items:w,label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:a(o)},null,8,["modelValue","disabled"])]),t(wt,{modelValue:a(s),"onUpdate:modelValue":m[1]||(m[1]=r=>K(s)?s.value=r:null),"bg-color":"#C8FCCA"},{default:n(()=>[t(H,{value:"dados"},{default:n(()=>[G("Dados")]),_:1}),a(l)?(U(),T(H,{key:0,value:"documento"},{default:n(()=>[G("Documentos")]),_:1})):j("",!0),a(l)?(U(),T(H,{key:1,value:"endereco"},{default:n(()=>[G("Endereços")]),_:1})):j("",!0),a(l)?(U(),T(H,{key:2,value:"biometria"},{default:n(()=>[G("Biometria")]),_:1})):j("",!0),a(l)?(U(),T(H,{key:3,value:"restricao"},{default:n(()=>[G("Restrições")]),_:1})):j("",!0)]),_:1},8,["modelValue"]),t(Ae,{modelValue:a(s),"onUpdate:modelValue":m[2]||(m[2]=r=>K(s)?s.value=r:null)},{default:n(()=>[t(X,{value:"dados"},{default:n(()=>[t(k,{onSaved:f})]),_:1}),a(l)?(U(),T(X,{key:0,value:"documento"},{default:n(()=>[t(x)]),_:1})):j("",!0),a(l)?(U(),T(X,{key:1,value:"endereco"},{default:n(()=>[t(u)]),_:1})):j("",!0),a(l)?(U(),T(X,{key:2,value:"biometria"},{default:n(()=>[t(Y,{class:"mt-5"},{default:n(()=>[t(g)]),_:1})]),_:1})):j("",!0),a(l)?(U(),T(X,{key:3,value:"restricao"},{default:n(()=>[t(h)]),_:1})):j("",!0)]),_:1},8,["modelValue"])]),_:1})}}};export{ga as default};
