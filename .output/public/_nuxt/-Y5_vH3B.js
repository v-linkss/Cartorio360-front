import{_ as ve,a as fe,b as Ve,c as ye,d as ge,e as xe}from"./mIkK5hCX.js";import{_ as be}from"./mIwvMMMU.js";import{_ as $e}from"./DzodBXVr.js";import{_ as le}from"./BVz1G1IN.js";import{_ as se}from"./DuZSbDVd.js";import{_ as ie,a as ne,b as re}from"./BmSnlvkJ.js";import{B as ue,G as X,u as ke,r as d,m as Q,C as we,H as N,o as M,E as Y,w as o,b as e,v as a,a as u,t as de,c as L,I as B,d as $,J as Ce,z as K,s as Z,g as Ae,p as Pe,V as te,K as Be,F as Te}from"./2k1OG2be.js";import{u as q}from"./BfC1W_vO.js";import{V as D}from"./CQWWYt0l.js";import{V as ae}from"./FsvFKtXb.js";import{V as I}from"./CJG1SXhp.js";import{V as j}from"./B2iGOswU.js";import{V as ce}from"./BSaZDp9i.js";import{V as me,a as ee,b as Ue,c as ze,d as De}from"./DYLGoNUO.js";import{V as oe}from"./CDrJLU9K.js";import{_ as Ie,a as Me,b as Oe}from"./KR_zEKs2.js";import{V as pe,a as A,b as _e,c as P}from"./ByWsuFV9.js";import{f as H}from"./BBsV0s5k.js";import"./BqZuGtCh.js";import"./D5AURBFW.js";import"./CdP3NN9a.js";import"./Dwy3Riue.js";import"./BlPBofm_.js";import"./Cy0AwNjf.js";import"./C3w2BmkS.js";import"./mUjVpFVd.js";const he={style:{width:"800px","font-weight":"500"}},Se=["onClick"],Ee=["onClick"],Re=["onClick"],qe={key:0,style:{width:"30px",height:"30px"},src:ne,alt:"Reativar",title:"Reativar"},Ne={key:1,src:re,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Le={__name:"Bens",async setup(F){let i,m;const y=ue(),f=X(),g=Z(),{$toast:C}=ke(),x=`${g.public.managemant}/atos_bens`,n=`${g.public.managemant}/atos_bens`,T=`${g.public.managemant}/listarBens`,U=`${g.public.managemant}/listarTipoBens`,k=d(Q("user-data").value.cartorio_token),h=d(Q("user-data").value.usuario_id).value,z=d([]),p=d([]),w=d(!1),R=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"vlr_alienacao"},{align:"end",value:"actions"}],c=we({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),G=async()=>{if(!c.vlr_alienacao&&!c.descricao){C.error("Os campos Descrição e Valor são Obrigatorios!");return}const{data:V,status:t}=await q(`${x}`,{method:"POST",body:{descricao:c.descricao,tipo_id:c.tipo_id,valor_mercado:"0.00",vlr_alienacao:c.vlr_alienacao,user_id:h,ato_id:Number.parseInt(f.query.ato_id),token:f.query.ato_token_edit}},"$aGIwRtPn6M");t.value==="success"&&(C.success("Bem registrado com sucesso!"),z.value.push(V.value),Object.assign(c,{vlr_alienacao:null,descricao:null,tipo_id:null}))},_=async V=>{const{status:t}=await q(`${n}/${V}`,{method:"PUT",body:{descricao:p.value.descricao,tipo_id:p.value.tipo_id,vlr_alienacao:p.value.vlr_alienacao}},"$4hUMyAQlzU");t.value==="success"&&(C.success("Bem Atualizado com sucesso!"),w.value=!1)},r=V=>{const t=z.value.find(E=>E.id===V);t&&(p.value=t,w.value=!0)},{data:b}=([i,m]=N(()=>q(`${U}`,{method:"POST",body:{cartorio_token:k.value,imoveis:!1}},"$da802I2H8c")),i=await i,m(),i);c.tiposBens=b.value;const{data:l}=([i,m]=N(()=>q(`${T}`,{method:"POST",body:{ato_token:f.query.ato_token_edit}},"$iXfJJrO35d")),i=await i,m(),i);z.value=l.value;async function v(V){V.excluido=!V.excluido;try{await q(`${n}/${V.id}`,{method:"PUT",body:JSON.stringify({excluido:V.excluido})},"$PGKHfsa7Pl")}catch(t){console.error("Erro ao excluir pessoa:",t)}}const S=()=>{const V=f.query.origem||"criar",t=f.query.id;V==="atualizar"?y.push(`/os/atualizar/${t}`):y.push("/os/criar-registro")};return(V,t)=>{const E=be,W=$e;return M(),Y(oe,null,{default:o(()=>[e(D,{class:"mt-5",cols:"12"},{default:o(()=>[e(ae,{label:"Descrição",modelValue:a(c).descricao,"onUpdate:modelValue":t[0]||(t[0]=s=>a(c).descricao=s)},null,8,["modelValue"])]),_:1}),e(I,{class:"ml-1 mb-3"},{default:o(()=>[e(D,{class:"mt-6",cols:"8"},{default:o(()=>[e(j,{label:"Selecione o Tipo",items:a(c).tiposBens,modelValue:a(c).tipo_id,"onUpdate:modelValue":t[1]||(t[1]=s=>a(c).tipo_id=s),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(D,{class:"ml-5",cols:"3"},{default:o(()=>[t[9]||(t[9]=u("label",null,"Valor",-1)),e(E,{modelValue:a(c).vlr_alienacao,"onUpdate:modelValue":t[2]||(t[2]=s=>a(c).vlr_alienacao=s)},null,8,["modelValue"])]),_:1}),u("div",null,[u("img",{class:"mt-7 ml-4",src:le,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:G})])]),_:1}),e(I,null,{default:o(()=>[e(D,null,{default:o(()=>[e(ce,{style:{height:"465px"},headers:R,items:a(z)},{"item.descricao":o(({item:s})=>[u("h3",he,de(s.descricao),1)]),"item.actions":o(({item:s})=>[e(I,{style:{"margin-top":"-8px"},justify:"end"},{default:o(()=>[u("div",{style:{cursor:"pointer"},class:"mr-2",onClick:J=>V.redirectToFicha(s),title:"Visualizar Ficha"},t[10]||(t[10]=[u("img",{style:{width:"30px",height:"30px"},src:se,alt:"Visualizar"},null,-1)]),8,Se),u("div",{style:{cursor:"pointer"},class:"mr-2",onClick:J=>r(s.id),title:"Alterar Papel"},t[11]||(t[11]=[u("img",{style:{width:"30px",height:"30px"},src:ie,alt:"Editar"},null,-1)]),8,Ee),u("div",{style:{cursor:"pointer"},class:"mr-2",onClick:J=>v(s),title:"Deletar Pessoa"},[s.excluido?(M(),L("img",qe)):(M(),L("img",Ne))],8,Re)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(me,{modelValue:a(w),"onUpdate:modelValue":t[8]||(t[8]=s=>B(w)?w.value=s:null),"max-width":"600px"},{default:o(()=>[e(ee,null,{default:o(()=>[e(Ue,{style:{color:"green"}},{default:o(()=>t[12]||(t[12]=[$("Atualizar Bem")])),_:1}),e(ze,null,{default:o(()=>[e(D,{class:"mt-1",cols:"12"},{default:o(()=>[e(ae,{label:"Descrição",modelValue:a(p).descricao,"onUpdate:modelValue":t[3]||(t[3]=s=>a(p).descricao=s)},null,8,["modelValue"])]),_:1}),e(I,null,{default:o(()=>[e(D,{class:"mt-6 ml-3",cols:"8"},{default:o(()=>[e(j,{label:"Selecione o Tipo",items:a(c).tiposBens,modelValue:a(p).tipo_id,"onUpdate:modelValue":t[4]||(t[4]=s=>a(p).tipo_id=s),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(D,{class:"ml-5",cols:"3"},{default:o(()=>[t[13]||(t[13]=u("label",null,"Valor",-1)),e(E,{modelValue:a(p).vlr_alienacao,"onUpdate:modelValue":t[5]||(t[5]=s=>a(p).vlr_alienacao=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(De,null,{default:o(()=>[e(Ce),e(K,{color:"green",text:"",onClick:t[6]||(t[6]=s=>w.value=!1)},{default:o(()=>t[14]||(t[14]=[$("Cancelar")])),_:1}),e(K,{color:"green",text:"",onClick:t[7]||(t[7]=s=>_(a(p).id))},{default:o(()=>t[15]||(t[15]=[$("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(I,null,{default:o(()=>[e(W,{onClick:S},{default:o(()=>[e(K,{size:"large",color:"red"},{default:o(()=>t[16]||(t[16]=[$("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Fe={__name:"Atualizar",props:{show:Boolean,imovel_id:Number},emits:["close"],setup(F,{emit:i}){const m=F,y=d("dados"),f=d(m.show),g=i;Ae(()=>m.show,x=>{f.value=x});const C=()=>{f.value=!1,g("close")};return(x,n)=>{const T=Ie,U=Me;return M(),Y(me,{persistent:"",modelValue:a(f),"onUpdate:modelValue":n[2]||(n[2]=k=>B(f)?f.value=k:null),"max-width":"1000"},{default:o(()=>[e(ee,null,{default:o(()=>[e(oe,null,{default:o(()=>[n[5]||(n[5]=u("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Atualizar imovel ",-1)),e(pe,{modelValue:a(y),"onUpdate:modelValue":n[0]||(n[0]=k=>B(y)?y.value=k:null),"bg-color":"#f5f2f2"},{default:o(()=>[e(A,{value:"dados"},{default:o(()=>n[3]||(n[3]=[$("Dados")])),_:1}),e(A,{value:"partes"},{default:o(()=>n[4]||(n[4]=[$("Partes")])),_:1})]),_:1},8,["modelValue"]),e(_e,{modelValue:a(y),"onUpdate:modelValue":n[1]||(n[1]=k=>B(y)?y.value=k:null)},{default:o(()=>[e(P,{value:"dados"},{default:o(()=>[e(T,{isUpdate:!0,imovel_id:m.imovel_id,onCloseModal:C},null,8,["imovel_id"])]),_:1}),e(P,{value:"partes"},{default:o(()=>[e(U,{imovel_id:m.imovel_id,onCloseModal:C},null,8,["imovel_id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Ge={style:{width:"200px"}},Je={style:{width:"300px"}},je=["onClick"],He=["onClick"],We=["onClick"],Ke={key:0,style:{width:"30px",height:"30px"},src:ne,alt:"Visualizar",title:"Reativar"},Qe={key:1,src:re,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Xe={__name:"Imoveis",async setup(F){let i,m;const y=Z(),f=`${y.public.auth}/service/gerencia/atos_imoveis`,g=`${y.public.auth}/service/gerencia/atos_bens`;ue();const C=X(),x=d(""),n=d(""),T=d(!1),U=d(!1),k=d(null),h=[{title:"Matrícula",value:"registro_matricula"},{title:"Descrição",value:"descricao"},{value:"actions"}],{data:z,status:p}=([i,m]=N(()=>H(f,{method:"POST",body:{ato_token:C.query.ato_token_edit}})),i=await i,m(),i),w=Pe(()=>z.value.filter(_=>{const r=_.matricula?_.matricula.toLowerCase():"",b=_.descricao?_.descricao.toLowerCase():"",l=r.includes(n.value.toLowerCase()),v=b.includes(x.value.toLowerCase());return l&&v}));async function R(_){_.excluido=!_.excluido;try{await H(`${g}/${_.id}`,{method:"PUT",body:{excluido:_.excluido}})}catch(r){console.error("Erro ao excluir pessoa:",r)}}function c(_){}function G(_){k.value=_,U.value=!0}return(_,r)=>{const b=Oe,l=Fe;return a(p)==="success"?(M(),Y(oe,{key:0,class:"mt-5"},{default:o(()=>[u("img",{onClick:r[0]||(r[0]=v=>T.value=!0),style:{cursor:"pointer"},src:le,alt:"Cadastro"}),e(I,{style:{gap:"3rem"}},{default:o(()=>[u("div",Ge,[e(te,{class:"mt-7 mb-4",modelValue:a(n),"onUpdate:modelValue":r[1]||(r[1]=v=>B(n)?n.value=v:null),label:"Matrícula","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),u("div",Je,[e(te,{class:"mt-7 mb-4",modelValue:a(x),"onUpdate:modelValue":r[2]||(r[2]=v=>B(x)?x.value=v:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),e(ce,{density:"compact",headers:h,items:a(w),"item-key":"id"},{"item.actions":o(({item:v})=>[e(I,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:o(()=>[u("div",{style:{cursor:"pointer"},onClick:S=>(v.id,void 0),title:"Visualizar"},r[5]||(r[5]=[u("img",{style:{width:"30px",height:"30px"},src:se,alt:"Visualizar"},null,-1)]),8,je),u("div",{style:{cursor:"pointer"},onClick:S=>G(v.id),title:"Atualizar"},r[6]||(r[6]=[u("img",{style:{width:"30px",height:"30px"},src:ie,alt:"Atualizar"},null,-1)]),8,He),u("div",{style:{cursor:"pointer"},onClick:S=>R(v),title:"Deletar"},[v.excluido?(M(),L("img",Ke)):(M(),L("img",Qe))],8,We)]),_:2},1024)]),_:1},8,["items"]),e(b,{show:a(T),onClose:r[3]||(r[3]=v=>T.value=!1)},null,8,["show"]),e(l,{imovel_id:a(k),show:a(U),onClose:r[4]||(r[4]=v=>U.value=!1)},null,8,["imovel_id","show"])]),_:1})):Be("",!0)}}},Ye={class:"mb-10"},Ze={style:{color:"red","margin-left":"30px"}},Po={__name:"[id]",async setup(F){let i,m;const y=d(null),f=d(null),g=d(null),C=Z(),x=X(),n=`${C.public.auth}/service/gerencia/listarSituacoes`,T=`${C.public.auth}/service/gerencia/getAtos`,U=d(Q("user-data").value.cartorio_token),k=x.query.id?{ato_token:x.query.tipo_ato_token}:{cartorio_token:U},h=d([]),z=d([]),p=d("PROCURAÇÕES"),w=d("PROCURAÇÃO COM BENS");async function R(){try{const{data:b}=await H(`${T}/${x.query.ato_id}`,{method:"GET"});z.value=b.value}catch(b){console.log(b)}}[i,m]=N(()=>R()),await i,m();const{data:c,status:G}=([i,m]=N(()=>H(n,{method:"POST",body:k})),i=await i,m(),i);h.value=c.value;const _=b=>{y.value=b},r=b=>{f.value=b};return(b,l)=>{const v=ve,S=fe,V=Le,t=Xe,E=Ve,W=ye,s=ge,J=xe;return M(),L(Te,null,[u("div",Ye,[e(I,{class:"mb-5 mt-5"},{default:o(()=>[l[4]||(l[4]=u("h1",null,"Ordem de Serviço nº",-1)),u("h1",Ze,de(a(x).query.numero_os),1)]),_:1}),e(I,null,{default:o(()=>[e(D,{md:"6"},{default:o(()=>[e(j,{class:"mr-5",modelValue:a(p),"onUpdate:modelValue":l[0]||(l[0]=O=>B(p)?p.value=O:null),disabled:""},null,8,["modelValue"])]),_:1}),e(D,{md:"6"},{default:o(()=>[e(j,{modelValue:a(w),"onUpdate:modelValue":l[1]||(l[1]=O=>B(w)?w.value=O:null),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),e(ee,{width:"1300"},{default:o(()=>[e(pe,{modelValue:a(g),"onUpdate:modelValue":l[2]||(l[2]=O=>B(g)?g.value=O:null),"bg-color":"#f5f2f2"},{default:o(()=>[e(A,{value:"dados"},{default:o(()=>l[5]||(l[5]=[$("Dados")])),_:1}),e(A,{value:"partes"},{default:o(()=>l[6]||(l[6]=[$("Partes")])),_:1}),e(A,{value:"bens"},{default:o(()=>l[7]||(l[7]=[$("Bens")])),_:1}),e(A,{value:"imoveis"},{default:o(()=>l[8]||(l[8]=[$("Imoveis")])),_:1}),e(A,{value:"minuta"},{default:o(()=>l[9]||(l[9]=[$("Minuta")])),_:1}),e(A,{value:"livro"},{default:o(()=>l[10]||(l[10]=[$("Livro")])),_:1}),e(A,{value:"observacao"},{default:o(()=>l[11]||(l[11]=[$("Observações")])),_:1}),e(A,{value:"anexo"},{default:o(()=>l[12]||(l[12]=[$("Anexos")])),_:1})]),_:1},8,["modelValue"]),e(_e,{modelValue:a(g),"onUpdate:modelValue":l[3]||(l[3]=O=>B(g)?g.value=O:null)},{default:o(()=>[e(P,{value:"dados"},{default:o(()=>[e(v,{item_dados:a(z),item_situacoes:a(h)},null,8,["item_dados","item_situacoes"])]),_:1}),e(P,{value:"partes"},{default:o(()=>[e(S)]),_:1}),e(P,{value:"bens"},{default:o(()=>[e(V)]),_:1}),e(P,{value:"imoveis"},{default:o(()=>[e(t)]),_:1}),e(P,{value:"minuta"},{default:o(()=>[e(E,{onPage:_,onDoc:r})]),_:1}),e(P,{value:"livro"},{default:o(()=>[e(W,{pages:a(y),document:a(f)},null,8,["pages","document"])]),_:1}),e(P,{value:"observacao"},{default:o(()=>[e(s)]),_:1}),e(P,{value:"anexo"},{default:o(()=>[e(J)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{Po as default};
