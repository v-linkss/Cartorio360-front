import{_ as R,a as B}from"./BSoVmVh9.js";import{_ as P,L as U,u as q,r as a,I as A,J as E,p as T,w as u,v as F,o as Y,b as t,C as g,q as l,s as p,a as j,V as D,Y as J,d as L}from"./D4u1iDc9.js";import{u as M}from"./CpAQjXHk.js";import{V as O}from"./kq0kQbbu.js";import{V as z}from"./DUi4kqXf.js";import{V as _}from"./R76Qqjwg.js";import{V as G}from"./CnYLg-9w.js";import"./myFQr-uS.js";import"./DkgoU_cJ.js";const H={__name:"index",setup(K){U();const{$toast:v}=q();a({senha:"",email:""});const d=a(!1),c=a(!1),f=a(!1),s=a(""),n=a("");a(!1),a(!1),a(!1),a(!1);const k=a(!1),C=a(""),b=a(!1),V=F();`${V.public.auth}`,V.public.auth;const w=V.public.managemant,S=a(!1),r=a(""),I=async()=>{var i,e,m,o,h;if(s.value!==n.value){b.value=!0,v.error("As senhas não coincidem.");return}b.value=!1;try{const{data:x,status:N,error:y}=await M(`${w}/verifica_codigo_recuperacao`,{method:"POST",body:{acao:"recuperar",token:r.value,senha:s.value}},"$6PqqSha0mY");N.value==="success"?v.success(x.value.status_mensagem||"Senha alterada com sucesso!"):(console.log(y.value.data),v.error(((m=(e=(i=y.value)==null?void 0:i.data)==null?void 0:e.menssage)==null?void 0:m.details)||((h=(o=y.value)==null?void 0:o.data)==null?void 0:h.status_mensagem)||"Erro desconhecido ao alterar a senha.")),k.value=!1,S.value=!1,C.value="",r.value="",s.value="",n.value=""}catch{}},$=A(()=>s.value&&n.value&&s.value===n.value);return(i,e)=>{const m=E("center");return Y(),T(O,{style:{"background-color":"#0a063b"}},{default:u(()=>[t(G,{cols:"5",class:"d-flex align-center justify-center"},{default:u(()=>[t(z,{style:{"max-width":"650px"}},{default:u(()=>[t(m,null,{default:u(()=>[t(_,{style:{"margin-bottom":"30px"},width:400,height:330,src:R})]),_:1}),t(g,{modelValue:l(r),"onUpdate:modelValue":e[0]||(e[0]=o=>p(r)?r.value=o:null),class:"input mt-5",type:i.text,density:"compact",style:{"background-color":"aliceblue"},"hide-details":"",placeholder:"Código de verificação",variant:"outlined"},null,8,["modelValue","type"]),t(g,{modelValue:l(s),"onUpdate:modelValue":e[1]||(e[1]=o=>p(s)?s.value=o:null),class:"input mt-5","append-inner-icon":l(d)?"mdi-eye-off":"mdi-eye",type:l(d)?"text":"password",density:"compact",style:{"background-color":"aliceblue"},"hide-details":"",placeholder:"Nova Senha","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":e[2]||(e[2]=o=>d.value=!l(d))},null,8,["modelValue","append-inner-icon","type"]),t(g,{modelValue:l(n),"onUpdate:modelValue":e[3]||(e[3]=o=>p(n)?n.value=o:null),class:"input mt-3","append-inner-icon":l(c)?"mdi-eye-off":"mdi-eye",type:l(c)?"text":"password",density:"compact",style:{"background-color":"aliceblue"},"hide-details":"",placeholder:"Confirmar Senha","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":e[4]||(e[4]=o=>c.value=!l(c))},null,8,["modelValue","append-inner-icon","type"]),j("div",null,[t(D,J({rounded:"",class:"mb-10 mt-4 ml-1"},i.activatorProps,{color:"primary",onClick:I,modelValue:l(f),"onUpdate:modelValue":e[5]||(e[5]=o=>p(f)?f.value=o:null),block:"",disabled:!l($)}),{default:u(()=>e[6]||(e[6]=[L(" Alterar Senha ")])),_:1},16,["modelValue","disabled"])])]),_:1})]),_:1}),t(_,{src:B,cover:""})]),_:1})}}},se=P(H,[["__scopeId","data-v-2f8282e2"]]);export{se as default};
