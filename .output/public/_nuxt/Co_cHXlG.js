import{a as ce,d as Me,V as _e}from"./DAFyxkEB.js";import{V as ne}from"./B9Eayxj9.js";import{d as Se,V as xe,a as ae,b as we,c as te}from"./Bx5wl4Um.js";import{G as ve,u as fe,r as d,m as de,C as se,H as ie,n as Pe,v as o,o as U,c as pe,b as e,M as Ue,E as N,w as a,V as D,a as P,z as R,d as B,s as be,g as Ve,t as Be,I as K,K as me}from"./B_OSeVCB.js";import{_ as ge}from"./D2xlMR_D.js";import{_ as ye}from"./Df-ipj6-.js";import{c as ke,r as Ie,u as Ae}from"./BmmE3sHT.js";import{u as z}from"./_TyOTKee.js";import{V as S}from"./BAXbkvww.js";import{V as v}from"./DXd-axa1.js";import{V as Oe}from"./BEfBrJhZ.js";import{V as Y}from"./CZ5FgQYg.js";import{_ as Ee}from"./BVz1G1IN.js";import{_ as Ne}from"./KRCCOT39.js";import{_ as je,a as qe,b as De}from"./B2P-7F9n.js";import{V as Le}from"./JYC7NuK3.js";const Re={key:0,class:"d-flex justify-center"},Ce={__name:"Dados",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0},isUpdate:{type:Boolean},imovel_id:{type:Number}},emits:["saved","close-modal","refresh-list"],async setup(j,{emit:L}){let t,r;const m=j,y=L,$=ve(),u=be(),{$toast:M}=fe(),{id:V}=$.params,g=`${u.public.managemant}/atos_bens`,q=`${u.public.managemant}/atos_bens`,C=`${u.public.managemant}/atos_bens`,f=`${u.public.managemant}/registro_imoveis`,F=`${u.public.managemant}/natureza_imoveis`,G=`${u.public.managemant}/tipo_logradouros`,w=`${u.public.managemant}/situacao_imoveis`,b=`${u.public.managemant}/listarCidades`,A=`${u.public.managemant}/listarTipoBens`,k=d(de("user-data").value.cartorio_token),H=d(de("user-data").value.usuario_id).value,Q=d([]),J=d([]),ee=d([]),X=d([]),le=d([]),I=d([]),p=d(!0),i=se({tabvalores_tipo_regimovel_id:null,registro_cartorio:null,registro_matricula:null,matricula_letra:null,tabvalores_nat_imovel_id:null,cib:null,end_cidade_id:null,end_quadra:null,end_lote:null,tabvalores_tipologradouro_id:null,end_logradouro:null,end_logradouro_numero:null,end_bairro:null,end_cep:null,end_complemento:null,tipo_id:null,descricao:null,inscricao_estadual:null,tabvalores_situacao_imoveis_id:null,vlr_alienacao:null,vlr_avaliacao:null,vlr_mercado:null,valor_mercado:"0.00",aliq_itbi:null,vlr_itbi:null,user_id:H,ato_id:Number($.query.ato_id)||Number(m.ato_id)}),oe=se({...i}),Z={descricao:{required:ke.withMessage("O campo é obrigatório",Ie)},tipo_id:{required:ke.withMessage("O campo é obrigatório",Ie)}},h=Ae(Z,i),ue=async()=>{if(!await h.value.$validate()){M.error("Preencha todos os campos obrigatórios!");return}const{data:l,status:x}=await z(`${g}`,{method:"POST",body:i},"$0Mdv6RF9cH");x.value==="success"&&(M.success("Imovel criado com sucesso!"),y("saved",{id:l.value.id,token:l.value.token,ato_id:l.value.ato_id}),y("refresh-list"))},{data:O}=([t,r]=ie(()=>z(`${A}`,{method:"POST",body:{cartorio_token:k.value,imoveis:!0}},"$H1S2cTYpdB")),t=await t,r(),t);if(I.value=O.value,m.isUpdate===!0){const{data:_}=([t,r]=ie(()=>z(`${q}/${m.imovel_id}`,{method:"GET"},"$jHrIlABk8l")),t=await t,r(),t);_.value&&Object.keys(i).forEach(l=>{_.value[l]!==void 0&&(i[l]=_.value[l])}),Object.assign(oe,i)}async function n(){try{const[_,l,x,T,s]=await Promise.all([$fetch(F),$fetch(f),$fetch(w),$fetch(G),$fetch(b)]);J.value=_,Q.value=l,le.value=x,ee.value=T,X.value=s}catch(_){console.error("Erro ao carregar os dados de imoveis pessoa:",_)}finally{p.value=!1}}const W=async _=>{const l={};if(Object.keys(i).forEach(T=>{i[T]!==oe[T]&&(l[T]=i[T])}),Object.keys(l).length===0)return;const{status:x}=await z(`${C}/${_}`,{method:"PUT",body:l},"$BZjXR26AL9");x.value==="success"&&(M.success("Imovel Atualizado com sucesso!"),y("refresh-list"),y("close-modal"))},c=()=>{y("close-modal")};return Pe(()=>{V||m.ato_id?n():p.value=!1}),(_,l)=>{const x=ge,T=ye;return o(p)?(U(),pe("div",Re,[e(Ue,{indeterminate:"",class:"loading-spinner",size:"64"})])):(U(),N(ne,{key:1,style:{height:"500px"}},{default:a(()=>[e(S,null,{default:a(()=>[e(v,{class:"mt-2",cols:"12"},{default:a(()=>[e(Oe,{label:"Descrição",modelValue:o(i).descricao,"onUpdate:modelValue":l[0]||(l[0]=s=>o(i).descricao=s),"error-messages":o(h).descricao.$errors.map(s=>s.$message)},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(S,null,{default:a(()=>[e(v,{cols:"3"},{default:a(()=>[e(Y,{label:"Tipo de Registro",modelValue:o(i).tabvalores_tipo_regimovel_id,"onUpdate:modelValue":l[1]||(l[1]=s=>o(i).tabvalores_tipo_regimovel_id=s),items:o(Q),"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[e(D,{label:"Cartório",modelValue:o(i).registro_cartorio,"onUpdate:modelValue":l[2]||(l[2]=s=>o(i).registro_cartorio=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[e(D,{label:"Matricula",modelValue:o(i).registro_matricula,"onUpdate:modelValue":l[3]||(l[3]=s=>o(i).registro_matricula=s)},null,8,["modelValue"])]),_:1}),e(v,null,{default:a(()=>[e(D,{label:"Letra",modelValue:o(i).matricula_letra,"onUpdate:modelValue":l[4]||(l[4]=s=>o(i).matricula_letra=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"4"},{default:a(()=>[e(Y,{label:"Natureza",modelValue:o(i).tabvalores_nat_imovel_id,"onUpdate:modelValue":l[5]||(l[5]=s=>o(i).tabvalores_nat_imovel_id=s),items:o(J),"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(S,null,{default:a(()=>[e(v,{cols:"2"},{default:a(()=>[e(D,{label:"CIB",modelValue:o(i).cib,"onUpdate:modelValue":l[6]||(l[6]=s=>o(i).cib=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"3"},{default:a(()=>[e(Y,{modelValue:o(i).tipo_id,"onUpdate:modelValue":l[7]||(l[7]=s=>o(i).tipo_id=s),items:o(I),label:"Tipo de imovel","item-title":"descricao","item-value":"id","error-messages":o(h).tipo_id.$errors.map(s=>s.$message)},null,8,["modelValue","items","error-messages"])]),_:1}),e(v,{cols:"3"},{default:a(()=>[e(D,{label:"Inscrição Municipal",modelValue:o(i).inscricao_estadual,"onUpdate:modelValue":l[8]||(l[8]=s=>o(i).inscricao_estadual=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"4"},{default:a(()=>[e(Y,{label:"Situação",items:o(le),"item-title":"descricao","item-value":"id",modelValue:o(i).tabvalores_situacao_imoveis_id,"onUpdate:modelValue":l[9]||(l[9]=s=>o(i).tabvalores_situacao_imoveis_id=s)},null,8,["items","modelValue"])]),_:1})]),_:1}),e(S,null,{default:a(()=>[e(v,{cols:"2"},{default:a(()=>[l[16]||(l[16]=P("label",null,"Valor Alienação",-1)),e(x,{label:"Valor Alienação",modelValue:o(i).vlr_alienacao,"onUpdate:modelValue":l[10]||(l[10]=s=>o(i).vlr_alienacao=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[l[17]||(l[17]=P("label",null,"Valor Avaliação",-1)),e(x,{label:"Valor Avaliação",modelValue:o(i).vlr_avaliacao,"onUpdate:modelValue":l[11]||(l[11]=s=>o(i).vlr_avaliacao=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[l[18]||(l[18]=P("label",null,"Valor Mercado",-1)),e(x,{label:"Valor Mercado",modelValue:o(i).vlr_mercado,"onUpdate:modelValue":l[12]||(l[12]=s=>o(i).vlr_mercado=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"1"},{default:a(()=>[l[19]||(l[19]=P("label",null,"%ITB",-1)),e(x,{label:"%ITB",modelValue:o(i).aliq_itbi,"onUpdate:modelValue":l[13]||(l[13]=s=>o(i).aliq_itbi=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[l[20]||(l[20]=P("label",null,"Valor ITB",-1)),e(x,{label:"Valor ITB",modelValue:o(i).vlr_itbi,"onUpdate:modelValue":l[14]||(l[14]=s=>o(i).vlr_itbi=s)},null,8,["modelValue"])]),_:1})]),_:1}),e(S,{class:"mt-10"},{default:a(()=>[e(T,{onClick:c},{default:a(()=>[e(R,{size:"large",color:"red"},{default:a(()=>l[21]||(l[21]=[B("Voltar")])),_:1})]),_:1}),j.isUpdate?(U(),N(R,{key:0,class:"ml-5",size:"large",color:"green",onClick:l[15]||(l[15]=s=>W(m.imovel_id))},{default:a(()=>l[22]||(l[22]=[B("Atualizar")])),_:1})):(U(),N(R,{key:1,class:"ml-5",size:"large",color:"green",onClick:ue},{default:a(()=>l[23]||(l[23]=[B("Salvar")])),_:1}))]),_:1})]),_:1}))}}},Fe={key:0,class:"d-flex justify-center"},Te={__name:"Enderecos",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0},isUpdate:{type:Boolean},imovel_id:{type:Number}},emits:["saved","close-modal","refresh-list"],async setup(j,{emit:L}){let t,r;const m=j,y=L,$=ve(),u=be(),{$toast:M}=fe(),{id:V}=$.params,g=`${u.public.managemant}/atos_bens`,q=`${u.public.managemant}/atos_bens`,C=`${u.public.managemant}/registro_imoveis`,f=`${u.public.managemant}/natureza_imoveis`,F=`${u.public.managemant}/tipo_logradouros`,G=`${u.public.managemant}/situacao_imoveis`,w=`${u.public.managemant}/listarCidades`,b=`${u.public.managemant}/listarTipoBens`,A=d(de("user-data").value.cartorio_token),k=d(de("user-data").value.usuario_id).value,H=d([]),Q=d([]),J=d([]),ee=d([]),X=d([]),le=d([]),I=d(!0),p=se({end_cidade_id:null,end_quadra:null,end_lote:null,tabvalores_tipologradouro_id:null,end_logradouro:null,end_logradouro_numero:null,end_bairro:null,end_cep:null,end_complemento:null,user_id:k,ato_id:Number($.query.ato_id)||Number(m.ato_id)}),i=se({...p}),{data:oe}=([t,r]=ie(()=>z(`${b}`,{method:"POST",body:{cartorio_token:A.value,imoveis:!0}},"$W62VZQp5Tx")),t=await t,r(),t);if(le.value=oe.value,m.isUpdate===!0){const{data:O}=([t,r]=ie(()=>z(`${g}/${m.imovel_id}`,{method:"GET"},"$uGMUgsxHFk")),t=await t,r(),t);O.value&&Object.keys(p).forEach(n=>{O.value[n]!==void 0&&(p[n]=O.value[n])}),Object.assign(i,p)}async function Z(){try{const[O,n,W,c,_]=await Promise.all([$fetch(f),$fetch(C),$fetch(G),$fetch(F),$fetch(w)]);Q.value=O,H.value=n,X.value=W,J.value=c,ee.value=_}catch(O){console.error("Erro ao carregar os dados de imoveis pessoa:",O)}finally{I.value=!1}}const h=async O=>{const n={};if(Object.keys(p).forEach(c=>{p[c]!==i[c]&&(n[c]=p[c])}),Object.keys(n).length===0)return;const{status:W}=await z(`${q}/${O}`,{method:"PUT",body:n},"$JWP9Pf1MfJ");W.value==="success"&&(M.success("Imovel Atualizado com sucesso!"),y("refresh-list"))},ue=()=>{y("close-modal")};return Pe(()=>{V||m.ato_id?Z():I.value=!1}),(O,n)=>{const W=ye;return o(I)?(U(),pe("div",Fe,[e(Ue,{indeterminate:"",class:"loading-spinner",size:"64"})])):(U(),N(ne,{key:1,style:{height:"500px"},class:"mt-2"},{default:a(()=>[e(S,null,{default:a(()=>[e(v,{cols:"5"},{default:a(()=>[e(Y,{label:"Cidade",modelValue:o(p).end_cidade_id,"onUpdate:modelValue":n[0]||(n[0]=c=>o(p).end_cidade_id=c),items:o(ee),"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[e(D,{label:"Quadra",modelValue:o(p).end_quadra,"onUpdate:modelValue":n[1]||(n[1]=c=>o(p).end_quadra=c)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[e(D,{label:"Lote",modelValue:o(p).end_lote,"onUpdate:modelValue":n[2]||(n[2]=c=>o(p).end_lote=c)},null,8,["modelValue"])]),_:1}),e(v,{cols:"3"},{default:a(()=>[e(Y,{label:"Tipo de Logradouro",modelValue:o(p).tabvalores_tipologradouro_id,"onUpdate:modelValue":n[3]||(n[3]=c=>o(p).tabvalores_tipologradouro_id=c),items:o(J),"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(S,null,{default:a(()=>[e(v,{cols:"5"},{default:a(()=>[e(D,{label:"Logradouro",modelValue:o(p).end_logradouro,"onUpdate:modelValue":n[4]||(n[4]=c=>o(p).end_logradouro=c)},null,8,["modelValue"])]),_:1}),e(v,{cols:"1"},{default:a(()=>[e(D,{label:"N*",modelValue:o(p).end_logradouro_numero,"onUpdate:modelValue":n[5]||(n[5]=c=>o(p).end_logradouro_numero=c)},null,8,["modelValue"])]),_:1}),e(v,null,{default:a(()=>[e(D,{label:"Bairro",modelValue:o(p).end_bairro,"onUpdate:modelValue":n[6]||(n[6]=c=>o(p).end_bairro=c)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[e(D,{label:"CEP",modelValue:o(p).end_cep,"onUpdate:modelValue":n[7]||(n[7]=c=>o(p).end_cep=c)},null,8,["modelValue"])]),_:1})]),_:1}),e(S,null,{default:a(()=>[e(v,{cols:"5"},{default:a(()=>[e(D,{label:"Complemento",modelValue:o(p).end_complemento,"onUpdate:modelValue":n[8]||(n[8]=c=>o(p).end_complemento=c)},null,8,["modelValue"])]),_:1})]),_:1}),e(S,{class:"mt-10 justify-start"},{default:a(()=>[e(W,{onClick:ue},{default:a(()=>[e(R,{size:"large",color:"red"},{default:a(()=>n[11]||(n[11]=[B("Voltar")])),_:1})]),_:1}),j.isUpdate?(U(),N(R,{key:0,class:"ml-5",size:"large",color:"green",onClick:n[9]||(n[9]=c=>h(m.imovel_id))},{default:a(()=>n[12]||(n[12]=[B("Atualizar")])),_:1})):(U(),N(R,{key:1,class:"ml-5",size:"large",color:"green",onClick:n[10]||(n[10]=c=>h(m.imovel_id))},{default:a(()=>n[13]||(n[13]=[B("Salvar")])),_:1}))]),_:1})]),_:1}))}}},Ge={class:"ml-4"},He={__name:"Partes",props:{show:Boolean,ato_token:String,ato_id:Number,partes_imovel:Object},emits:["close","update-imovel"],setup(j,{emit:L}){const t=j,r=d(t.show),m=ve(),y=be(),{$toast:$}=fe(),u=`${y.public.managemant}/bens_pessoa`,M=`${y.public.managemant}/listarPapeis`,V=d([]),g=se({percentual:null,tipo_parte_id:null}),q=d({}),C=L;Ve(()=>t.show,async w=>{r.value=w,w&&(await F(),g.tipo_parte_id=t.partes_imovel.partes_tipos.descricao||null,g.percentual=t.partes_imovel.percentual||null,q.value={tipo_parte_id:g.tipo_parte_id,percentual:g.percentual})});const f=()=>{r.value=!1,C("close")},F=async()=>{const{data:w}=await z(M,{method:"POST",body:{tipo_ato_token:m.query.tipo_ato_token}},"$IjSu4kwy4b");V.value=w.value},G=async()=>{const w={};Object.keys(g).forEach(A=>{let k=g[A];A==="tipo_parte_id"&&k&&(k=k.id),k!==q.value[A]&&(w[A]=k)});const{status:b}=await z(`${u}/${t.partes_imovel.id}`,{method:"PUT",body:w},"$QkvGl1R6ZY");b.value==="success"&&($.success("Parte Atualizada com Sucesso!"),C("update-imovel",w),f())};return(w,b)=>{const A=ge;return U(),N(_e,{persistent:"",modelValue:o(r),"onUpdate:modelValue":b[2]||(b[2]=k=>K(r)?r.value=k:null),"max-width":"800"},{default:a(()=>[e(ce,null,{default:a(()=>[e(ne,null,{default:a(()=>[e(S,{class:"mt-1 mb-3",style:{"justify-content":"space-between"}},{default:a(()=>[P("h1",Ge," Altere o papel para: "+Be(t.partes_imovel.pessoa.nome),1)]),_:1}),b[4]||(b[4]=P("hr",{class:"mb-5"},null,-1)),e(S,null,{default:a(()=>[e(v,{cols:"8"},{default:a(()=>[e(Y,{class:"mt-6",label:"Selecione o Papel",modelValue:o(g).tipo_parte_id,"onUpdate:modelValue":b[0]||(b[0]=k=>o(g).tipo_parte_id=k),items:o(V),"item-title":"descricao","item-value":"descricao","return-object":""},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[b[3]||(b[3]=P("label",null,"%",-1)),e(A,{modelValue:o(g).percentual,"onUpdate:modelValue":b[1]||(b[1]=k=>o(g).percentual=k)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(Me,null,{default:a(()=>[e(R,{style:{"background-color":"red",color:"white"},onClick:f},{default:a(()=>b[5]||(b[5]=[B("Voltar")])),_:1}),e(R,{style:{"background-color":"green",color:"white"},onClick:G},{default:a(()=>b[6]||(b[6]=[B("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},We=["onClick"],Ye=["onClick"],Qe=["onClick"],Je={key:0,style:{width:"30px",height:"30px"},src:qe,alt:"Visualizar",title:"Reativar"},Ke={key:1,src:De,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},ze={__name:"Partes",props:{ato_token:{type:String},ato_token_selected:{type:String},ato_id:{type:Number},isUpdate:{type:Boolean},imovel_id:{type:Number}},emits:["saved","close-modal"],async setup(j,{emit:L}){let t,r;const m=j,y=L,$=ve(),u=be(),{$toast:M}=fe(),V=`${u.public.managemant}/partes_atos`,g=`${u.public.managemant}/listarPapeis`,q=`${u.public.managemant}/getLinkTipo`,C=`${u.public.managemant}/bens_pessoa`,f=`${u.public.managemant}/bens_pessoa`,F=`${u.public.managemant}/bens_pessoa`,G=`${u.public.managemant}/download`,w=d(null),b=d([]),A=d([]),k=d([]),H=d(!1),Q=d(!1),J=d(null),ee=d($.query.tipo_ato_token),X=d(null),le=[{title:"Pessoa",align:"start",key:"pessoa.nome"},{title:"Papel",align:"start",key:"papel.descricao"},{title:"%",align:"start",key:"percentual"},{value:"actions"}],I=se({papeis:null,percentual:null}),{data:p}=([t,r]=ie(()=>z(g,{method:"POST",body:{tipo_ato_token:m.ato_token_selected||$.query.tipo_ato_token}},"$X6FDd5A6WK")),t=await t,r(),t);k.value=p.value;const i=async()=>{const{data:_}=await z(`${f}/${m.imovel_id}`,{method:"GET"},"$Dyv7lSgcqT"),x=(T=>T.map(s=>({...s,pessoa:{...s.pessoa,documento:s.pessoa.doc_identificacao},papel:{...s.partes_tipos}})))(_.value);A.value=x};i();const oe=async()=>{await i()},{data:Z,status:h}=([t,r]=ie(()=>z(V,{method:"POST",body:{ato_token:m.ato_token||$.query.ato_token_edit}},"$Ir36YwSBFY")),t=await t,r(),t);b.value=Z.value&&Object.keys(Z.value).length===0?[]:Z.value;const ue=async()=>{const _={pessoa:{nome:I.pessoa.pessoa_nome},papel:k.value.find(T=>T.id===I.papeis),percentual:I.percentual},{data:l,status:x}=await z(C,{method:"POST",body:{bem_id:m.imovel_id,ato_id:Number($.query.ato_id),pessoa_id:I.pessoa.pessoa_id,tipo_parte_id:I.papeis,user_id:de("user-data").value.usuario_id,percentual:I.percentual}},"$z4QOGPyvCc");x.value==="success"&&(_.id=l.value.id,M.success("Pessoa Registrada com Sucesso!"),A.value.push(_))},O=async _=>{var re;if(H.value=!0,X.value=null,!_.pessoa.id)return;const{data:l}=await z(q,{method:"POST",body:{tipo:"ficha",id:_.pessoa.id}},"$XYnqHmowsR");if(!((re=l.value)!=null&&re.link))return;const{data:x}=await z(G,{method:"POST",body:{bucket:"qvgjz",path:l.value.link}},"$63DgHOk5hC"),T=l.value.link,s=x.value;/\.(tr7|tiff)$/i.test(T)?X.value=s:fotoRender.value=`data:image/jpeg;base64,${s}`},n=_=>{Q.value=!0,w.value=_,J.value=_.id};async function W(_){_.excluido=!_.excluido;try{await z(`${F}/${_.id}`,{method:"PUT",body:JSON.stringify({excluido:_.excluido})},"$3fKfAn4Pra")}catch(l){console.error("Erro ao excluir pessoa:",l)}}const c=()=>{y("close-modal")};return(_,l)=>{const x=ge,T=He,s=Se,re=ye;return U(),N(ne,{style:{height:"500px"}},{default:a(()=>[e(S,null,{default:a(()=>[e(v,{class:"mt-6",cols:"4"},{default:a(()=>[e(Y,{label:"Selecione a Pessoa",modelValue:o(I).pessoa,"onUpdate:modelValue":l[0]||(l[0]=E=>o(I).pessoa=E),items:o(b),"item-title":"pessoa_nome","item-value":"id","return-object":"",required:""},null,8,["modelValue","items"])]),_:1}),e(v,{class:"mt-6",cols:"3"},{default:a(()=>[e(Y,{label:"Papel",modelValue:o(I).papeis,"onUpdate:modelValue":l[1]||(l[1]=E=>o(I).papeis=E),items:o(k),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"1"},{default:a(()=>[l[6]||(l[6]=P("label",null,"%",-1)),e(x,{modelValue:o(I).percentual,"onUpdate:modelValue":l[2]||(l[2]=E=>o(I).percentual=E)},null,8,["modelValue"])]),_:1}),P("div",null,[P("img",{class:"mt-7",src:Ee,style:{width:"40px",cursor:"pointer"},title:"Criar Imovel",onClick:ue})])]),_:1}),e(S,null,{default:a(()=>[e(v,null,{default:a(()=>[e(Le,{style:{height:"350px"},headers:le,items:o(A)},{"item.actions":a(({item:E})=>[e(S,null,{default:a(()=>[P("div",{style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},class:"mr-2",onClick:$e=>O(E),title:"Visualizar Ficha"},l[7]||(l[7]=[P("img",{style:{width:"30px",height:"30px"},src:Ne,alt:"Visualizar"},null,-1)]),8,We),P("div",{style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:$e=>n(E),class:"mr-2",title:"Alterar Papel"},l[8]||(l[8]=[P("img",{style:{width:"30px",height:"30px"},src:je,alt:"Visualizar"},null,-1)]),8,Ye),P("div",{class:"mr-2",style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:$e=>W(E),title:"Deletar Pessoa"},[E.excluido?(U(),pe("img",Je)):(U(),pe("img",Ke))],8,Qe)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(T,{partes_imovel:o(w),ato_token:o(ee),ato_id:o(J),show:o(Q),onClose:l[3]||(l[3]=E=>Q.value=!1),onUpdateImovel:oe},null,8,["partes_imovel","ato_token","ato_id","show"]),e(_e,{modelValue:o(H),"onUpdate:modelValue":l[5]||(l[5]=E=>K(H)?H.value=E:null),width:"600"},{default:a(()=>[e(ce,{"max-width":"600",title:"Ficha"},{default:a(()=>[e(s,{"tiff-url":o(X)},null,8,["tiff-url"]),e(R,{class:"ms-auto mt-3 mb-3",text:"Fechar",size:"large",color:"red",onClick:l[4]||(l[4]=E=>H.value=!1)})]),_:1})]),_:1},8,["modelValue"]),e(S,{class:"mt-5"},{default:a(()=>[e(re,{onClick:c},{default:a(()=>[e(R,{size:"large",color:"red"},{default:a(()=>l[9]||(l[9]=[B("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},cl={__name:"Cadastro",props:{show:Boolean,imovel_id:Number,ato_token:String,ato_id:Number,ato_token_selected:String},emits:["close","refresh"],setup(j,{emit:L}){const t=j,r=d("dados"),m=d(t.show),y=d(null),$=d(null),u=d(!1),M=L;Ve(()=>t.show,C=>{m.value=C});const V=C=>{u.value=!0,$.value=C.ato_id,y.value=C.id},g=()=>{m.value=!1,u.value=!1,M("close")},q=()=>{M("refresh")};return(C,f)=>{const F=Ce,G=Te,w=ze;return U(),N(_e,{persistent:"",modelValue:o(m),"onUpdate:modelValue":f[2]||(f[2]=b=>K(m)?m.value=b:null),"max-width":"1000"},{default:a(()=>[e(ce,null,{default:a(()=>[e(ne,null,{default:a(()=>[f[6]||(f[6]=P("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Cadastro de imoveis ",-1)),e(xe,{modelValue:o(r),"onUpdate:modelValue":f[0]||(f[0]=b=>K(r)?r.value=b:null),"bg-color":"#f5f2f2"},{default:a(()=>[e(ae,{value:"dados"},{default:a(()=>f[3]||(f[3]=[B("Dados")])),_:1}),o(u)?(U(),N(ae,{key:0,value:"enderecos"},{default:a(()=>f[4]||(f[4]=[B("Endereco")])),_:1})):me("",!0),o(u)?(U(),N(ae,{key:1,value:"partes"},{default:a(()=>f[5]||(f[5]=[B("Partes")])),_:1})):me("",!0)]),_:1},8,["modelValue"]),e(we,{modelValue:o(r),"onUpdate:modelValue":f[1]||(f[1]=b=>K(r)?r.value=b:null)},{default:a(()=>[e(te,{value:"dados"},{default:a(()=>[e(F,{onRefreshList:q,ato_id:t.ato_id,onSaved:V,onCloseModal:g},null,8,["ato_id"])]),_:1}),e(te,{value:"enderecos"},{default:a(()=>[o(u)?(U(),N(G,{key:0,isUpdate:!0,ato_id:o($),ato_token:t.ato_token,imovel_id:o(y),onCloseModal:g},null,8,["ato_id","ato_token","imovel_id"])):me("",!0)]),_:1}),e(te,{value:"partes"},{default:a(()=>[o(u)?(U(),N(w,{key:0,imovel_id:o(y),ato_token:t.ato_token,ato_id:t.ato_id,ato_token_selected:t.ato_token_selected,onCloseModal:g},null,8,["imovel_id","ato_token","ato_id","ato_token_selected"])):me("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},_l={__name:"Atualizar",props:{show:Boolean,imovel_id:Number},emits:["close","refresh"],setup(j,{emit:L}){const t=j,r=d("dados"),m=d(t.show),y=L;Ve(()=>t.show,M=>{m.value=M});const $=()=>{m.value=!1,y("close")},u=()=>{y("refresh")};return(M,V)=>{const g=Ce,q=Te,C=ze;return U(),N(_e,{persistent:"",modelValue:o(m),"onUpdate:modelValue":V[2]||(V[2]=f=>K(m)?m.value=f:null),"max-width":"1000"},{default:a(()=>[e(ce,null,{default:a(()=>[e(ne,null,{default:a(()=>[V[6]||(V[6]=P("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Atualizar imovel ",-1)),e(xe,{modelValue:o(r),"onUpdate:modelValue":V[0]||(V[0]=f=>K(r)?r.value=f:null),"bg-color":"#f5f2f2"},{default:a(()=>[e(ae,{value:"dados"},{default:a(()=>V[3]||(V[3]=[B("Dados")])),_:1}),e(ae,{value:"enderecos"},{default:a(()=>V[4]||(V[4]=[B("Endereço")])),_:1}),e(ae,{value:"partes"},{default:a(()=>V[5]||(V[5]=[B("Partes")])),_:1})]),_:1},8,["modelValue"]),e(we,{modelValue:o(r),"onUpdate:modelValue":V[1]||(V[1]=f=>K(r)?r.value=f:null)},{default:a(()=>[e(te,{value:"dados"},{default:a(()=>[e(g,{onRefreshList:u,isUpdate:!0,imovel_id:t.imovel_id,onCloseModal:$},null,8,["imovel_id"])]),_:1}),e(te,{value:"enderecos"},{default:a(()=>[e(q,{onRefreshList:u,isUpdate:!0,imovel_id:t.imovel_id,onCloseModal:$},null,8,["imovel_id"])]),_:1}),e(te,{value:"partes"},{default:a(()=>[e(C,{imovel_id:t.imovel_id,onCloseModal:$},null,8,["imovel_id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{cl as _,_l as a};
