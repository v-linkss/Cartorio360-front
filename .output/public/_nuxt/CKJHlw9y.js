import{_ as j}from"./CGexes4g.js";import{r as u,D as g,F as L,h as K,o as R,A as G,w as s,b as t,a as i,t as $,s as d,q as o,J as T,v as ee,x as Q,u as te,K as le,L as oe,c as B}from"./De89Tqoy.js";import{a as M,_ as ae,b as se,c as re}from"./CBYd86re.js";import{_ as ie}from"./ToPptOUL.js";import{c as ne,r as ue,u as de,V as F,_ as me}from"./DUZbAllt.js";import{a as ce,V as pe}from"./q25GQN4D.js";import{V as E}from"./eZVXGUP1.js";import{V as A}from"./CFr-8vHu.js";import{u as O}from"./DLWR2AnG.js";import{_ as ve}from"./DCsXQasW.js";import{V as n}from"./ip_r2vKr.js";const fe=i("h1",null,"Ordem de Serviço nº",-1),Ae={style:{color:"red","margin-left":"18px"}},be=i("hr",{class:"mb-5"},null,-1),Ve={style:{display:"flex","justify-content":"flex-start"}},_e={class:"ml-12"},ge={__name:"Ordem",props:{show:Boolean,numero_os:Number},emits:["close"],setup(U,{emit:C}){const k=U,p=u(k.show),w=Q();u(g("user-data").value.cartorio_token).value,`${w.public.managemant}`,`${w.public.managemant}`,`${w.public.managemant}`;const S=u([]);u([]);const f=L({escrevente:null}),b=C,v={escrevente:{required:ne.withMessage("O campo é obrigatorio",ue)}},V=de(v,f),y=[{title:"Forma",value:"numero"},{title:"Valor",value:"referencia"},{value:"actions"}];K(()=>k.show,c=>{p.value=c});const I=()=>{p.value=!1,b("close")},h=u([]);return(c,m)=>(R(),G(pe,{persistent:"",modelValue:o(p),"onUpdate:modelValue":m[3]||(m[3]=e=>ee(p)?p.value=e:null),"max-width":"650"},{default:s(()=>[t(ce,null,{default:s(()=>[t(E,null,{default:s(()=>[t(A,{class:"mb-5 mt-1 ml-2"},{default:s(()=>[fe,i("h1",Ae,$(k.numero_os),1)]),_:1}),t(E,null,{default:s(()=>[t(A,null,{default:s(()=>[t(d,{class:"mr-5",label:"Recebido"}),t(d,{label:"Falta Receber"})]),_:1}),t(A,null,{default:s(()=>[t(F,{class:"mb-5 mr-5",label:"Forma",modelValue:o(f).escrevente,"onUpdate:modelValue":m[0]||(m[0]=e=>o(f).escrevente=e),items:o(h),"item-title":"nome","item-value":"token",required:"","error-messages":o(V).escrevente.$errors.map(e=>e.$message),onBlur:o(V).escrevente.$touch,onInput:o(V).escrevente.$touch},null,8,["modelValue","items","error-messages","onBlur","onInput"]),t(d,{label:"Valor"}),i("div",null,[i("img",{src:M,class:"ml-5",style:{cursor:"pointer",height:"40px",width:"40px"},onClick:m[1]||(m[1]=(...e)=>c.reimprimeSelosAtos&&c.reimprimeSelosAtos(...e))})])]),_:1})]),_:1}),be,t(T,{headers:y,items:o(S),"item-value":"token"},null,8,["items"])]),_:1}),i("div",Ve,[i("div",{class:"ml-10"},[i("img",{src:ie,style:{cursor:"pointer"},onClick:I})]),i("div",_e,[i("img",{src:me,style:{cursor:"pointer"},onClick:m[2]||(m[2]=(...e)=>c.reimprimeSelosAtos&&c.reimprimeSelosAtos(...e))})])])]),_:1})]),_:1},8,["modelValue"]))}},Ce="data:image/png;base64,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",ke=i("h1",null,"Ordens de Serviço",-1),we=i("hr",{class:"mt-5 mb-5"},null,-1),he=["onClick"],xe=i("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:Ce,alt:"Receber"},null,-1),ye=[xe],Oe=["onClick","title"],Re=["disabled","onClick"],Fe={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:se,alt:"Visualizar",title:"Reativar"},Se={key:1,src:re,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},Xe={__name:"index",setup(U){const C=Q(),k=`${C.public.managemant}/listarUsuarios`,p=`${C.public.managemant}/listarOrdensServico`,w=`${C.public.managemant}/tipoAtos`,S=te(),f=u(g("auth_token").value)||null,b=u(g("user-data").value.cartorio_token)||null,v=u([]),V=u([]),y=u([]),I=u(["PENDENTE","EM ANDAMENTO","CONCLUÍDA","LAVRADA"]),h=u(!1),c=u(null),m=u(null),e=L({numero:null,data_inicio:D(),data_fim:D(),data_lavratura_inicio:null,data_lavratura_fim:null,protocolo:null,livro:null,folha:null,situacao:null,usuario_token:f.value,selo:null,ato_tipo_token:null,apresentante:null}),X=[{title:"Número",value:"numero"},{title:"Situação",value:"situacao"},{title:"CPF",value:"apresentante_cpf"},{title:"Apresentante",value:"apresentante_nome"},{title:"Usuario",value:"usuario_nome"},{title:"Data Recebimento",value:"dt_pagto"},{value:"actions"}];function D(){const r=new Date,l=r.getFullYear(),_=String(r.getMonth()+1).padStart(2,"0"),x=String(r.getDate()).padStart(2,"0");return`${l}-${_}-${x}`}async function z(){const{data:r,error:l}=await O(k,{method:"POST",body:{cartorio_token:b.value}},"$865v1qFEsl");V.value=r.value}async function H(){try{const{data:r,error:l}=await O(p,{method:"POST",body:{cartorio_token:b.value,numero:e.numero,data_inicio:e.data_inicio,data_fim:e.data_fim,data_lavratura_inicio:e.data_lavratura_inicio,data_lavratura_fim:e.data_lavratura_fim,protocolo:e.protocolo,livro:e.livro,folha:e.folha,situacao:e.situacao,usuario_token:e.usuario_token,selo:e.selo,ato_tipo_token:e.ato_tipo_token,apresentante:e.apresentante}},"$GorUGsNsKS");r.value.length>0?v.value=r.value:v.value=[]}catch(r){console.error("Erro na requisição",r)}}async function W(){const{data:r,error:l}=await O(w,{method:"POST",body:{cartorio_token:b.value,usuario_token:f.value}},"$wkWiNo8Od3");y.value=r.value}async function Y(){const r=D(),{data:l,error:_}=await O(p,{method:"POST",body:{cartorio_token:b.value,usuario_token:f.value,data_fim:r,data_inicio:r}},"$zDH8ovqZZe");l.value.length>0?(v.value=l.value,console.log(l.value)):v.value=[]}z(),W(),Y();async function q(r){console.log("excluido")}function P(r){const l=g("user-service"),_=v.value.find(x=>x.id===r);l.value=_.token,S.push({path:`/ordens-servicos/atualizar/${r}`})}function Z(r){console.log(r),m.value=r,h.value=!0}const J=()=>{const r=g("user-service"),l=g("ordem-button");r.value=null,c.value=!0,l.value=c.value};return(r,l)=>{const _=j,x=ge;return R(),G(E,{class:"mt-5"},{default:s(()=>[t(A,{class:"mb-5"},{default:s(()=>[ke,t(_,{to:"/ordens-servicos/criar-registro"},{default:s(()=>[i("img",{style:{width:"60px",height:"60px",cursor:"pointer","margin-left":"70px"},src:M,alt:"novo",onClick:J})]),_:1})]),_:1}),t(A,{style:{"margin-bottom":"-35px"}},{default:s(()=>[t(n,null,{default:s(()=>[t(d,{modelValue:o(e).numero,"onUpdate:modelValue":l[0]||(l[0]=a=>o(e).numero=a),label:"Número",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),t(n,null,{default:s(()=>[t(d,{modelValue:o(e).data_inicio,"onUpdate:modelValue":l[1]||(l[1]=a=>o(e).data_inicio=a),type:"date",label:"Abertura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),t(n,null,{default:s(()=>[t(d,{modelValue:o(e).data_fim,"onUpdate:modelValue":l[2]||(l[2]=a=>o(e).data_fim=a),type:"date",label:"Abertura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),t(n,null,{default:s(()=>[t(d,{modelValue:o(e).data_lavratura_inicio,"onUpdate:modelValue":l[3]||(l[3]=a=>o(e).data_lavratura_inicio=a),type:"date",label:"Lavratura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),t(n,null,{default:s(()=>[t(d,{modelValue:o(e).data_lavratura_fim,"onUpdate:modelValue":l[4]||(l[4]=a=>o(e).data_lavratura_fim=a),type:"date",label:"Lavratura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),t(n,null,{default:s(()=>[t(d,{modelValue:o(e).protocolo,"onUpdate:modelValue":l[5]||(l[5]=a=>o(e).protocolo=a),label:"Protocolo",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),t(n,{md:"1"},{default:s(()=>[t(d,{modelValue:o(e).livro,"onUpdate:modelValue":l[6]||(l[6]=a=>o(e).livro=a),label:"Livro",style:{width:"80px"}},null,8,["modelValue"])]),_:1}),t(n,{md:"1"},{default:s(()=>[t(d,{modelValue:o(e).folha,"onUpdate:modelValue":l[7]||(l[7]=a=>o(e).folha=a),label:"Folha",style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1}),t(A,null,{default:s(()=>[t(n,{md:"3"},{default:s(()=>[t(F,{modelValue:o(e).situacao,"onUpdate:modelValue":l[8]||(l[8]=a=>o(e).situacao=a),items:o(I),label:"Situação"},null,8,["modelValue","items"])]),_:1}),t(n,{md:"2"},{default:s(()=>[t(F,{items:o(V),modelValue:o(e).usuario_token,"onUpdate:modelValue":l[9]||(l[9]=a=>o(e).usuario_token=a),"item-title":"user_nome","item-value":"user_token",label:"Usuario"},null,8,["items","modelValue"])]),_:1}),t(n,{md:"1"},{default:s(()=>[t(d,{modelValue:o(e).selo,"onUpdate:modelValue":l[10]||(l[10]=a=>o(e).selo=a),label:"Selo"},null,8,["modelValue"])]),_:1}),t(n,{md:"3"},{default:s(()=>[t(F,{modelValue:o(e).ato_tipo_token,"onUpdate:modelValue":l[11]||(l[11]=a=>o(e).ato_tipo_token=a),items:o(y),"item-title":"descricao","item-value":"token",label:"Serviço"},null,8,["modelValue","items"])]),_:1}),t(n,{md:"2"},{default:s(()=>[t(d,{modelValue:o(e).apresentante,"onUpdate:modelValue":l[12]||(l[12]=a=>o(e).apresentante=a),label:"Apresentante"},null,8,["modelValue"])]),_:1}),t(n,null,{default:s(()=>[i("div",null,[i("img",{onClick:H,style:{width:"40px",height:"40px",cursor:"pointer"},src:ve,alt:"Pesquisar"})])]),_:1})]),_:1}),we,t(T,{headers:X,items:o(v),"item-key":"id"},{"item.actions":s(({item:a})=>[t(A,{style:{display:"flex",gap:"10px","margin-top":"-5px"}},{default:s(()=>[i("div",{onClick:N=>Z(a.numero),title:"Receber"},ye,8,he),i("div",{class:oe({disabled:!a.btn_editar}),onClick:N=>a.btn_editar?P(a.id):null,title:a.btn_editar?"Editar":"Desabilitado"},[i("img",{style:le({cursor:a.btn_editar?"pointer":"default",width:"30px",height:"30px"}),src:ae,alt:"Editar"},null,4)],10,Oe),i("div",{disabled:!a.btn_cancelar,onClick:N=>a.btn_cancelar?q(a):null,title:"Excluir"},[a.excluido?(R(),B("img",Fe)):(R(),B("img",Se))],8,Re)]),_:2},1024)]),_:1},8,["items"]),t(x,{show:o(h),numero_os:o(m),onClose:l[13]||(l[13]=a=>h.value=!1)},null,8,["show","numero_os"])]),_:1})}}};export{Xe as default};
