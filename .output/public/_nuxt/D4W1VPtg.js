import{V as pe,c as Te}from"./CwKvaOAa.js";import{V as de}from"./51vJKa_h.js";import{V as xe,a as se}from"./BSuXvZ8p.js";import{V as _e}from"./D-2W7eDI.js";import{H as ve,u as fe,r as d,m as ce,D as ie,I as ne,g as be,n as Ie,v as o,o as $,c as D,b as e,O as Pe,G as L,w as a,V as j,a as T,A as h,d as N,s as ge,t as Se,x as re,J as X}from"./D_ZxgpzX.js";import{_ as Ve}from"./RE6Vl84d.js";import{_ as ye}from"./Bqf4vbGE.js";import{c as $e,r as ke,u as ze}from"./JU_i0o55.js";import{u as z}from"./WTgqlIvF.js";import{V as M}from"./KLuj5-fA.js";import{V as v}from"./DpYwyn9W.js";import{V as Be}from"./BqAIRnuE.js";import{V as J}from"./JYfBWHof.js";import{a as Me}from"./CjOUmhg9.js";import{_ as Ne,a as Oe,b as qe}from"./BP1uhy__.js";import{_ as Ae}from"./COj1c-PS.js";import{_ as Ee}from"./vEDdKHg5.js";import{V as je}from"./DjaAS4PF.js";const Le={key:0,class:"d-flex justify-center"},we={__name:"Dados",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0},isUpdate:{type:Boolean},imovel_id:{type:Number}},emits:["saved","close-modal","refresh-list"],async setup(E,{emit:R}){let i,u;const p=E,x=R,U=ve(),r=ge(),{$toast:B}=fe(),{id:g}=U.params,V=`${r.public.managemant}/atos_bens`,O=`${r.public.managemant}/atos_bens`,S=`${r.public.managemant}/atos_bens`,b=`${r.public.managemant}/registro_imoveis`,F=`${r.public.managemant}/natureza_imoveis`,G=`${r.public.managemant}/tipo_logradouros`,k=`${r.public.managemant}/situacao_imoveis`,f=`${r.public.managemant}/listarCidades`,q=`${r.public.managemant}/listarTipoBens`,P=d(ce("user-data").value.cartorio_token),H=d(ce("user-data").value.usuario_id).value,Q=d([]),W=d([]),te=d([]),Z=d([]),ae=d([]),w=d([]),c=d(!0),l=ie({tabvalores_tipo_regimovel_id:null,registro_cartorio:null,registro_matricula:null,matricula_letra:null,tabvalores_nat_imovel_id:null,cib:null,end_cidade_id:null,end_quadra:null,end_lote:null,tabvalores_tipologradouro_id:null,tipo_id:null,descricao:null,inscricao_estadual:null,tabvalores_situacao_imoveis_id:null,vlr_avaliacao:null,vlr_mercado:null,valor_mercado:"0.00",aliq_itbi:null,vlr_itbi:null,user_id:H,ato_id:Number(U.query.ato_id)||Number(p.ato_id)}),le=ie({...l}),K={descricao:{required:$e.withMessage("O campo é obrigatório",ke)},tipo_id:{required:$e.withMessage("O campo é obrigatório",ke)}},ee=ze(K,l),ue=async()=>{var s,oe,C,me;if(!await ee.value.$validate()){B.error("Preencha todos os campos obrigatórios!");return}const t={...l,vlr_avaliacao:(s=l.vlr_avaliacao)==null?void 0:s.replace(/,/g,""),vlr_mercado:(oe=l.vlr_mercado)==null?void 0:oe.replace(/,/g,""),aliq_itbi:(C=l.aliq_itbi)==null?void 0:C.replace(/,/g,""),vlr_itbi:(me=l.vlr_itbi)==null?void 0:me.replace(/,/g,"")},{data:I,status:y}=await z(`${V}`,{method:"POST",body:t},"$0Mdv6RF9cH");y.value==="success"&&(B.success("Imovel criado com sucesso!"),x("saved",{id:I.value.id,token:I.value.token,ato_id:I.value.ato_id}))},{data:A}=([i,u]=ne(()=>z(`${q}`,{method:"POST",body:{cartorio_token:P.value,imoveis:!0}},"$H1S2cTYpdB")),i=await i,u(),i);if(w.value=A.value,p.isUpdate===!0){const{data:m}=([i,u]=ne(()=>z(`${O}/${p.imovel_id}`,{method:"GET"},"$jHrIlABk8l")),i=await i,u(),i);m.value&&Object.keys(l).forEach(t=>{m.value[t]!==void 0&&(l[t]=m.value[t])}),Object.assign(le,l)}async function n(){try{const[m,t,I,y,s]=await Promise.all([$fetch(F),$fetch(b),$fetch(k),$fetch(G),$fetch(f)]);W.value=m,Q.value=t,ae.value=I,te.value=y,Z.value=s}catch(m){console.error("Erro ao carregar os dados de imoveis pessoa:",m)}finally{c.value=!1}}const Y=async m=>{const t={};if(Object.keys(l).forEach(y=>{l[y]!==le[y]&&(t[y]=l[y])}),["vlr_avaliacao","vlr_mercado","aliq_itbi","vlr_itbi"].forEach(y=>{var s;t[y]&&(t[y]=(s=t[y])==null?void 0:s.toString().replace(/,/g,""))}),Object.keys(t).length===0)return;const{status:I}=await z(`${S}/${m}`,{method:"PUT",body:t},"$BZjXR26AL9");I.value==="success"&&(B.success("Imovel Atualizado com sucesso!"),x("close-modal"))},_=()=>{x("close-modal"),x("refresh-list")};return be([()=>l.vlr_avaliacao.replace(/,/g,""),()=>l.aliq_itbi.replace(/,/g,"")],([m,t])=>{l.vlr_itbi=(Number(m)*Number(t)/100).toFixed(2)}),Ie(()=>{g||p.ato_id?n():c.value=!1}),(m,t)=>{const I=Ve,y=ye;return o(c)?($(),D("div",Le,[e(Pe,{indeterminate:"",class:"loading-spinner",size:"64"})])):($(),L(de,{key:1},{default:a(()=>[e(M,null,{default:a(()=>[e(v,{class:"mt-2",cols:"12"},{default:a(()=>[e(Be,{label:"Descrição",modelValue:o(l).descricao,"onUpdate:modelValue":t[0]||(t[0]=s=>o(l).descricao=s),"error-messages":o(ee).descricao.$errors.map(s=>s.$message)},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(M,null,{default:a(()=>[e(v,{cols:"3"},{default:a(()=>[e(J,{label:"Tipo de Registro",modelValue:o(l).tabvalores_tipo_regimovel_id,"onUpdate:modelValue":t[1]||(t[1]=s=>o(l).tabvalores_tipo_regimovel_id=s),items:o(Q),"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[e(j,{label:"Cartório",modelValue:o(l).registro_cartorio,"onUpdate:modelValue":t[2]||(t[2]=s=>o(l).registro_cartorio=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[e(j,{label:"Matricula",modelValue:o(l).registro_matricula,"onUpdate:modelValue":t[3]||(t[3]=s=>o(l).registro_matricula=s)},null,8,["modelValue"])]),_:1}),e(v,null,{default:a(()=>[e(j,{label:"Letra",modelValue:o(l).matricula_letra,"onUpdate:modelValue":t[4]||(t[4]=s=>o(l).matricula_letra=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"4"},{default:a(()=>[e(J,{label:"Natureza",modelValue:o(l).tabvalores_nat_imovel_id,"onUpdate:modelValue":t[5]||(t[5]=s=>o(l).tabvalores_nat_imovel_id=s),items:o(W),"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(M,null,{default:a(()=>[e(v,{cols:"2"},{default:a(()=>[e(j,{label:"CIB",modelValue:o(l).cib,"onUpdate:modelValue":t[6]||(t[6]=s=>o(l).cib=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"3"},{default:a(()=>[e(J,{modelValue:o(l).tipo_id,"onUpdate:modelValue":t[7]||(t[7]=s=>o(l).tipo_id=s),items:o(w),label:"Tipo de imovel","item-title":"descricao","item-value":"id","error-messages":o(ee).tipo_id.$errors.map(s=>s.$message)},null,8,["modelValue","items","error-messages"])]),_:1}),e(v,{cols:"3"},{default:a(()=>[e(j,{label:"Inscrição Municipal",modelValue:o(l).inscricao_estadual,"onUpdate:modelValue":t[8]||(t[8]=s=>o(l).inscricao_estadual=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"4"},{default:a(()=>[e(J,{label:"Situação",items:o(ae),"item-title":"descricao","item-value":"id",modelValue:o(l).tabvalores_situacao_imoveis_id,"onUpdate:modelValue":t[9]||(t[9]=s=>o(l).tabvalores_situacao_imoveis_id=s)},null,8,["items","modelValue"])]),_:1})]),_:1}),e(M,null,{default:a(()=>[e(v,{cols:"2"},{default:a(()=>[t[15]||(t[15]=T("label",null,"Valor Avaliação",-1)),e(I,{label:"Valor Avaliação",modelValue:o(l).vlr_avaliacao,"onUpdate:modelValue":t[10]||(t[10]=s=>o(l).vlr_avaliacao=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[t[16]||(t[16]=T("label",null,"Valor Mercado",-1)),e(I,{label:"Valor Mercado",modelValue:o(l).vlr_mercado,"onUpdate:modelValue":t[11]||(t[11]=s=>o(l).vlr_mercado=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"1"},{default:a(()=>[t[17]||(t[17]=T("label",null,"%ITB",-1)),e(I,{label:"%ITB",modelValue:o(l).aliq_itbi,"onUpdate:modelValue":t[12]||(t[12]=s=>o(l).aliq_itbi=s)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[t[18]||(t[18]=T("label",null,"Valor ITB",-1)),e(I,{label:"Valor ITB",modelValue:o(l).vlr_itbi,"onUpdate:modelValue":t[13]||(t[13]=s=>o(l).vlr_itbi=s)},null,8,["modelValue"])]),_:1})]),_:1}),e(M,{class:"mt-10"},{default:a(()=>[e(y,{onClick:_},{default:a(()=>[e(h,{size:"large",color:"red"},{default:a(()=>t[19]||(t[19]=[N("Voltar")])),_:1})]),_:1}),E.isUpdate?($(),L(h,{key:0,class:"ml-5",size:"large",color:"green",onClick:t[14]||(t[14]=s=>Y(p.imovel_id))},{default:a(()=>t[20]||(t[20]=[N("Atualizar")])),_:1})):($(),L(h,{key:1,class:"ml-5",size:"large",color:"green",onClick:ue},{default:a(()=>t[21]||(t[21]=[N("Salvar")])),_:1}))]),_:1})]),_:1}))}}},Re={key:0,class:"d-flex justify-center"},Ue={__name:"Enderecos",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0},isUpdate:{type:Boolean},imovel_id:{type:Number}},emits:["saved","close-modal","refresh-list"],async setup(E,{emit:R}){let i,u;const p=E,x=R,U=ve(),r=ge(),{$toast:B}=fe(),{id:g}=U.params,V=`${r.public.managemant}/atos_bens`,O=`${r.public.managemant}/atos_bens`,S=`${r.public.managemant}/registro_imoveis`,b=`${r.public.managemant}/natureza_imoveis`,F=`${r.public.managemant}/tipo_logradouros`,G=`${r.public.managemant}/situacao_imoveis`,k=`${r.public.managemant}/listarCidades`,f=`${r.public.managemant}/listarTipoBens`,q=d(ce("user-data").value.cartorio_token),P=d(ce("user-data").value.usuario_id).value,H=d([]),Q=d([]),W=d([]),te=d([]),Z=d([]),ae=d([]),w=d(!0),c=ie({end_cidade_id:null,end_quadra:null,end_lote:null,tabvalores_tipologradouro_id:null,end_logradouro:null,end_logradouro_numero:null,end_bairro:null,end_cep:null,end_complemento:null,user_id:P,ato_id:Number(U.query.ato_id)||Number(p.ato_id)}),l=ie({...c}),{data:le}=([i,u]=ne(()=>z(`${f}`,{method:"POST",body:{cartorio_token:q.value,imoveis:!0}},"$W62VZQp5Tx")),i=await i,u(),i);if(ae.value=le.value,p.isUpdate===!0){const{data:A}=([i,u]=ne(()=>z(`${V}/${p.imovel_id}`,{method:"GET"},"$uGMUgsxHFk")),i=await i,u(),i);A.value&&Object.keys(c).forEach(n=>{A.value[n]!==void 0&&(c[n]=A.value[n])}),Object.assign(l,c)}async function K(){try{const[A,n,Y,_,m]=await Promise.all([$fetch(b),$fetch(S),$fetch(G),$fetch(F),$fetch(k)]);Q.value=A,H.value=n,Z.value=Y,W.value=_,te.value=m}catch(A){console.error("Erro ao carregar os dados de imoveis pessoa:",A)}finally{w.value=!1}}const ee=async A=>{const n={};if(Object.keys(c).forEach(_=>{c[_]!==l[_]&&(n[_]=c[_])}),Object.keys(n).length===0)return;const{status:Y}=await z(`${O}/${A}`,{method:"PUT",body:n},"$JWP9Pf1MfJ");Y.value==="success"&&B.success("Imovel Atualizado com sucesso!")},ue=()=>{x("close-modal"),x("refresh-list")};return Ie(()=>{g||p.ato_id?K():w.value=!1}),(A,n)=>{const Y=ye;return o(w)?($(),D("div",Re,[e(Pe,{indeterminate:"",class:"loading-spinner",size:"64"})])):($(),L(de,{key:1,style:{height:"500px"},class:"mt-2"},{default:a(()=>[e(M,null,{default:a(()=>[e(v,{cols:"5"},{default:a(()=>[e(J,{label:"Cidade",modelValue:o(c).end_cidade_id,"onUpdate:modelValue":n[0]||(n[0]=_=>o(c).end_cidade_id=_),items:o(te),"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[e(j,{label:"Quadra",modelValue:o(c).end_quadra,"onUpdate:modelValue":n[1]||(n[1]=_=>o(c).end_quadra=_)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[e(j,{label:"Lote",modelValue:o(c).end_lote,"onUpdate:modelValue":n[2]||(n[2]=_=>o(c).end_lote=_)},null,8,["modelValue"])]),_:1}),e(v,{cols:"3"},{default:a(()=>[e(J,{label:"Tipo de Logradouro",modelValue:o(c).tabvalores_tipologradouro_id,"onUpdate:modelValue":n[3]||(n[3]=_=>o(c).tabvalores_tipologradouro_id=_),items:o(W),"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(M,null,{default:a(()=>[e(v,{cols:"5"},{default:a(()=>[e(j,{label:"Logradouro",modelValue:o(c).end_logradouro,"onUpdate:modelValue":n[4]||(n[4]=_=>o(c).end_logradouro=_)},null,8,["modelValue"])]),_:1}),e(v,{cols:"1"},{default:a(()=>[e(j,{label:"N*",modelValue:o(c).end_logradouro_numero,"onUpdate:modelValue":n[5]||(n[5]=_=>o(c).end_logradouro_numero=_)},null,8,["modelValue"])]),_:1}),e(v,null,{default:a(()=>[e(j,{label:"Bairro",modelValue:o(c).end_bairro,"onUpdate:modelValue":n[6]||(n[6]=_=>o(c).end_bairro=_)},null,8,["modelValue"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[e(j,{label:"CEP",modelValue:o(c).end_cep,"onUpdate:modelValue":n[7]||(n[7]=_=>o(c).end_cep=_)},null,8,["modelValue"])]),_:1})]),_:1}),e(M,null,{default:a(()=>[e(v,{cols:"5"},{default:a(()=>[e(j,{label:"Complemento",modelValue:o(c).end_complemento,"onUpdate:modelValue":n[8]||(n[8]=_=>o(c).end_complemento=_)},null,8,["modelValue"])]),_:1})]),_:1}),e(M,{class:"mt-10 justify-start"},{default:a(()=>[e(Y,{onClick:ue},{default:a(()=>[e(h,{size:"large",color:"red"},{default:a(()=>n[11]||(n[11]=[N("Voltar")])),_:1})]),_:1}),E.isUpdate?($(),L(h,{key:0,class:"ml-5",size:"large",color:"green",onClick:n[9]||(n[9]=_=>ee(p.imovel_id))},{default:a(()=>n[12]||(n[12]=[N("Atualizar")])),_:1})):($(),L(h,{key:1,class:"ml-5",size:"large",color:"green",onClick:n[10]||(n[10]=_=>ee(p.imovel_id))},{default:a(()=>n[13]||(n[13]=[N("Salvar")])),_:1}))]),_:1})]),_:1}))}}},De={class:"ml-4"},he={__name:"Partes",props:{show:Boolean,ato_token:String,ato_id:Number,partes_imovel:Object},emits:["close","update-imovel"],setup(E,{emit:R}){const i=E,u=d(i.show),p=ve(),x=ge(),{$toast:U}=fe(),r=`${x.public.managemant}/bens_pessoa`,B=`${x.public.managemant}/listarPapeis`,g=d([]),V=ie({percentual:null,tipo_parte_id:null}),O=d({}),S=R;be(()=>i.show,async k=>{u.value=k,k&&(await F(),V.tipo_parte_id=i.partes_imovel.partes_tipos.descricao||null,V.percentual=i.partes_imovel.percentual.replace(/,/g,"")||null,O.value={tipo_parte_id:V.tipo_parte_id,percentual:V.percentual.replace(/,/g,"")})});const b=()=>{u.value=!1,S("close")},F=async()=>{const{data:k}=await z(B,{method:"POST",body:{tipo_ato_token:p.query.tipo_ato_token}},"$IjSu4kwy4b");g.value=k.value},G=async()=>{const k={};Object.keys(V).forEach(q=>{let P=V[q];q==="tipo_parte_id"&&P&&(P=P.id),P!==O.value[q]&&(k[q]=P)}),k.percentual&&(k.percentual=k.percentual.toString().replace(/,/g,""));const{status:f}=await z(`${r}/${i.partes_imovel.id}`,{method:"PUT",body:k},"$QkvGl1R6ZY");f.value==="success"&&(U.success("Parte Atualizada com Sucesso!"),S("update-imovel",k),b())};return(k,f)=>{const q=Ve;return $(),L(_e,{persistent:"",modelValue:o(u),"onUpdate:modelValue":f[2]||(f[2]=P=>re(u)?u.value=P:null),"max-width":"800"},{default:a(()=>[e(pe,null,{default:a(()=>[e(de,null,{default:a(()=>[e(M,{class:"mt-1 mb-3",style:{"justify-content":"space-between"}},{default:a(()=>[T("h1",De," Altere o papel para: "+Se(i.partes_imovel.pessoa.nome),1)]),_:1}),f[4]||(f[4]=T("hr",{class:"mb-5"},null,-1)),e(M,null,{default:a(()=>[e(v,{cols:"8"},{default:a(()=>[e(J,{class:"mt-6",label:"Selecione o Papel",modelValue:o(V).tipo_parte_id,"onUpdate:modelValue":f[0]||(f[0]=P=>o(V).tipo_parte_id=P),items:o(g),"item-title":"descricao","item-value":"descricao","return-object":""},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"2"},{default:a(()=>[f[3]||(f[3]=T("label",null,"%",-1)),e(q,{modelValue:o(V).percentual,"onUpdate:modelValue":f[1]||(f[1]=P=>o(V).percentual=P)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(Te,null,{default:a(()=>[e(h,{style:{"background-color":"red",color:"white"},onClick:b},{default:a(()=>f[5]||(f[5]=[N("Voltar")])),_:1}),e(h,{style:{"background-color":"green",color:"white"},onClick:G},{default:a(()=>f[6]||(f[6]=[N("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Fe=["onClick"],Ge=["onClick"],He=["onClick"],Ye={key:0,style:{width:"30px",height:"30px"},src:Oe,alt:"Visualizar",title:"Reativar"},Je={key:1,src:qe,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Ce={__name:"Partes",props:{ato_token:{type:String},ato_token_selected:{type:String},ato_id:{type:Number},isUpdate:{type:Boolean},imovel_id:{type:Number}},emits:["saved","close-modal","refresh-list"],async setup(E,{emit:R}){let i,u;const p=E,x=R,U=ve(),r=ge(),{$toast:B}=fe(),g=`${r.public.managemant}/partes_atos`,V=`${r.public.managemant}/listarPapeis`,O=`${r.public.managemant}/getLinkTipo`,S=`${r.public.managemant}/bens_pessoa`,b=`${r.public.managemant}/bens_pessoa`,F=`${r.public.managemant}/bens_pessoa`,G=`${r.public.managemant}/download`,k=d(null),f=d([]),q=d([]),P=d([]),H=d(!1),Q=d(!1),W=d(null),te=d(U.query.tipo_ato_token),Z=d(null),ae=[{title:"Pessoa",align:"start",key:"pessoa.nome"},{title:"Papel",align:"start",key:"papel.descricao"},{title:"%",align:"start",key:"percentual"},{value:"actions"}],w=ie({papeis:null,percentual:null}),{data:c}=([i,u]=ne(()=>z(V,{method:"POST"},"$X6FDd5A6WK")),i=await i,u(),i);P.value=c.value;const l=async()=>{const{data:m}=await z(`${b}/${p.imovel_id}`,{method:"GET"},"$Dyv7lSgcqT"),I=(y=>y.map(s=>({...s,pessoa:{...s.pessoa,documento:s.pessoa.doc_identificacao},papel:{...s.partes_tipos}})))(m.value);q.value=I};l();const le=async()=>{await l()},{data:K,status:ee}=([i,u]=ne(()=>z(g,{method:"POST",body:{ato_token:p.ato_token||U.query.ato_token_edit}},"$Ir36YwSBFY")),i=await i,u(),i);f.value=K.value&&Object.keys(K.value).length===0?[]:K.value;const ue=async()=>{const m={pessoa:{nome:w.pessoa.pessoa_nome},papel:P.value.find(y=>y.id===w.papeis),percentual:w.percentual},{data:t,status:I}=await z(S,{method:"POST",body:{bem_id:p.imovel_id,ato_id:Number(U.query.ato_id),pessoa_id:w.pessoa.pessoa_id,tipo_parte_id:w.papeis,user_id:ce("user-data").value.usuario_id,percentual:w.percentual.replace(/,/g,"")}},"$z4QOGPyvCc");I.value==="success"&&(m.id=t.value.id,B.success("Pessoa Registrada com Sucesso!"),q.value.push(m))},A=async m=>{var oe;if(H.value=!0,Z.value=null,!m.pessoa.id)return;const{data:t}=await z(O,{method:"POST",body:{tipo:"ficha",id:m.pessoa.id}},"$XYnqHmowsR");if(!((oe=t.value)!=null&&oe.link))return;const{data:I}=await z(G,{method:"POST",body:{bucket:"qvgjz",path:t.value.link}},"$63DgHOk5hC"),y=t.value.link,s=I.value;/\.(tr7|tiff)$/i.test(y)?Z.value=s:fotoRender.value=`data:image/jpeg;base64,${s}`},n=m=>{Q.value=!0,k.value=m,W.value=m.id};async function Y(m){m.excluido=!m.excluido;try{await z(`${F}/${m.id}`,{method:"PUT",body:JSON.stringify({excluido:m.excluido})},"$3fKfAn4Pra")}catch(t){console.error("Erro ao excluir pessoa:",t)}}const _=()=>{x("close-modal"),x("refresh-list")};return(m,t)=>{const I=Ve,y=he,s=Me,oe=ye;return $(),L(de,{style:{height:"500px"}},{default:a(()=>[e(M,null,{default:a(()=>[e(v,{class:"mt-6",cols:"4"},{default:a(()=>[e(J,{label:"Selecione a Pessoa",modelValue:o(w).pessoa,"onUpdate:modelValue":t[0]||(t[0]=C=>o(w).pessoa=C),items:o(f),"item-title":"pessoa_nome","item-value":"id","return-object":"",required:""},null,8,["modelValue","items"])]),_:1}),e(v,{class:"mt-6",cols:"3"},{default:a(()=>[e(J,{label:"Papel",modelValue:o(w).papeis,"onUpdate:modelValue":t[1]||(t[1]=C=>o(w).papeis=C),items:o(P),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"1"},{default:a(()=>[t[6]||(t[6]=T("label",null,"%",-1)),e(I,{modelValue:o(w).percentual,"onUpdate:modelValue":t[2]||(t[2]=C=>o(w).percentual=C)},null,8,["modelValue"])]),_:1}),T("div",null,[T("img",{class:"mt-7",src:Ne,style:{width:"40px",cursor:"pointer"},title:"Criar Imovel",onClick:ue})])]),_:1}),e(M,null,{default:a(()=>[e(v,null,{default:a(()=>[e(je,{style:{height:"350px"},headers:ae,items:o(q)},{"item.actions":a(({item:C})=>[e(M,null,{default:a(()=>[T("div",{style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},class:"mr-2",onClick:me=>A(C),title:"Visualizar Ficha"},t[7]||(t[7]=[T("img",{style:{width:"30px",height:"30px"},src:Ae,alt:"Visualizar"},null,-1)]),8,Fe),T("div",{style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:me=>n(C),class:"mr-2",title:"Alterar Papel"},t[8]||(t[8]=[T("img",{style:{width:"30px",height:"30px"},src:Ee,alt:"Visualizar"},null,-1)]),8,Ge),T("div",{class:"mr-2",style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:me=>Y(C),title:"Deletar Pessoa"},[C.excluido?($(),D("img",Ye)):($(),D("img",Je))],8,He)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(y,{partes_imovel:o(k),ato_token:o(te),ato_id:o(W),show:o(Q),onClose:t[3]||(t[3]=C=>Q.value=!1),onUpdateImovel:le},null,8,["partes_imovel","ato_token","ato_id","show"]),e(_e,{modelValue:o(H),"onUpdate:modelValue":t[5]||(t[5]=C=>re(H)?H.value=C:null),width:"600"},{default:a(()=>[e(pe,{"max-width":"600",title:"Ficha"},{default:a(()=>[e(s,{"tiff-url":o(Z)},null,8,["tiff-url"]),e(h,{class:"ms-auto mt-3 mb-3",text:"Fechar",size:"large",color:"red",onClick:t[4]||(t[4]=C=>H.value=!1)})]),_:1})]),_:1},8,["modelValue"]),e(M,{class:"mt-5"},{default:a(()=>[e(oe,{onClick:_},{default:a(()=>[e(h,{size:"large",color:"red"},{default:a(()=>t[9]||(t[9]=[N("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Qe={key:0},We={key:1},Xe={key:2},yo={__name:"Cadastro",props:{show:Boolean,imovel_id:Number,ato_token:String,ato_id:Number,ato_token_selected:String},emits:["close","refresh"],setup(E,{emit:R}){const i=E,u=d("dados"),p=d(i.show),x=d(null),U=d(null),r=d(!1),B=R;be(()=>i.show,S=>{p.value=S});const g=S=>{r.value=!0,U.value=S.ato_id,x.value=S.id},V=()=>{p.value=!1,r.value=!1,B("close")},O=()=>{B("refresh")};return(S,b)=>{const F=we,G=Ue,k=Ce;return $(),L(_e,{persistent:"",modelValue:o(p),"onUpdate:modelValue":b[1]||(b[1]=f=>re(p)?p.value=f:null),"max-width":"1000"},{default:a(()=>[e(pe,{style:{height:"650px"}},{default:a(()=>[e(de,null,{default:a(()=>[b[5]||(b[5]=T("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Cadastro de imoveis ",-1)),e(xe,{modelValue:o(u),"onUpdate:modelValue":b[0]||(b[0]=f=>re(u)?u.value=f:null),"bg-color":"#f5f2f2"},{default:a(()=>[e(se,{value:"dados"},{default:a(()=>b[2]||(b[2]=[N("Dados")])),_:1}),o(r)?($(),L(se,{key:0,value:"enderecos"},{default:a(()=>b[3]||(b[3]=[N("Endereco")])),_:1})):X("",!0),o(r)?($(),L(se,{key:1,value:"partes"},{default:a(()=>b[4]||(b[4]=[N("Partes")])),_:1})):X("",!0)]),_:1},8,["modelValue"]),o(u)==="dados"?($(),D("div",Qe,[e(F,{onRefreshList:O,ato_id:i.ato_id,onSaved:g,onCloseModal:V},null,8,["ato_id"])])):X("",!0),o(u)==="enderecos"&&o(r)?($(),D("div",We,[e(G,{onRefreshList:O,isUpdate:!0,ato_id:o(U),ato_token:i.ato_token,imovel_id:o(x),onCloseModal:V},null,8,["ato_id","ato_token","imovel_id"])])):X("",!0),o(u)==="partes"&&o(r)?($(),D("div",Xe,[e(k,{onRefreshList:O,imovel_id:o(x),ato_token:i.ato_token,ato_id:i.ato_id,ato_token_selected:i.ato_token_selected,onCloseModal:V},null,8,["imovel_id","ato_token","ato_id","ato_token_selected"])])):X("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Ze={key:0},Ke={key:1},eo={key:2},$o={__name:"Atualizar",props:{show:Boolean,imovel_id:Number,ato_token_selected:String},emits:["close","refresh"],setup(E,{emit:R}){const i=E,u=d("dados"),p=d(i.show),x=R;be(()=>i.show,B=>{p.value=B});const U=()=>{p.value=!1,x("close")},r=()=>{x("refresh")};return(B,g)=>{const V=we,O=Ue,S=Ce;return $(),L(_e,{persistent:"",modelValue:o(p),"onUpdate:modelValue":g[1]||(g[1]=b=>re(p)?p.value=b:null),"max-width":"1000"},{default:a(()=>[e(pe,{style:{height:"650px"}},{default:a(()=>[e(de,null,{default:a(()=>[g[5]||(g[5]=T("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Atualizar imovel ",-1)),e(xe,{modelValue:o(u),"onUpdate:modelValue":g[0]||(g[0]=b=>re(u)?u.value=b:null),"bg-color":"#f5f2f2"},{default:a(()=>[e(se,{value:"dados"},{default:a(()=>g[2]||(g[2]=[N("Dados")])),_:1}),e(se,{value:"enderecos"},{default:a(()=>g[3]||(g[3]=[N("Endereço")])),_:1}),e(se,{value:"partes"},{default:a(()=>g[4]||(g[4]=[N("Partes")])),_:1})]),_:1},8,["modelValue"]),o(u)==="dados"?($(),D("div",Ze,[e(V,{onRefreshList:r,isUpdate:!0,imovel_id:i.imovel_id,onCloseModal:U},null,8,["imovel_id"])])):X("",!0),o(u)==="enderecos"?($(),D("div",Ke,[e(O,{onRefreshList:r,isUpdate:!0,imovel_id:i.imovel_id,onCloseModal:U},null,8,["imovel_id"])])):X("",!0),o(u)==="partes"?($(),D("div",eo,[e(S,{imovel_id:i.imovel_id,ato_token_selected:i.ato_token_selected,onCloseModal:U},null,8,["imovel_id","ato_token_selected"])])):X("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{yo as _,$o as a};
