import{_ as Ce}from"./qSlA23IF.js";import{_ as Oe}from"./DWz2A39L.js";import{a as ae,b as Se,V as se,c as Fe}from"./DWAP77Pf.js";import{V as W}from"./Ce8p0vfj.js";import{V as D}from"./CrjEoia1.js";import{r as m,h as G,o as J,v as K,w as n,b as e,y as Q,d as H,x as a,C as ee,a as v,u as be,A as E,s as ue,Q as X,t as le,V as B,z as ie,bp as Re,bS as Ue,bT as Be,bU as Me,bV as Ne,bW as Te,bX as $e,bY as Ie,bj as De,f as Pe,E as Ve,j as Ee,bZ as He,b_ as qe,b$ as ve,c0 as Ge,c1 as ze,J as ne,H as re,N as fe,M as Je,bG as Le,c2 as je,c3 as Qe,aW as oe,c4 as Ye,c5 as Ke,c6 as We,n as Ze,O as pe,P as _e,c as ge}from"./D90Z1kIp.js";import{u as z}from"./Dj4qdfBw.js";import{_ as he,V as xe,c as Xe,a as eo,b as oo}from"./DtH2FLXS.js";import{V as te}from"./CEQ_E3oE.js";import{c as to,r as ao,u as lo}from"./C3HSKo7P.js";import{_ as no}from"./DfjuBLsA.js";import{_ as ro}from"./D5ILf1_R.js";import{V as O}from"./Ce3FG1zS.js";import"./DpxQ1YsO.js";import"./DdKgmgJF.js";import"./DKBu3Joi.js";import"./DtoTU6T2.js";const so=v("h1",null,"Confirmação de Recebimento",-1),uo=v("p",null," O valor recebido é menor que o valor da OS, confirma o recebimento parcial? ",-1),io={__name:"ModalRecebimentoCond",props:{show:Boolean,faltaReceber:Number},emits:["close","confirmar"],setup(o,{emit:M}){const i=o,b=m(i.show),_=M;G(()=>i.show,F=>{b.value=F});const g=()=>{_("confirmar"),k()},k=()=>{b.value=!1,_("close")};return(F,A)=>(J(),K(se,{persistent:"",modelValue:a(b),"onUpdate:modelValue":A[0]||(A[0]=w=>ee(b)?b.value=w:null),"max-width":"650"},{default:n(()=>[e(ae,null,{default:n(()=>[e(W,null,{default:n(()=>[e(D,{class:"mb-5 mt-1 ml-2"},{default:n(()=>[so]),_:1}),e(D,{class:"ml-2"},{default:n(()=>[uo]),_:1})]),_:1}),e(Se,null,{default:n(()=>[e(Q,{style:{"background-color":"#429946",color:"white"},onClick:g},{default:n(()=>[H("Confirmar")]),_:1}),e(Q,{style:{"background-color":"red",color:"white"},onClick:k},{default:n(()=>[H("Cancelar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},co="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABJhJREFUeJztW81v3EQcfTM73ZU3C1GF4NJAG+UGSKgSjZAgfwCFHnMpiAMSyckHGim2FAl8cSRvFFopApEixIW/APFx48IKCS5wQOKGGpqWAx/SqhslMY6HS1PZg+0de2fsSdN3m/HM6Ofn37zxPI8JNMO27Y5lWcuEkKsAngcwNabLHoBfOOefd7vdm57nhTrjIzoHX1tbOxdF0VcAXqg4xM+Msdd937+jMq4ktBFg23an2+3+gOo3f4yfLMt6SVcmUB2DAoBlWcuY/OYB4OL+/v47CsbJBNM1MCHkjWSZc/41gOV+v79b1G91dXWGEHITwKuJ6jcBfKg+So0ZAOBZoTz25gGg3+/vMsaWhern1IWVhk4CesmCzM0fw/f920LVY0oiyoBOAk4Exq4CjuNcAXANwCWMX8NNwR6AH+M4/mBjY+PLooatoouu664D+AjABQBtZeHpRxvALCHk6sLCwpnBYPBtXsPcDLj/5L/QEV3diOP4Sl4mFGnANU3x1A5K6bt514reA14Uyi8HQfC9mpD0wnGcVwB8l6i6lNe2KANSy9hJuXkACIJgIFTlLqOnfhl8REDTATSNU0+A9G7QcRyuM5CmcOozoIgA6d2b6eCci7vLBygiYAkPAQmc89uU0qW861KeoOM4OwCeOS5HUXRhc3NzR0F8yrCysnKeMXYrUfV7EATnx/WT1YBRssAY6+U1bAqdTkd827sn068SAZRS4wiIokiMaZTZUEAlAo6OjowjIOOhSBEg9R5ACBlxzpPlXAIcx3kNwDYADmApCIJv6mgXx3GPkJSkqcsAzvlIKBdlwMcAzgGY4Zxv19VOfCiEEKVTICUolNIil3YmEcTTNbZLxRTHsToRLJkBjUBrBlBKU4MVaUCDSDnWhJA9mU6yUyA1GOfcOHs8juPUQxGzNg+VpgA0fqmZAKmYtIqgiVNAjOmRCOoUQQiOsQkQH4pSDYjj2HgCIMTUarXUEcAYO3EimPHQMiFFwOHhoSgoxmVAhi6pE8F2u238FBBFMAxDdRkwGo2MJwBCTNPT0+oI2NraOgTwb6Kq7XmeMecFbNvuADiTqAplj9WVscVTjA6HQ2OyoNfrVTJDgBIEiOvqmC1xrQjDUD8B4puVScZohiGqngD83xQxhoAMQ1RqCQQm0ACTjNGqhigwwRQwaUcoegGoQwRN2hFW3QkCD8kqAGEfILsTBCYQQZMzADpE0HBjtJIhCpTLAGON0aqGKDCBBsAsT6CSIQpMQEDBFHhwqKLoZIbKdmIsTYvgEoDdcSczVLabRASlT4lRSlNfiJHjCdz/elv0DU95u6qGKFAiAww3RisZokA5DfhbqJr1PK/xY3aLi4stALPJuiiK/pHtL30DU1NTO0gvhU8dHBxcd133rOwYquG67tm5ubkbAJ5MVN8bDoe3ZMco9eeo4zifAni7TJ8G8EkQBEWimkKpFGaMvQfgr9Ih1Yc/W63W+2U6lCLA9/07hJDLAP4oFVY9uMs5v7y+vl4qtsK/xrIwGAzuzs/Pf8YYCznnTxBCHofGX3DH4ADArwC2CSFvBUHwW9kB/gMs68lWOHHFdwAAAABJRU5ErkJggg==",mo=v("h1",null,"Ordem de Serviço nº",-1),vo={style:{color:"red","margin-left":"18px"}},fo={style:{"max-width":"180px"}},po=v("hr",{class:"mb-5"},null,-1),_o=["onClick"],go=v("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:co,alt:"Remover"},null,-1),bo=[go],Vo={style:{display:"flex","justify-content":"flex-start"}},ho={__name:"Ordem",props:{show:Boolean,ordem:{type:Object,required:!0}},emits:["close"],setup(o,{emit:M}){const i=o,{$toast:b}=be(),_=m(i.show),g=m(!1),k=ie(),F=`${k.public.managemant}/listarFormasReceb`,A=`${k.public.managemant}/receberOs`,w=E("auth_token").value,$=m([]),P=m(null),y=m([]),C=m([]),p=ue({descricao:null,forma:null,valor:""}),N=M,S=[{title:"Forma",value:"forma"},{title:"Valor",value:"valor"},{value:"actions"}];G(()=>i.show,f=>{_.value=f});const x=()=>{_.value=!1,p.forma=null,p.descricao=null,p.valor="",y.value=[],N("close")},R=async()=>{P.value=Number(i.ordem.valor),g.value=!0},r=X(()=>{const f=parseFloat(i.ordem.valor),u=parseFloat(i.ordem.valor_pago);return(f-u).toFixed(2)}),Y=async()=>{const f={ordemserv_token:i.ordem.token,usuario_token:w,recebimentos:[C.value]},{data:u,error:c}=await z(A,{method:"POST",body:JSON.stringify(f)},"$vhMIR8Sr2p");if(u.value[0].status==="OK")b.success(`${u.value[0].status}: Valores Recebidos com Sucesso!`),y.value=[],x();else{const V=u.value[0].status_mensagem;b.error(V)}},L=()=>{i.ordem.valor=parseFloat(i.ordem.valor).toFixed(2),i.ordem.valor_pago=parseFloat(i.ordem.valor_pago).toFixed(2)},I=async()=>{try{const u={cartorio_token:m(E("user-data").value.cartorio_token).value},{data:c,error:V}=await z(F,{method:"POST",body:JSON.stringify(u)},"$eiMzO5y6Bb");$.value=Re(c.value)}catch(f){console.error("Erro ao realizar a requisição:",f)}},q=async()=>{const f=$.value.find(u=>u.token===p.forma);if(!f){b.error("Por favor, selecione uma forma.");return}y.value.push({forma:p.forma,descricao:f.descricao,valor:p.valor}),C.value.push({forma_receb_token:p.forma,valor:Number(p.valor)}),i.ordem.valor_pago=parseFloat(i.ordem.valor_pago)+parseFloat(p.valor),i.ordem.valor=parseFloat(i.ordem.valor)-parseFloat(p.valor),p.forma=null,p.valor="0.00",L()},j=f=>{const u=y.value.indexOf(f);u!==-1&&(y.value.splice(u,1),C.value.splice(u,1),i.ordem.valor_pago=parseFloat(i.ordem.valor_pago)-parseFloat(f.valor),i.ordem.valor=parseFloat(i.ordem.valor)+parseFloat(f.valor))};return I(),(f,u)=>{const c=Oe,V=io;return J(),K(se,{persistent:"",modelValue:a(_),"onUpdate:modelValue":u[6]||(u[6]=d=>ee(_)?_.value=d:null),"max-width":"650"},{default:n(()=>[e(ae,null,{default:n(()=>[e(W,null,{default:n(()=>[e(D,{class:"mb-5 mt-1 ml-2"},{default:n(()=>[mo,v("h1",vo,le(i.ordem.numero),1)]),_:1}),e(W,null,{default:n(()=>[e(D,null,{default:n(()=>[e(B,{class:"mr-5",label:"Recebido",modelValue:i.ordem.valor_pago,"onUpdate:modelValue":u[0]||(u[0]=d=>i.ordem.valor_pago=d),style:{"font-weight":"bold",cursor:"default","pointer-events":"none"},readonly:""},null,8,["modelValue"]),e(B,{label:"Falta Receber",style:{"font-weight":"bold",cursor:"default","pointer-events":"none"},modelValue:a(r),"onUpdate:modelValue":u[1]||(u[1]=d=>ee(r)?r.value=d:null)},null,8,["modelValue"])]),_:1}),e(D,null,{default:n(()=>[e(te,{class:"mb-5 mr-5",label:"Forma",modelValue:a(p).forma,"onUpdate:modelValue":u[2]||(u[2]=d=>a(p).forma=d),items:a($),"item-title":"descricao","item-value":"token"},null,8,["modelValue","items"]),v("div",fo,[e(c,{modelValue:a(p).valor,"onUpdate:modelValue":u[3]||(u[3]=d=>a(p).valor=d)},null,8,["modelValue"])]),v("div",null,[v("img",{src:he,class:"ml-5",style:{cursor:"pointer",height:"40px",width:"40px"},onClick:q})])]),_:1})]),_:1}),po,e(xe,{headers:S,items:a(y),"item-value":"token"},{"item.forma":n(({item:d})=>[H(le(d.descricao),1)]),"item.actions":n(({item:d})=>[v("div",{style:{display:"flex","justify-content":"flex-end"},onClick:s=>j(d),title:"Remover"},bo,8,_o)]),_:1},8,["items"])]),_:1}),v("div",Vo,[e(Q,{class:"ml-8",size:"large",onClick:x,color:"red"},{default:n(()=>[H("Voltar")]),_:1}),Number(i.ordem.valor)>0?(J(),K(Q,{key:0,class:"ml-6 mb-6",size:"large",color:"green",onClick:R},{default:n(()=>[H("Salvar")]),_:1})):(J(),K(Q,{key:1,size:"large",class:"ml-6 mb-6",color:"green",onClick:Y},{default:n(()=>[H("Salvar")]),_:1}))])]),_:1}),e(V,{modelValue:a(g),"onUpdate:modelValue":u[4]||(u[4]=d=>ee(g)?g.value=d:null),faltaReceber:a(P),onClose:u[5]||(u[5]=d=>g.value=!1),onConfirmar:Y},null,8,["modelValue","faltaReceber"])]),_:1},8,["modelValue"])}}},xo=Ue({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:o=>!isNaN(parseFloat(o))},maxRows:{type:[Number,String],validator:o=>!isNaN(parseFloat(o))},suffix:String,modelModifiers:Object,...Be(),...Me()},"VTextarea"),Ao=Ne()({name:"VTextarea",directives:{Intersect:Te},inheritAttrs:!1,props:xo(),emits:{"click:control":o=>!0,"mousedown:control":o=>!0,"update:focused":o=>!0,"update:modelValue":o=>!0},setup(o,M){let{attrs:i,emit:b,slots:_}=M;const g=$e(o,"modelValue"),{isFocused:k,focus:F,blur:A}=Ie(o),w=X(()=>typeof o.counterValue=="function"?o.counterValue(g.value):(g.value||"").toString().length),$=X(()=>{if(i.maxlength)return i.maxlength;if(!(!o.counter||typeof o.counter!="number"&&typeof o.counter!="string"))return o.counter});function P(c,V){var d,s;!o.autofocus||!c||(s=(d=V[0].target)==null?void 0:d.focus)==null||s.call(d)}const y=m(),C=m(),p=De(""),N=m(),S=X(()=>o.persistentPlaceholder||k.value||o.active);function x(){var c;N.value!==document.activeElement&&((c=N.value)==null||c.focus()),k.value||F()}function R(c){x(),b("click:control",c)}function r(c){b("mousedown:control",c)}function Y(c){c.stopPropagation(),x(),oe(()=>{g.value="",Ye(o["onClick:clear"],c)})}function L(c){var d;const V=c.target;if(g.value=V.value,(d=o.modelModifiers)!=null&&d.trim){const s=[V.selectionStart,V.selectionEnd];oe(()=>{V.selectionStart=s[0],V.selectionEnd=s[1]})}}const I=m(),q=m(+o.rows),j=X(()=>["plain","underlined"].includes(o.variant));Pe(()=>{o.autoGrow||(q.value=+o.rows)});function f(){o.autoGrow&&oe(()=>{if(!I.value||!C.value)return;const c=getComputedStyle(I.value),V=getComputedStyle(C.value.$el),d=parseFloat(c.getPropertyValue("--v-field-padding-top"))+parseFloat(c.getPropertyValue("--v-input-padding-top"))+parseFloat(c.getPropertyValue("--v-field-padding-bottom")),s=I.value.scrollHeight,t=parseFloat(c.lineHeight),h=Math.max(parseFloat(o.rows)*t+d,parseFloat(V.getPropertyValue("--v-input-control-height"))),U=parseFloat(o.maxRows)*t+d||1/0,T=We(s??0,h,U);q.value=Math.floor((T-d)/t),p.value=Ke(T)})}Ve(f),G(g,f),G(()=>o.rows,f),G(()=>o.maxRows,f),G(()=>o.density,f);let u;return G(I,c=>{c?(u=new ResizeObserver(f),u.observe(I.value)):u==null||u.disconnect()}),Ee(()=>{u==null||u.disconnect()}),He(()=>{const c=!!(_.counter||o.counter||o.counterValue),V=!!(c||_.details),[d,s]=qe(i),{modelValue:t,...h}=ve.filterProps(o),U=Ge(o);return e(ve,ne({ref:y,modelValue:g.value,"onUpdate:modelValue":T=>g.value=T,class:["v-textarea v-text-field",{"v-textarea--prefixed":o.prefix,"v-textarea--suffixed":o.suffix,"v-text-field--prefixed":o.prefix,"v-text-field--suffixed":o.suffix,"v-textarea--auto-grow":o.autoGrow,"v-textarea--no-resize":o.noResize||o.autoGrow,"v-input--plain-underlined":j.value},o.class],style:o.style},d,h,{centerAffix:q.value===1&&!j.value,focused:k.value}),{..._,default:T=>{let{id:l,isDisabled:Z,isDirty:de,isReadonly:Ae,isValid:ye}=T;return e(ze,ne({ref:C,style:{"--v-textarea-control-height":p.value},onClick:R,onMousedown:r,"onClick:clear":Y,"onClick:prependInner":o["onClick:prependInner"],"onClick:appendInner":o["onClick:appendInner"]},U,{id:l.value,active:S.value||de.value,centerAffix:q.value===1&&!j.value,dirty:de.value||o.dirty,disabled:Z.value,focused:k.value,error:ye.value===!1}),{..._,default:ke=>{let{props:{class:ce,...me}}=ke;return e(re,null,[o.prefix&&e("span",{class:"v-text-field__prefix"},[o.prefix]),fe(e("textarea",ne({ref:N,class:ce,value:g.value,onInput:L,autofocus:o.autofocus,readonly:Ae.value,disabled:Z.value,placeholder:o.placeholder,rows:o.rows,name:o.name,onFocus:x,onBlur:A},me,s),null),[[Je("intersect"),{handler:P},null,{once:!0}]]),o.autoGrow&&fe(e("textarea",{class:[ce,"v-textarea__sizer"],id:`${me.id}-sizer`,"onUpdate:modelValue":we=>g.value=we,ref:I,readonly:!0,"aria-hidden":"true"},null),[[Le,g.value]]),o.suffix&&e("span",{class:"v-text-field__suffix"},[o.suffix])])}})},details:V?T=>{var l;return e(re,null,[(l=_.details)==null?void 0:l.call(_,T),c&&e(re,null,[e("span",null,null),e(je,{active:o.persistentCounter||k.value,value:w.value,max:$.value,disabled:o.disabled},_.counter)])])}:void 0})}),Qe({},y,C,N)}}),yo=v("h1",null,"Cancelamento da OS nº",-1),ko={style:{color:"red","margin-left":"18px"}},wo={class:"mb-5",style:{display:"flex","justify-content":"flex-start"}},Co={class:"ml-6"},Oo={class:"ml-6"},So={__name:"Ordem",props:{show:Boolean,numero_os:Number,ordemserv_token:String},emits:["close"],setup(o,{emit:M}){const i=o,b=m(i.show),_=ie();m(E("user-data").value.cartorio_token).value;const g=E("auth_token").value,k=`${_.public.managemant}/analisaCancelamento`,F=`${_.public.managemant}/cancelaOs`,A=ue({motivo:null}),w=m(null),$=M,P={motivo:{required:to.withMessage("O campo é obrigatorio",ao)}},y=lo(P,A);G(()=>i.show,S=>{b.value=S});const C=()=>{b.value=!1,$("close")};(async()=>{const{data:S,error:x}=await z(`${k}`,{method:"POST",body:{ordemserv_token:i.ordemserv_token}},"$1fnrIk2fgs");w.value=S.value.mensagem})();const N=async()=>{if(await y.value.$validate()){const{status:S}=await z(`${F}`,{method:"POST",body:{usuario_token:g,motivo:A.motivo,ordemserv_token:i.ordemserv_token}},"$21WlhUNXeM");S.value==="success"&&(window.location.reload(),C())}};return(S,x)=>(J(),K(se,{persistent:"",modelValue:a(b),"onUpdate:modelValue":x[1]||(x[1]=R=>ee(b)?b.value=R:null),"max-width":"650"},{default:n(()=>[e(ae,null,{default:n(()=>[e(W,null,{default:n(()=>[e(D,{class:"mb-5 mt-1 ml-2"},{default:n(()=>[yo,v("h1",ko,le(i.numero_os),1)]),_:1}),e(W,null,{default:n(()=>[e(ae,{variant:"outlined",class:"mb-5"},{default:n(()=>[e(Fe,null,{default:n(()=>[H(le(a(w)),1)]),_:1})]),_:1}),e(Ao,{label:"Motivo",modelValue:a(A).motivo,"onUpdate:modelValue":x[0]||(x[0]=R=>a(A).motivo=R),required:"","error-messages":a(y).motivo.$errors.map(R=>R.$message),onBlur:a(y).motivo.$touch,onInput:a(y).motivo.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),v("div",wo,[v("div",Co,[e(Q,{size:"large",color:"red",onClick:C},{default:n(()=>[H("Fechar")]),_:1})]),v("div",Oo,[e(Q,{size:"large",color:"green",onClick:N},{default:n(()=>[H("Salvar")]),_:1})])])]),_:1})]),_:1},8,["modelValue"]))}},Fo=""+new URL("recebe.CceqgowM.png",import.meta.url).href,Ro=v("h1",null,"Ordens de Serviço",-1),Uo=v("hr",{class:"mt-5 mb-5"},null,-1),Bo=["title","onClick"],Mo=["onClick","title"],No=["disabled","onClick"],To={key:0,style:{width:"30px",height:"30px"},src:eo,alt:"Visualizar",title:"Bloqueado"},$o={key:1,src:oo,alt:"Cancelamento",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Cancelamento"},et={__name:"index",setup(o){const M=ie(),{$toast:i}=be(),b=`${M.public.managemant}/listarUsuarios`,_=`${M.public.managemant}/listarOrdensServico`,g=`${M.public.managemant}/tipoAtos`,k=Ze(),F=m(E("auth_token").value)||null,A=m(E("user-data").value.cartorio_token)||null,w=m([]),$=m([]),P=m([]),y=m(["PENDENTE","EM ANDAMENTO","CONCLUÍDA","LAVRADA"]),C=m(!1),p=m(!1),N=m(null),S=m(null),x=m(null),R=m({}),r=ue({numero:null,data_inicio:L(),data_fim:L(),data_lavratura_inicio:null,data_lavratura_fim:null,protocolo:null,livro:null,folha:null,situacao:null,usuario_token:F.value,selo:null,ato_tipo_token:null,apresentante:null}),Y=[{title:"Data Recebimento",value:"data"},{title:"Número",value:"numero"},{title:"Situação",value:"situacao"},{title:"CPF",value:"apresentante_cpf"},{title:"Apresentante",value:"apresentante_nome"},{title:"Usuario",value:"usuario_nome"},{title:"Valor",value:"valor"},{value:"actions"}];function L(){const s=new Date,t=s.getFullYear(),h=String(s.getMonth()+1).padStart(2,"0"),U=String(s.getDate()).padStart(2,"0");return`${t}-${h}-${U}`}async function I(){const{data:s,error:t}=await z(b,{method:"POST",body:{cartorio_token:A.value}},"$pAAptWJdb1");$.value=s.value}async function q(){try{sessionStorage.setItem("pesquisaOS",JSON.stringify(r));const{data:s,error:t}=await z(_,{method:"POST",body:{cartorio_token:A.value,numero:r.numero||null,data_inicio:r.data_inicio||null,data_fim:r.data_fim||null,data_lavratura_inicio:r.data_lavratura_inicio||null,data_lavratura_fim:r.data_lavratura_fim||null,protocolo:r.protocolo||null,livro:r.livro||null,folha:r.folha||null,situacao:r.situacao||null,usuario_token:r.usuario_token,selo:r.selo||null,ato_tipo_token:r.ato_tipo_token,apresentante:r.apresentante||null}},"$IO02J210Z9");s.value.length>0?w.value=s.value:(w.value=[],i.error("Não existe Ordem de Serviço Registrada!"))}catch(s){console.error("Erro na requisição",s)}}async function j(){const{data:s,error:t}=await z(g,{method:"POST",body:{cartorio_token:A.value,usuario_token:F.value}},"$YgUhKRJlsV");P.value=s.value}const f=async()=>{try{const s=L(),t=sessionStorage.getItem("pesquisaOS"),h=JSON.parse(t),{data:U,error:T}=await z(_,{method:"POST",body:{cartorio_token:A.value,usuario_token:F.value,data_fim:(h==null?void 0:h.data_fim)||s,data_inicio:(h==null?void 0:h.data_inicio)||s}},"$xKnfARCL4G");U.value.length>0?w.value=U.value.map(l=>({...l,data:no(l.data,"dd/mm/yyyy")})):w.value=[]}catch(s){console.error("Erro ao buscar serviços",s)}};I(),j();function u(s,t,h){x.value=s,S.value=t,p.value=!0}function c(s){const t=E("user-service"),h=w.value.find(U=>U.id===s);t.value=t.value=JSON.stringify({id:h.id,token:h.token}),k.push({path:`/os/atualizar/${s}`})}function V(s,t){x.value=s,R.value={token:t.token,numero:t.numero,valor:t.valor,valor_pago:t.valor_pago},C.value=!0}const d=()=>{const s=E("user-service"),t=E("ordem-button");s.value=null,N.value=!0,t.value=N.value};return Ve(()=>{oe(async()=>{const s=sessionStorage.getItem("pesquisaOS");if(s){const t=JSON.parse(s);Object.assign(r,t)}await f()})}),(s,t)=>{const h=Ce,U=ho,T=So;return J(),K(W,{class:"mt-5"},{default:n(()=>[e(D,{class:"mb-5"},{default:n(()=>[Ro,e(h,{to:"/os/criar-registro"},{default:n(()=>[v("img",{style:{width:"60px",height:"60px",cursor:"pointer","margin-left":"70px"},src:he,alt:"novo",onClick:d})]),_:1})]),_:1}),e(D,{style:{"margin-bottom":"-35px"}},{default:n(()=>[e(O,null,{default:n(()=>[e(B,{modelValue:a(r).numero,"onUpdate:modelValue":t[0]||(t[0]=l=>a(r).numero=l),label:"Número",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:n(()=>[e(B,{modelValue:a(r).data_inicio,"onUpdate:modelValue":t[1]||(t[1]=l=>a(r).data_inicio=l),type:"date",label:"Abertura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:n(()=>[e(B,{modelValue:a(r).data_fim,"onUpdate:modelValue":t[2]||(t[2]=l=>a(r).data_fim=l),type:"date",label:"Abertura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:n(()=>[e(B,{modelValue:a(r).data_lavratura_inicio,"onUpdate:modelValue":t[3]||(t[3]=l=>a(r).data_lavratura_inicio=l),type:"date",label:"Lavratura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:n(()=>[e(B,{modelValue:a(r).data_lavratura_fim,"onUpdate:modelValue":t[4]||(t[4]=l=>a(r).data_lavratura_fim=l),type:"date",label:"Lavratura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:n(()=>[e(B,{modelValue:a(r).protocolo,"onUpdate:modelValue":t[5]||(t[5]=l=>a(r).protocolo=l),label:"Protocolo",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(O,{md:"1"},{default:n(()=>[e(B,{modelValue:a(r).livro,"onUpdate:modelValue":t[6]||(t[6]=l=>a(r).livro=l),label:"Livro",style:{width:"80px"}},null,8,["modelValue"])]),_:1}),e(O,{md:"1"},{default:n(()=>[e(B,{modelValue:a(r).folha,"onUpdate:modelValue":t[7]||(t[7]=l=>a(r).folha=l),label:"Folha",style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(D,null,{default:n(()=>[e(O,{md:"3"},{default:n(()=>[e(te,{modelValue:a(r).situacao,"onUpdate:modelValue":t[8]||(t[8]=l=>a(r).situacao=l),items:a(y),label:"Situação"},null,8,["modelValue","items"])]),_:1}),e(O,{md:"2"},{default:n(()=>[e(te,{items:a($),modelValue:a(r).usuario_token,"onUpdate:modelValue":t[9]||(t[9]=l=>a(r).usuario_token=l),"item-title":"user_nome","item-value":"user_token",label:"Usuario"},null,8,["items","modelValue"])]),_:1}),e(O,{md:"1"},{default:n(()=>[e(B,{modelValue:a(r).selo,"onUpdate:modelValue":t[10]||(t[10]=l=>a(r).selo=l),label:"Selo"},null,8,["modelValue"])]),_:1}),e(O,{md:"3"},{default:n(()=>[e(te,{modelValue:a(r).ato_tipo_token,"onUpdate:modelValue":t[11]||(t[11]=l=>a(r).ato_tipo_token=l),items:a(P),"item-title":"descricao","item-value":"token",label:"Serviço"},null,8,["modelValue","items"])]),_:1}),e(O,{md:"2"},{default:n(()=>[e(B,{modelValue:a(r).apresentante,"onUpdate:modelValue":t[12]||(t[12]=l=>a(r).apresentante=l),label:"Apresentante"},null,8,["modelValue"])]),_:1}),e(O,null,{default:n(()=>[v("div",null,[v("img",{onClick:q,style:{width:"40px",height:"40px",cursor:"pointer"},src:ro,alt:"Pesquisar"})])]),_:1})]),_:1}),Uo,e(xe,{headers:Y,items:a(w),"item-key":"id"},{"item.actions":n(({item:l})=>[e(D,{style:{display:"flex",gap:"10px","margin-top":"-5px"}},{default:n(()=>[v("div",{class:_e({disabled:!l.btn_receber}),title:l.btn_receber?"Receber":"Bloqueado",onClick:Z=>l.btn_receber?V(l.numero,l):null},[v("img",{style:pe({cursor:l.btn_receber?"pointer":"default",width:"30px",height:"30px"}),src:Fo,alt:"Receber"},null,4)],10,Bo),v("div",{class:_e({disabled:!l.btn_editar}),onClick:Z=>l.btn_editar?c(l.id):null,title:l.btn_editar?"Editar":"Bloqueado"},[v("img",{style:pe({cursor:l.btn_editar?"pointer":"default",width:"30px",height:"30px"}),src:Xe,alt:"Editar"},null,4)],10,Mo),v("div",{disabled:!l.btn_cancelar,onClick:Z=>l.btn_cancelar?u(l.numero,l.token):null,title:"Cancelamento"},[l.excluido?(J(),ge("img",To)):(J(),ge("img",$o))],8,No)]),_:2},1024)]),_:1},8,["items"]),e(U,{show:a(C),numero_os:a(x),ordem:a(R),onClose:t[13]||(t[13]=l=>C.value=!1)},null,8,["show","numero_os","ordem"]),e(T,{show:a(p),numero_os:a(x),ordemserv_token:a(S),onClose:t[14]||(t[14]=l=>p.value=!1)},null,8,["show","numero_os","ordemserv_token"])]),_:1})}}};export{et as default};
