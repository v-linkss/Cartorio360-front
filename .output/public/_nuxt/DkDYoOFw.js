import{_ as Z}from"./De8OcPfw.js";import{_ as G,a as J,b as K,c as Q}from"./jLOpiT_n.js";import{_ as X,r as b,u as Y,n as h,E as ee,D as P,F as ae,Z as oe,H as le,o as te,A as se,w as o,x as de,a as y,t as ie,q as r,b as e,d as n,v as D,s as u,I as U,y as I}from"./Cy8nFgic.js";import{u as ue}from"./Cg-9lB6v.js";import{u as ne,V as C}from"./C82mO9Rq.js";import{a as me}from"./CX1unNmY.js";import{a as f,V as re,c as V,b as ce}from"./gg4Ra10_.js";import{V as N}from"./D4JgdFi9.js";import{V as c}from"./CFZoonNA.js";import{V as i}from"./BJl3nmtb.js";import"./BUe_X6z7.js";import"./CrE-eFFQ.js";import"./qu7Wfn_m.js";import"./37abXc2X.js";const pe={style:{"background-color":"#c8fcca",color:"#429946",padding:"10px 0px 0px 20px"}},_e={style:{"background-color":"#c8fcca",padding:"20px 0px 20px 20px"}},fe={__name:"[id]",emits:["saved"],setup(Ve,{emit:ve}){const m=b(null),w=Y(),{$toast:T}=h(),B=ee(),{id:v}=B.params,p=de(),M=`${p.public.managemant}/updatePessoa`,R=`${p.public.managemant}/listarEstadoCivil`,A=`${p.public.managemant}/listarCapacidadeCivil`,E=`${p.public.managemant}/listarCidades`,z=`${p.public.managemant}/getPessoaById`,$=b([]),F=b([]),k=b([]),S={nome:"",nome_pai:"",nome_mae:"",profissao:"",data_nascimento:"",doc_identificacao:"",cpf_pai:"",cpf_mae:"",tipo_pessoa:"FISICA",tabvalores_estadocivil_id:"",tabvalores_capacidadecivil_id:"",cidade_natural_id:"",cartorio_id:P("user-data").value.cartorio_id,user_id:P("user-data").value.usuario_id},t=ae({...S});function L(s){if(s)return s.replace(/[.\-]/g,"");s=null}ne(t);async function W(){try{const[s,a,d,_]=await Promise.all([$fetch(R),$fetch(A),$fetch(E),$fetch(`${z}/${v}`)]),g=P("pessoa_token");return g.value=_.token,$.value=s,F.value=a,k.value=d,console.log(_),Object.assign(t,_),{estadoCivilItems:s,capacidadeCivilItems:a,cidadeNascimentoItems:d}}catch(s){console.error("Erro ao carregar os dados da pessoa:",s)}}oe(()=>{v&&W()});function j(s){const a={};for(const d in s)s[d]===""?a[d]=null:d==="doc_identificacao"||d==="cpf_pai"||d==="cpf_mae"?a[d]=L(s[d]):a[d]=s[d];return a}async function q(){const s=j(t);await ue(`${M}/${v}`,{method:"PUT",body:s},"$NdF8Uiv290"),T.success("Pessoa atualizada com sucesso!"),w.push("/pessoas/registros")}return(s,a)=>{const d=Z,_=G,g=J,H=K,O=Q,x=le("mask");return te(),se(me,{width:"1300"},{default:o(()=>[y("h1",pe,ie(r(v)?"Atualização de Pessoas":"Cadastramento de Pessoas"),1),y("div",_e,[e(C,{modelValue:t.tipo_pessoa,"onUpdate:modelValue":a[0]||(a[0]=l=>t.tipo_pessoa=l),style:{width:"200px"},items:s.pessoa_tipo,label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:""},null,8,["modelValue","items"])]),e(re,{modelValue:r(m),"onUpdate:modelValue":a[1]||(a[1]=l=>D(m)?m.value=l:null),"bg-color":"#C8FCCA"},{default:o(()=>[e(f,{value:"dados"},{default:o(()=>[n("Dados")]),_:1}),e(f,{value:"documento"},{default:o(()=>[n("Documentos")]),_:1}),e(f,{value:"endereco"},{default:o(()=>[n("Endereços")]),_:1}),e(f,{value:"biometria"},{default:o(()=>[n("Biometria")]),_:1}),e(f,{value:"restricao"},{default:o(()=>[n("Restrições")]),_:1})]),_:1},8,["modelValue"]),e(ce,{modelValue:r(m),"onUpdate:modelValue":a[15]||(a[15]=l=>D(m)?m.value=l:null)},{default:o(()=>[e(V,{value:"dados"},{default:o(()=>[e(N,{class:"mt-5"},{default:o(()=>[e(c,null,{default:o(()=>[e(i,{cols:"12",md:"8"},{default:o(()=>[e(u,{modelValue:t.nome,"onUpdate:modelValue":a[2]||(a[2]=l=>t.nome=l),label:"Nome"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[U(e(u,{modelValue:t.doc_identificacao,"onUpdate:modelValue":a[3]||(a[3]=l=>t.doc_identificacao=l),label:"CPF"},null,8,["modelValue"]),[[x,"###.###.###-##"]])]),_:1})]),_:1}),e(c,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[e(C,{modelValue:t.tabvalores_estadocivil_id,"onUpdate:modelValue":a[4]||(a[4]=l=>t.tabvalores_estadocivil_id=l),items:r($),"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(u,{modelValue:t.profissao,"onUpdate:modelValue":a[5]||(a[5]=l=>t.profissao=l),label:"Profissão"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(u,{modelValue:t.local_trabalho,"onUpdate:modelValue":a[6]||(a[6]=l=>t.local_trabalho=l),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[e(u,{modelValue:t.data_nascimento,"onUpdate:modelValue":a[7]||(a[7]=l=>t.data_nascimento=l),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(C,{modelValue:t.tabvalores_capacidadecivil_id,"onUpdate:modelValue":a[8]||(a[8]=l=>t.tabvalores_capacidadecivil_id=l),items:r(F),label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(C,{modelValue:t.cidade_natural_id,"onUpdate:modelValue":a[9]||(a[9]=l=>t.cidade_natural_id=l),items:r(k),label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(c,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[U(e(u,{modelValue:t.cpf_pai,"onUpdate:modelValue":a[10]||(a[10]=l=>t.cpf_pai=l),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[x,"###.###.###-##"]])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(u,{modelValue:t.nome_pai,"onUpdate:modelValue":a[11]||(a[11]=l=>t.nome_pai=l),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[U(e(u,{modelValue:t.cpf_mae,"onUpdate:modelValue":a[12]||(a[12]=l=>t.cpf_mae=l),modelModifiers:{date:!0},label:"CPF da Mãe"},null,8,["modelValue"]),[[x,"###.###.###-##"]])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(u,{modelValue:t.nome_mae,"onUpdate:modelValue":a[13]||(a[13]=l=>t.nome_mae=l),modelModifiers:{date:!0},label:"Nome da Mãe"},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{class:"mb-3"},{default:o(()=>[e(d,{to:"/pessoas/registros"},{default:o(()=>[e(I,{size:"large",color:"red"},{default:o(()=>[n("Voltar")]),_:1})]),_:1}),e(I,{onClick:a[14]||(a[14]=l=>q()),class:"ml-4",size:"large",color:"green"},{default:o(()=>[n("Salvar")]),_:1})]),_:1})]),_:1})]),_:1}),e(V,{value:"documento"},{default:o(()=>[e(_)]),_:1}),e(V,{value:"endereco"},{default:o(()=>[e(g)]),_:1}),e(V,{value:"biometria"},{default:o(()=>[e(N,{class:"mt-5"},{default:o(()=>[e(H)]),_:1})]),_:1}),e(V,{value:"restricao"},{default:o(()=>[e(O)]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Te=X(fe,[["__scopeId","data-v-bd063ba9"]]);export{Te as default};
