import{_ as w,r as o,c as v,a,d as C,t as f,k as p,m as F,E as T,p as A,l as E,o as m}from"./BW5HGLCA.js";import{u as D}from"./Dsc9lyBv.js";const N={class:"container"},S={class:"bg-white rounded-lg shadow-sm p-6"},U={class:"mb-8 flex flex-col items-start gap-2"},V={key:0,class:"text-sm text-gray-600"},B={class:"mb-6 w-full"},I=["readonly"],O={class:"flex gap-4"},R=["disabled"],j=["disabled"],H={__name:"index",setup(M){const r=o(""),c=o(""),l=o(null),n=o(""),u=o(""),b=o(!1),_=E(),d=o(null),g=`${_.public.managemant}/migracao_dados`,x=()=>{var s;(s=d.value)==null||s.click()},h=s=>{const e=s.target.files[0];if(!e)return;c.value=e.name,l.value=e;const i=new FileReader;i.onload=q=>{r.value=q.target.result,t("Arquivo carregado com sucesso!","success")},i.onerror=()=>{t("Erro ao carregar o arquivo.","error")},i.readAsText(e)},y=async()=>{if(!l.value){t("Nenhum arquivo selecionado para envio.","error");return}const s=new FormData;s.append("file",l.value);try{const e=await fetch(g,{method:"POST",body:s});if(!e.ok)throw new Error(`Erro HTTP: ${e.status}`);t("Arquivo enviado com sucesso!","success")}catch(e){console.error(e),t("Falha ao enviar o arquivo.","error")}},k=()=>{r.value="",c.value="",l.value=null,n.value="",d.value&&(d.value.value=""),t("Conteúdo limpo.","info")},t=(s,e)=>{switch(n.value=s,e){case"success":u.value="status status-success";break;case"error":u.value="status status-error";break;case"info":u.value="status status-info";break;default:u.value="status"}setTimeout(()=>{n.value=""},3e3)};return D({title:"Upload de Arquivo",meta:[{name:"description",content:"Ferramenta para enviar arquivos via FormData"}]}),(s,e)=>(m(),v("div",N,[a("div",S,[e[3]||(e[3]=a("h1",{class:"text-2xl font-bold text-gray-800 mb-6"},"Selecione um arquivo",-1)),a("div",U,[a("input",{ref_key:"fileInput",ref:d,type:"file",class:"hidden",onChange:h,accept:".txt,.json,.md,.js,.html,.css,.xml,.csv"},null,544),a("button",{type:"button",class:"btn-primary",onClick:x}," Escolher Arquivo "),c.value?(m(),v("div",V,[e[1]||(e[1]=a("span",{class:"font-medium"},"Arquivo carregado:",-1)),C(" "+f(c.value),1)])):p("",!0)]),a("div",B,[e[2]||(e[2]=a("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Conteúdo do arquivo ",-1)),F(a("textarea",{"onUpdate:modelValue":e[0]||(e[0]=i=>r.value=i),class:"w-full h-64 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"O conteúdo do arquivo aparecerá aqui...",readonly:b.value},null,8,I),[[T,r.value]])]),a("div",O,[a("button",{onClick:y,disabled:!l.value,class:"btn-primary"}," Salvar ",8,R),a("button",{onClick:k,disabled:!r.value,class:"btn-secondary"}," Limpar ",8,j)]),n.value?(m(),v("div",{key:0,class:A(["mt-4 p-3 rounded-md",u.value])},f(n.value),3)):p("",!0)])]))}},z=w(H,[["__scopeId","data-v-841ff2d9"]]);export{z as default};
