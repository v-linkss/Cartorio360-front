import{_ as O,S as K,T as L,r as i,o as m,c as P,a as v,b as o,P as T,y as a,V as S,w as s,A as I,K as p,L as J,d as _,s as w,U as x,z as b,p as R,e as $,u as f}from"./CR0PDRij.js";import{a as z}from"./ex5XePFu.js";import{V as F}from"./DFbuDgp1.js";import{V as C}from"./ByLeYF1V.js";import"./CF3WpnRY.js";const j=""+new URL("cartorio_logo.CfnnJMUp.jpeg",import.meta.url).href,E=u=>(R("data-v-48de76a7"),u=u(),$(),u),q={class:"container-main"},M={class:"container-form"},X=E(()=>v("div",{class:"text"},"Log in",-1)),G=E(()=>v("a",{class:"text-decoration-none",rel:"noopener noreferrer",style:{color:"#429946"}}," Esqueceu a senha?",-1)),H=E(()=>v("div",{class:"background-image"},null,-1)),Q={__name:"index",setup(u){const N=K(),{$toast:U}=L(),r=i({senha:"",email:""}),d=i(!1),l=i(!1),h=i(!1),k=i(!1),V=i(!1),g=()=>{h.value=!1,k.value=!1,V.value=!1,l.value=!1},A=async()=>{const{data:y,status:e,error:t}=await z("http://45.55.192.246:3746",{method:"POST",body:{senha:r.value.senha,email:r.value.email}},"$iX10IJN3fa");if(e.value==="success"){N.push("/home");const n=y.value[0].func_autentica_acesso_v1[0].registro[0],c=f("user-data");c.value=c.value=JSON.stringify({nome:n.nome,usuario_id:n.id,cartorio_id:n.cartorios[0].cartorio_id,cartorio_nome:n.cartorios[0].cartorio_descricao}),U.success("Login realizado com sucesso!");const B=y.value[0].func_autentica_acesso_v1[0].registro[0].token,D=f("auth_token");D.value=B}else{const n=f("counter");n.value=1,console.log(f("value").value);const c=t.value.data[0].func_autentica_acesso_v1[0];switch(c.status_mensagem){case"Esse email não está cadastrado no Durabil.":k.value=!0;break;case"Senha inválida.":h.value=!0;break;default:c.error==="Erro ao autenticar usuário"&&(V.value=!0);break}}};return(y,e)=>(m(),P("div",q,[v("div",M,[o(T,{class:"image",width:300,height:"230",src:j}),X,o(S,{autofocus:"",autocomplete:"email",type:"email",modelValue:a(r).email,"onUpdate:modelValue":e[0]||(e[0]=t=>a(r).email=t),"persistent-hint":"",class:"input",density:"compact",placeholder:"Email","prepend-inner-icon":"mdi-email-outline",variant:"outlined"},null,8,["modelValue"]),o(S,{modelValue:a(r).senha,"onUpdate:modelValue":e[1]||(e[1]=t=>a(r).senha=t),class:"input","append-inner-icon":a(d)?"mdi-eye-off":"mdi-eye",type:a(d)?"text":"password",density:"compact",placeholder:"Senha","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":e[2]||(e[2]=t=>d.value=!a(d))},null,8,["modelValue","append-inner-icon","type"]),o(F,{modelValue:a(l),"onUpdate:modelValue":e[4]||(e[4]=t=>I(l)?l.value=t:null),"max-width":"400",persistent:""},{activator:s(({props:t})=>[o(p,J({block:"",rounded:"",class:"button mb-10 mt-4"},t,{onClick:A,modelValue:a(l),"onUpdate:modelValue":e[3]||(e[3]=n=>I(l)?l.value=n:null)}),{default:s(()=>[_(" Acessar ")]),_:2},1040,["modelValue"])]),default:s(()=>[a(h)?(m(),w(C,{key:0,text:"Senha inválida."},{actions:s(()=>[o(x),o(p,{onClick:g,style:{"background-color":"#429946",color:"white"}},{default:s(()=>[_(" OK ")]),_:1})]),_:1})):b("",!0),a(k)?(m(),w(C,{key:1,text:"Esse email não está cadastrado."},{actions:s(()=>[o(x),o(p,{onClick:g,style:{"background-color":"#429946",color:"white"}},{default:s(()=>[_(" OK ")]),_:1})]),_:1})):b("",!0),a(V)?(m(),w(C,{key:2,text:"Erro no sistema"},{actions:s(()=>[o(x),o(p,{onClick:g,style:{"background-color":"#429946",color:"white"}},{default:s(()=>[_(" OK ")]),_:1})]),_:1})):b("",!0)]),_:1},8,["modelValue"]),G]),H]))}},oe=O(Q,[["__scopeId","data-v-48de76a7"]]);export{oe as default};
