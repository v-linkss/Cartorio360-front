import{_ as H,a as X,b as J,c as Q,d as Y,e as Z}from"./fpOHlTGn.js";import{_ as ee,a as oe}from"./C1G8eX2b.js";import{_ as te}from"./ideR4s63.js";import{p as ae,r as m,m as se,O as le,u as ne,H as M,K as re,x as e,o as r,y as i,w as o,b as t,V as O,I as h,d as v,z as u,A as ie,g as K,M as E}from"./D_TA2-g7.js";import{f as L}from"./D8EDqnfK.js";import{u as ue}from"./CAv8H9jr.js";import{V as G}from"./BoAXC2_3.js";import{V as $}from"./CHdKZPfn.js";import{V as W}from"./AbrI-tyW.js";import{V as me}from"./BjaMKbuc.js";import{_ as de}from"./CT7vRm0X.js";import{V as _e}from"./BMjLXhJ7.js";import{V as g,a as ce,e as b,d as pe}from"./BZp_tfNF.js";import"./uHGivzWY.js";import"./DcOWgFAS.js";import"./DZeclqHV.js";import"./C8L8oojt.js";import"./B0IxRygJ.js";import"./B0NqmOq_.js";import"./Dh3jhyru.js";import"./kFHrWXvK.js";import"./D9x4gIIU.js";import"./BVz1G1IN.js";import"./tFMyFkCk.js";import"./DJvq3mCv.js";import"./C9sivJE6.js";import"./HuTqiJe8.js";import"./CsfXkjbk.js";import"./BnckFZxt.js";import"./GbUul6WC.js";import"./D8E_6EBm.js";import"./CynCgh7d.js";import"./f1b4ASVk.js";import"./CZdGY5Qe.js";import"./CPpd3gBx.js";const fe={__name:"SeparacaoDivorcio",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0}},async setup(z){let _,p;const A=z,c=ie(),a=ae({dt_casamento:null,tabvalores_regimecasamento_id:null,qtd_filhos_maiores:null,qtd_filhos_menores:null,responsavel_menores_id:null}),x=m([]),w=se(),V=le(),{$toast:n}=ne(),P=`${c.public.auth}/service/gerencia/getAtos/${A.ato_id}`,T=`${c.public.auth}/service/gerencia/regime_casamento`,B=`${c.public.auth}/service/gerencia/getAtosPessoaById/${A.ato_id}`,C=`${c.public.managemant}/updateAtos`;m(""),m(""),m(!1),m(!1),m(null);const{data:y,status:I}=([_,p]=M(()=>L(P,{method:"GET"})),_=await _,p(),_),{data:d}=([_,p]=M(()=>L(T,{method:"GET"})),_=await _,p(),_),{data:s}=([_,p]=M(()=>L(B,{method:"GET"})),_=await _,p(),_),D=m([]),S=re(()=>{var f;return((f=D.value)==null?void 0:f.map(l=>{var q;return{id:l.id,nome:((q=l.pessoa)==null?void 0:q.nome)||"Sem nome"}}))||[]});y.value&&(a.dt_casamento=y.value.dt_casamento,a.tabvalores_regimecasamento_id=y.value.tabvalores_regimecasamento_id,a.qtd_filhos_maiores=y.value.qtd_filhos_maiores,a.qtd_filhos_menores=y.value.qtd_filhos_menores,a.responsavel_menores_id=y.value.responsavel_menores_id),d.value&&(x.value=d.value),s.value&&(D.value=s.value);const U=()=>{const f=V.query.origem||"criar",l=V.query.id;switch(f){case"atualizar":case"vizualizar":w.push(`/os/atualizar/${l}`);break;case"atualizar-lista":case"vizualizar-lista":w.push("/atos/lista");break;default:w.push("/os/criar-registro");break}};async function N(){const{data:f,error:l,status:q}=await ue(`${C}/${Number.parseInt(A.ato_id)}`,{method:"PUT",body:{dt_casamento:a.dt_casamento,tabvalores_regimecasamento_id:a.tabvalores_regimecasamento_id,qtd_filhos_maiores:a.qtd_filhos_maiores,qtd_filhos_menores:a.qtd_filhos_menores,responsavel_menores_id:a.responsavel_menores_id}},"$2MFTkguIXN");q.value==="success"&&n.success("Divórcio salvo com sucesso")}const R=f=>{const l=["Backspace","Tab","ArrowLeft","ArrowRight","Delete"];!/[0-9]/.test(f.key)&&!l.includes(f.key)&&f.preventDefault()};return(f,l)=>{const q=te;return e(I)==="success"?(r(),i(me,{key:0,class:"mt-5"},{default:o(()=>[t(G,{dense:""},{default:o(()=>[t($,{cols:"12",sm:"4",md:"3"},{default:o(()=>[t(O,{modelValue:e(a).dt_casamento,"onUpdate:modelValue":l[0]||(l[0]=k=>e(a).dt_casamento=k),type:"date",label:"Data Casamento"},null,8,["modelValue"])]),_:1}),t($,{cols:"12",sm:"6",md:"4"},{default:o(()=>[t(W,{label:"Regime Bens",modelValue:e(a).tabvalores_regimecasamento_id,"onUpdate:modelValue":l[1]||(l[1]=k=>e(a).tabvalores_regimecasamento_id=k),items:e(x),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),t($,{cols:"12",sm:"6",md:"3"},{default:o(()=>[t(O,{label:"Filhos Maiores",modelValue:e(a).qtd_filhos_maiores,"onUpdate:modelValue":l[2]||(l[2]=k=>e(a).qtd_filhos_maiores=k),modelModifiers:{number:!0},type:"number",min:"0",onKeydown:R},null,8,["modelValue"])]),_:1}),t($,{cols:"12",sm:"6",md:"3"},{default:o(()=>[t(O,{label:"Filhos Menores",modelValue:e(a).qtd_filhos_menores,"onUpdate:modelValue":l[3]||(l[3]=k=>e(a).qtd_filhos_menores=k),type:"number",min:"0",onKeydown:R},null,8,["modelValue"])]),_:1}),t($,{cols:"12",sm:"6",md:"4"},{default:o(()=>[t(W,{label:"Responsável",modelValue:e(a).responsavel_menores_id,"onUpdate:modelValue":l[4]||(l[4]=k=>e(a).responsavel_menores_id=k),items:e(S),"item-title":"nome","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1})]),_:1}),t(G,{class:"mt-5",justify:"start",align:"center"},{default:o(()=>[t($,{cols:"auto"},{default:o(()=>[t(q,{onClick:U},{default:o(()=>[t(h,{size:"large",color:"red"},{default:o(()=>l[5]||(l[5]=[v("Voltar")])),_:1})]),_:1})]),_:1}),t($,{cols:"auto"},{default:o(()=>[t(h,{class:"ml-2",onClick:N,size:"large",color:"green"},{default:o(()=>l[6]||(l[6]=[v("Salvar")])),_:1})]),_:1})]),_:1})]),_:1})):u("",!0)}}},Qe={__name:"geral",props:{ato_token:{type:String,required:!0},ato_tipo_id:{type:Number},usa_imoveis:{type:Boolean,default:!1}},emits:["ato-created"],setup(z,{emit:_}){const p=z,A=_,c=m(null),a=m(null),x=m(null),w=m(null),V=m(null),n=m(!1),P=m(p.ato_token),T=m(p.ato_tipo_id),B=m(p.usa_imoveis),C=({id:d,token:s})=>{c.value=d,a.value=s,n.value=!0,A("ato-created")},y=d=>{x.value=d},I=d=>{w.value=d};return K(()=>p.ato_token,d=>{P.value=d}),K(()=>p.ato_tipo_id,d=>{T.value=d}),K(()=>p.usa_imoveis,d=>{B.value=d}),(d,s)=>{const D=H,S=X,U=ee,N=fe,R=oe,f=J,l=Q,q=Y,k=Z,j=de;return r(),i(_e,{width:"1300"},{default:o(()=>[t(ce,{modelValue:e(V),"onUpdate:modelValue":s[0]||(s[0]=F=>E(V)?V.value=F:null),"bg-color":"#f5f2f2"},{default:o(()=>[t(g,{value:"dados"},{default:o(()=>s[2]||(s[2]=[v("Dados")])),_:1}),e(n)?(r(),i(g,{key:0,value:"partes"},{default:o(()=>s[3]||(s[3]=[v("Partes")])),_:1})):u("",!0),e(n)?(r(),i(g,{key:1,value:"bens"},{default:o(()=>s[4]||(s[4]=[v("Bens")])),_:1})):u("",!0),e(n)?(r(),i(g,{key:2,value:"imoveis"},{default:o(()=>s[5]||(s[5]=[v("Imoveis")])),_:1})):u("",!0),e(n)?(r(),i(g,{key:3,value:"separacao_ivorcio"},{default:o(()=>s[6]||(s[6]=[v(" Separação e Divórcio")])),_:1})):u("",!0),e(n)?(r(),i(g,{key:4,value:"minuta"},{default:o(()=>s[7]||(s[7]=[v("Minuta")])),_:1})):u("",!0),e(n)?(r(),i(g,{key:5,value:"livro"},{default:o(()=>s[8]||(s[8]=[v("Livro")])),_:1})):u("",!0),e(n)?(r(),i(g,{key:6,value:"observacao"},{default:o(()=>s[9]||(s[9]=[v("Observações")])),_:1})):u("",!0),e(n)?(r(),i(g,{key:7,value:"anexo"},{default:o(()=>s[10]||(s[10]=[v("Anexos")])),_:1})):u("",!0),e(n)?(r(),i(g,{key:8,value:"outros"},{default:o(()=>s[11]||(s[11]=[v("Outros")])),_:1})):u("",!0)]),_:1},8,["modelValue"]),t(pe,{modelValue:e(V),"onUpdate:modelValue":s[1]||(s[1]=F=>E(V)?V.value=F:null)},{default:o(()=>[t(b,{value:"dados"},{default:o(()=>[t(D,{onSaved:C,ato_token:e(P),ato_tipo_id:e(T)},null,8,["ato_token","ato_tipo_id"])]),_:1}),e(n)?(r(),i(b,{key:0,value:"partes"},{default:o(()=>[t(S,{ato_token:e(P),ato_id:e(c)},null,8,["ato_token","ato_id"])]),_:1})):u("",!0),e(n)?(r(),i(b,{key:1,value:"bens"},{default:o(()=>[t(U,{ato_token:e(a),ato_id:e(c)},null,8,["ato_token","ato_id"])]),_:1})):u("",!0),e(n)?(r(),i(b,{key:2,value:"bens"},{default:o(()=>[t(N,{ato_token:e(a),ato_id:e(c)},null,8,["ato_token","ato_id"])]),_:1})):u("",!0),e(n)?(r(),i(b,{key:3,value:"imoveis"},{default:o(()=>[t(R,{ato_token:e(a),ato_token_selected:e(P),ato_id:e(c)},null,8,["ato_token","ato_token_selected","ato_id"])]),_:1})):u("",!0),e(B)?(r(),i(b,{key:4,value:"separacao_ivorcio"},{default:o(()=>[t(N,{ato_token:e(a),ato_id:e(c)},null,8,["ato_token","ato_id"])]),_:1})):u("",!0),e(n)?(r(),i(b,{key:5,value:"minuta"},{default:o(()=>[t(f,{onPage:y,onDoc:I,ato_token:e(a)},null,8,["ato_token"])]),_:1})):u("",!0),e(n)?(r(),i(b,{key:6,value:"livro"},{default:o(()=>[t(l,{pages:e(x),ato_token:e(a),document:e(w)},null,8,["pages","ato_token","document"])]),_:1})):u("",!0),e(n)?(r(),i(b,{key:7,value:"observacao"},{default:o(()=>[t(q,{ato_id:e(c)},null,8,["ato_id"])]),_:1})):u("",!0),e(n)?(r(),i(b,{key:8,value:"anexo"},{default:o(()=>[t(k,{ato_token:e(a),ato_id:e(c)},null,8,["ato_token","ato_id"])]),_:1})):u("",!0),e(n)?(r(),i(b,{key:9,value:"outros"},{default:o(()=>[t(j,{ato_token:e(a),ato_id:e(c)},null,8,["ato_token","ato_id"])]),_:1})):u("",!0)]),_:1},8,["modelValue"])]),_:1})}}};export{Qe as default};
