<<<<<<<< HEAD:.output/public/_nuxt/BQWL7vbn.js
import{_ as k}from"./N4ztoqAr.js";import{_ as A}from"./BVgZkkqd.js";import{_ as B}from"./BNxKBvey.js";import{u as I,D as P,r as u,e as p,f as z,l as J,n as M,h as F,w as i,k as Y,o as j,b as s,a as r,s as H,i as l,x as y,v as _,C as L}from"./CyqTGDD6.js";import{u as C}from"./Bj-2FKWl.js";import{f as W}from"./B0IxRygJ.js";import{V as X}from"./BWG-R2YI.js";import{V as f}from"./D8o37Hsx.js";import{V as c}from"./ChZdYnYu.js";import{V}from"./KFLJOwjW.js";import{V as G}from"./dVLXcY02.js";import"./BRwqhO8g.js";import"./DqQ5MEt4.js";import"./BRDUiMuf.js";import"./BqKfKras.js";import"./CXZNUCN-.js";import"./C823Fyto.js";import"./BXOpNuad.js";import"./Cxqkqjv8.js";const K=["title","onClick"],Q=["onClick","title"],Z=["onClick"],ka={__name:"index",setup(aa){const v=Y(),{$toast:d}=I(),h=`${v.public.managemant}/listarUsuarios`,S=`${v.public.managemant}/listarCaixas`,D=P(),b=u(p("user-data").value.cartorio_token)||null,x=u([]),m=u([]),N=u(["PENDENTE","ENCERRADO","CANCELADO"]),w=u(null),$=u([]),o=z({data:R(),situacao:null,usuario_token:null}),O=[{title:"Data",value:"data"},{title:"Situação",value:"situacao"},{title:"Usuário",value:"usuario_nome"},{title:"Ações",value:"actions",sortable:!1}];function R(){const a=new Date,e=a.getFullYear(),t=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");return`${e}-${t}-${n}`}async function T(){try{const{data:a}=await C(h,{method:"POST",body:{cartorio_token:b.value}},"$iWNqbVflHd");x.value=a.value}catch(a){d.error("Erro ao buscar usuários."),console.error(a)}}async function g(){try{sessionStorage.setItem("pesquisaCaixas",JSON.stringify(o));const{data:a}=await C(S,{method:"POST",body:{cartorio_token:b.value,ussuario_token:o.usuario_token,data:o.data||null,situacao:o.situacao}},"$XYvyo77vvU");a.value.length>0?m.value=a.value.map(e=>({...e,data:W(e.data,"dd/mm/yyyy")})):(m.value=[],d.error("Não existe caixa registrada!"))}catch(a){d.error("Erro ao buscar caixas."),console.error(a)}}function E(a,e){w.value=a}function U(a){const e=p("user-service"),t=$.value.find(n=>n.id===a);e.value=JSON.stringify({id:t.id,token:t.token}),D.push({path:`/os/atualizar/${a}`})}function q(a){const e=p("caixa-service");e.value=JSON.stringify({caixa_token:a.token,usuario_nome:a.usuario_nome,data:a.data,caixa_id:a.id}),L("/caixas/caixasRecebimentoOs")}return J(()=>{M(async()=>{const a=sessionStorage.getItem("pesquisaCaixas");if(a){const e=JSON.parse(a);Object.assign(o,e)}await T(),await g()})}),(a,e)=>(j(),F(X,{class:"mt-5"},{default:i(()=>[s(f,{class:"mb-5"},{default:i(()=>e[3]||(e[3]=[r("h1",null,"Caixas",-1)])),_:1}),s(f,null,{default:i(()=>[s(c,{cols:"2"},{default:i(()=>[s(H,{modelValue:l(o).data,"onUpdate:modelValue":e[0]||(e[0]=t=>l(o).data=t),type:"date",label:"Data"},null,8,["modelValue"])]),_:1}),s(c,{md:"3"},{default:i(()=>[s(V,{modelValue:l(o).situacao,"onUpdate:modelValue":e[1]||(e[1]=t=>l(o).situacao=t),items:l(N),label:"Situação"},null,8,["modelValue","items"])]),_:1}),s(c,{md:"2"},{default:i(()=>[s(V,{items:l(x),modelValue:l(o).usuario_token,"onUpdate:modelValue":e[2]||(e[2]=t=>l(o).usuario_token=t),"item-title":"user_nome","item-value":"user_token",label:"Usuário"},null,8,["items","modelValue"])]),_:1}),s(c,null,{default:i(()=>[r("div",null,[r("img",{onClick:g,style:{width:"40px",height:"40px",cursor:"pointer"},src:k,alt:"Pesquisar"})])]),_:1})]),_:1}),e[5]||(e[5]=r("hr",{class:"mt-5 mb-5"},null,-1)),s(G,{headers:O,items:l(m),"item-key":"id"},{"item.actions":i(({item:t})=>[s(f,{style:{display:"flex",gap:"10px","margin-top":"-5px"}},{default:i(()=>[r("div",{class:_({disabled:!t.btn_receber}),title:t.btn_receber?"Receber":"Bloqueado",onClick:n=>t.btn_receber?q(t):null},[r("img",{style:y({cursor:t.btn_receber?"pointer":"default",width:"30px",height:"30px"}),src:A,alt:"Receber"},null,4)],10,K),r("div",{class:_({disabled:!t.btn_editar}),onClick:n=>t.btn_editar?U(t.id):null,title:t.btn_editar?"Editar":"Bloqueado"},[r("img",{style:y({cursor:t.btn_editar?"pointer":"default",width:"30px",height:"30px"}),src:B,alt:"Salvar"},null,4)],10,Q),r("div",{class:_({disabled:!t.btn_cancelar}),onClick:n=>t.btn_cancelar?E(t.numero,t.token):null,title:"Bloquear"},e[4]||(e[4]=[r("img",{style:{width:"30px",height:"30px"},src:k,alt:"Visualizar"},null,-1)]),10,Z)]),_:2},1024)]),_:1},8,["items"])]),_:1}))}};export{ka as default};
========
import{_ as y}from"./a5R-4jex.js";import{_ as A}from"./DqA3MEC4.js";import{_ as B}from"./Z-ZQGaL3.js";import{u as I,L as P,r as u,m as p,n as z,x as J,y as M,p as F,w as i,v as L,o as Y,b as s,a as r,C as j,q as l,E as k,D as _,K as H}from"./r4lf5MgJ.js";import{u as C}from"./cF5_JDHk.js";import{f as K}from"./B0IxRygJ.js";import{V as W}from"./B15ljlvf.js";import{V as f}from"./DrwEC22x.js";import{V as c}from"./DJsD-OF6.js";import{V}from"./Xyp_uJQG.js";import{V as X}from"./B_le8eAU.js";import"./C0iEiyay.js";import"./C861OkWK.js";import"./Y9Wy4so6.js";import"./DIxAA8nB.js";import"./Cr0v-mMH.js";import"./xE3qjFmg.js";import"./7mc36lUH.js";import"./kkGkp2AC.js";const G=["title","onClick"],Q=["onClick","title"],Z=["onClick"],ya={__name:"index",setup(aa){const v=L(),{$toast:d}=I(),h=`${v.public.managemant}/listarUsuarios`,S=`${v.public.managemant}/listarCaixas`,D=P(),b=u(p("user-data").value.cartorio_token)||null,x=u([]),m=u([]),N=u(["PENDENTE","ENCERRADO","CANCELADO"]),w=u(null),$=u([]),o=z({data:O(),situacao:null,usuario_token:null}),E=[{title:"Data",value:"data"},{title:"Situação",value:"situacao"},{title:"Usuário",value:"usuario_nome"},{title:"Ações",value:"actions",sortable:!1}];function O(){const a=new Date,e=a.getFullYear(),t=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");return`${e}-${t}-${n}`}async function R(){try{const{data:a}=await C(h,{method:"POST",body:{cartorio_token:b.value}},"$iWNqbVflHd");x.value=a.value}catch(a){d.error("Erro ao buscar usuários."),console.error(a)}}async function g(){try{sessionStorage.setItem("pesquisaCaixas",JSON.stringify(o));const{data:a}=await C(S,{method:"POST",body:{cartorio_token:b.value,ussuario_token:o.usuario_token,data:o.data||null,situacao:o.situacao}},"$XYvyo77vvU");a.value.length>0?m.value=a.value.map(e=>({...e,data:K(e.data,"dd/mm/yyyy")})):(m.value=[],d.error("Não existe caixa registrada!"))}catch(a){d.error("Erro ao buscar caixas."),console.error(a)}}function T(a,e){w.value=a}function q(a){const e=p("user-service"),t=$.value.find(n=>n.id===a);e.value=JSON.stringify({id:t.id,token:t.token}),D.push({path:`/os/atualizar/${a}`})}function U(a){const e=p("caixa-service");e.value=JSON.stringify({caixa_token:a.token,usuario_nome:a.usuario_nome,data:a.data,caixa_id:a.id}),H("/caixas/caixasRecebimentoOs")}return J(()=>{M(async()=>{const a=sessionStorage.getItem("pesquisaCaixas");if(a){const e=JSON.parse(a);Object.assign(o,e)}await R(),await g()})}),(a,e)=>(Y(),F(W,{class:"mt-5"},{default:i(()=>[s(f,{class:"mb-5"},{default:i(()=>e[3]||(e[3]=[r("h1",null,"Caixas",-1)])),_:1}),s(f,null,{default:i(()=>[s(c,{cols:"2"},{default:i(()=>[s(j,{modelValue:l(o).data,"onUpdate:modelValue":e[0]||(e[0]=t=>l(o).data=t),type:"date",label:"Data"},null,8,["modelValue"])]),_:1}),s(c,{md:"3"},{default:i(()=>[s(V,{modelValue:l(o).situacao,"onUpdate:modelValue":e[1]||(e[1]=t=>l(o).situacao=t),items:l(N),label:"Situação"},null,8,["modelValue","items"])]),_:1}),s(c,{md:"2"},{default:i(()=>[s(V,{items:l(x),modelValue:l(o).usuario_token,"onUpdate:modelValue":e[2]||(e[2]=t=>l(o).usuario_token=t),"item-title":"user_nome","item-value":"user_token",label:"Usuário"},null,8,["items","modelValue"])]),_:1}),s(c,null,{default:i(()=>[r("div",null,[r("img",{onClick:g,style:{width:"40px",height:"40px",cursor:"pointer"},src:y,alt:"Pesquisar"})])]),_:1})]),_:1}),e[5]||(e[5]=r("hr",{class:"mt-5 mb-5"},null,-1)),s(X,{headers:E,items:l(m),"item-key":"id"},{"item.actions":i(({item:t})=>[s(f,{style:{display:"flex",gap:"10px","margin-top":"-5px"}},{default:i(()=>[r("div",{class:_({disabled:!t.btn_receber}),title:t.btn_receber?"Receber":"Bloqueado",onClick:n=>t.btn_receber?U(t):null},[r("img",{style:k({cursor:t.btn_receber?"pointer":"default",width:"30px",height:"30px"}),src:A,alt:"Receber"},null,4)],10,G),r("div",{class:_({disabled:!t.btn_editar}),onClick:n=>t.btn_editar?q(t.id):null,title:t.btn_editar?"Editar":"Bloqueado"},[r("img",{style:k({cursor:t.btn_editar?"pointer":"default",width:"30px",height:"30px"}),src:B,alt:"Salvar"},null,4)],10,Q),r("div",{class:_({disabled:!t.btn_cancelar}),onClick:n=>t.btn_cancelar?T(t.numero,t.token):null,title:"Bloquear"},e[4]||(e[4]=[r("img",{style:{width:"30px",height:"30px"},src:y,alt:"Visualizar"},null,-1)]),10,Z)]),_:2},1024)]),_:1},8,["items"])]),_:1}))}};export{ya as default};
>>>>>>>> validate-document:.output/public/_nuxt/BdV6RQKS.js
