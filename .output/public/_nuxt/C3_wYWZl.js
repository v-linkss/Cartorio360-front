import{_ as U}from"./BuOdRB94.js";import{_ as B,a as N,b as P}from"./BP1uhy__.js";import{_ as S}from"./Q6c3O_pS.js";import{_ as A}from"./B9Kv3FaV.js";import{r as c,m as y,C as F,I as j,p as G,v as d,G as I,w as l,K,s as O,o as _,b as i,a as o,V as k,x as V,c as g}from"./CnZnip3R.js";import{u as W,V as w}from"./RdZ81Mlz.js";import{f as q}from"./BoWrVCko.js";import{V as H}from"./ChGlvUuE.js";import{V as J}from"./yGIfVQdX.js";import"./CB5CdGIZ.js";import"./BuuZcKr8.js";import"./ButH2dF6.js";import"./ChPRMqFO.js";const Q={style:{width:"200px"}},X={style:{width:"300px"}},Y=["onClick"],Z=["onClick"],tt=["onClick"],at={key:0,style:{width:"30px",height:"30px"},src:N,alt:"Visualizar",title:"Reativar"},et={key:1,src:P,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},xt={__name:"index",async setup(ot){let r,f;const h=O(),C=`${h.public.managemant}/listar_situacao_matriculas`,b=`${h.public.managemant}/situacao-matriculas`,$=c(y("auth_token").value)||null,z=c(y("user-data").value.cartorio_token)||null,x=F(),u=c(""),n=c(""),T=[{title:"Descrição",value:"descricao"},{title:"Situação",value:"situacao"},{value:"actions"}],D={cartorio_token:z.value,user_token:$.value},{data:m,status:L}=([r,f]=j(()=>W(`${C}`,{method:"POST",body:D},"$3wC3w7E7ub")),r=await r,f(),r);console.log("sitaucao matricula",m.value);const v=G(()=>m.value?m.value.filter(a=>{var e,s;const t=((e=a.situacao_descricao)==null?void 0:e.toLowerCase())??"",p=((s=a.situacao)==null?void 0:s.toLowerCase())??"";return t.includes(n.value.toLowerCase())&&p.includes(u.value.toLowerCase())}):[]);console.log("filtro",v.value);async function M(a){a.excluido=!a.excluido;try{await q(`${b}/${a.id}`,{method:"PUT",body:{excluido:a.excluido}})}catch(t){console.error("Erro ao excluir pessoa:",t)}}function E(a){x.push({path:`/situacaoMatricula/vizualizar/${a}`})}function R(a){x.push({path:`/situacaoMatricula/atualizar/${a}`})}return(a,t)=>{const p=U;return d(L)==="success"?(_(),I(H,{key:0,class:"mt-5"},{default:l(()=>[i(p,{to:"/situacaoMatricula/cadastro"},{default:l(()=>t[2]||(t[2]=[o("img",{style:{cursor:"pointer"},src:B,alt:"Cadastro"},null,-1)])),_:1}),i(w,{style:{gap:"3rem"}},{default:l(()=>[o("div",Q,[i(k,{class:"mt-7 mb-4",modelValue:d(n),"onUpdate:modelValue":t[0]||(t[0]=e=>V(n)?n.value=e:null),label:"Documento","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),o("div",X,[i(k,{class:"mt-7 mb-4",modelValue:d(u),"onUpdate:modelValue":t[1]||(t[1]=e=>V(u)?u.value=e:null),label:"Pessoa","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),i(J,{density:"compact",headers:T,items:d(v),"item-key":"id"},{"item.actions":l(({item:e})=>[i(w,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:l(()=>[o("div",{style:{cursor:"pointer"},onClick:s=>E(e.id),title:"Visualizar"},t[3]||(t[3]=[o("img",{style:{width:"30px",height:"30px"},src:S,alt:"Visualizar"},null,-1)]),8,Y),o("div",{style:{cursor:"pointer"},onClick:s=>R(e.id),title:"Atualizar"},t[4]||(t[4]=[o("img",{style:{width:"30px",height:"30px"},src:A,alt:"Atualizar"},null,-1)]),8,Z),o("div",{style:{cursor:"pointer"},onClick:s=>M(e),title:"Deletar"},[e.excluido?(_(),g("img",at)):(_(),g("img",et))],8,tt)]),_:2},1024)]),_:1},8,["items"])]),_:1})):K("",!0)}}};export{xt as default};
