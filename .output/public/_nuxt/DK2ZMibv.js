import{_ as ie}from"./C-K-maSx.js";import{_ as re}from"./DwlrPvmW.js";import{_ as F,a as j,b as J,c as G}from"./QXGxGPw_.js";import{_ as W}from"./DgCi1WA9.js";import{z as H,D as ne,u as de,r as m,m as S,A as ue,E,o as x,q as K,w as s,b as t,v as l,a as n,t as ce,c as T,F as O,d as B,G as me,H as U,s as Q,p as pe,V as I,I as _e}from"./CQUztZdQ.js";import{u as C}from"./L9C3kzld.js";import{V as v}from"./DHmMPa6H.js";import{V as L}from"./CVyqCs2z.js";import{V}from"./DbhB8jhS.js";import{V as q}from"./BA12yuSv.js";import{V as X}from"./CT5zN_45.js";import{V as fe,a as ve,b as Ve,c as ye,d as ge}from"./lISH-0R7.js";import{V as Y}from"./D8dNb-4Z.js";import{b as xe}from"./CT_a8vsH.js";import{f as $e}from"./C6np7Jdw.js";const ke={style:{width:"800px","font-weight":"500"}},Ce=["onClick"],be=["onClick"],he=["onClick"],we={key:0,style:{width:"30px",height:"30px"},src:J,alt:"Reativar",title:"Reativar"},Be={key:1,src:G,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Qe={__name:"Bens",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0}},async setup(M){let u,p;const y=M,b=H(),_=ne(),c=Q(),{$toast:f}=de(),A=`${c.public.managemant}/atos_bens`,h=`${c.public.managemant}/atos_bens`,D=`${c.public.managemant}/atos_bens`,z=`${c.public.managemant}/listarTipoBens`,P=m(S("user-data").value.cartorio_token),N=m(S("user-data").value.usuario_id).value,$=m([]),r=m([]),i=m(!1),k=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"valor_mercado"},{align:"end",value:"actions"}],o=ue({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),g=async()=>{if(!o.vlr_alienacao&&!o.descricao){f.error("Os campos Descrição e Valor são Obrigatorios!");return}const{data:d,status:e}=await C(`${A}`,{method:"POST",body:{descricao:o.descricao,tipo_id:o.tipo_id,vlr_alienacao:o.vlr_alienacao,user_id:N,ato_id:Number.parseInt(y.ato_id),token:y.ato_token}},"$TVfAAEMyym");e.value==="success"&&(f.success("Bem registrado com sucesso!"),$.value.push(d.value),Object.assign(o,{vlr_alienacao:null,descricao:null,tipo_id:null}))},Z=async d=>{const{status:e}=await C(`${h}/${d}`,{method:"PUT",body:{descricao:r.value.descricao,tipo_id:r.value.tipo_id,valor_mercado:r.value.valor_mercado}},"$TRbOfiOtJ9");e.value==="success"&&(f.success("Bem Atualizado com sucesso!"),i.value=!1)},ee=d=>{const e=$.value.find(w=>w.id===d);e&&(r.value=e,i.value=!0)},{data:te}=([u,p]=E(()=>C(`${z}`,{method:"POST",body:{cartorio_token:P.value,imoveis:!1}},"$rrOfkMLqML")),u=await u,p(),u);o.tiposBens=te.value;const{data:oe}=([u,p]=E(()=>C(`${D}/${y.ato_id}`,{method:"GET"},"$qhjPuJWFwD")),u=await u,p(),u);$.value=oe.value;async function se(d){d.excluido=!d.excluido;try{await C(`${h}/${d.id}`,{method:"PUT",body:JSON.stringify({excluido:d.excluido})},"$1s7uo0EeAe")}catch(e){console.error("Erro ao excluir pessoa:",e)}}const ae=()=>{const d=_.query.origem||"criar",e=_.query.id;d==="atualizar"?b.push(`/os/atualizar/${e}`):b.push("/os/criar-registro")};return(d,e)=>{const w=ie,le=re;return x(),K(Y,null,{default:s(()=>[t(v,{class:"mt-5",cols:"12"},{default:s(()=>[t(L,{label:"Descrição",modelValue:l(o).descricao,"onUpdate:modelValue":e[0]||(e[0]=a=>l(o).descricao=a)},null,8,["modelValue"])]),_:1}),t(V,{class:"ml-1 mb-3"},{default:s(()=>[t(v,{class:"mt-6",cols:"8"},{default:s(()=>[t(q,{label:"Selecione o Tipo",items:l(o).tiposBens,modelValue:l(o).tipo_id,"onUpdate:modelValue":e[1]||(e[1]=a=>l(o).tipo_id=a),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),t(v,{class:"ml-5",cols:"3"},{default:s(()=>[e[9]||(e[9]=n("label",null,"Valor",-1)),t(w,{modelValue:l(o).vlr_alienacao,"onUpdate:modelValue":e[2]||(e[2]=a=>l(o).vlr_alienacao=a)},null,8,["modelValue"])]),_:1}),n("div",null,[n("img",{class:"mt-7 ml-4",src:F,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:g})])]),_:1}),t(V,null,{default:s(()=>[t(v,null,{default:s(()=>[t(X,{style:{height:"465px"},headers:k,items:l($)},{"item.descricao":s(({item:a})=>[n("h3",ke,ce(a.descricao),1)]),"item.actions":s(({item:a})=>[t(V,{style:{"margin-top":"-8px"},justify:"end"},{default:s(()=>[n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:R=>d.redirectToFicha(a),title:"Visualizar Ficha"},e[10]||(e[10]=[n("img",{style:{width:"30px",height:"30px"},src:W,alt:"Visualizar"},null,-1)]),8,Ce),n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:R=>ee(a.id),title:"Alterar Papel"},e[11]||(e[11]=[n("img",{style:{width:"30px",height:"30px"},src:j,alt:"Editar"},null,-1)]),8,be),n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:R=>se(a),title:"Deletar Pessoa"},[a.excluido?(x(),T("img",we)):(x(),T("img",Be))],8,he)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),t(fe,{modelValue:l(i),"onUpdate:modelValue":e[8]||(e[8]=a=>O(i)?i.value=a:null),"max-width":"600px"},{default:s(()=>[t(ve,null,{default:s(()=>[t(Ve,{style:{color:"green"}},{default:s(()=>e[12]||(e[12]=[B("Atualizar Bem")])),_:1}),t(ye,null,{default:s(()=>[t(v,{class:"mt-1",cols:"12"},{default:s(()=>[t(L,{label:"Descrição",modelValue:l(r).descricao,"onUpdate:modelValue":e[3]||(e[3]=a=>l(r).descricao=a)},null,8,["modelValue"])]),_:1}),t(V,null,{default:s(()=>[t(v,{class:"mt-6 ml-3",cols:"8"},{default:s(()=>[t(q,{label:"Selecione o Tipo",items:l(o).tiposBens,modelValue:l(r).tipo_id,"onUpdate:modelValue":e[4]||(e[4]=a=>l(r).tipo_id=a),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),t(v,{class:"ml-5",cols:"3"},{default:s(()=>[e[13]||(e[13]=n("label",null,"Valor",-1)),t(w,{modelValue:l(r).valor_mercado,"onUpdate:modelValue":e[5]||(e[5]=a=>l(r).valor_mercado=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(ge,null,{default:s(()=>[t(me),t(U,{color:"green",text:"",onClick:e[6]||(e[6]=a=>i.value=!1)},{default:s(()=>e[14]||(e[14]=[B("Cancelar")])),_:1}),t(U,{color:"green",text:"",onClick:e[7]||(e[7]=a=>Z(l(r).id))},{default:s(()=>e[15]||(e[15]=[B("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(V,null,{default:s(()=>[t(le,{onClick:ae},{default:s(()=>[t(U,{size:"large",color:"red"},{default:s(()=>e[16]||(e[16]=[B("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Te={style:{width:"200px"}},Ae={style:{width:"300px"}},De=["onClick"],ze=["onClick"],Pe=["onClick"],Ue={key:0,style:{width:"30px",height:"30px"},src:J,alt:"Visualizar",title:"Reativar"},Ee={key:1,src:G,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Xe={__name:"Imoveis",async setup(M){let u,p;const y=Q(),b=`${y.public.auth}/service/gerencia/getAllPessoa`;`${y.public.auth}`,H();const _=m(""),c=m(""),f=m(!1),A=[{title:"Matrícula",value:"doc_identificacao"},{title:"Descrição",value:"nome"},{value:"actions"}],{data:h,status:D}=([u,p]=E(()=>$e(b)),u=await u,p(),u),z=pe(()=>h.value.filter(r=>{const i=r.doc_identificacao?r.doc_identificacao.toLowerCase():"",k=r.nome?r.nome.toLowerCase():"",o=i.includes(c.value.toLowerCase()),g=k.includes(_.value.toLowerCase());return o&&g}));async function P(r){}function N(r){}function $(r){}return(r,i)=>{const k=xe;return l(D)==="success"?(x(),K(Y,{key:0,class:"mt-5"},{default:s(()=>[n("img",{onClick:i[0]||(i[0]=o=>f.value=!0),style:{cursor:"pointer"},src:F,alt:"Cadastro"}),t(V,{style:{gap:"3rem"}},{default:s(()=>[n("div",Te,[t(I,{class:"mt-7 mb-4",modelValue:l(c),"onUpdate:modelValue":i[1]||(i[1]=o=>O(c)?c.value=o:null),label:"Matrícula","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),n("div",Ae,[t(I,{class:"mt-7 mb-4",modelValue:l(_),"onUpdate:modelValue":i[2]||(i[2]=o=>O(_)?_.value=o:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),t(X,{density:"compact",headers:A,items:l(z),"item-key":"id"},{"item.actions":s(({item:o})=>[t(V,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:s(()=>[n("div",{style:{cursor:"pointer"},onClick:g=>(o.id,void 0),title:"Visualizar"},i[4]||(i[4]=[n("img",{style:{width:"30px",height:"30px"},src:W,alt:"Visualizar"},null,-1)]),8,De),n("div",{style:{cursor:"pointer"},onClick:g=>(o.id,void 0),title:"Atualizar"},i[5]||(i[5]=[n("img",{style:{width:"30px",height:"30px"},src:j,alt:"Atualizar"},null,-1)]),8,ze),n("div",{style:{cursor:"pointer"},onClick:g=>P(o),title:"Deletar"},[o.excluido?(x(),T("img",Ue)):(x(),T("img",Ee))],8,Pe)]),_:2},1024)]),_:1},8,["items"]),t(k,{show:l(f),onClose:i[3]||(i[3]=o=>f.value=!1)},null,8,["show"])]),_:1})):_e("",!0)}}};export{Qe as _,Xe as a};
