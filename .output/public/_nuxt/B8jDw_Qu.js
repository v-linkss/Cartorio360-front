import{_ as Fe}from"./COGwOujT.js";import{Q as Re,R as Ie,S as Ne,T as Ue,U as Be,W as De,X as Ee,M as J,r as d,Y as Te,f as Me,Z as fe,h as q,j as Pe,$ as Ge,a0 as Le,a1 as ie,a2 as ze,b as e,a3 as qe,z as $,N as ee,I as de,H as He,a4 as Qe,a5 as Xe,a6 as We,a7 as j,a8 as Ye,a9 as Je,aa as je,F as ae,o as W,A as oe,w as s,a as u,t as K,s as S,q as l,J as pe,d as ge,v as be,x as le,D as E,ab as Ze,u as Ke,K as ce,L as me,c as ve}from"./BoJ9xM4o.js";import{u as P}from"./CCXJQ4oz.js";import{a as _e,_ as $e,b as et,c as tt}from"./CBYd86re.js";import{_ as Ve}from"./ToPptOUL.js";import{c as we,r as xe,u as he,V as Z,_ as ke}from"./D7WB7FKE.js";import{a as te,V as Ce,c as at}from"./lVeJXQlF.js";import{V as Y}from"./vN-BWfmu.js";import{V as G}from"./ebszuf39.js";import{_ as ot}from"./DCsXQasW.js";import{V as C}from"./Bo-jWC84.js";const lt=Re({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseFloat(t))},maxRows:{type:[Number,String],validator:t=>!isNaN(parseFloat(t))},suffix:String,modelModifiers:Object,...Ie(),...Ne()},"VTextarea"),nt=Ue()({name:"VTextarea",directives:{Intersect:Be},inheritAttrs:!1,props:lt(),emits:{"click:control":t=>!0,"mousedown:control":t=>!0,"update:focused":t=>!0,"update:modelValue":t=>!0},setup(t,B){let{attrs:m,emit:p,slots:b}=B;const _=De(t,"modelValue"),{isFocused:y,focus:F,blur:g}=Ee(t),D=J(()=>typeof t.counterValue=="function"?t.counterValue(_.value):(_.value||"").toString().length),w=J(()=>{if(m.maxlength)return m.maxlength;if(!(!t.counter||typeof t.counter!="number"&&typeof t.counter!="string"))return t.counter});function L(i,O){var r,a;!t.autofocus||!i||(a=(r=O[0].target)==null?void 0:r.focus)==null||a.call(r)}const A=d(),h=d(),T=Te(""),I=d(),x=J(()=>t.persistentPlaceholder||y.value||t.active);function k(){var i;I.value!==document.activeElement&&((i=I.value)==null||i.focus()),y.value||F()}function n(i){k(),p("click:control",i)}function V(i){p("mousedown:control",i)}function c(i){i.stopPropagation(),k(),j(()=>{_.value="",Ye(t["onClick:clear"],i)})}function v(i){var r;const O=i.target;if(_.value=O.value,(r=t.modelModifiers)!=null&&r.trim){const a=[O.selectionStart,O.selectionEnd];j(()=>{O.selectionStart=a[0],O.selectionEnd=a[1]})}}const N=d(),H=d(+t.rows),X=J(()=>["plain","underlined"].includes(t.variant));Me(()=>{t.autoGrow||(H.value=+t.rows)});function M(){t.autoGrow&&j(()=>{if(!N.value||!h.value)return;const i=getComputedStyle(N.value),O=getComputedStyle(h.value.$el),r=parseFloat(i.getPropertyValue("--v-field-padding-top"))+parseFloat(i.getPropertyValue("--v-input-padding-top"))+parseFloat(i.getPropertyValue("--v-field-padding-bottom")),a=N.value.scrollHeight,f=parseFloat(i.lineHeight),R=Math.max(parseFloat(t.rows)*f+r,parseFloat(O.getPropertyValue("--v-input-control-height"))),Q=parseFloat(t.maxRows)*f+r||1/0,o=je(a??0,R,Q);H.value=Math.floor((o-r)/f),T.value=Je(o)})}fe(M),q(_,M),q(()=>t.rows,M),q(()=>t.maxRows,M),q(()=>t.density,M);let U;return q(N,i=>{i?(U=new ResizeObserver(M),U.observe(N.value)):U==null||U.disconnect()}),Pe(()=>{U==null||U.disconnect()}),Ge(()=>{const i=!!(b.counter||t.counter||t.counterValue),O=!!(i||b.details),[r,a]=Le(m),{modelValue:f,...R}=ie.filterProps(t),Q=ze(t);return e(ie,$({ref:A,modelValue:_.value,"onUpdate:modelValue":o=>_.value=o,class:["v-textarea v-text-field",{"v-textarea--prefixed":t.prefix,"v-textarea--suffixed":t.suffix,"v-text-field--prefixed":t.prefix,"v-text-field--suffixed":t.suffix,"v-textarea--auto-grow":t.autoGrow,"v-textarea--no-resize":t.noResize||t.autoGrow,"v-input--plain-underlined":X.value},t.class],style:t.style},r,R,{centerAffix:H.value===1&&!X.value,focused:y.value}),{...b,default:o=>{let{id:z,isDisabled:ne,isDirty:re,isReadonly:ye,isValid:Ae}=o;return e(qe,$({ref:h,style:{"--v-textarea-control-height":T.value},onClick:n,onMousedown:V,"onClick:clear":c,"onClick:prependInner":t["onClick:prependInner"],"onClick:appendInner":t["onClick:appendInner"]},Q,{id:z.value,active:x.value||re.value,centerAffix:H.value===1&&!X.value,dirty:re.value||t.dirty,disabled:ne.value,focused:y.value,error:Ae.value===!1}),{...b,default:Oe=>{let{props:{class:se,...ue}}=Oe;return e(ee,null,[t.prefix&&e("span",{class:"v-text-field__prefix"},[t.prefix]),de(e("textarea",$({ref:I,class:se,value:_.value,onInput:v,autofocus:t.autofocus,readonly:ye.value,disabled:ne.value,placeholder:t.placeholder,rows:t.rows,name:t.name,onFocus:k,onBlur:g},ue,a),null),[[He("intersect"),{handler:L},null,{once:!0}]]),t.autoGrow&&de(e("textarea",{class:[se,"v-textarea__sizer"],id:`${ue.id}-sizer`,"onUpdate:modelValue":Se=>_.value=Se,ref:N,readonly:!0,"aria-hidden":"true"},null),[[Qe,_.value]]),t.suffix&&e("span",{class:"v-text-field__suffix"},[t.suffix])])}})},details:O?o=>{var z;return e(ee,null,[(z=b.details)==null?void 0:z.call(b,o),i&&e(ee,null,[e("span",null,null),e(Xe,{active:t.persistentCounter||y.value,value:D.value,max:w.value,disabled:t.disabled},b.counter)])])}:void 0})}),We({},A,h,I)}}),rt=u("h1",null,"Ordem de Serviço nº",-1),st={style:{color:"red","margin-left":"18px"}},ut=u("hr",{class:"mb-5"},null,-1),it={__name:"Ordem",props:{show:Boolean,numero_os:Number,ordemserv_token:String,ordem:{type:Object,required:!0}},emits:["close"],setup(t,{emit:B}){const m=t,p=d(m.show),b=le(),_=`${b.public.managemant}/listarFormasReceb`,y=`${b.public.managemant}/receberOs`,F=d([]),g=d([]),D=d([]),w=ae({descricao:null,forma:null,valor:0}),L=B,A={forma:{required:we.withMessage("O campo é obrigatorio",xe)}},h=he(A,w),T=[{title:"Forma",value:"forma"},{title:"Valor",value:"valor"},{value:"actions"}];q(()=>m.show,V=>{p.value=V});const I=()=>{p.value=!1,L("close")},x=async()=>{try{const V=E("auth_token").value,c={ordemserv_token:m.ordemserv_token,usuario_token:V,recebimentos:D.value},{data:v,error:N}=await P(y,{method:"POST",body:JSON.stringify(c)},"$vhMIR8Sr2p")}catch(V){console.error("Erro ao realizar a requisição:",V)}},k=async()=>{try{const c={cartorio_token:d(E("user-data").value.cartorio_token).value},{data:v,error:N}=await P(_,{method:"POST",body:JSON.stringify(c)},"$eiMzO5y6Bb");F.value=Ze(v.value)}catch(V){console.error("Erro ao realizar a requisição:",V)}},n=()=>{const V=F.value.find(c=>c.token===w.forma);V&&g.value.push({forma:w.forma,descricao:V.descricao,valor:w.valor})};return k(),(V,c)=>(W(),oe(Ce,{persistent:"",modelValue:l(p),"onUpdate:modelValue":c[4]||(c[4]=v=>be(p)?p.value=v:null),"max-width":"650"},{default:s(()=>[e(te,null,{default:s(()=>[e(Y,null,{default:s(()=>[e(G,{class:"mb-5 mt-1 ml-2"},{default:s(()=>[rt,u("h1",st,K(m.numero_os),1)]),_:1}),e(Y,null,{default:s(()=>[e(G,null,{default:s(()=>[e(S,{class:"mr-5",label:"Recebido",modelValue:m.ordem.valor_pago,"onUpdate:modelValue":c[0]||(c[0]=v=>m.ordem.valor_pago=v),disabled:""},null,8,["modelValue"]),e(S,{label:"Falta Receber",modelValue:m.ordem.valor,"onUpdate:modelValue":c[1]||(c[1]=v=>m.ordem.valor=v),disabled:""},null,8,["modelValue"])]),_:1}),e(G,null,{default:s(()=>[e(Z,{class:"mb-5 mr-5",label:"Forma",modelValue:l(w).forma,"onUpdate:modelValue":c[2]||(c[2]=v=>l(w).forma=v),items:l(F),"item-title":"descricao","item-value":"token",required:"","error-messages":l(h).forma.$errors.map(v=>v.$message),onBlur:l(h).forma.$touch},null,8,["modelValue","items","error-messages","onBlur"]),e(S,{label:"Valor",modelValue:l(w).valor,"onUpdate:modelValue":c[3]||(c[3]=v=>l(w).valor=v),type:"number"},null,8,["modelValue"]),u("div",null,[u("img",{src:_e,class:"ml-5",style:{cursor:"pointer",height:"40px",width:"40px"},onClick:n})])]),_:1})]),_:1}),ut,e(pe,{headers:T,items:l(g),"item-value":"token"},{"item.forma":s(({item:v})=>[ge(K(v.descricao),1)]),_:1},8,["items"])]),_:1}),u("div",{style:{display:"flex","justify-content":"flex-start"}},[u("div",{class:"ml-10"},[u("img",{src:Ve,style:{cursor:"pointer"},onClick:I})]),u("div",{class:"ml-12"},[u("img",{src:ke,style:{cursor:"pointer"},onClick:x})])])]),_:1})]),_:1},8,["modelValue"]))}},dt=u("h1",null,"Cancelamento da OS nº",-1),ct={style:{color:"red","margin-left":"18px"}},mt={__name:"Ordem",props:{show:Boolean,numero_os:Number,ordemserv_token:String},emits:["close"],setup(t,{emit:B}){const m=t,p=d(m.show),b=le();d(E("user-data").value.cartorio_token).value;const _=E("auth_token").value,y=`${b.public.managemant}/analisaCancelamento`,F=`${b.public.managemant}/cancelaOs`,g=ae({motivo:null}),D=d(null),w=B,L={motivo:{required:we.withMessage("O campo é obrigatorio",xe)}},A=he(L,g);q(()=>m.show,x=>{p.value=x});const h=()=>{p.value=!1,w("close")};(async()=>{const{data:x,error:k}=await P(`${y}`,{method:"POST",body:{ordemserv_token:m.ordemserv_token}},"$1fnrIk2fgs");D.value=x.value.mensagem})();const I=async()=>{if(await A.value.$validate()){const{status:x}=await P(`${F}`,{method:"POST",body:{usuario_token:_,motivo:g.motivo,ordemserv_token:m.ordemserv_token}},"$21WlhUNXeM");x.value==="success"&&(window.location.reload(),h())}};return(x,k)=>(W(),oe(Ce,{persistent:"",modelValue:l(p),"onUpdate:modelValue":k[1]||(k[1]=n=>be(p)?p.value=n:null),"max-width":"650"},{default:s(()=>[e(te,null,{default:s(()=>[e(Y,null,{default:s(()=>[e(G,{class:"mb-5 mt-1 ml-2"},{default:s(()=>[dt,u("h1",ct,K(m.numero_os),1)]),_:1}),e(Y,null,{default:s(()=>[e(te,{variant:"outlined",class:"mb-5"},{default:s(()=>[e(at,null,{default:s(()=>[ge(K(l(D)),1)]),_:1})]),_:1}),e(nt,{label:"Motivo",modelValue:l(g).motivo,"onUpdate:modelValue":k[0]||(k[0]=n=>l(g).motivo=n),required:"","error-messages":l(A).motivo.$errors.map(n=>n.$message),onBlur:l(A).motivo.$touch,onInput:l(A).motivo.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),u("div",{style:{display:"flex","justify-content":"flex-start"}},[u("div",{class:"ml-10"},[u("img",{src:Ve,style:{cursor:"pointer"},onClick:h})]),u("div",{class:"ml-12"},[u("img",{src:ke,style:{cursor:"pointer"},onClick:I})])])]),_:1})]),_:1},8,["modelValue"]))}},vt="data:image/png;base64,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",ft=u("h1",null,"Ordens de Serviço",-1),pt=u("hr",{class:"mt-5 mb-5"},null,-1),gt=["title","onClick"],bt=["onClick","title"],_t=["disabled","onClick"],Vt={key:0,style:{width:"30px",height:"30px"},src:et,alt:"Visualizar",title:"Bloqueado"},wt={key:1,src:tt,alt:"Cancelamento",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Cancelamento"},Nt={__name:"index",setup(t){const B=le(),m=`${B.public.managemant}/listarUsuarios`,p=`${B.public.managemant}/listarOrdensServico`,b=`${B.public.managemant}/tipoAtos`,_=Ke(),y=d(E("auth_token").value)||null,F=d(E("user-data").value.cartorio_token)||null,g=d([]),D=d([]),w=d([]),L=d(["PENDENTE","EM ANDAMENTO","CONCLUÍDA","LAVRADA"]),A=d(!1),h=d(!1),T=d(null),I=d(null),x=d(null),k=d({}),n=ae({numero:null,data_inicio:c(),data_fim:c(),data_lavratura_inicio:null,data_lavratura_fim:null,protocolo:null,livro:null,folha:null,situacao:null,usuario_token:y.value,selo:null,ato_tipo_token:null,apresentante:null}),V=[{title:"Número",value:"numero"},{title:"Situação",value:"situacao"},{title:"CPF",value:"apresentante_cpf"},{title:"Apresentante",value:"apresentante_nome"},{title:"Usuario",value:"usuario_nome"},{title:"Data Recebimento",value:"dt_pagto"},{value:"actions"}];function c(){const r=new Date,a=r.getFullYear(),f=String(r.getMonth()+1).padStart(2,"0"),R=String(r.getDate()).padStart(2,"0");return`${a}-${f}-${R}`}async function v(){const{data:r,error:a}=await P(m,{method:"POST",body:{cartorio_token:F.value}},"$865v1qFEsl");D.value=r.value}async function N(){try{sessionStorage.setItem("pesquisaOS",JSON.stringify(n));const{data:r,error:a}=await P(p,{method:"POST",body:{cartorio_token:F.value,numero:n.numero,data_inicio:n.data_inicio,data_fim:n.data_fim,data_lavratura_inicio:n.data_lavratura_inicio,data_lavratura_fim:n.data_lavratura_fim,protocolo:n.protocolo,livro:n.livro,folha:n.folha,situacao:n.situacao,usuario_token:n.usuario_token,selo:n.selo,ato_tipo_token:n.ato_tipo_token,apresentante:n.apresentante}},"$GorUGsNsKS");r.value.length>0?g.value=r.value:g.value=[]}catch(r){console.error("Erro na requisição",r)}}async function H(){const{data:r,error:a}=await P(b,{method:"POST",body:{cartorio_token:F.value,usuario_token:y.value}},"$wkWiNo8Od3");w.value=r.value}const X=async()=>{try{const r=c(),a=sessionStorage.getItem("pesquisaOS"),f=JSON.parse(a),{data:R,error:Q}=await P(p,{method:"POST",body:{cartorio_token:F.value,usuario_token:y.value,data_fim:(f==null?void 0:f.data_fim)||r,data_inicio:(f==null?void 0:f.data_inicio)||r}},"$zDH8ovqZZe");R.value.length>0?(g.value=R.value,console.log(g.value)):g.value=[]}catch(r){console.error("Erro ao buscar serviços",r)}};v(),H();function M(r,a,f){x.value=r,I.value=a,h.value=!0}function U(r){const a=E("user-service"),f=g.value.find(R=>R.id===r);a.value=f.token,_.push({path:`/ordens-servicos/atualizar/${r}`})}function i(r,a){x.value=r,k.value={token:a.token,numero:a.numero,valor:a.valor,valor_pago:a.valor_pago},A.value=!0}const O=()=>{const r=E("user-service"),a=E("ordem-button");r.value=null,T.value=!0,a.value=T.value};return fe(()=>{j(async()=>{const r=sessionStorage.getItem("pesquisaOS");if(r){const a=JSON.parse(r);Object.assign(n,a)}await X()})}),(r,a)=>{const f=Fe,R=it,Q=mt;return W(),oe(Y,{class:"mt-5"},{default:s(()=>[e(G,{class:"mb-5"},{default:s(()=>[ft,e(f,{to:"/ordens-servicos/criar-registro"},{default:s(()=>[u("img",{style:{width:"60px",height:"60px",cursor:"pointer","margin-left":"70px"},src:_e,alt:"novo",onClick:O})]),_:1})]),_:1}),e(G,{style:{"margin-bottom":"-35px"}},{default:s(()=>[e(C,null,{default:s(()=>[e(S,{modelValue:l(n).numero,"onUpdate:modelValue":a[0]||(a[0]=o=>l(n).numero=o),label:"Número",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(C,null,{default:s(()=>[e(S,{modelValue:l(n).data_inicio,"onUpdate:modelValue":a[1]||(a[1]=o=>l(n).data_inicio=o),type:"date",label:"Abertura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(C,null,{default:s(()=>[e(S,{modelValue:l(n).data_fim,"onUpdate:modelValue":a[2]||(a[2]=o=>l(n).data_fim=o),type:"date",label:"Abertura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(C,null,{default:s(()=>[e(S,{modelValue:l(n).data_lavratura_inicio,"onUpdate:modelValue":a[3]||(a[3]=o=>l(n).data_lavratura_inicio=o),type:"date",label:"Lavratura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(C,null,{default:s(()=>[e(S,{modelValue:l(n).data_lavratura_fim,"onUpdate:modelValue":a[4]||(a[4]=o=>l(n).data_lavratura_fim=o),type:"date",label:"Lavratura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(C,null,{default:s(()=>[e(S,{modelValue:l(n).protocolo,"onUpdate:modelValue":a[5]||(a[5]=o=>l(n).protocolo=o),label:"Protocolo",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(C,{md:"1"},{default:s(()=>[e(S,{modelValue:l(n).livro,"onUpdate:modelValue":a[6]||(a[6]=o=>l(n).livro=o),label:"Livro",style:{width:"80px"}},null,8,["modelValue"])]),_:1}),e(C,{md:"1"},{default:s(()=>[e(S,{modelValue:l(n).folha,"onUpdate:modelValue":a[7]||(a[7]=o=>l(n).folha=o),label:"Folha",style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(G,null,{default:s(()=>[e(C,{md:"3"},{default:s(()=>[e(Z,{modelValue:l(n).situacao,"onUpdate:modelValue":a[8]||(a[8]=o=>l(n).situacao=o),items:l(L),label:"Situação"},null,8,["modelValue","items"])]),_:1}),e(C,{md:"2"},{default:s(()=>[e(Z,{items:l(D),modelValue:l(n).usuario_token,"onUpdate:modelValue":a[9]||(a[9]=o=>l(n).usuario_token=o),"item-title":"user_nome","item-value":"user_token",label:"Usuario"},null,8,["items","modelValue"])]),_:1}),e(C,{md:"1"},{default:s(()=>[e(S,{modelValue:l(n).selo,"onUpdate:modelValue":a[10]||(a[10]=o=>l(n).selo=o),label:"Selo"},null,8,["modelValue"])]),_:1}),e(C,{md:"3"},{default:s(()=>[e(Z,{modelValue:l(n).ato_tipo_token,"onUpdate:modelValue":a[11]||(a[11]=o=>l(n).ato_tipo_token=o),items:l(w),"item-title":"descricao","item-value":"token",label:"Serviço"},null,8,["modelValue","items"])]),_:1}),e(C,{md:"2"},{default:s(()=>[e(S,{modelValue:l(n).apresentante,"onUpdate:modelValue":a[12]||(a[12]=o=>l(n).apresentante=o),label:"Apresentante"},null,8,["modelValue"])]),_:1}),e(C,null,{default:s(()=>[u("div",null,[u("img",{onClick:N,style:{width:"40px",height:"40px",cursor:"pointer"},src:ot,alt:"Pesquisar"})])]),_:1})]),_:1}),pt,e(pe,{headers:V,items:l(g),"item-key":"id"},{"item.actions":s(({item:o})=>[e(G,{style:{display:"flex",gap:"10px","margin-top":"-5px"}},{default:s(()=>[u("div",{class:me({disabled:!o.btn_receber}),title:o.btn_receber?"Receber":"Bloqueado",onClick:z=>o.btn_receber?i(o.numero,o):null},[u("img",{style:ce({cursor:o.btn_receber?"pointer":"default",width:"30px",height:"30px"}),src:vt,alt:"Receber"},null,4)],10,gt),u("div",{class:me({disabled:!o.btn_editar}),onClick:z=>o.btn_editar?U(o.id):null,title:o.btn_editar?"Editar":"Bloqueado"},[u("img",{style:ce({cursor:o.btn_editar?"pointer":"default",width:"30px",height:"30px"}),src:$e,alt:"Editar"},null,4)],10,bt),u("div",{disabled:!o.btn_cancelar,onClick:z=>o.btn_cancelar?M(o.numero,o.token):null,title:"Cancelamento"},[o.excluido?(W(),ve("img",Vt)):(W(),ve("img",wt))],8,_t)]),_:2},1024)]),_:1},8,["items"]),e(R,{show:l(A),numero_os:l(x),ordem:l(k),onClose:a[13]||(a[13]=o=>A.value=!1)},null,8,["show","numero_os","ordem"]),e(Q,{show:l(h),numero_os:l(x),ordemserv_token:l(I),onClose:a[14]||(a[14]=o=>h.value=!1)},null,8,["show","numero_os","ordemserv_token"])]),_:1})}}};export{Nt as default};
