import{_ as I}from"./De8OcPfw.js";import{_ as P,u as A,r as y,G as B,M as E,q as u,o as _,A as S,w as i,C as T,x as U,b as a,a as o,s as g,v,c as C,J as F,p as J,e as G}from"./Cy8nFgic.js";import{b as O,u as j}from"./Cg-9lB6v.js";import{_ as q,a as M}from"./CrE-eFFQ.js";import{_ as Q}from"./DCsXQasW.js";import{_ as W,a as X}from"./qu7Wfn_m.js";import{V as Y}from"./D4JgdFi9.js";import{V}from"./CFZoonNA.js";const m=n=>(J("data-v-9f4b0129"),n=n(),G(),n),H=m(()=>o("img",{class:"btn-pointer",src:q,alt:"Cadastro"},null,-1)),K={style:{width:"200px"}},Z={style:{width:"300px"}},ee=["onClick"],te=m(()=>o("img",{style:{width:"30px",height:"30px"},src:Q,alt:"Visualizar"},null,-1)),se=[te],oe=["onClick"],ae=m(()=>o("img",{style:{width:"30px",height:"30px"},src:W,alt:"Atualizar"},null,-1)),ie=[ae],ne=["onClick"],le={key:0,style:{width:"30px",height:"30px"},src:X,alt:"Visualizar",title:"Reativar"},ce={key:1,src:M,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},re={__name:"index",async setup(n){let l,h;const f=U(),w=`${f.public.managemant}/getAllPessoa`,b=`${f.public.managemant}/deletePessoa`,x=A(),c=y(""),r=y(""),k=[{title:"Documento",value:"doc_identificacao"},{title:"Nome/RazÃ£o Social",value:"nome"},{value:"actions"}],{data:z,pending:$}=([l,h]=B(()=>O(w,"$Y8azOgWBC8")),l=await l,h(),l),R=E(()=>z.value.filter(e=>{const s=e.doc_identificacao?e.doc_identificacao.toLowerCase():"",p=e.nome?e.nome.toLowerCase():"",t=s.includes(r.value.toLowerCase()),d=p.includes(c.value.toLowerCase());return t&&d}));async function L(e){e.excluido=!e.excluido;try{await j(`${b}/${e.id}`,{method:"PUT",body:JSON.stringify({excluido:e.excluido})},"$R09XREGJQC")}catch(s){console.error("Erro ao excluir pessoa:",s)}}function N(e){x.push({path:`/pessoas/vizualizar/${e}`})}function D(e){x.push({path:`/pessoas/atualizar/${e}`})}return(e,s)=>{const p=I;return u($)?T("",!0):(_(),S(Y,{key:0,class:"mt-5"},{default:i(()=>[a(p,{to:"/pessoas/cadastro"},{default:i(()=>[H]),_:1}),a(V,{style:{gap:"10rem"}},{default:i(()=>[o("div",K,[a(g,{class:"mt-7 mb-4",modelValue:u(r),"onUpdate:modelValue":s[0]||(s[0]=t=>v(r)?r.value=t:null),label:"Documento","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),o("div",Z,[a(g,{class:"mt-7 mb-4",modelValue:u(c),"onUpdate:modelValue":s[1]||(s[1]=t=>v(c)?c.value=t:null),label:"Pessoa","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])])]),_:1}),a(F,{density:"compact",headers:k,items:u(R),"item-key":"id"},{"item.actions":i(({item:t})=>[a(V,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:i(()=>[o("div",{class:"btn-pointer",onClick:d=>N(t.id),title:"Visualizar"},se,8,ee),o("div",{class:"btn-pointer",onClick:d=>D(t.id),title:"Atualizar"},ie,8,oe),o("div",{class:"btn-pointer",onClick:d=>L(t),title:"Deletar"},[t.excluido?(_(),C("img",le)):(_(),C("img",ce))],8,ne)]),_:2},1024)]),_:1},8,["items"])]),_:1}))}}},ye=P(re,[["__scopeId","data-v-9f4b0129"]]);export{ye as default};
