import{_ as A}from"./Cbc0Spl8.js";import{_ as B,L as D,r as g,v as E,x as l,o as u,s as I,w as i,y as P,z as T,b as s,V as y,A as V,a,c as v,ax as U,p as L,e as F}from"./8Lc1Ye8d.js";import{u as J,a as O}from"./BatLNKDS.js";import{_ as G,c as Q,a as W,b as X}from"./CZDdFGDk.js";import{_ as Y}from"./DCsXQasW.js";import{V as b,_ as j}from"./DzzenEPx.js";import{V as q}from"./B731R9lY.js";const d=n=>(L("data-v-cebe555f"),n=n(),F(),n),H=d(()=>a("img",{class:"btn-pointer",src:G,alt:"Cadastro"},null,-1)),K=["onClick"],M=d(()=>a("img",{style:{width:"40px",height:"40px"},src:Y,alt:"Visualizar"},null,-1)),Z=[M],ee=["onClick"],te=d(()=>a("img",{style:{width:"40px",height:"40px"},src:Q,alt:"Atualizar"},null,-1)),se=[te],ae=["onClick"],oe={key:0,style:{width:"40px",height:"40px"},src:W,alt:"Visualizar",title:"Reativar"},ie={key:1,src:X,alt:"Excluir",class:"trash-icon",style:{width:"40px",height:"40px"},title:"Excluir"},le=d(()=>a("img",{src:j,alt:"Sair"},null,-1)),ne={__name:"index",async setup(n){let c,_;const m=T(),k=`${m.public.managemant}/getAllPessoa`,C=`${m.public.managemant}/deletePessoa`,h=D(),r=g(""),p=g(""),w=[{title:"Documento",value:"doc_identificacao",search:""},{title:"Nome/RazÃ£o Social",value:"nome",search:""},{value:"actions"}],{data:z,pending:$}=([c,_]=E(()=>J(k,"$Y8azOgWBC8")),c=await c,_(),c);async function R(e){e.excluido=!e.excluido;try{await O(`${C}/${e.id}`,{method:"PUT",body:JSON.stringify({excluido:e.excluido})},"$R09XREGJQC")}catch(o){console.error("Erro ao excluir pessoa:",o)}}function N(e){h.push({path:`/pessoas/vizualizar/${e}`})}function S(e){h.push({path:`/pessoas/atualizar/${e}`})}return(e,o)=>{const f=A;return l($)?P("",!0):(u(),I(q,{key:0,class:"mt-5"},{default:i(()=>[s(f,{to:"/pessoas"},{default:i(()=>[H]),_:1}),s(b,{style:{gap:"2rem"}},{default:i(()=>[s(y,{class:"mt-7 mb-4",modelValue:l(r),"onUpdate:modelValue":o[0]||(o[0]=t=>V(r)?r.value=t:null),label:"Pessoa","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"]),s(y,{class:"mt-7 mb-4",modelValue:l(p),"onUpdate:modelValue":o[1]||(o[1]=t=>V(p)?p.value=t:null),label:"Documento","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),_:1}),s(U,{search:l(r),headers:w,items:l(z),"item-key":"id"},{"item.actions":i(({item:t})=>[s(b,{style:{display:"flex",gap:"10px"}},{default:i(()=>[a("div",{class:"btn-pointer",onClick:x=>N(t.id),title:"Visualizar"},Z,8,K),a("div",{class:"btn-pointer",onClick:x=>S(t.id),title:"Atualizar"},se,8,ee),a("div",{class:"btn-pointer",onClick:x=>R(t),title:"Deletar"},[t.excluido?(u(),v("img",oe)):(u(),v("img",ie))],8,ae)]),_:2},1024)]),_:1},8,["search","items"]),s(f,{to:"/home"},{default:i(()=>[le]),_:1})]),_:1}))}}},he=B(ne,[["__scopeId","data-v-cebe555f"]]);export{he as default};
