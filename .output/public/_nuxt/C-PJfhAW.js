import{c as ea,r as ia,u as Ua}from"./elIjU4BV.js";import{c as rr}from"./DEPIrcGv.js";import{D as Da,u as ma,m as De,r as _e,E as Ba,I as za,L as Ca,o as de,c as Be,s as E,C as we,O as Ot,t as tt,J as Me,w as T,b as S,V as me,M as Ye,z as Te,d as Ce,F as ua,A as ca,H as Ra,n as Ha,a as Se,v as da,K as Lt,p as Ee,g as Na,_ as rt,bi as mt,y as Pa,c2 as ja,c3 as ir,c4 as nr,c5 as pt,c6 as it,by as la,br as gt,c7 as or,N as lr,c8 as Tt,c9 as Ut,ca as nt,cb as sr,aR as Ht,cc as dr,cd as ur,ce as ot,cf as wa,cg as cr,bT as fr,ch as vr,ci as hr,cj as bt,ck as _r,cl as mr,cm as pr,cn as gr,co as wt,cp as br,Q as jt,c1 as wr}from"./Bw6gWsde.js";import{u as lt,V as Re}from"./68f66XyB.js";import{$ as sa,f as je}from"./VMwGr9MF.js";import{a as Ft,f as La}from"./B0IxRygJ.js";import{V as fe}from"./xgGJjJzZ.js";import{V as Gt}from"./BOAisKxm.js";import{V as qe}from"./DpQP_zGa.js";import{V as aa}from"./DY8L9Xh2.js";import{_ as Zt}from"./CwU9w7_Y.js";import{_ as Ta}from"./BVz1G1IN.js";import{_ as Kt}from"./CbE3VJQm.js";import{_ as st,a as dt}from"./DJvq3mCv.js";import{V as ut}from"./8p1mWxH2.js";import{V as Ma}from"./ChCzoEIc.js";import{V as Ia,a as ct,b as Jt,c as ft}from"./SRCo7hzf.js";import{u as We}from"./b-ckSkst.js";import{_ as Yt}from"./BRx_jc7V.js";import{a as kr,V as Ea,d as yr,e as Sa}from"./C6KuOo2n.js";const xr={key:1},Er={__name:"Dados",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],async setup(R,{emit:O}){let j,$;const y=R,L=O,t=Da(),{$toast:a}=ma(),i=ca(),g=`${i.public.auth}/service/gerencia/createPessoa`,f=`${i.public.auth}/service/gerencia/updatePessoa`,v=`${i.public.auth}/service/gerencia/listarEstadoCivil`,s=`${i.public.auth}/service/gerencia/listarCapacidadeCivil`,h=`${i.public.auth}/service/gerencia/listarCidades`,b=`${i.public.auth}/service/gerencia/listarSexo`,l={nome:null,nome_pai:null,nome_mae:null,profissao:null,local_trabalho:null,data_nascimento:null,doc_identificacao:null,fone_celular:null,cpf_pai:null,cpf_mae:null,tipo_pessoa:"FISICA",tabvalores_estadocivil_id:null,tabvalores_capacidadecivil_id:null,tabvalores_sexo_id:null,cidade_natural_id:null,cartorio_id:De("user-data").value.cartorio_id,user_id:De("user-data").value.usuario_id},_=_e(!1),c=De("pessoa-id"),r=Ba({...l});function n(C){if(C)return C.replace(/[.\-]/g,"");C=null}const{data:u,status:m,pending:w,error:k}=([j,$]=za(async()=>lt("cliente-dados",async()=>{const[C,B,U,Z]=await Promise.all([sa(v),sa(s),sa(h),sa(b)]);return{estadoCivilItems:C,capacidadeCivilItems:B,cidadeNascimentoItems:U,sexoItems:Z}})),j=await j,$(),j),x={nome:{required:ea.withMessage("O campo é obrigatorio",ia)},nome_mae:{required:ea.withMessage("O campo é obrigatorio",ia)},doc_identificacao:{required:ea.withMessage("O campo é obrigatorio",ia),cpf:rr}},N=Ua(x,r);async function V(){if(await N.value.$validate()){const C={...r};for(const G in C)C[G]===""&&(C[G]=null);const B={...C,doc_identificacao:n(r.doc_identificacao),cpf_pai:n(r.cpf_pai),cpf_mae:n(r.cpf_mae),data_nascimento:Ft(r.data_nascimento),fone_celular:r.fone_celular.replace(/[^0-9]/g,"")},{data:U,error:Z,status:D}=await je(g,{method:"POST",body:B});if(D.value==="error"&&Z.value.statusCode===500)a.error("Erro ao cadastrar pessoa,o CPF já está cadastrado.");else{a.success("Pessoa cadastrada com sucesso!");const G=U.value.id;c.value=G;const J=De("pessoa_token");J.value=U.value.token,_.value=!0,L("saved")}}else a.error("Erro ao cadastrar pessoa, preencha os campos obrigatorios.")}async function z(){const C={...r};for(const G in C)C[G]===""&&(C[G]=null);const B={...C,doc_identificacao:n(r.doc_identificacao),cpf_mae:n(r.cpf_mae),fone_celular:r.fone_celular.replace(/[^0-9]/g,"")},{data:U,error:Z,status:D}=await je(`${f}/${c.value}`,{method:"PUT",body:B});if(D.value==="success"){if(y.isModal===!0){a.success("Pessoa atualizada com sucesso!"),L("close-modal");return}a.success("Pessoa atualizada com sucesso!"),t.push("/pessoas/lista")}}const M=()=>{if(y.isModal===!0){L("close-modal");return}t.push("/pessoas/lista")};return(C,B)=>{const U=Ca("mask"),Z=Ca("modal");return de(),Be(ua,null,[E(w)?(de(),we(Ot,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):E(k)?(de(),Be("div",xr,tt(E(k).message),1)):Me("",!0),E(w)?Me("",!0):(de(),we(aa,{key:2},{default:T(()=>[S(Re,null,{default:T(()=>[S(fe,{md:"6"},{default:T(()=>[S(me,{modelValue:E(r).nome,"onUpdate:modelValue":B[0]||(B[0]=D=>E(r).nome=D),"error-messages":E(N).nome.$errors.map(D=>D.$message),label:"Nome",required:"",onBlur:E(N).nome.$touch,onInput:E(N).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),S(fe,{md:"4"},{default:T(()=>[Ye(S(me,{modelValue:E(r).doc_identificacao,"onUpdate:modelValue":B[1]||(B[1]=D=>E(r).doc_identificacao=D),"error-messages":E(N).doc_identificacao.$errors.map(D=>D.$message),label:"CPF",required:"",onBlur:E(N).doc_identificacao.$touch,onInput:E(N).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[U,"###.###.###-##"]])]),_:1}),S(fe,{md:"2"},{default:T(()=>[S(Gt,{label:"Sexo",modelValue:E(r).tabvalores_sexo_id,"onUpdate:modelValue":B[2]||(B[2]=D=>E(r).tabvalores_sexo_id=D),items:E(u).sexoItems,"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),S(Re,null,{default:T(()=>[S(fe,{md:"4"},{default:T(()=>[S(qe,{modelValue:E(r).tabvalores_estadocivil_id,"onUpdate:modelValue":B[3]||(B[3]=D=>E(r).tabvalores_estadocivil_id=D),items:E(u).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),S(fe,{md:"4"},{default:T(()=>[S(me,{modelValue:E(r).profissao,"onUpdate:modelValue":B[4]||(B[4]=D=>E(r).profissao=D),label:"Profissão"},null,8,["modelValue"])]),_:1}),S(fe,{md:"4"},{default:T(()=>[S(me,{modelValue:E(r).local_trabalho,"onUpdate:modelValue":B[5]||(B[5]=D=>E(r).local_trabalho=D),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),S(Re,null,{default:T(()=>[S(fe,{md:"2"},{default:T(()=>[Ye(S(me,{modelValue:E(r).data_nascimento,"onUpdate:modelValue":B[6]||(B[6]=D=>E(r).data_nascimento=D),label:"Data de nascimento",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[U,"##/##/####"]])]),_:1}),S(fe,{md:"2"},{default:T(()=>[Ye(S(me,{label:"Celular",placeholder:"'(99) 99999-9999'"},null,512),[[Z,E(r).fone_celular],[U,"(##) #####-####"]])]),_:1}),S(fe,{md:"4"},{default:T(()=>[S(qe,{modelValue:E(r).tabvalores_capacidadecivil_id,"onUpdate:modelValue":B[7]||(B[7]=D=>E(r).tabvalores_capacidadecivil_id=D),items:E(u).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(fe,{md:"4"},{default:T(()=>[S(qe,{modelValue:E(r).cidade_natural_id,"onUpdate:modelValue":B[8]||(B[8]=D=>E(r).cidade_natural_id=D),items:E(u).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),S(Re,null,{default:T(()=>[S(fe,{md:"4"},{default:T(()=>[Ye(S(me,{modelValue:E(r).cpf_pai,"onUpdate:modelValue":B[9]||(B[9]=D=>E(r).cpf_pai=D),label:"CPF do Pai"},null,8,["modelValue"]),[[U,"###.###.###-##"]])]),_:1}),S(fe,{md:"4"},{default:T(()=>[S(me,{modelValue:E(r).nome_pai,"onUpdate:modelValue":B[10]||(B[10]=D=>E(r).nome_pai=D),label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),S(Re,null,{default:T(()=>[S(fe,{md:"4"},{default:T(()=>[Ye(S(me,{modelValue:E(r).cpf_mae,"onUpdate:modelValue":B[11]||(B[11]=D=>E(r).cpf_mae=D),label:"CPF da Mãe"},null,8,["modelValue"]),[[U,"###.###.###-##"]])]),_:1}),S(fe,{md:"4"},{default:T(()=>[S(me,{modelValue:E(r).nome_mae,"onUpdate:modelValue":B[12]||(B[12]=D=>E(r).nome_mae=D),modelModifiers:{date:!0},"error-messages":E(N).nome_mae.$errors.map(D=>D.$message),label:"Nome da Mãe",required:"",onBlur:E(N).nome_mae.$touch,onInput:E(N).nome_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),S(Re,{class:"mb-3"},{default:T(()=>[S(Te,{onClick:M,size:"large",color:"red"},{default:T(()=>B[14]||(B[14]=[Ce("Voltar")])),_:1}),S(Te,{onClick:B[13]||(B[13]=D=>E(_)?z():V()),class:"ml-4",size:"large",color:"green"},{default:T(()=>B[15]||(B[15]=[Ce("Salvar")])),_:1})]),_:1})]),_:1}))],64)}}},Sr=ea.withMessage("CNPJ inválido",R=>{if(!R)return!1;const O=R.replace(/[^\d]+/g,"");if(O.length!==14||/^(\d)\1+$/.test(O))return!1;let j=O.length-2,$=O.substring(0,j);const y=O.substring(j);let L=0,t=j-7;for(let i=j;i>=1;i--)L+=parseInt($.charAt(j-i),10)*t--,t<2&&(t=9);let a=L%11<2?0:11-L%11;if(a!==parseInt(y.charAt(0),10))return!1;j+=1,$=O.substring(0,j),L=0,t=j-7;for(let i=j;i>=1;i--)L+=parseInt($.charAt(j-i),10)*t--,t<2&&(t=9);return a=L%11<2?0:11-L%11,a===parseInt(y.charAt(1),10)}),Ar={__name:"DadosJuridica",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],setup(R,{emit:O}){const j=R,$=O,y=Da(),L=Ra(),{$toast:t}=ma(),a=ca(),i=`${a.public.auth}/service/gerencia/getPessoaById`,g=`${a.public.auth}/service/gerencia/createPessoa`,f=`${a.public.auth}/service/gerencia/updatePessoa`,{id:v}=L.params,s={nome:null,nome_fantasia:null,inscricao_estadual:null,observacao:null,doc_identificacao:null,tipo_pessoa:"JURIDICA",cartorio_id:De("user-data").value.cartorio_id,user_id:De("user-data").value.usuario_id},h=_e(!1),b=De("pessoa-id"),l=Ba({...s});function _(k){return k?k.replace(/[.\-/]/g,""):null}const c={nome:{required:ea.withMessage("O campo é obrigatorio",ia)},doc_identificacao:{required:ea.withMessage("O campo é obrigatorio",ia),cnpj:Sr}},r=Ua(c,l);async function n(){if(await r.value.$validate()){const k={...l};for(const M in k)k[M]===""&&(k[M]=null);const x={...k,doc_identificacao:_(l.doc_identificacao)},{data:N,error:V,status:z}=await je(g,{method:"POST",body:x});if(z.value==="error"&&V.value.statusCode===500)t.error("Erro ao cadastrar Pessoa Juridica,o CNPJ já está cadastrado.");else{t.success("Pessoa Juridica cadastrada com sucesso!");const M=N.value.id;b.value=M;const C=De("pessoa_token");C.value=N.value.token,h.value=!0,$("saved")}}else t.error("Erro ao cadastrar pessoa juridica, preencha os campos obrigatorios.")}async function u(){const k={...l};for(const M in k)k[M]===""&&(k[M]=null);const x={...k,doc_identificacao:_(l.doc_identificacao)},{data:N,error:V,status:z}=await je(`${f}/${v||b.value}`,{method:"PUT",body:x});if(z.value==="success"){if(j.isModal===!0){t.success("Pessoa Juridica atualizada com sucesso!"),$("close-modal");return}t.success("Pessoa Juridica atualizada com sucesso!"),y.push("/pessoas/lista")}}async function m(){const{data:k,error:x}=await je(`${i}/${v}`,{method:"GET"});Object.assign(l,k.value)}const w=()=>{if(j.isModal===!0){$("close-modal");return}y.push("/pessoas/lista")};return Ha(()=>{v&&(m(),h.value=!0)}),(k,x)=>{const N=Ca("mask");return de(),we(aa,{class:"mt-3",style:{height:"425px"}},{default:T(()=>[S(Re,null,{default:T(()=>[S(fe,{md:"8"},{default:T(()=>[S(me,{modelValue:E(l).nome,"onUpdate:modelValue":x[0]||(x[0]=V=>E(l).nome=V),"error-messages":E(r).nome.$errors.map(V=>V.$message),label:"Razão Social",required:"",onBlur:E(r).nome.$touch,onInput:E(r).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),S(fe,{md:"4"},{default:T(()=>[Ye(S(me,{modelValue:E(l).doc_identificacao,"onUpdate:modelValue":x[1]||(x[1]=V=>E(l).doc_identificacao=V),"error-messages":E(r).doc_identificacao.$errors.map(V=>V.$message),label:"CNPJ",required:"",onBlur:E(r).doc_identificacao.$touch,onInput:E(r).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[N,"##.###.###/####-##"]])]),_:1})]),_:1}),S(Re,null,{default:T(()=>[S(fe,{md:"8"},{default:T(()=>[S(me,{modelValue:E(l).nome_fantasia,"onUpdate:modelValue":x[2]||(x[2]=V=>E(l).nome_fantasia=V),label:"Nome Fantasia"},null,8,["modelValue"])]),_:1}),S(fe,{md:"4"},{default:T(()=>[S(me,{modelValue:E(l).inscricao_estadual,"onUpdate:modelValue":x[3]||(x[3]=V=>E(l).inscricao_estadual=V),label:"Inscrição Estadual"},null,8,["modelValue"])]),_:1})]),_:1}),S(Re,null,{default:T(()=>[S(fe,{md:"12"},{default:T(()=>[S(me,{modelValue:E(l).observacao,"onUpdate:modelValue":x[4]||(x[4]=V=>E(l).observacao=V),label:"Observação"},null,8,["modelValue"])]),_:1})]),_:1}),S(Re,{class:"mb-3"},{default:T(()=>[S(Te,{onClick:w,size:"large",color:"red"},{default:T(()=>x[6]||(x[6]=[Ce("Voltar")])),_:1}),S(Te,{onClick:x[5]||(x[5]=V=>E(h)?u():n()),class:"ml-4",size:"large",color:"green"},{default:T(()=>x[7]||(x[7]=[Ce("Salvar")])),_:1})]),_:1})]),_:1})}}},Vr=["onClick"],Cr=["onClick"],Dr={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:st,alt:"deletar",title:"Reativar"},Br={key:1,src:dt,alt:"reativar",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"reativar"},Rr={__name:"Documentos",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(R,{emit:O}){let j,$;const y=O,L=R,{$toast:t}=ma(),a=Ra(),i=Da(),{id:g}=a.params,f=ca(),v=`${f.public.auth}/service/gerencia/listarTipoDocumento`,s=`${f.public.auth}/service/gerencia/listarUF`,h=`${f.public.auth}/service/gerencia/getPessoaDocById`,b=`${f.public.auth}/service/gerencia/createPessoaDoc`,l=`${f.public.auth}/service/gerencia/updatePessoaDoc`,_=_e(!1),c=_e(null),r=_e(De("user-data").value.usuario_id).value,n=Number(g||De("pessoa-id").value),u=Ba({tabvalores_tipodoc_id:null,emissor:null,numero:null,data_emissao:null,data_vencimento:null,tabvalores_ufemissor_id:null}),m=[{title:"Tipo",value:"tipoDocumento.descricao"},{title:"Número",value:"numero"},{title:"Emissor",value:"emissor"},{title:"UF",value:"ufEmissor.descricao"},{title:"Emissão",value:"data_emissao"},{title:"Validade",value:"data_vencimento"},{value:"actions"}],w={numero:{required:ea.withMessage("O campo é obrigatorio",ia)},emissor:{required:ea.withMessage("O campo é obrigatorio",ia)}},k=Ua(w,u),{data:x,pending:N,refresh:V}=([j,$]=za(async()=>lt("cliente-documentos",async()=>{const[Z,D,G]=await Promise.all([sa(v),sa(s),sa(`${h}/${n}`)]),J=G.map(W=>(console.log(W.data_emissao,W.data_vencimento),{...W,data_emissao:W.data_emissao?La(W.data_emissao,"dd/mm/yyyy"):null,data_vencimento:W.data_vencimento?La(W.data_vencimento,"dd/mm/yyyy"):null}));return{tipoDocumentoItems:Z,ufItems:D,pessoasDocsItems:J}})),j=await j,$(),j);async function z(){if(await k.value.$validate()){const Z={...u};for(const X in Z)Z[X]===""&&(Z[X]=null);const D={...Z,user_id:r,pessoa_id:n},{data:G,error:J,status:W}=await je(b,{method:"POST",body:D});if(W.value==="error"&&J.value.statusCode===500)t.error("Erro ao cadastrar documento,erro no sistema.");else{t.success("Documento cadastrado com sucesso!"),V();for(const X in u)u[X]="";k.value.$reset()}}else t.error("Erro ao cadastrar documento, preencha os campos obrigatorios.")}function M(Z){Z&&(c.value={...Z,data_emissao:Z.data_emissao?La(Z.data_emissao,"dd/mm/yyyy"):null,data_vencimento:Z.data_vencimento?La(Z.data_vencimento,"dd/mm/yyyy"):null},_.value=!0)}async function C(Z){const D={tabvalores_tipodoc_id:c.value.tabvalores_tipodoc_id,numero:c.value.numero,emissor:c.value.emissor,tabvalores_ufemissor_id:c.value.tabvalores_ufemissor_id,data_vencimento:c.value.data_vencimento,data_emissao:Ft(c.value.data_emissao)},{status:G}=await je(`${l}/${Z}`,{method:"PUT",body:D});G.value==="success"&&(_.value=!1,t.success("Pessoa atualizada com sucesso!"),V())}async function B(Z){Z.excluido=!Z.excluido;try{await je(`${l}/${Z.id}`,{method:"PUT",body:JSON.stringify({excluido:Z.excluido})})}catch(D){console.error("Erro ao excluir pessoa:",D)}}const U=()=>{if(L.isModal===!0){y("close-modal");return}i.push("/pessoas/lista")};return(Z,D)=>{const G=Zt,J=Ca("mask");return de(),Be(ua,null,[E(N)?Me("",!0):(de(),we(aa,{key:0,class:"mt-3",style:{height:"425px"}},{default:T(()=>[S(Re,null,{default:T(()=>[S(fe,{md:"2"},{default:T(()=>[S(qe,{modelValue:E(u).tabvalores_tipodoc_id,"onUpdate:modelValue":D[0]||(D[0]=W=>E(u).tabvalores_tipodoc_id=W),items:E(x).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(fe,null,{default:T(()=>[S(me,{modelValue:E(u).numero,"onUpdate:modelValue":D[1]||(D[1]=W=>E(u).numero=W),"error-messages":E(k).numero.$errors.map(W=>W.$message),label:"Numero",required:"",onBlur:E(k).numero.$touch,onInput:E(k).numero.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),S(fe,{md:"2"},{default:T(()=>[S(me,{modelValue:E(u).emissor,"onUpdate:modelValue":D[2]||(D[2]=W=>E(u).emissor=W),"error-messages":E(k).emissor.$errors.map(W=>W.$message),required:"",onBlur:E(k).emissor.$touch,onInput:E(k).emissor.$touch,label:"Emissor"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),S(fe,null,{default:T(()=>[S(qe,{modelValue:E(u).tabvalores_ufemissor_id,"onUpdate:modelValue":D[3]||(D[3]=W=>E(u).tabvalores_ufemissor_id=W),items:E(x).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(fe,{md:"2"},{default:T(()=>[Ye(S(me,{modelValue:E(u).data_emissao,"onUpdate:modelValue":D[4]||(D[4]=W=>E(u).data_emissao=W),label:"Emissão",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[J,"##/##/####"]])]),_:1}),S(fe,{md:"2"},{default:T(()=>[Ye(S(me,{modelValue:E(u).data_vencimento,"onUpdate:modelValue":D[5]||(D[5]=W=>E(u).data_vencimento=W),label:"Validade",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[J,"##/##/####"]])]),_:1}),Se("div",{class:"mt-1"},[Se("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ta,alt:"novo",onClick:z})])]),_:1}),S(ut,{style:{"max-height":"330px"},headers:m,items:E(x).pessoasDocsItems,"item-key":"id"},{"item.actions":T(({item:W})=>[S(Re,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:T(()=>[Se("div",{onClick:X=>M(W),title:"editar"},D[15]||(D[15]=[Se("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:Kt,alt:"editar"},null,-1)]),8,Vr),Se("div",{onClick:X=>B(W),title:"deletar"},[W.excluido?(de(),Be("img",Dr)):(de(),Be("img",Br))],8,Cr)]),_:2},1024)]),_:1},8,["items"]),S(Ma,{modelValue:E(_),"onUpdate:modelValue":D[14]||(D[14]=W=>da(_)?_.value=W:null),"max-width":"600px"},{default:T(()=>[S(Ia,null,{default:T(()=>[S(ct,{style:{color:"green"}},{default:T(()=>D[16]||(D[16]=[Ce("Atualizar Endereço")])),_:1}),S(Jt,null,{default:T(()=>[S(Re,null,{default:T(()=>[S(fe,{cols:"12",md:"6"},{default:T(()=>[S(qe,{modelValue:E(c).tabvalores_tipodoc_id,"onUpdate:modelValue":D[6]||(D[6]=W=>E(c).tabvalores_tipodoc_id=W),items:E(x).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(fe,{cols:"12",md:"6"},{default:T(()=>[S(me,{modelValue:E(c).numero,"onUpdate:modelValue":D[7]||(D[7]=W=>E(c).numero=W),label:"Número"},null,8,["modelValue"])]),_:1}),S(fe,{cols:"12",md:"6"},{default:T(()=>[S(me,{modelValue:E(c).emissor,"onUpdate:modelValue":D[8]||(D[8]=W=>E(c).emissor=W),label:"Número"},null,8,["modelValue"])]),_:1}),S(fe,{cols:"12",md:"6"},{default:T(()=>[S(qe,{modelValue:E(c).tabvalores_ufemissor_id,"onUpdate:modelValue":D[9]||(D[9]=W=>E(c).tabvalores_ufemissor_id=W),items:E(x).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(fe,{cols:"12",md:"6"},{default:T(()=>[Ye(S(me,{modelValue:E(c).data_emissao,"onUpdate:modelValue":D[10]||(D[10]=W=>E(c).data_emissao=W),label:"Emissão",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[J,"##/##/####"]])]),_:1}),S(fe,{cols:"12",md:"6"},{default:T(()=>[Ye(S(me,{modelValue:E(c).data_vencimento,"onUpdate:modelValue":D[11]||(D[11]=W=>E(c).data_vencimento=W),label:"Validade",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[J,"##/##/####"]])]),_:1})]),_:1})]),_:1}),S(ft,null,{default:T(()=>[S(Lt),S(Te,{color:"green",text:"",onClick:D[12]||(D[12]=W=>_.value=!1)},{default:T(()=>D[17]||(D[17]=[Ce("Cancelar")])),_:1}),S(Te,{color:"green",text:"",onClick:D[13]||(D[13]=W=>C(E(c).id))},{default:T(()=>D[18]||(D[18]=[Ce("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),S(G,{onClick:U},{default:T(()=>[S(Te,{size:"large",class:"ml-10 mb-5",color:"red"},{default:T(()=>D[19]||(D[19]=[Ce("Voltar")])),_:1})]),_:1})],64)}}},Nr=["onClick"],Pr={key:0,style:{width:"30px",height:"30px"},src:st,alt:"Visualizar",title:"Reativar"},zr={key:1,src:dt,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Mr={__name:"Representantes",props:{isModal:{type:Boolean,default:!1}},async setup(R){let O,j;const $=R,y=ca(),{$toast:L}=ma(),t=Ra(),a=Da(),i=`${y.public.auth}/service/gerencia/pesquisarPessoas`,g=`${y.public.auth}/service/gerencia/listarPapeis`,f=`${y.public.auth}/service/gerencia/representante`,v=`${y.public.auth}/service/gerencia/representante`,s=`${y.public.auth}/service/gerencia/representante`,h=_e(De("user-data").value.cartorio_token),{id:b}=t.params,l=Number(b||De("pessoa-id").value),_=_e([]),c=_e([]),r=_e([]),n=_e(!1),u=[{title:"Documento",align:"start",key:"representante",value:C=>{var B,U;return((B=C.representante)==null?void 0:B.doc_identificacao)||((U=C.representante)==null?void 0:U.documento)}},{title:"Pessoa",align:"start",key:"representante.nome"},{title:"Papel",align:"start",key:"papel.descricao"},{value:"actions"}],m=Ba({papeis:null,nome:null,pessoa:null,documento:null}),{data:w}=([O,j]=za(()=>je(g,{method:"POST",body:{rotina:"CADASTRO_PJ"}})),O=await O,j(),O);r.value=w.value;async function k(){try{const{data:C,error:B}=await je(i,{method:"POST",body:{cartorio_token:h.value,documento:m.documento,nome:m.nome}});C.value.length>0?(_.value=C.value,m.pessoa=_.value[0]):_.value=[]}catch(C){console.error("Erro na requisição",C)}}const x=()=>{n.value=!0},N=async()=>{const C={representante:m.pessoa,papel:r.value.find(B=>B.id===m.papeis)};try{const{data:B,error:U,status:Z}=await je(f,{method:"POST",body:{ato_id:null,representante_id:m.pessoa.id,pessoa_id:l||b,papel_id:m.papeis,user_id:De("user-data").value.usuario_id}});Z.value==="success"?(C.id=B.value.id,L.success("Pessoa Registrada com Sucesso!"),c.value.push(C)):L.error("Erro ao registrar a pessoa!")}catch{L.error("Erro no servidor. Tente novamente.")}};async function V(){const{data:C,error:B}=await je(`${v}/${b}`,{method:"GET"});c.value=C.value}async function z(C){C.excluido=!C.excluido;try{await je(`${s}/${C.id}`,{method:"PUT",body:JSON.stringify({excluido:C.excluido})})}catch(B){console.error("Erro ao excluir pessoa:",B)}}const M=()=>{if($.isModal===!0){emit("close-modal");return}a.push("/pessoas/lista")};return Ha(()=>{b&&V()}),(C,B)=>{const U=Oi,Z=Zt;return de(),Be(ua,null,[S(aa,{style:{height:"425px"}},{default:T(()=>[S(Re,{class:"mt-1"},{default:T(()=>[S(fe,{cols:"3"},{default:T(()=>[S(me,{label:"Documento",modelValue:E(m).documento,"onUpdate:modelValue":B[0]||(B[0]=D=>E(m).documento=D)},null,8,["modelValue"])]),_:1}),S(fe,{cols:"4"},{default:T(()=>[S(me,{label:"Pessoa",modelValue:E(m).nome,"onUpdate:modelValue":B[1]||(B[1]=D=>E(m).nome=D)},null,8,["modelValue"])]),_:1}),Se("div",null,[Se("img",{class:"mt-1",src:Yt,style:{width:"40px",cursor:"pointer"},title:"Pesquisar Pessoa",onClick:k})]),Se("div",null,[Se("img",{class:"mt-1 ml-2",src:Ta,style:{width:"40px",cursor:"pointer"},title:"Criar Pessoa",onClick:x})])]),_:1}),S(Re,null,{default:T(()=>[S(fe,{cols:"4"},{default:T(()=>[S(qe,{label:"Selecione a Pessoa",modelValue:E(m).pessoa,"onUpdate:modelValue":B[2]||(B[2]=D=>E(m).pessoa=D),items:E(_),"item-title":"nome","item-value":"id","return-object":"",required:""},null,8,["modelValue","items"])]),_:1}),S(fe,{cols:"3"},{default:T(()=>[S(qe,{label:"Papel",modelValue:E(m).papeis,"onUpdate:modelValue":B[3]||(B[3]=D=>E(m).papeis=D),items:E(r),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),Se("div",null,[Se("img",{class:"mt-1",src:Ta,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:N})])]),_:1}),S(Re,null,{default:T(()=>[S(fe,null,{default:T(()=>[S(ut,{style:{"max-height":"330px"},headers:u,items:E(c)},{"item.actions":T(({item:D})=>[S(Re,null,{default:T(()=>[Se("div",{class:"mr-2",style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:G=>z(D),title:"Deletar Pessoa"},[D.excluido?(de(),Be("img",Pr)):(de(),Be("img",zr))],8,Nr)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),S(U,{show:E(n),onClose:B[4]||(B[4]=D=>n.value=!1)},null,8,["show"])]),_:1}),S(Z,{onClick:M},{default:T(()=>[S(Te,{size:"large",class:"ml-10 mb-5",color:"red"},{default:T(()=>B[5]||(B[5]=[Ce("Voltar")])),_:1})]),_:1})],64)}}},Ir={class:"mt-1"},$r={style:{width:"150px","font-weight":"500"}},Or={style:{width:"200px","font-weight":"500"}},Lr=["onClick"],Tr=["onClick"],Ur={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:st,alt:"Visualizar",title:"Reativar"},Hr={key:1,src:dt,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},jr={__name:"Endereco",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(R,{emit:O}){let j,$;const y=O,L=R,{$toast:t}=ma(),a=Ra(),{id:i}=a.params,g=Da(),f=ca(),v=`${f.public.auth}/service/gerencia/listarPais`,s=`${f.public.auth}/service/gerencia/getPessoaEnderecoById`,h=`${f.public.auth}/service/gerencia/createPessoaEndereco`,b=`${f.public.auth}/service/gerencia/updatePessoaEndereco`,l=`${f.public.auth}/service/gerencia/cep`,_=_e(De("user-data").value.usuario_id).value,c=Number(i||De("pessoa-id").value),r=Ba({tabvalores_pais_id:null,cidade_id:null,codcep:null,logradouro:null,numero:null,bairro:null,complemento:null,cidade_estrangeira:null}),n=[{title:"País",value:"pais.descricao"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro"},{title:"N*",value:"numero"},{title:"Complemento",value:"complemento"},{title:"Bairro",value:"bairro"},{title:"Cidade",value:"cidade"},{value:"actions"}],u=_e(!1),m=_e(null),w=Ee(()=>{const te=M.value.paisItems.find(I=>I.id===r.tabvalores_pais_id);return te?te.estrangeiro:!1}),k=te=>{var I;return((I=te.cidades)==null?void 0:I.nome)||te.cidade_estrangeira},x={numero:{required:ea.withMessage("O campo é obrigatorio",ia)},bairro:{required:ea.withMessage("O campo é obrigatorio",ia)},logradouro:{required:ea.withMessage("O campo é obrigatorio",ia)},codcep:{required:ea.withMessage("O campo é obrigatorio e precisa de 8 digitos",ia)}},N=Ua(x,r),z=De("auth_token").value,{data:M,status:C,pending:B,refresh:U}=([j,$]=za(async()=>lt("cliente-enderecos",async()=>{const[te,I,ve]=await Promise.all([sa(v),sa(`${s}/${c}`),sa(`${f.public.auth}/service/gerencia/listarCidades`)]);return{paisItems:te,enderecosItems:I,cidadesItems:ve}})),j=await j,$(),j);async function Z(){if(await N.value.$validate()){const I={...{...r},user_id:_,pessoa_id:c},{data:ve,error:q,status:ae}=await je(h,{method:"POST",body:I});if(ae.value==="error"&&q.value.statusCode===500)t.error("Erro ao cadastrar endereço,erro no sistema.");else{t.success("Endereço cadastrado com sucesso!"),U();for(const se in r)r[se]=null;N.value.$reset()}}else t.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}async function D(){if(!r.cidade_estrangeira||!r.logradouro){t.error("Os Campos Cidade Estrangeira e Endereço são obrigatorios!");return}const I={...{...r},user_id:_,pessoa_id:c},{data:ve,error:q,status:ae}=await je(h,{method:"POST",body:I});if(ae.value==="error"&&q.value.statusCode===500)t.error("Erro ao cadastrar endereço,erro no sistema.");else{t.success("Endereço cadastrado com sucesso!"),U();for(const se in r)r[se]=null;N.value.$reset()}}function G(te){const I=M.value.enderecosItems.find(ve=>ve.id===te);I&&(m.value=I,u.value=!0)}async function J(te){const I={tabvalores_pais_id:m.value.tabvalores_pais_id,cidade_id:m.value.cidade_id,codcep:m.value.codcep,logradouro:m.value.logradouro,numero:m.value.numero,bairro:m.value.bairro,complemento:m.value.complemento},{status:ve}=await je(`${b}/${te}`,{method:"PUT",body:I});ve.value==="success"&&(u.value=!1,t.success("Endereço atualizado com sucesso!"),U())}Na(()=>r.codcep,async te=>{if(te.length===8)try{const{data:I,error:ve}=await We(`${l}/${te}`,{headers:{Authorization:z}},"$xTfPNGciav");if(ve.value){console.error("Erro ao buscar CEP:",ve.value),t.error("Erro ao buscar CEP no servidor.");return}if(I.value.logradouro&&I.value.bairro&&I.value.localidade&&I.value.uf){r.logradouro=I.value.logradouro,r.bairro=I.value.bairro,r.complemento=I.value.complemento;let q=`${I.value.localidade}/${I.value.uf}`.toUpperCase();const ae=M.value.cidadesItems.find(se=>se.descricao===q);ae?(r.cidade_id=ae.id,r.tabvalores_pais_id=76):t.error("Cidade não encontrada na lista!")}else t.error("CEP não retornou dados válidos!")}catch(I){console.error("Erro inesperado:",I),t.error("Erro inesperado. Verifique sua conexão.")}});async function W(te){te.excluido=!te.excluido;try{await je(`${b}/${te.id}`,{method:"PUT",body:{excluido:te.excluido}})}catch(I){console.error("Erro ao excluir pessoa:",I)}}const X=()=>{if(L.isModal===!0){y("close-modal");return}g.push("/pessoas/lista")};return(te,I)=>{const ve=Ca("mask");return de(),Be(ua,null,[E(B)?Me("",!0):(de(),we(aa,{key:0,class:"mt-3",style:{height:"425px"}},{default:T(()=>[S(Re,null,{default:T(()=>[S(fe,{md:"2"},{default:T(()=>[S(qe,{modelValue:E(r).tabvalores_pais_id,"onUpdate:modelValue":I[0]||(I[0]=q=>E(r).tabvalores_pais_id=q),items:E(M).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(fe,{md:"2"},{default:T(()=>[E(w)?Ye((de(),we(me,{key:1,modelValue:E(r).codcep,"onUpdate:modelValue":I[2]||(I[2]=q=>E(r).codcep=q),label:"CEP"},null,8,["modelValue"])),[[ve,"########"]]):Ye((de(),we(me,{key:0,modelValue:E(r).codcep,"onUpdate:modelValue":I[1]||(I[1]=q=>E(r).codcep=q),"error-messages":E(N).codcep.$errors.map(q=>q.$message),required:"",onBlur:E(N).codcep.$touch,onInput:E(N).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"])),[[ve,"########"]])]),_:1}),S(fe,{md:"6"},{default:T(()=>[E(w)?(de(),we(me,{key:1,modelValue:E(r).logradouro,"onUpdate:modelValue":I[4]||(I[4]=q=>E(r).logradouro=q),label:"Endereço"},null,8,["modelValue"])):(de(),we(me,{key:0,modelValue:E(r).logradouro,"onUpdate:modelValue":I[3]||(I[3]=q=>E(r).logradouro=q),label:"Endereço","error-messages":E(N).logradouro.$errors.map(q=>q.$message),required:"",onBlur:E(N).logradouro.$touch,onInput:E(N).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),S(fe,{md:"1"},{default:T(()=>[E(w)?(de(),we(me,{key:1,modelValue:E(r).numero,"onUpdate:modelValue":I[6]||(I[6]=q=>E(r).numero=q),label:"N*"},null,8,["modelValue"])):(de(),we(me,{key:0,modelValue:E(r).numero,"onUpdate:modelValue":I[5]||(I[5]=q=>E(r).numero=q),required:"","error-messages":E(N).numero.$errors.map(q=>q.$message),onBlur:E(N).numero.$touch,onInput:E(N).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),Se("div",Ir,[Se("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ta,alt:"novo",onClick:I[7]||(I[7]=q=>E(w)?D():Z())})]),S(fe,{md:"5"},{default:T(()=>[S(me,{modelValue:E(r).complemento,"onUpdate:modelValue":I[8]||(I[8]=q=>E(r).complemento=q),label:"Complemento"},null,8,["modelValue"])]),_:1}),S(fe,{md:"3"},{default:T(()=>[E(w)?(de(),we(me,{key:1,modelValue:E(r).bairro,"onUpdate:modelValue":I[10]||(I[10]=q=>E(r).bairro=q),label:"Bairro"},null,8,["modelValue"])):(de(),we(me,{key:0,modelValue:E(r).bairro,"onUpdate:modelValue":I[9]||(I[9]=q=>E(r).bairro=q),"error-messages":E(N).bairro.$errors.map(q=>q.$message),required:"",onBlur:E(N).bairro.$touch,onInput:E(N).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),S(fe,{md:"3"},{default:T(()=>[E(w)?(de(),we(me,{key:1,modelValue:E(r).cidade_estrangeira,"onUpdate:modelValue":I[12]||(I[12]=q=>E(r).cidade_estrangeira=q),label:"Cidade Estrangeira"},null,8,["modelValue"])):(de(),we(qe,{key:0,modelValue:E(r).cidade_id,"onUpdate:modelValue":I[11]||(I[11]=q=>E(r).cidade_id=q),items:E(M).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"]))]),_:1})]),_:1}),S(ut,{style:{"max-height":"330px"},headers:n,items:E(M).enderecosItems,"item-key":"id"},{"item.cidade":T(({item:q})=>[Se("h4",$r,tt(k(q)),1)]),"item.logradouro":T(({item:q})=>[Se("h4",Or,tt(q.logradouro),1)]),"item.actions":T(({item:q})=>[S(Re,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:T(()=>[Se("div",{onClick:ae=>G(q.id),title:"Visualizar"},I[24]||(I[24]=[Se("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:Kt,alt:"Visualizar"},null,-1)]),8,Lr),Se("div",{onClick:ae=>W(q),title:"Visualizar"},[q.excluido?(de(),Be("img",Ur)):(de(),Be("img",Hr))],8,Tr)]),_:2},1024)]),_:1},8,["items"]),S(Ma,{modelValue:E(u),"onUpdate:modelValue":I[23]||(I[23]=q=>da(u)?u.value=q:null),"max-width":"600px"},{default:T(()=>[S(Ia,null,{default:T(()=>[S(ct,{style:{color:"green"}},{default:T(()=>I[25]||(I[25]=[Ce("Atualizar Endereço")])),_:1}),S(Jt,null,{default:T(()=>[S(Re,null,{default:T(()=>[S(fe,{cols:"12",md:"6"},{default:T(()=>[S(qe,{modelValue:E(m).tabvalores_pais_id,"onUpdate:modelValue":I[13]||(I[13]=q=>E(m).tabvalores_pais_id=q),items:E(M).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(fe,{cols:"12",md:"6"},{default:T(()=>[S(me,{modelValue:E(m).logradouro,"onUpdate:modelValue":I[14]||(I[14]=q=>E(m).logradouro=q),label:"Logradouro"},null,8,["modelValue"])]),_:1}),S(fe,{cols:"12",md:"6"},{default:T(()=>[S(me,{modelValue:E(m).complemento,"onUpdate:modelValue":I[15]||(I[15]=q=>E(m).complemento=q),label:"Complemento"},null,8,["modelValue"])]),_:1}),S(fe,{cols:"12",md:"6"},{default:T(()=>[S(me,{modelValue:E(m).numero,"onUpdate:modelValue":I[16]||(I[16]=q=>E(m).numero=q),label:"Número"},null,8,["modelValue"])]),_:1}),S(fe,{cols:"12",md:"6"},{default:T(()=>[S(me,{modelValue:E(m).bairro,"onUpdate:modelValue":I[17]||(I[17]=q=>E(m).bairro=q),label:"Bairro"},null,8,["modelValue"])]),_:1}),S(fe,{cols:"12",md:"6"},{default:T(()=>[S(me,{modelValue:E(m).codcep,"onUpdate:modelValue":I[18]||(I[18]=q=>E(m).codcep=q),label:"CEP"},null,8,["modelValue"])]),_:1}),S(fe,{cols:"12",md:"6"},{default:T(()=>[E(m).cidade_estrangeira?(de(),we(qe,{key:0,modelValue:E(m).cidade_id,"onUpdate:modelValue":I[19]||(I[19]=q=>E(m).cidade_id=q),items:E(M).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])):(de(),we(me,{key:1,modelValue:E(m).cidade_estrangeira,"onUpdate:modelValue":I[20]||(I[20]=q=>E(m).cidade_estrangeira=q),label:"Cidade Estrangeira"},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),S(ft,null,{default:T(()=>[S(Lt),S(Te,{color:"green",text:"",onClick:I[21]||(I[21]=q=>u.value=!1)},{default:T(()=>I[26]||(I[26]=[Ce("Cancelar")])),_:1}),S(Te,{color:"green",text:"",onClick:I[22]||(I[22]=q=>J(E(m).id))},{default:T(()=>I[27]||(I[27]=[Ce("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),S(Te,{onClick:X,class:"ml-10 mb-5",size:"large",color:"red"},{default:T(()=>I[28]||(I[28]=[Ce("Voltar")])),_:1})],64)}}},Fr={class:"finger-container"},Gr=["onClick"],Zr=["onClick"],Kr={__name:"Digital",setup(R){const O=_e(["E1","E2","E3","E4","E5"]);var j=_e(["red","red","red","red","red"]);const $=_e(["D1","D2","D3","D4","D5"]);var y=_e(["red","red","red","red","red"]);const L=Ra(),{$toast:t}=ma(),a=ca(),{id:i}=L.params,g=_e(De("pessoa-id").value).value,f=`${a.public.biometria}/capture-finger`,v=`${a.public.managemant}/createPessoaBiometria`,s=`${a.public.managemant}/getPessoaBiometriaById`;async function h(){const{status:c,data:r}=await We(`${s}/${i||g}`,{method:"GET"},"$wrCckM1pY4");c.value==="success"&&r.value&&r.value.forEach(n=>{(O.value.includes(n.dedo)||$.value.includes(n.dedo))&&l(n.dedo,"green")})}Ha(()=>{h()});async function b(c){const{status:r,data:n}=await We(f,{method:"GET"},"$b5yqRnLFV9");if(r.value==="success"){const u=n.value.hash,m={user_id:De("user-data").value.usuario_id,pessoa_id:Number(i)||g,dedo:c,hash:u},{status:w}=await We(v,{method:"POST",body:m},"$cWP9jlCX2Z");w.value==="success"?(t.success("Biometria enviada com sucesso!"),l(c,"green")):t.error("Falha ao enviar a biometria.")}else t.error("Erro ao Capturar biometria para o sistema.")}function l(c,r){const n=O.value.findIndex(u=>u===c);if(n!==-1)j.value[n]=r;else{const u=$.value.findIndex(m=>m===c);u!==-1&&(y.value[u]=r)}}function _(c,r){const u={E1:{top:82,left:-10},E2:{top:35,left:4},E3:{top:0,left:30},E4:{top:15,left:75},E5:{top:50,left:170},D1:{top:50,left:210},D2:{top:18,left:300},D3:{top:5,left:350},D4:{top:35,left:375},D5:{top:80,left:390}}[c];let m="red";if(r==="left"){const w=O.value.indexOf(c);w!==-1&&(m=j.value[w])}else if(r==="right"){const w=$.value.indexOf(c);w!==-1&&(m=y.value[w])}return{backgroundColor:m,top:`${u.top}px`,left:`${u.left}px`}}return(c,r)=>(de(),we(fe,{style:{"margin-top":"20px"},cols:"auto",class:"biometria-container"},{default:T(()=>[Se("div",Fr,[(de(!0),Be(ua,null,mt(E(O),(n,u)=>(de(),Be("div",{key:u,class:"finger",style:Pa(_(n,"left")),onClick:m=>b(n)},null,12,Gr))),128)),(de(!0),Be(ua,null,mt(E($),(n,u)=>(de(),Be("div",{key:u,class:"finger",style:Pa(_(n,"right")),onClick:m=>b(n)},null,12,Zr))),128))])]),_:1}))}},Jr=rt(Kr,[["__scopeId","data-v-02650459"]]);function Yr(R){throw new Error('Could not dynamically require "'+R+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Fa={exports:{}},Ga={},kt;function pa(){return kt||(kt=1,function(R){var O=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function j(L,t){return Object.prototype.hasOwnProperty.call(L,t)}R.assign=function(L){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var a=t.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var i in a)j(a,i)&&(L[i]=a[i])}}return L},R.shrinkBuf=function(L,t){return L.length===t?L:L.subarray?L.subarray(0,t):(L.length=t,L)};var $={arraySet:function(L,t,a,i,g){if(t.subarray&&L.subarray){L.set(t.subarray(a,a+i),g);return}for(var f=0;f<i;f++)L[g+f]=t[a+f]},flattenChunks:function(L){var t,a,i,g,f,v;for(i=0,t=0,a=L.length;t<a;t++)i+=L[t].length;for(v=new Uint8Array(i),g=0,t=0,a=L.length;t<a;t++)f=L[t],v.set(f,g),g+=f.length;return v}},y={arraySet:function(L,t,a,i,g){for(var f=0;f<i;f++)L[g+f]=t[a+f]},flattenChunks:function(L){return[].concat.apply([],L)}};R.setTyped=function(L){L?(R.Buf8=Uint8Array,R.Buf16=Uint16Array,R.Buf32=Int32Array,R.assign(R,$)):(R.Buf8=Array,R.Buf16=Array,R.Buf32=Array,R.assign(R,y))},R.setTyped(O)}(Ga)),Ga}var Aa={},ra={},ga={},yt;function qr(){if(yt)return ga;yt=1;var R=pa(),O=4,j=0,$=1,y=2;function L(p){for(var Q=p.length;--Q>=0;)p[Q]=0}var t=0,a=1,i=2,g=3,f=258,v=29,s=256,h=s+1+v,b=30,l=19,_=2*h+1,c=15,r=16,n=7,u=256,m=16,w=17,k=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=512,C=new Array((h+2)*2);L(C);var B=new Array(b*2);L(B);var U=new Array(M);L(U);var Z=new Array(f-g+1);L(Z);var D=new Array(v);L(D);var G=new Array(b);L(G);function J(p,Q,re,le,P){this.static_tree=p,this.extra_bits=Q,this.extra_base=re,this.elems=le,this.max_length=P,this.has_stree=p&&p.length}var W,X,te;function I(p,Q){this.dyn_tree=p,this.max_code=0,this.stat_desc=Q}function ve(p){return p<256?U[p]:U[256+(p>>>7)]}function q(p,Q){p.pending_buf[p.pending++]=Q&255,p.pending_buf[p.pending++]=Q>>>8&255}function ae(p,Q,re){p.bi_valid>r-re?(p.bi_buf|=Q<<p.bi_valid&65535,q(p,p.bi_buf),p.bi_buf=Q>>r-p.bi_valid,p.bi_valid+=re-r):(p.bi_buf|=Q<<p.bi_valid&65535,p.bi_valid+=re)}function se(p,Q,re){ae(p,re[Q*2],re[Q*2+1])}function be(p,Q){var re=0;do re|=p&1,p>>>=1,re<<=1;while(--Q>0);return re>>>1}function Ne(p){p.bi_valid===16?(q(p,p.bi_buf),p.bi_buf=0,p.bi_valid=0):p.bi_valid>=8&&(p.pending_buf[p.pending++]=p.bi_buf&255,p.bi_buf>>=8,p.bi_valid-=8)}function Ue(p,Q){var re=Q.dyn_tree,le=Q.max_code,P=Q.stat_desc.static_tree,Y=Q.stat_desc.has_stree,o=Q.stat_desc.extra_bits,ee=Q.stat_desc.extra_base,he=Q.stat_desc.max_length,e,F,K,d,A,H,ce=0;for(d=0;d<=c;d++)p.bl_count[d]=0;for(re[p.heap[p.heap_max]*2+1]=0,e=p.heap_max+1;e<_;e++)F=p.heap[e],d=re[re[F*2+1]*2+1]+1,d>he&&(d=he,ce++),re[F*2+1]=d,!(F>le)&&(p.bl_count[d]++,A=0,F>=ee&&(A=o[F-ee]),H=re[F*2],p.opt_len+=H*(d+A),Y&&(p.static_len+=H*(P[F*2+1]+A)));if(ce!==0){do{for(d=he-1;p.bl_count[d]===0;)d--;p.bl_count[d]--,p.bl_count[d+1]+=2,p.bl_count[he]--,ce-=2}while(ce>0);for(d=he;d!==0;d--)for(F=p.bl_count[d];F!==0;)K=p.heap[--e],!(K>le)&&(re[K*2+1]!==d&&(p.opt_len+=(d-re[K*2+1])*re[K*2],re[K*2+1]=d),F--)}}function Pe(p,Q,re){var le=new Array(c+1),P=0,Y,o;for(Y=1;Y<=c;Y++)le[Y]=P=P+re[Y-1]<<1;for(o=0;o<=Q;o++){var ee=p[o*2+1];ee!==0&&(p[o*2]=be(le[ee]++,ee))}}function ke(){var p,Q,re,le,P,Y=new Array(c+1);for(re=0,le=0;le<v-1;le++)for(D[le]=re,p=0;p<1<<x[le];p++)Z[re++]=le;for(Z[re-1]=le,P=0,le=0;le<16;le++)for(G[le]=P,p=0;p<1<<N[le];p++)U[P++]=le;for(P>>=7;le<b;le++)for(G[le]=P<<7,p=0;p<1<<N[le]-7;p++)U[256+P++]=le;for(Q=0;Q<=c;Q++)Y[Q]=0;for(p=0;p<=143;)C[p*2+1]=8,p++,Y[8]++;for(;p<=255;)C[p*2+1]=9,p++,Y[9]++;for(;p<=279;)C[p*2+1]=7,p++,Y[7]++;for(;p<=287;)C[p*2+1]=8,p++,Y[8]++;for(Pe(C,h+1,Y),p=0;p<b;p++)B[p*2+1]=5,B[p*2]=be(p,5);W=new J(C,x,s+1,h,c),X=new J(B,N,0,b,c),te=new J(new Array(0),V,0,l,n)}function $e(p){var Q;for(Q=0;Q<h;Q++)p.dyn_ltree[Q*2]=0;for(Q=0;Q<b;Q++)p.dyn_dtree[Q*2]=0;for(Q=0;Q<l;Q++)p.bl_tree[Q*2]=0;p.dyn_ltree[u*2]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function Ke(p){p.bi_valid>8?q(p,p.bi_buf):p.bi_valid>0&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function Le(p,Q,re,le){Ke(p),q(p,re),q(p,~re),R.arraySet(p.pending_buf,p.window,Q,re,p.pending),p.pending+=re}function pe(p,Q,re,le){var P=Q*2,Y=re*2;return p[P]<p[Y]||p[P]===p[Y]&&le[Q]<=le[re]}function ne(p,Q,re){for(var le=p.heap[re],P=re<<1;P<=p.heap_len&&(P<p.heap_len&&pe(Q,p.heap[P+1],p.heap[P],p.depth)&&P++,!pe(Q,le,p.heap[P],p.depth));)p.heap[re]=p.heap[P],re=P,P<<=1;p.heap[re]=le}function ue(p,Q,re){var le,P,Y=0,o,ee;if(p.last_lit!==0)do le=p.pending_buf[p.d_buf+Y*2]<<8|p.pending_buf[p.d_buf+Y*2+1],P=p.pending_buf[p.l_buf+Y],Y++,le===0?se(p,P,Q):(o=Z[P],se(p,o+s+1,Q),ee=x[o],ee!==0&&(P-=D[o],ae(p,P,ee)),le--,o=ve(le),se(p,o,re),ee=N[o],ee!==0&&(le-=G[o],ae(p,le,ee)));while(Y<p.last_lit);se(p,u,Q)}function ge(p,Q){var re=Q.dyn_tree,le=Q.stat_desc.static_tree,P=Q.stat_desc.has_stree,Y=Q.stat_desc.elems,o,ee,he=-1,e;for(p.heap_len=0,p.heap_max=_,o=0;o<Y;o++)re[o*2]!==0?(p.heap[++p.heap_len]=he=o,p.depth[o]=0):re[o*2+1]=0;for(;p.heap_len<2;)e=p.heap[++p.heap_len]=he<2?++he:0,re[e*2]=1,p.depth[e]=0,p.opt_len--,P&&(p.static_len-=le[e*2+1]);for(Q.max_code=he,o=p.heap_len>>1;o>=1;o--)ne(p,re,o);e=Y;do o=p.heap[1],p.heap[1]=p.heap[p.heap_len--],ne(p,re,1),ee=p.heap[1],p.heap[--p.heap_max]=o,p.heap[--p.heap_max]=ee,re[e*2]=re[o*2]+re[ee*2],p.depth[e]=(p.depth[o]>=p.depth[ee]?p.depth[o]:p.depth[ee])+1,re[o*2+1]=re[ee*2+1]=e,p.heap[1]=e++,ne(p,re,1);while(p.heap_len>=2);p.heap[--p.heap_max]=p.heap[1],Ue(p,Q),Pe(re,he,p.bl_count)}function Ae(p,Q,re){var le,P=-1,Y,o=Q[0*2+1],ee=0,he=7,e=4;for(o===0&&(he=138,e=3),Q[(re+1)*2+1]=65535,le=0;le<=re;le++)Y=o,o=Q[(le+1)*2+1],!(++ee<he&&Y===o)&&(ee<e?p.bl_tree[Y*2]+=ee:Y!==0?(Y!==P&&p.bl_tree[Y*2]++,p.bl_tree[m*2]++):ee<=10?p.bl_tree[w*2]++:p.bl_tree[k*2]++,ee=0,P=Y,o===0?(he=138,e=3):Y===o?(he=6,e=3):(he=7,e=4))}function Ve(p,Q,re){var le,P=-1,Y,o=Q[0*2+1],ee=0,he=7,e=4;for(o===0&&(he=138,e=3),le=0;le<=re;le++)if(Y=o,o=Q[(le+1)*2+1],!(++ee<he&&Y===o)){if(ee<e)do se(p,Y,p.bl_tree);while(--ee!==0);else Y!==0?(Y!==P&&(se(p,Y,p.bl_tree),ee--),se(p,m,p.bl_tree),ae(p,ee-3,2)):ee<=10?(se(p,w,p.bl_tree),ae(p,ee-3,3)):(se(p,k,p.bl_tree),ae(p,ee-11,7));ee=0,P=Y,o===0?(he=138,e=3):Y===o?(he=6,e=3):(he=7,e=4)}}function Fe(p){var Q;for(Ae(p,p.dyn_ltree,p.l_desc.max_code),Ae(p,p.dyn_dtree,p.d_desc.max_code),ge(p,p.bl_desc),Q=l-1;Q>=3&&p.bl_tree[z[Q]*2+1]===0;Q--);return p.opt_len+=3*(Q+1)+5+5+4,Q}function ka(p,Q,re,le){var P;for(ae(p,Q-257,5),ae(p,re-1,5),ae(p,le-4,4),P=0;P<le;P++)ae(p,p.bl_tree[z[P]*2+1],3);Ve(p,p.dyn_ltree,Q-1),Ve(p,p.dyn_dtree,re-1)}function ha(p){var Q=4093624447,re;for(re=0;re<=31;re++,Q>>>=1)if(Q&1&&p.dyn_ltree[re*2]!==0)return j;if(p.dyn_ltree[9*2]!==0||p.dyn_ltree[10*2]!==0||p.dyn_ltree[13*2]!==0)return $;for(re=32;re<s;re++)if(p.dyn_ltree[re*2]!==0)return $;return j}var ta=!1;function ya(p){ta||(ke(),ta=!0),p.l_desc=new I(p.dyn_ltree,W),p.d_desc=new I(p.dyn_dtree,X),p.bl_desc=new I(p.bl_tree,te),p.bi_buf=0,p.bi_valid=0,$e(p)}function _a(p,Q,re,le){ae(p,(t<<1)+(le?1:0),3),Le(p,Q,re)}function Ge(p){ae(p,a<<1,3),se(p,u,C),Ne(p)}function na(p,Q,re,le){var P,Y,o=0;p.level>0?(p.strm.data_type===y&&(p.strm.data_type=ha(p)),ge(p,p.l_desc),ge(p,p.d_desc),o=Fe(p),P=p.opt_len+3+7>>>3,Y=p.static_len+3+7>>>3,Y<=P&&(P=Y)):P=Y=re+5,re+4<=P&&Q!==-1?_a(p,Q,re,le):p.strategy===O||Y===P?(ae(p,(a<<1)+(le?1:0),3),ue(p,C,B)):(ae(p,(i<<1)+(le?1:0),3),ka(p,p.l_desc.max_code+1,p.d_desc.max_code+1,o+1),ue(p,p.dyn_ltree,p.dyn_dtree)),$e(p),le&&Ke(p)}function xa(p,Q,re){return p.pending_buf[p.d_buf+p.last_lit*2]=Q>>>8&255,p.pending_buf[p.d_buf+p.last_lit*2+1]=Q&255,p.pending_buf[p.l_buf+p.last_lit]=re&255,p.last_lit++,Q===0?p.dyn_ltree[re*2]++:(p.matches++,Q--,p.dyn_ltree[(Z[re]+s+1)*2]++,p.dyn_dtree[ve(Q)*2]++),p.last_lit===p.lit_bufsize-1}return ga._tr_init=ya,ga._tr_stored_block=_a,ga._tr_flush_block=na,ga._tr_tally=xa,ga._tr_align=Ge,ga}var Za,xt;function qt(){if(xt)return Za;xt=1;function R(O,j,$,y){for(var L=O&65535|0,t=O>>>16&65535|0,a=0;$!==0;){a=$>2e3?2e3:$,$-=a;do L=L+j[y++]|0,t=t+L|0;while(--a);L%=65521,t%=65521}return L|t<<16|0}return Za=R,Za}var Ka,Et;function Wt(){if(Et)return Ka;Et=1;function R(){for(var $,y=[],L=0;L<256;L++){$=L;for(var t=0;t<8;t++)$=$&1?3988292384^$>>>1:$>>>1;y[L]=$}return y}var O=R();function j($,y,L,t){var a=O,i=t+L;$^=-1;for(var g=t;g<i;g++)$=$>>>8^a[($^y[g])&255];return $^-1}return Ka=j,Ka}var Ja,St;function vt(){return St||(St=1,Ja={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),Ja}var At;function Wr(){if(At)return ra;At=1;var R=pa(),O=qr(),j=qt(),$=Wt(),y=vt(),L=0,t=1,a=3,i=4,g=5,f=0,v=1,s=-2,h=-3,b=-5,l=-1,_=1,c=2,r=3,n=4,u=0,m=2,w=8,k=9,x=15,N=8,V=29,z=256,M=z+1+V,C=30,B=19,U=2*M+1,Z=15,D=3,G=258,J=G+D+1,W=32,X=42,te=69,I=73,ve=91,q=103,ae=113,se=666,be=1,Ne=2,Ue=3,Pe=4,ke=3;function $e(e,F){return e.msg=y[F],F}function Ke(e){return(e<<1)-(e>4?9:0)}function Le(e){for(var F=e.length;--F>=0;)e[F]=0}function pe(e){var F=e.state,K=F.pending;K>e.avail_out&&(K=e.avail_out),K!==0&&(R.arraySet(e.output,F.pending_buf,F.pending_out,K,e.next_out),e.next_out+=K,F.pending_out+=K,e.total_out+=K,e.avail_out-=K,F.pending-=K,F.pending===0&&(F.pending_out=0))}function ne(e,F){O._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,F),e.block_start=e.strstart,pe(e.strm)}function ue(e,F){e.pending_buf[e.pending++]=F}function ge(e,F){e.pending_buf[e.pending++]=F>>>8&255,e.pending_buf[e.pending++]=F&255}function Ae(e,F,K,d){var A=e.avail_in;return A>d&&(A=d),A===0?0:(e.avail_in-=A,R.arraySet(F,e.input,e.next_in,A,K),e.state.wrap===1?e.adler=j(e.adler,F,A,K):e.state.wrap===2&&(e.adler=$(e.adler,F,A,K)),e.next_in+=A,e.total_in+=A,A)}function Ve(e,F){var K=e.max_chain_length,d=e.strstart,A,H,ce=e.prev_length,ie=e.nice_match,oe=e.strstart>e.w_size-J?e.strstart-(e.w_size-J):0,ye=e.window,fa=e.w_mask,ze=e.prev,xe=e.strstart+G,Oe=ye[d+ce-1],Ze=ye[d+ce];e.prev_length>=e.good_match&&(K>>=2),ie>e.lookahead&&(ie=e.lookahead);do if(A=F,!(ye[A+ce]!==Ze||ye[A+ce-1]!==Oe||ye[A]!==ye[d]||ye[++A]!==ye[d+1])){d+=2,A++;do;while(ye[++d]===ye[++A]&&ye[++d]===ye[++A]&&ye[++d]===ye[++A]&&ye[++d]===ye[++A]&&ye[++d]===ye[++A]&&ye[++d]===ye[++A]&&ye[++d]===ye[++A]&&ye[++d]===ye[++A]&&d<xe);if(H=G-(xe-d),d=xe-G,H>ce){if(e.match_start=F,ce=H,H>=ie)break;Oe=ye[d+ce-1],Ze=ye[d+ce]}}while((F=ze[F&fa])>oe&&--K!==0);return ce<=e.lookahead?ce:e.lookahead}function Fe(e){var F=e.w_size,K,d,A,H,ce;do{if(H=e.window_size-e.lookahead-e.strstart,e.strstart>=F+(F-J)){R.arraySet(e.window,e.window,F,F,0),e.match_start-=F,e.strstart-=F,e.block_start-=F,d=e.hash_size,K=d;do A=e.head[--K],e.head[K]=A>=F?A-F:0;while(--d);d=F,K=d;do A=e.prev[--K],e.prev[K]=A>=F?A-F:0;while(--d);H+=F}if(e.strm.avail_in===0)break;if(d=Ae(e.strm,e.window,e.strstart+e.lookahead,H),e.lookahead+=d,e.lookahead+e.insert>=D)for(ce=e.strstart-e.insert,e.ins_h=e.window[ce],e.ins_h=(e.ins_h<<e.hash_shift^e.window[ce+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[ce+D-1])&e.hash_mask,e.prev[ce&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=ce,ce++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<J&&e.strm.avail_in!==0)}function ka(e,F){var K=65535;for(K>e.pending_buf_size-5&&(K=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Fe(e),e.lookahead===0&&F===L)return be;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var d=e.block_start+K;if((e.strstart===0||e.strstart>=d)&&(e.lookahead=e.strstart-d,e.strstart=d,ne(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-J&&(ne(e,!1),e.strm.avail_out===0))return be}return e.insert=0,F===i?(ne(e,!0),e.strm.avail_out===0?Ue:Pe):(e.strstart>e.block_start&&(ne(e,!1),e.strm.avail_out===0),be)}function ha(e,F){for(var K,d;;){if(e.lookahead<J){if(Fe(e),e.lookahead<J&&F===L)return be;if(e.lookahead===0)break}if(K=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,K=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),K!==0&&e.strstart-K<=e.w_size-J&&(e.match_length=Ve(e,K)),e.match_length>=D)if(d=O._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,K=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else d=O._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(d&&(ne(e,!1),e.strm.avail_out===0))return be}return e.insert=e.strstart<D-1?e.strstart:D-1,F===i?(ne(e,!0),e.strm.avail_out===0?Ue:Pe):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?be:Ne}function ta(e,F){for(var K,d,A;;){if(e.lookahead<J){if(Fe(e),e.lookahead<J&&F===L)return be;if(e.lookahead===0)break}if(K=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,K=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,K!==0&&e.prev_length<e.max_lazy_match&&e.strstart-K<=e.w_size-J&&(e.match_length=Ve(e,K),e.match_length<=5&&(e.strategy===_||e.match_length===D&&e.strstart-e.match_start>4096)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){A=e.strstart+e.lookahead-D,d=O._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=A&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,K=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=D-1,e.strstart++,d&&(ne(e,!1),e.strm.avail_out===0))return be}else if(e.match_available){if(d=O._tr_tally(e,0,e.window[e.strstart-1]),d&&ne(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return be}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(d=O._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,F===i?(ne(e,!0),e.strm.avail_out===0?Ue:Pe):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?be:Ne}function ya(e,F){for(var K,d,A,H,ce=e.window;;){if(e.lookahead<=G){if(Fe(e),e.lookahead<=G&&F===L)return be;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=D&&e.strstart>0&&(A=e.strstart-1,d=ce[A],d===ce[++A]&&d===ce[++A]&&d===ce[++A])){H=e.strstart+G;do;while(d===ce[++A]&&d===ce[++A]&&d===ce[++A]&&d===ce[++A]&&d===ce[++A]&&d===ce[++A]&&d===ce[++A]&&d===ce[++A]&&A<H);e.match_length=G-(H-A),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=D?(K=O._tr_tally(e,1,e.match_length-D),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(K=O._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),K&&(ne(e,!1),e.strm.avail_out===0))return be}return e.insert=0,F===i?(ne(e,!0),e.strm.avail_out===0?Ue:Pe):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?be:Ne}function _a(e,F){for(var K;;){if(e.lookahead===0&&(Fe(e),e.lookahead===0)){if(F===L)return be;break}if(e.match_length=0,K=O._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,K&&(ne(e,!1),e.strm.avail_out===0))return be}return e.insert=0,F===i?(ne(e,!0),e.strm.avail_out===0?Ue:Pe):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?be:Ne}function Ge(e,F,K,d,A){this.good_length=e,this.max_lazy=F,this.nice_length=K,this.max_chain=d,this.func=A}var na;na=[new Ge(0,0,0,0,ka),new Ge(4,4,8,4,ha),new Ge(4,5,16,8,ha),new Ge(4,6,32,32,ha),new Ge(4,4,16,16,ta),new Ge(8,16,32,32,ta),new Ge(8,16,128,128,ta),new Ge(8,32,128,256,ta),new Ge(32,128,258,1024,ta),new Ge(32,258,258,4096,ta)];function xa(e){e.window_size=2*e.w_size,Le(e.head),e.max_lazy_match=na[e.level].max_lazy,e.good_match=na[e.level].good_length,e.nice_match=na[e.level].nice_length,e.max_chain_length=na[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=D-1,e.match_available=0,e.ins_h=0}function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(U*2),this.dyn_dtree=new R.Buf16((2*C+1)*2),this.bl_tree=new R.Buf16((2*B+1)*2),Le(this.dyn_ltree),Le(this.dyn_dtree),Le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(Z+1),this.heap=new R.Buf16(2*M+1),Le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*M+1),Le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Q(e){var F;return!e||!e.state?$e(e,s):(e.total_in=e.total_out=0,e.data_type=m,F=e.state,F.pending=0,F.pending_out=0,F.wrap<0&&(F.wrap=-F.wrap),F.status=F.wrap?X:ae,e.adler=F.wrap===2?0:1,F.last_flush=L,O._tr_init(F),f)}function re(e){var F=Q(e);return F===f&&xa(e.state),F}function le(e,F){return!e||!e.state||e.state.wrap!==2?s:(e.state.gzhead=F,f)}function P(e,F,K,d,A,H){if(!e)return s;var ce=1;if(F===l&&(F=6),d<0?(ce=0,d=-d):d>15&&(ce=2,d-=16),A<1||A>k||K!==w||d<8||d>15||F<0||F>9||H<0||H>n)return $e(e,s);d===8&&(d=9);var ie=new p;return e.state=ie,ie.strm=e,ie.wrap=ce,ie.gzhead=null,ie.w_bits=d,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=A+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+D-1)/D),ie.window=new R.Buf8(ie.w_size*2),ie.head=new R.Buf16(ie.hash_size),ie.prev=new R.Buf16(ie.w_size),ie.lit_bufsize=1<<A+6,ie.pending_buf_size=ie.lit_bufsize*4,ie.pending_buf=new R.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=F,ie.strategy=H,ie.method=K,re(e)}function Y(e,F){return P(e,F,w,x,N,u)}function o(e,F){var K,d,A,H;if(!e||!e.state||F>g||F<0)return e?$e(e,s):s;if(d=e.state,!e.output||!e.input&&e.avail_in!==0||d.status===se&&F!==i)return $e(e,e.avail_out===0?b:s);if(d.strm=e,K=d.last_flush,d.last_flush=F,d.status===X)if(d.wrap===2)e.adler=0,ue(d,31),ue(d,139),ue(d,8),d.gzhead?(ue(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),ue(d,d.gzhead.time&255),ue(d,d.gzhead.time>>8&255),ue(d,d.gzhead.time>>16&255),ue(d,d.gzhead.time>>24&255),ue(d,d.level===9?2:d.strategy>=c||d.level<2?4:0),ue(d,d.gzhead.os&255),d.gzhead.extra&&d.gzhead.extra.length&&(ue(d,d.gzhead.extra.length&255),ue(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(e.adler=$(e.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=te):(ue(d,0),ue(d,0),ue(d,0),ue(d,0),ue(d,0),ue(d,d.level===9?2:d.strategy>=c||d.level<2?4:0),ue(d,ke),d.status=ae);else{var ce=w+(d.w_bits-8<<4)<<8,ie=-1;d.strategy>=c||d.level<2?ie=0:d.level<6?ie=1:d.level===6?ie=2:ie=3,ce|=ie<<6,d.strstart!==0&&(ce|=W),ce+=31-ce%31,d.status=ae,ge(d,ce),d.strstart!==0&&(ge(d,e.adler>>>16),ge(d,e.adler&65535)),e.adler=1}if(d.status===te)if(d.gzhead.extra){for(A=d.pending;d.gzindex<(d.gzhead.extra.length&65535)&&!(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>A&&(e.adler=$(e.adler,d.pending_buf,d.pending-A,A)),pe(e),A=d.pending,d.pending===d.pending_buf_size));)ue(d,d.gzhead.extra[d.gzindex]&255),d.gzindex++;d.gzhead.hcrc&&d.pending>A&&(e.adler=$(e.adler,d.pending_buf,d.pending-A,A)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=I)}else d.status=I;if(d.status===I)if(d.gzhead.name){A=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>A&&(e.adler=$(e.adler,d.pending_buf,d.pending-A,A)),pe(e),A=d.pending,d.pending===d.pending_buf_size)){H=1;break}d.gzindex<d.gzhead.name.length?H=d.gzhead.name.charCodeAt(d.gzindex++)&255:H=0,ue(d,H)}while(H!==0);d.gzhead.hcrc&&d.pending>A&&(e.adler=$(e.adler,d.pending_buf,d.pending-A,A)),H===0&&(d.gzindex=0,d.status=ve)}else d.status=ve;if(d.status===ve)if(d.gzhead.comment){A=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>A&&(e.adler=$(e.adler,d.pending_buf,d.pending-A,A)),pe(e),A=d.pending,d.pending===d.pending_buf_size)){H=1;break}d.gzindex<d.gzhead.comment.length?H=d.gzhead.comment.charCodeAt(d.gzindex++)&255:H=0,ue(d,H)}while(H!==0);d.gzhead.hcrc&&d.pending>A&&(e.adler=$(e.adler,d.pending_buf,d.pending-A,A)),H===0&&(d.status=q)}else d.status=q;if(d.status===q&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&pe(e),d.pending+2<=d.pending_buf_size&&(ue(d,e.adler&255),ue(d,e.adler>>8&255),e.adler=0,d.status=ae)):d.status=ae),d.pending!==0){if(pe(e),e.avail_out===0)return d.last_flush=-1,f}else if(e.avail_in===0&&Ke(F)<=Ke(K)&&F!==i)return $e(e,b);if(d.status===se&&e.avail_in!==0)return $e(e,b);if(e.avail_in!==0||d.lookahead!==0||F!==L&&d.status!==se){var oe=d.strategy===c?_a(d,F):d.strategy===r?ya(d,F):na[d.level].func(d,F);if((oe===Ue||oe===Pe)&&(d.status=se),oe===be||oe===Ue)return e.avail_out===0&&(d.last_flush=-1),f;if(oe===Ne&&(F===t?O._tr_align(d):F!==g&&(O._tr_stored_block(d,0,0,!1),F===a&&(Le(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),pe(e),e.avail_out===0))return d.last_flush=-1,f}return F!==i?f:d.wrap<=0?v:(d.wrap===2?(ue(d,e.adler&255),ue(d,e.adler>>8&255),ue(d,e.adler>>16&255),ue(d,e.adler>>24&255),ue(d,e.total_in&255),ue(d,e.total_in>>8&255),ue(d,e.total_in>>16&255),ue(d,e.total_in>>24&255)):(ge(d,e.adler>>>16),ge(d,e.adler&65535)),pe(e),d.wrap>0&&(d.wrap=-d.wrap),d.pending!==0?f:v)}function ee(e){var F;return!e||!e.state?s:(F=e.state.status,F!==X&&F!==te&&F!==I&&F!==ve&&F!==q&&F!==ae&&F!==se?$e(e,s):(e.state=null,F===ae?$e(e,h):f))}function he(e,F){var K=F.length,d,A,H,ce,ie,oe,ye,fa;if(!e||!e.state||(d=e.state,ce=d.wrap,ce===2||ce===1&&d.status!==X||d.lookahead))return s;for(ce===1&&(e.adler=j(e.adler,F,K,0)),d.wrap=0,K>=d.w_size&&(ce===0&&(Le(d.head),d.strstart=0,d.block_start=0,d.insert=0),fa=new R.Buf8(d.w_size),R.arraySet(fa,F,K-d.w_size,d.w_size,0),F=fa,K=d.w_size),ie=e.avail_in,oe=e.next_in,ye=e.input,e.avail_in=K,e.next_in=0,e.input=F,Fe(d);d.lookahead>=D;){A=d.strstart,H=d.lookahead-(D-1);do d.ins_h=(d.ins_h<<d.hash_shift^d.window[A+D-1])&d.hash_mask,d.prev[A&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=A,A++;while(--H);d.strstart=A,d.lookahead=D-1,Fe(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=D-1,d.match_available=0,e.next_in=oe,e.input=ye,e.avail_in=ie,d.wrap=ce,f}return ra.deflateInit=Y,ra.deflateInit2=P,ra.deflateReset=re,ra.deflateResetKeep=Q,ra.deflateSetHeader=le,ra.deflate=o,ra.deflateEnd=ee,ra.deflateSetDictionary=he,ra.deflateInfo="pako deflate (from Nodeca project)",ra}var ba={},Vt;function Xt(){if(Vt)return ba;Vt=1;var R=pa(),O=!0,j=!0;try{String.fromCharCode.apply(null,[0])}catch{O=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{j=!1}for(var $=new R.Buf8(256),y=0;y<256;y++)$[y]=y>=252?6:y>=248?5:y>=240?4:y>=224?3:y>=192?2:1;$[254]=$[254]=1,ba.string2buf=function(t){var a,i,g,f,v,s=t.length,h=0;for(f=0;f<s;f++)i=t.charCodeAt(f),(i&64512)===55296&&f+1<s&&(g=t.charCodeAt(f+1),(g&64512)===56320&&(i=65536+(i-55296<<10)+(g-56320),f++)),h+=i<128?1:i<2048?2:i<65536?3:4;for(a=new R.Buf8(h),v=0,f=0;v<h;f++)i=t.charCodeAt(f),(i&64512)===55296&&f+1<s&&(g=t.charCodeAt(f+1),(g&64512)===56320&&(i=65536+(i-55296<<10)+(g-56320),f++)),i<128?a[v++]=i:i<2048?(a[v++]=192|i>>>6,a[v++]=128|i&63):i<65536?(a[v++]=224|i>>>12,a[v++]=128|i>>>6&63,a[v++]=128|i&63):(a[v++]=240|i>>>18,a[v++]=128|i>>>12&63,a[v++]=128|i>>>6&63,a[v++]=128|i&63);return a};function L(t,a){if(a<65534&&(t.subarray&&j||!t.subarray&&O))return String.fromCharCode.apply(null,R.shrinkBuf(t,a));for(var i="",g=0;g<a;g++)i+=String.fromCharCode(t[g]);return i}return ba.buf2binstring=function(t){return L(t,t.length)},ba.binstring2buf=function(t){for(var a=new R.Buf8(t.length),i=0,g=a.length;i<g;i++)a[i]=t.charCodeAt(i);return a},ba.buf2string=function(t,a){var i,g,f,v,s=a||t.length,h=new Array(s*2);for(g=0,i=0;i<s;){if(f=t[i++],f<128){h[g++]=f;continue}if(v=$[f],v>4){h[g++]=65533,i+=v-1;continue}for(f&=v===2?31:v===3?15:7;v>1&&i<s;)f=f<<6|t[i++]&63,v--;if(v>1){h[g++]=65533;continue}f<65536?h[g++]=f:(f-=65536,h[g++]=55296|f>>10&1023,h[g++]=56320|f&1023)}return L(h,g)},ba.utf8border=function(t,a){var i;for(a=a||t.length,a>t.length&&(a=t.length),i=a-1;i>=0&&(t[i]&192)===128;)i--;return i<0||i===0?a:i+$[t[i]]>a?i:a},ba}var Ya,Ct;function Qt(){if(Ct)return Ya;Ct=1;function R(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return Ya=R,Ya}var Dt;function Xr(){if(Dt)return Aa;Dt=1;var R=Wr(),O=pa(),j=Xt(),$=vt(),y=Qt(),L=Object.prototype.toString,t=0,a=4,i=0,g=1,f=2,v=-1,s=0,h=8;function b(r){if(!(this instanceof b))return new b(r);this.options=O.assign({level:v,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:s,to:""},r||{});var n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var u=R.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(u!==i)throw new Error($[u]);if(n.header&&R.deflateSetHeader(this.strm,n.header),n.dictionary){var m;if(typeof n.dictionary=="string"?m=j.string2buf(n.dictionary):L.call(n.dictionary)==="[object ArrayBuffer]"?m=new Uint8Array(n.dictionary):m=n.dictionary,u=R.deflateSetDictionary(this.strm,m),u!==i)throw new Error($[u]);this._dict_set=!0}}b.prototype.push=function(r,n){var u=this.strm,m=this.options.chunkSize,w,k;if(this.ended)return!1;k=n===~~n?n:n===!0?a:t,typeof r=="string"?u.input=j.string2buf(r):L.call(r)==="[object ArrayBuffer]"?u.input=new Uint8Array(r):u.input=r,u.next_in=0,u.avail_in=u.input.length;do{if(u.avail_out===0&&(u.output=new O.Buf8(m),u.next_out=0,u.avail_out=m),w=R.deflate(u,k),w!==g&&w!==i)return this.onEnd(w),this.ended=!0,!1;(u.avail_out===0||u.avail_in===0&&(k===a||k===f))&&(this.options.to==="string"?this.onData(j.buf2binstring(O.shrinkBuf(u.output,u.next_out))):this.onData(O.shrinkBuf(u.output,u.next_out)))}while((u.avail_in>0||u.avail_out===0)&&w!==g);return k===a?(w=R.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===i):(k===f&&(this.onEnd(i),u.avail_out=0),!0)},b.prototype.onData=function(r){this.chunks.push(r)},b.prototype.onEnd=function(r){r===i&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=O.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function l(r,n){var u=new b(n);if(u.push(r,!0),u.err)throw u.msg||$[u.err];return u.result}function _(r,n){return n=n||{},n.raw=!0,l(r,n)}function c(r,n){return n=n||{},n.gzip=!0,l(r,n)}return Aa.Deflate=b,Aa.deflate=l,Aa.deflateRaw=_,Aa.gzip=c,Aa}var Va={},Qe={},qa,Bt;function Qr(){if(Bt)return qa;Bt=1;var R=30,O=12;return qa=function($,y){var L,t,a,i,g,f,v,s,h,b,l,_,c,r,n,u,m,w,k,x,N,V,z,M,C;L=$.state,t=$.next_in,M=$.input,a=t+($.avail_in-5),i=$.next_out,C=$.output,g=i-(y-$.avail_out),f=i+($.avail_out-257),v=L.dmax,s=L.wsize,h=L.whave,b=L.wnext,l=L.window,_=L.hold,c=L.bits,r=L.lencode,n=L.distcode,u=(1<<L.lenbits)-1,m=(1<<L.distbits)-1;e:do{c<15&&(_+=M[t++]<<c,c+=8,_+=M[t++]<<c,c+=8),w=r[_&u];a:for(;;){if(k=w>>>24,_>>>=k,c-=k,k=w>>>16&255,k===0)C[i++]=w&65535;else if(k&16){x=w&65535,k&=15,k&&(c<k&&(_+=M[t++]<<c,c+=8),x+=_&(1<<k)-1,_>>>=k,c-=k),c<15&&(_+=M[t++]<<c,c+=8,_+=M[t++]<<c,c+=8),w=n[_&m];t:for(;;){if(k=w>>>24,_>>>=k,c-=k,k=w>>>16&255,k&16){if(N=w&65535,k&=15,c<k&&(_+=M[t++]<<c,c+=8,c<k&&(_+=M[t++]<<c,c+=8)),N+=_&(1<<k)-1,N>v){$.msg="invalid distance too far back",L.mode=R;break e}if(_>>>=k,c-=k,k=i-g,N>k){if(k=N-k,k>h&&L.sane){$.msg="invalid distance too far back",L.mode=R;break e}if(V=0,z=l,b===0){if(V+=s-k,k<x){x-=k;do C[i++]=l[V++];while(--k);V=i-N,z=C}}else if(b<k){if(V+=s+b-k,k-=b,k<x){x-=k;do C[i++]=l[V++];while(--k);if(V=0,b<x){k=b,x-=k;do C[i++]=l[V++];while(--k);V=i-N,z=C}}}else if(V+=b-k,k<x){x-=k;do C[i++]=l[V++];while(--k);V=i-N,z=C}for(;x>2;)C[i++]=z[V++],C[i++]=z[V++],C[i++]=z[V++],x-=3;x&&(C[i++]=z[V++],x>1&&(C[i++]=z[V++]))}else{V=i-N;do C[i++]=C[V++],C[i++]=C[V++],C[i++]=C[V++],x-=3;while(x>2);x&&(C[i++]=C[V++],x>1&&(C[i++]=C[V++]))}}else if(k&64){$.msg="invalid distance code",L.mode=R;break e}else{w=n[(w&65535)+(_&(1<<k)-1)];continue t}break}}else if(k&64)if(k&32){L.mode=O;break e}else{$.msg="invalid literal/length code",L.mode=R;break e}else{w=r[(w&65535)+(_&(1<<k)-1)];continue a}break}}while(t<a&&i<f);x=c>>3,t-=x,c-=x<<3,_&=(1<<c)-1,$.next_in=t,$.next_out=i,$.avail_in=t<a?5+(a-t):5-(t-a),$.avail_out=i<f?257+(f-i):257-(i-f),L.hold=_,L.bits=c},qa}var Wa,Rt;function ei(){if(Rt)return Wa;Rt=1;var R=pa(),O=15,j=852,$=592,y=0,L=1,t=2,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Wa=function(s,h,b,l,_,c,r,n){var u=n.bits,m=0,w=0,k=0,x=0,N=0,V=0,z=0,M=0,C=0,B=0,U,Z,D,G,J,W=null,X=0,te,I=new R.Buf16(O+1),ve=new R.Buf16(O+1),q=null,ae=0,se,be,Ne;for(m=0;m<=O;m++)I[m]=0;for(w=0;w<l;w++)I[h[b+w]]++;for(N=u,x=O;x>=1&&I[x]===0;x--);if(N>x&&(N=x),x===0)return _[c++]=1<<24|64<<16|0,_[c++]=1<<24|64<<16|0,n.bits=1,0;for(k=1;k<x&&I[k]===0;k++);for(N<k&&(N=k),M=1,m=1;m<=O;m++)if(M<<=1,M-=I[m],M<0)return-1;if(M>0&&(s===y||x!==1))return-1;for(ve[1]=0,m=1;m<O;m++)ve[m+1]=ve[m]+I[m];for(w=0;w<l;w++)h[b+w]!==0&&(r[ve[h[b+w]]++]=w);if(s===y?(W=q=r,te=19):s===L?(W=a,X-=257,q=i,ae-=257,te=256):(W=g,q=f,te=-1),B=0,w=0,m=k,J=c,V=N,z=0,D=-1,C=1<<N,G=C-1,s===L&&C>j||s===t&&C>$)return 1;for(;;){se=m-z,r[w]<te?(be=0,Ne=r[w]):r[w]>te?(be=q[ae+r[w]],Ne=W[X+r[w]]):(be=96,Ne=0),U=1<<m-z,Z=1<<V,k=Z;do Z-=U,_[J+(B>>z)+Z]=se<<24|be<<16|Ne|0;while(Z!==0);for(U=1<<m-1;B&U;)U>>=1;if(U!==0?(B&=U-1,B+=U):B=0,w++,--I[m]===0){if(m===x)break;m=h[b+r[w]]}if(m>N&&(B&G)!==D){for(z===0&&(z=N),J+=k,V=m-z,M=1<<V;V+z<x&&(M-=I[V+z],!(M<=0));)V++,M<<=1;if(C+=1<<V,s===L&&C>j||s===t&&C>$)return 1;D=B&G,_[D]=N<<24|V<<16|J-c|0}}return B!==0&&(_[J+B]=m-z<<24|64<<16|0),n.bits=N,0},Wa}var Nt;function ai(){if(Nt)return Qe;Nt=1;var R=pa(),O=qt(),j=Wt(),$=Qr(),y=ei(),L=0,t=1,a=2,i=4,g=5,f=6,v=0,s=1,h=2,b=-2,l=-3,_=-4,c=-5,r=8,n=1,u=2,m=3,w=4,k=5,x=6,N=7,V=8,z=9,M=10,C=11,B=12,U=13,Z=14,D=15,G=16,J=17,W=18,X=19,te=20,I=21,ve=22,q=23,ae=24,se=25,be=26,Ne=27,Ue=28,Pe=29,ke=30,$e=31,Ke=32,Le=852,pe=592,ne=15,ue=ne;function ge(P){return(P>>>24&255)+(P>>>8&65280)+((P&65280)<<8)+((P&255)<<24)}function Ae(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new R.Buf16(320),this.work=new R.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ve(P){var Y;return!P||!P.state?b:(Y=P.state,P.total_in=P.total_out=Y.total=0,P.msg="",Y.wrap&&(P.adler=Y.wrap&1),Y.mode=n,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new R.Buf32(Le),Y.distcode=Y.distdyn=new R.Buf32(pe),Y.sane=1,Y.back=-1,v)}function Fe(P){var Y;return!P||!P.state?b:(Y=P.state,Y.wsize=0,Y.whave=0,Y.wnext=0,Ve(P))}function ka(P,Y){var o,ee;return!P||!P.state||(ee=P.state,Y<0?(o=0,Y=-Y):(o=(Y>>4)+1,Y<48&&(Y&=15)),Y&&(Y<8||Y>15))?b:(ee.window!==null&&ee.wbits!==Y&&(ee.window=null),ee.wrap=o,ee.wbits=Y,Fe(P))}function ha(P,Y){var o,ee;return P?(ee=new Ae,P.state=ee,ee.window=null,o=ka(P,Y),o!==v&&(P.state=null),o):b}function ta(P){return ha(P,ue)}var ya=!0,_a,Ge;function na(P){if(ya){var Y;for(_a=new R.Buf32(512),Ge=new R.Buf32(32),Y=0;Y<144;)P.lens[Y++]=8;for(;Y<256;)P.lens[Y++]=9;for(;Y<280;)P.lens[Y++]=7;for(;Y<288;)P.lens[Y++]=8;for(y(t,P.lens,0,288,_a,0,P.work,{bits:9}),Y=0;Y<32;)P.lens[Y++]=5;y(a,P.lens,0,32,Ge,0,P.work,{bits:5}),ya=!1}P.lencode=_a,P.lenbits=9,P.distcode=Ge,P.distbits=5}function xa(P,Y,o,ee){var he,e=P.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new R.Buf8(e.wsize)),ee>=e.wsize?(R.arraySet(e.window,Y,o-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(he=e.wsize-e.wnext,he>ee&&(he=ee),R.arraySet(e.window,Y,o-ee,he,e.wnext),ee-=he,ee?(R.arraySet(e.window,Y,o-ee,ee,0),e.wnext=ee,e.whave=e.wsize):(e.wnext+=he,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=he))),0}function p(P,Y){var o,ee,he,e,F,K,d,A,H,ce,ie,oe,ye,fa,ze=0,xe,Oe,Ze,Je,$a,Oa,Ie,Xe,He=new R.Buf8(4),va,oa,_t=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return b;o=P.state,o.mode===B&&(o.mode=U),F=P.next_out,he=P.output,d=P.avail_out,e=P.next_in,ee=P.input,K=P.avail_in,A=o.hold,H=o.bits,ce=K,ie=d,Xe=v;e:for(;;)switch(o.mode){case n:if(o.wrap===0){o.mode=U;break}for(;H<16;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}if(o.wrap&2&&A===35615){o.check=0,He[0]=A&255,He[1]=A>>>8&255,o.check=j(o.check,He,2,0),A=0,H=0,o.mode=u;break}if(o.flags=0,o.head&&(o.head.done=!1),!(o.wrap&1)||(((A&255)<<8)+(A>>8))%31){P.msg="incorrect header check",o.mode=ke;break}if((A&15)!==r){P.msg="unknown compression method",o.mode=ke;break}if(A>>>=4,H-=4,Ie=(A&15)+8,o.wbits===0)o.wbits=Ie;else if(Ie>o.wbits){P.msg="invalid window size",o.mode=ke;break}o.dmax=1<<Ie,P.adler=o.check=1,o.mode=A&512?M:B,A=0,H=0;break;case u:for(;H<16;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}if(o.flags=A,(o.flags&255)!==r){P.msg="unknown compression method",o.mode=ke;break}if(o.flags&57344){P.msg="unknown header flags set",o.mode=ke;break}o.head&&(o.head.text=A>>8&1),o.flags&512&&(He[0]=A&255,He[1]=A>>>8&255,o.check=j(o.check,He,2,0)),A=0,H=0,o.mode=m;case m:for(;H<32;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}o.head&&(o.head.time=A),o.flags&512&&(He[0]=A&255,He[1]=A>>>8&255,He[2]=A>>>16&255,He[3]=A>>>24&255,o.check=j(o.check,He,4,0)),A=0,H=0,o.mode=w;case w:for(;H<16;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}o.head&&(o.head.xflags=A&255,o.head.os=A>>8),o.flags&512&&(He[0]=A&255,He[1]=A>>>8&255,o.check=j(o.check,He,2,0)),A=0,H=0,o.mode=k;case k:if(o.flags&1024){for(;H<16;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}o.length=A,o.head&&(o.head.extra_len=A),o.flags&512&&(He[0]=A&255,He[1]=A>>>8&255,o.check=j(o.check,He,2,0)),A=0,H=0}else o.head&&(o.head.extra=null);o.mode=x;case x:if(o.flags&1024&&(oe=o.length,oe>K&&(oe=K),oe&&(o.head&&(Ie=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),R.arraySet(o.head.extra,ee,e,oe,Ie)),o.flags&512&&(o.check=j(o.check,ee,oe,e)),K-=oe,e+=oe,o.length-=oe),o.length))break e;o.length=0,o.mode=N;case N:if(o.flags&2048){if(K===0)break e;oe=0;do Ie=ee[e+oe++],o.head&&Ie&&o.length<65536&&(o.head.name+=String.fromCharCode(Ie));while(Ie&&oe<K);if(o.flags&512&&(o.check=j(o.check,ee,oe,e)),K-=oe,e+=oe,Ie)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=V;case V:if(o.flags&4096){if(K===0)break e;oe=0;do Ie=ee[e+oe++],o.head&&Ie&&o.length<65536&&(o.head.comment+=String.fromCharCode(Ie));while(Ie&&oe<K);if(o.flags&512&&(o.check=j(o.check,ee,oe,e)),K-=oe,e+=oe,Ie)break e}else o.head&&(o.head.comment=null);o.mode=z;case z:if(o.flags&512){for(;H<16;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}if(A!==(o.check&65535)){P.msg="header crc mismatch",o.mode=ke;break}A=0,H=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),P.adler=o.check=0,o.mode=B;break;case M:for(;H<32;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}P.adler=o.check=ge(A),A=0,H=0,o.mode=C;case C:if(o.havedict===0)return P.next_out=F,P.avail_out=d,P.next_in=e,P.avail_in=K,o.hold=A,o.bits=H,h;P.adler=o.check=1,o.mode=B;case B:if(Y===g||Y===f)break e;case U:if(o.last){A>>>=H&7,H-=H&7,o.mode=Ne;break}for(;H<3;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}switch(o.last=A&1,A>>>=1,H-=1,A&3){case 0:o.mode=Z;break;case 1:if(na(o),o.mode=te,Y===f){A>>>=2,H-=2;break e}break;case 2:o.mode=J;break;case 3:P.msg="invalid block type",o.mode=ke}A>>>=2,H-=2;break;case Z:for(A>>>=H&7,H-=H&7;H<32;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}if((A&65535)!==(A>>>16^65535)){P.msg="invalid stored block lengths",o.mode=ke;break}if(o.length=A&65535,A=0,H=0,o.mode=D,Y===f)break e;case D:o.mode=G;case G:if(oe=o.length,oe){if(oe>K&&(oe=K),oe>d&&(oe=d),oe===0)break e;R.arraySet(he,ee,e,oe,F),K-=oe,e+=oe,d-=oe,F+=oe,o.length-=oe;break}o.mode=B;break;case J:for(;H<14;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}if(o.nlen=(A&31)+257,A>>>=5,H-=5,o.ndist=(A&31)+1,A>>>=5,H-=5,o.ncode=(A&15)+4,A>>>=4,H-=4,o.nlen>286||o.ndist>30){P.msg="too many length or distance symbols",o.mode=ke;break}o.have=0,o.mode=W;case W:for(;o.have<o.ncode;){for(;H<3;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}o.lens[_t[o.have++]]=A&7,A>>>=3,H-=3}for(;o.have<19;)o.lens[_t[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,va={bits:o.lenbits},Xe=y(L,o.lens,0,19,o.lencode,0,o.work,va),o.lenbits=va.bits,Xe){P.msg="invalid code lengths set",o.mode=ke;break}o.have=0,o.mode=X;case X:for(;o.have<o.nlen+o.ndist;){for(;ze=o.lencode[A&(1<<o.lenbits)-1],xe=ze>>>24,Oe=ze>>>16&255,Ze=ze&65535,!(xe<=H);){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}if(Ze<16)A>>>=xe,H-=xe,o.lens[o.have++]=Ze;else{if(Ze===16){for(oa=xe+2;H<oa;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}if(A>>>=xe,H-=xe,o.have===0){P.msg="invalid bit length repeat",o.mode=ke;break}Ie=o.lens[o.have-1],oe=3+(A&3),A>>>=2,H-=2}else if(Ze===17){for(oa=xe+3;H<oa;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}A>>>=xe,H-=xe,Ie=0,oe=3+(A&7),A>>>=3,H-=3}else{for(oa=xe+7;H<oa;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}A>>>=xe,H-=xe,Ie=0,oe=11+(A&127),A>>>=7,H-=7}if(o.have+oe>o.nlen+o.ndist){P.msg="invalid bit length repeat",o.mode=ke;break}for(;oe--;)o.lens[o.have++]=Ie}}if(o.mode===ke)break;if(o.lens[256]===0){P.msg="invalid code -- missing end-of-block",o.mode=ke;break}if(o.lenbits=9,va={bits:o.lenbits},Xe=y(t,o.lens,0,o.nlen,o.lencode,0,o.work,va),o.lenbits=va.bits,Xe){P.msg="invalid literal/lengths set",o.mode=ke;break}if(o.distbits=6,o.distcode=o.distdyn,va={bits:o.distbits},Xe=y(a,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,va),o.distbits=va.bits,Xe){P.msg="invalid distances set",o.mode=ke;break}if(o.mode=te,Y===f)break e;case te:o.mode=I;case I:if(K>=6&&d>=258){P.next_out=F,P.avail_out=d,P.next_in=e,P.avail_in=K,o.hold=A,o.bits=H,$(P,ie),F=P.next_out,he=P.output,d=P.avail_out,e=P.next_in,ee=P.input,K=P.avail_in,A=o.hold,H=o.bits,o.mode===B&&(o.back=-1);break}for(o.back=0;ze=o.lencode[A&(1<<o.lenbits)-1],xe=ze>>>24,Oe=ze>>>16&255,Ze=ze&65535,!(xe<=H);){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}if(Oe&&!(Oe&240)){for(Je=xe,$a=Oe,Oa=Ze;ze=o.lencode[Oa+((A&(1<<Je+$a)-1)>>Je)],xe=ze>>>24,Oe=ze>>>16&255,Ze=ze&65535,!(Je+xe<=H);){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}A>>>=Je,H-=Je,o.back+=Je}if(A>>>=xe,H-=xe,o.back+=xe,o.length=Ze,Oe===0){o.mode=be;break}if(Oe&32){o.back=-1,o.mode=B;break}if(Oe&64){P.msg="invalid literal/length code",o.mode=ke;break}o.extra=Oe&15,o.mode=ve;case ve:if(o.extra){for(oa=o.extra;H<oa;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}o.length+=A&(1<<o.extra)-1,A>>>=o.extra,H-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=q;case q:for(;ze=o.distcode[A&(1<<o.distbits)-1],xe=ze>>>24,Oe=ze>>>16&255,Ze=ze&65535,!(xe<=H);){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}if(!(Oe&240)){for(Je=xe,$a=Oe,Oa=Ze;ze=o.distcode[Oa+((A&(1<<Je+$a)-1)>>Je)],xe=ze>>>24,Oe=ze>>>16&255,Ze=ze&65535,!(Je+xe<=H);){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}A>>>=Je,H-=Je,o.back+=Je}if(A>>>=xe,H-=xe,o.back+=xe,Oe&64){P.msg="invalid distance code",o.mode=ke;break}o.offset=Ze,o.extra=Oe&15,o.mode=ae;case ae:if(o.extra){for(oa=o.extra;H<oa;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}o.offset+=A&(1<<o.extra)-1,A>>>=o.extra,H-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){P.msg="invalid distance too far back",o.mode=ke;break}o.mode=se;case se:if(d===0)break e;if(oe=ie-d,o.offset>oe){if(oe=o.offset-oe,oe>o.whave&&o.sane){P.msg="invalid distance too far back",o.mode=ke;break}oe>o.wnext?(oe-=o.wnext,ye=o.wsize-oe):ye=o.wnext-oe,oe>o.length&&(oe=o.length),fa=o.window}else fa=he,ye=F-o.offset,oe=o.length;oe>d&&(oe=d),d-=oe,o.length-=oe;do he[F++]=fa[ye++];while(--oe);o.length===0&&(o.mode=I);break;case be:if(d===0)break e;he[F++]=o.length,d--,o.mode=I;break;case Ne:if(o.wrap){for(;H<32;){if(K===0)break e;K--,A|=ee[e++]<<H,H+=8}if(ie-=d,P.total_out+=ie,o.total+=ie,ie&&(P.adler=o.check=o.flags?j(o.check,he,ie,F-ie):O(o.check,he,ie,F-ie)),ie=d,(o.flags?A:ge(A))!==o.check){P.msg="incorrect data check",o.mode=ke;break}A=0,H=0}o.mode=Ue;case Ue:if(o.wrap&&o.flags){for(;H<32;){if(K===0)break e;K--,A+=ee[e++]<<H,H+=8}if(A!==(o.total&4294967295)){P.msg="incorrect length check",o.mode=ke;break}A=0,H=0}o.mode=Pe;case Pe:Xe=s;break e;case ke:Xe=l;break e;case $e:return _;case Ke:default:return b}return P.next_out=F,P.avail_out=d,P.next_in=e,P.avail_in=K,o.hold=A,o.bits=H,(o.wsize||ie!==P.avail_out&&o.mode<ke&&(o.mode<Ne||Y!==i))&&xa(P,P.output,P.next_out,ie-P.avail_out),ce-=P.avail_in,ie-=P.avail_out,P.total_in+=ce,P.total_out+=ie,o.total+=ie,o.wrap&&ie&&(P.adler=o.check=o.flags?j(o.check,he,ie,P.next_out-ie):O(o.check,he,ie,P.next_out-ie)),P.data_type=o.bits+(o.last?64:0)+(o.mode===B?128:0)+(o.mode===te||o.mode===D?256:0),(ce===0&&ie===0||Y===i)&&Xe===v&&(Xe=c),Xe}function Q(P){if(!P||!P.state)return b;var Y=P.state;return Y.window&&(Y.window=null),P.state=null,v}function re(P,Y){var o;return!P||!P.state||(o=P.state,!(o.wrap&2))?b:(o.head=Y,Y.done=!1,v)}function le(P,Y){var o=Y.length,ee,he,e;return!P||!P.state||(ee=P.state,ee.wrap!==0&&ee.mode!==C)?b:ee.mode===C&&(he=1,he=O(he,Y,o,0),he!==ee.check)?l:(e=xa(P,Y,o,o),e?(ee.mode=$e,_):(ee.havedict=1,v))}return Qe.inflateReset=Fe,Qe.inflateReset2=ka,Qe.inflateResetKeep=Ve,Qe.inflateInit=ta,Qe.inflateInit2=ha,Qe.inflate=p,Qe.inflateEnd=Q,Qe.inflateGetHeader=re,Qe.inflateSetDictionary=le,Qe.inflateInfo="pako inflate (from Nodeca project)",Qe}var Xa,Pt;function er(){return Pt||(Pt=1,Xa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Xa}var Qa,zt;function ti(){if(zt)return Qa;zt=1;function R(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return Qa=R,Qa}var Mt;function ri(){if(Mt)return Va;Mt=1;var R=ai(),O=pa(),j=Xt(),$=er(),y=vt(),L=Qt(),t=ti(),a=Object.prototype.toString;function i(v){if(!(this instanceof i))return new i(v);this.options=O.assign({chunkSize:16384,windowBits:0,to:""},v||{});var s=this.options;s.raw&&s.windowBits>=0&&s.windowBits<16&&(s.windowBits=-s.windowBits,s.windowBits===0&&(s.windowBits=-15)),s.windowBits>=0&&s.windowBits<16&&!(v&&v.windowBits)&&(s.windowBits+=32),s.windowBits>15&&s.windowBits<48&&(s.windowBits&15||(s.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new L,this.strm.avail_out=0;var h=R.inflateInit2(this.strm,s.windowBits);if(h!==$.Z_OK)throw new Error(y[h]);if(this.header=new t,R.inflateGetHeader(this.strm,this.header),s.dictionary&&(typeof s.dictionary=="string"?s.dictionary=j.string2buf(s.dictionary):a.call(s.dictionary)==="[object ArrayBuffer]"&&(s.dictionary=new Uint8Array(s.dictionary)),s.raw&&(h=R.inflateSetDictionary(this.strm,s.dictionary),h!==$.Z_OK)))throw new Error(y[h])}i.prototype.push=function(v,s){var h=this.strm,b=this.options.chunkSize,l=this.options.dictionary,_,c,r,n,u,m=!1;if(this.ended)return!1;c=s===~~s?s:s===!0?$.Z_FINISH:$.Z_NO_FLUSH,typeof v=="string"?h.input=j.binstring2buf(v):a.call(v)==="[object ArrayBuffer]"?h.input=new Uint8Array(v):h.input=v,h.next_in=0,h.avail_in=h.input.length;do{if(h.avail_out===0&&(h.output=new O.Buf8(b),h.next_out=0,h.avail_out=b),_=R.inflate(h,$.Z_NO_FLUSH),_===$.Z_NEED_DICT&&l&&(_=R.inflateSetDictionary(this.strm,l)),_===$.Z_BUF_ERROR&&m===!0&&(_=$.Z_OK,m=!1),_!==$.Z_STREAM_END&&_!==$.Z_OK)return this.onEnd(_),this.ended=!0,!1;h.next_out&&(h.avail_out===0||_===$.Z_STREAM_END||h.avail_in===0&&(c===$.Z_FINISH||c===$.Z_SYNC_FLUSH))&&(this.options.to==="string"?(r=j.utf8border(h.output,h.next_out),n=h.next_out-r,u=j.buf2string(h.output,r),h.next_out=n,h.avail_out=b-n,n&&O.arraySet(h.output,h.output,r,n,0),this.onData(u)):this.onData(O.shrinkBuf(h.output,h.next_out))),h.avail_in===0&&h.avail_out===0&&(m=!0)}while((h.avail_in>0||h.avail_out===0)&&_!==$.Z_STREAM_END);return _===$.Z_STREAM_END&&(c=$.Z_FINISH),c===$.Z_FINISH?(_=R.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===$.Z_OK):(c===$.Z_SYNC_FLUSH&&(this.onEnd($.Z_OK),h.avail_out=0),!0)},i.prototype.onData=function(v){this.chunks.push(v)},i.prototype.onEnd=function(v){v===$.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=O.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg};function g(v,s){var h=new i(s);if(h.push(v,!0),h.err)throw h.msg||y[h.err];return h.result}function f(v,s){return s=s||{},s.raw=!0,g(v,s)}return Va.Inflate=i,Va.inflate=g,Va.inflateRaw=f,Va.ungzip=g,Va}var et,It;function ii(){if(It)return et;It=1;var R=pa().assign,O=Xr(),j=ri(),$=er(),y={};return R(y,O,j,$),et=y,et}var $t;function ni(){return $t||($t=1,function(R){(function(){var O={};R.exports=O;var j;typeof Yr=="function"?j=ii():j=self.pako;function $(){typeof process>"u"&&console.log.apply(console,arguments)}(function(y,L){(function(){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a=function(){function g(f){this.message="JPEG error: "+f}return g.prototype=Error(),g.prototype.name="JpegError",g.constructor=g}(),i=function(){function g(f,v){this.message=f,this.g=v}return g.prototype=Error(),g.prototype.name="DNLMarkerError",g.constructor=g}();(function(){function g(){this.M=null,this.B=-1}function f(l,_){for(var c=0,r=[],n,u,m=16;0<m&&!l[m-1];)m--;r.push({children:[],index:0});var w=r[0],k;for(n=0;n<m;n++){for(u=0;u<l[n];u++){for(w=r.pop(),w.children[w.index]=_[c];0<w.index;)w=r.pop();for(w.index++,r.push(w);r.length<=n;)r.push(k={children:[],index:0}),w.children[w.index]=k.children,w=k;c++}n+1<m&&(r.push(k={children:[],index:0}),w.children[w.index]=k.children,w=k)}return r[0].children}function v(l,_,c,r,n,u,m,w,k){function x(){if(0<X)return X--,W>>X&1;if(W=l[_++],W===255){var ne=l[_++];if(ne){if(ne===220&&D){_+=2;var ue=l[_++]<<8|l[_++];if(0<ue&&ue!==c.g)throw new i("Found DNL marker (0xFFDC) while parsing scan data",ue)}throw new a("unexpected marker "+(W<<8|ne).toString(16))}}return X=7,W>>>7}function N(ne){for(;;){if(ne=ne[x()],typeof ne=="number")return ne;if((typeof ne>"u"?"undefined":t(ne))!=="object")throw new a("invalid huffman sequence")}}function V(ne){for(var ue=0;0<ne;)ue=ue<<1|x(),ne--;return ue}function z(ne){if(ne===1)return x()===1?1:-1;var ue=V(ne);return ue>=1<<ne-1?ue:ue+(-1<<ne)+1}function M(ne,ue){var ge=N(ne.D);for(ge=ge===0?0:z(ge),ne.a[ue]=ne.m+=ge,ge=1;64>ge;){var Ae=N(ne.o),Ve=Ae&15;if(Ae>>=4,Ve===0){if(15>Ae)break;ge+=16}else ge+=Ae,ne.a[ue+b[ge]]=z(Ve),ge++}}function C(ne,ue){var ge=N(ne.D);ge=ge===0?0:z(ge)<<k,ne.a[ue]=ne.m+=ge}function B(ne,ue){ne.a[ue]|=x()<<k}function U(ne,ue){if(0<te)te--;else for(var ge=u;ge<=m;){var Ae=N(ne.o),Ve=Ae&15;if(Ae>>=4,Ve===0){if(15>Ae){te=V(Ae)+(1<<Ae)-1;break}ge+=16}else ge+=Ae,ne.a[ue+b[ge]]=z(Ve)*(1<<k),ge++}}function Z(ne,ue){for(var ge=u,Ae=0,Ve;ge<=m;){Ve=ue+b[ge];var Fe=0>ne.a[Ve]?-1:1;switch(I){case 0:if(Ae=N(ne.o),Ve=Ae&15,Ae>>=4,Ve===0)15>Ae?(te=V(Ae)+(1<<Ae),I=4):(Ae=16,I=1);else{if(Ve!==1)throw new a("invalid ACn encoding");ve=z(Ve),I=Ae?2:3}continue;case 1:case 2:ne.a[Ve]?ne.a[Ve]+=Fe*(x()<<k):(Ae--,Ae===0&&(I=I===2?3:0));break;case 3:ne.a[Ve]?ne.a[Ve]+=Fe*(x()<<k):(ne.a[Ve]=ve<<k,I=0);break;case 4:ne.a[Ve]&&(ne.a[Ve]+=Fe*(x()<<k))}ge++}I===4&&(te--,te===0&&(I=0))}for(var D=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,G=c.P,J=_,W=0,X=0,te=0,I=0,ve,q=r.length,ae,se,be,Ne,Ue=c.S?u===0?w===0?C:B:w===0?U:Z:M,Pe=0,ke=q===1?r[0].c*r[0].l:G*c.O,$e,Ke;Pe<ke;){var Le=n?Math.min(ke-Pe,n):ke;for(ae=0;ae<q;ae++)r[ae].m=0;if(te=0,q===1){var pe=r[0];for(Ne=0;Ne<Le;Ne++)Ue(pe,64*((pe.c+1)*(Pe/pe.c|0)+Pe%pe.c)),Pe++}else for(Ne=0;Ne<Le;Ne++){for(ae=0;ae<q;ae++)for(pe=r[ae],$e=pe.h,Ke=pe.j,se=0;se<Ke;se++)for(be=0;be<$e;be++)Ue(pe,64*((pe.c+1)*((Pe/G|0)*pe.j+se)+(Pe%G*pe.h+be)));Pe++}if(X=0,(pe=h(l,_))&&pe.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+pe.f),_=pe.offset),pe=pe&&pe.F,!pe||65280>=pe)throw new a("marker was not found");if(65488<=pe&&65495>=pe)_+=2;else break}return(pe=h(l,_))&&pe.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+pe.f),_=pe.offset),_-J}function s(l,_){for(var c=_.c,r=_.l,n=new Int16Array(64),u=0;u<r;u++)for(var m=0;m<c;m++){var w=64*((_.c+1)*u+m),k=n,x=_.G,N=_.a;if(!x)throw new a("missing required Quantization Table.");for(var V=0;64>V;V+=8){var z=N[w+V],M=N[w+V+1],C=N[w+V+2],B=N[w+V+3],U=N[w+V+4],Z=N[w+V+5],D=N[w+V+6],G=N[w+V+7];if(z*=x[V],!(M|C|B|U|Z|D|G))z=5793*z+512>>10,k[V]=z,k[V+1]=z,k[V+2]=z,k[V+3]=z,k[V+4]=z,k[V+5]=z,k[V+6]=z,k[V+7]=z;else{M*=x[V+1],C*=x[V+2],B*=x[V+3],U*=x[V+4],Z*=x[V+5],D*=x[V+6],G*=x[V+7];var J=5793*z+128>>8,W=5793*U+128>>8,X=C,te=D;U=2896*(M-G)+128>>8,G=2896*(M+G)+128>>8,B<<=4,Z<<=4,J=J+W+1>>1,W=J-W,z=3784*X+1567*te+128>>8,X=1567*X-3784*te+128>>8,te=z,U=U+Z+1>>1,Z=U-Z,G=G+B+1>>1,B=G-B,J=J+te+1>>1,te=J-te,W=W+X+1>>1,X=W-X,z=2276*U+3406*G+2048>>12,U=3406*U-2276*G+2048>>12,G=z,z=799*B+4017*Z+2048>>12,B=4017*B-799*Z+2048>>12,Z=z,k[V]=J+G,k[V+7]=J-G,k[V+1]=W+Z,k[V+6]=W-Z,k[V+2]=X+B,k[V+5]=X-B,k[V+3]=te+U,k[V+4]=te-U}}for(x=0;8>x;++x)z=k[x],M=k[x+8],C=k[x+16],B=k[x+24],U=k[x+32],Z=k[x+40],D=k[x+48],G=k[x+56],M|C|B|U|Z|D|G?(J=5793*z+2048>>12,W=5793*U+2048>>12,X=C,te=D,U=2896*(M-G)+2048>>12,G=2896*(M+G)+2048>>12,J=(J+W+1>>1)+4112,W=J-W,z=3784*X+1567*te+2048>>12,X=1567*X-3784*te+2048>>12,te=z,U=U+Z+1>>1,Z=U-Z,G=G+B+1>>1,B=G-B,J=J+te+1>>1,te=J-te,W=W+X+1>>1,X=W-X,z=2276*U+3406*G+2048>>12,U=3406*U-2276*G+2048>>12,G=z,z=799*B+4017*Z+2048>>12,B=4017*B-799*Z+2048>>12,Z=z,z=J+G,G=J-G,M=W+Z,D=W-Z,C=X+B,Z=X-B,B=te+U,U=te-U,z=16>z?0:4080<=z?255:z>>4,M=16>M?0:4080<=M?255:M>>4,C=16>C?0:4080<=C?255:C>>4,B=16>B?0:4080<=B?255:B>>4,U=16>U?0:4080<=U?255:U>>4,Z=16>Z?0:4080<=Z?255:Z>>4,D=16>D?0:4080<=D?255:D>>4,G=16>G?0:4080<=G?255:G>>4,N[w+x]=z,N[w+x+8]=M,N[w+x+16]=C,N[w+x+24]=B,N[w+x+32]=U,N[w+x+40]=Z,N[w+x+48]=D,N[w+x+56]=G):(z=5793*z+8192>>14,z=-2040>z?0:2024<=z?255:z+2056>>4,N[w+x]=z,N[w+x+8]=z,N[w+x+16]=z,N[w+x+24]=z,N[w+x+32]=z,N[w+x+40]=z,N[w+x+48]=z,N[w+x+56]=z)}return _.a}function h(l,_){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:_,r=l.length-1;if(c=c<_?c:_,_>=r)return null;var n=l[_]<<8|l[_+1];if(65472<=n&&65534>=n)return{f:null,F:n,offset:_};for(var u=l[c]<<8|l[c+1];!(65472<=u&&65534>=u);){if(++c>=r)return null;u=l[c]<<8|l[c+1]}return{f:n.toString(16),F:u,offset:c}}var b=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);g.prototype={parse:function(l){function _(){var X=l[m]<<8|l[m+1];return m+=2,X}function c(){var X=_();X=m+X-2;var te=h(l,X,m);return te&&te.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+te.f),X=te.offset),X=l.subarray(m,X),m+=X.length,X}function r(X){for(var te=Math.ceil(X.v/8/X.s),I=Math.ceil(X.g/8/X.u),ve=0;ve<X.b.length;ve++){J=X.b[ve];var q=Math.ceil(Math.ceil(X.v/8)*J.h/X.s),ae=Math.ceil(Math.ceil(X.g/8)*J.j/X.u);J.a=new Int16Array(64*I*J.j*(te*J.h+1)),J.c=q,J.l=ae}X.P=te,X.O=I}var n=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,u=n===void 0?null:n,m=0,w=null,k=0;n=[];var x=[],N=[],V=_();if(V!==65496)throw new a("SOI not found");for(V=_();V!==65497;){switch(V){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var z=c();V===65518&&z[0]===65&&z[1]===100&&z[2]===111&&z[3]===98&&z[4]===101&&(w={version:z[5]<<8|z[6],Y:z[7]<<8|z[8],Z:z[9]<<8|z[10],W:z[11]});break;case 65499:V=_()+m-2;for(var M;m<V;){var C=l[m++],B=new Uint16Array(64);if(C>>4)if(C>>4===1)for(z=0;64>z;z++)M=b[z],B[M]=_();else throw new a("DQT - invalid table spec");else for(z=0;64>z;z++)M=b[z],B[M]=l[m++];n[C&15]=B}break;case 65472:case 65473:case 65474:if(U)throw new a("Only single frame JPEGs supported");_();var U={};for(U.X=V===65473,U.S=V===65474,U.precision=l[m++],V=_(),U.g=u||V,U.v=_(),U.b=[],U.C={},z=l[m++],V=B=C=0;V<z;V++){M=l[m];var Z=l[m+1]>>4,D=l[m+1]&15;C<Z&&(C=Z),B<D&&(B=D),Z=U.b.push({h:Z,j:D,T:l[m+2],G:null}),U.C[M]=Z-1,m+=3}U.s=C,U.u=B,r(U);break;case 65476:for(M=_(),V=2;V<M;){for(C=l[m++],B=new Uint8Array(16),z=Z=0;16>z;z++,m++)Z+=B[z]=l[m];for(D=new Uint8Array(Z),z=0;z<Z;z++,m++)D[z]=l[m];V+=17+Z,(C>>4?x:N)[C&15]=f(B,D)}break;case 65501:_();var G=_();break;case 65498:for(z=++k===1&&!u,_(),C=l[m++],M=[],V=0;V<C;V++){B=U.C[l[m++]];var J=U.b[B];B=l[m++],J.D=N[B>>4],J.o=x[B&15],M.push(J)}V=l[m++],C=l[m++],B=l[m++];try{var W=v(l,m,U,M,G,V,C,B>>4,B&15,z);m+=W}catch(X){if(X instanceof i)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(l,{N:X.g});throw X}break;case 65500:m+=4;break;case 65535:l[m]!==255&&m--;break;default:if(l[m-3]===255&&192<=l[m-2]&&254>=l[m-2])m-=3;else if((z=h(l,m-2))&&z.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+z.f),m=z.offset;else throw new a("unknown marker "+V.toString(16))}V=_()}for(this.width=U.v,this.height=U.g,this.A=w,this.b=[],V=0;V<U.b.length;V++)J=U.b[V],(G=n[J.T])&&(J.G=G),this.b.push({R:s(U,J),U:J.h/U.s,V:J.j/U.u,c:J.c,l:J.l});this.i=this.b.length},L:function(l,_){var c=this.width/l,r=this.height/_,n,u,m=this.b.length,w=l*_*m,k=new Uint8ClampedArray(w),x=new Uint32Array(l);for(u=0;u<m;u++){var N=this.b[u],V=N.U*c,z=N.V*r,M=u,C=N.R,B=N.c+1<<3;for(n=0;n<l;n++)N=0|n*V,x[n]=(N&4294967288)<<3|N&7;for(V=0;V<_;V++)for(N=0|V*z,N=B*(N&4294967288)|(N&7)<<3,n=0;n<l;n++)k[M]=C[N+x[n]],M+=m}if(r=this.M)for(u=0;u<w;)for(c=N=0;N<m;N++,u++,c+=2)k[u]=(k[u]*r[c]>>8)+r[c+1];return k},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(l){for(var _,c,r,n=0,u=l.length;n<u;n+=3)_=l[n],c=l[n+1],r=l[n+2],l[n]=_-179.456+1.402*r,l[n+1]=_+135.459-.344*c-.714*r,l[n+2]=_-226.816+1.772*c;return l},K:function(l){for(var _,c,r,n,u=0,m=0,w=l.length;m<w;m+=4)_=l[m],c=l[m+1],r=l[m+2],n=l[m+3],l[u++]=-122.67195406894+c*(-660635669420364e-19*c+.000437130475926232*r-54080610064599e-18*_+.00048449797120281*n-.154362151871126)+r*(-.000957964378445773*r+.000817076911346625*_-.00477271405408747*n+1.53380253221734)+_*(.000961250184130688*_-.00266257332283933*n+.48357088451265)+n*(-.000336197177618394*n+.484791561490776),l[u++]=107.268039397724+c*(219927104525741e-19*c-.000640992018297945*r+.000659397001245577*_+.000426105652938837*n-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*_+.000770482631801132*n-.151051492775562)+_*(.00126935368114843*_-.00265090189010898*n+.25802910206845)+n*(-.000318913117588328*n-.213742400323665),l[u++]=-20.810012546947+c*(-.000570115196973677*c-263409051004589e-19*r+.0020741088115012*_-.00288260236853442*n+.814272968359295)+r*(-153496057440975e-19*r-.000132689043961446*_+.000560833691242812*n-.195152027534049)+_*(.00174418132927582*_-.00255243321439347*n+.116935020465145)+n*(-.000343531996510555*n+.24165260232407);return l.subarray(0,u)},J:function(l){for(var _,c,r,n=0,u=l.length;n<u;n+=4)_=l[n],c=l[n+1],r=l[n+2],l[n]=434.456-_-1.402*r,l[n+1]=119.541-_+.344*c+.714*r,l[n+2]=481.816-_-1.772*c;return l},H:function(l){for(var _,c,r,n,u=0,m=1/255,w=0,k=l.length;w<k;w+=4)_=l[w]*m,c=l[w+1]*m,r=l[w+2]*m,n=l[w+3]*m,l[u++]=255+_*(-4.387332384609988*_+54.48615194189176*c+18.82290502165302*r+212.25662451639585*n-285.2331026137004)+c*(1.7149763477362134*c-5.6096736904047315*r-17.873870861415444*n-5.497006427196366)+r*(-2.5217340131683033*r-21.248923337353073*n+17.5119270841813)-n*(21.86122147463605*n+189.48180835922747),l[u++]=255+_*(8.841041422036149*_+60.118027045597366*c+6.871425592049007*r+31.159100130055922*n-79.2970844816548)+c*(-15.310361306967817*c+17.575251261109482*r+131.35250912493976*n-190.9453302588951)+r*(4.444339102852739*r+9.8632861493405*n-24.86741582555878)-n*(20.737325471181034*n+187.80453709719578),l[u++]=255+_*(.8842522430003296*_+8.078677503112928*c+30.89978309703729*r-.23883238689178934*n-14.183576799673286)+c*(10.49593273432072*c+63.02378494754052*r+50.606957656360734*n-112.23884253719248)+r*(.03296041114873217*r+115.60384449646641*n-193.58209356861505)-n*(22.33816807309886*n+180.12613974708367);return l.subarray(0,u)},getData:function(l,_,c){if(4<this.i)throw new a("Unsupported color mode");if(l=this.L(l,_),this.i===1&&c){c=l.length,_=new Uint8ClampedArray(3*c);for(var r=0,n=0;n<c;n++){var u=l[n];_[r++]=u,_[r++]=u,_[r++]=u}return _}if(this.i===3&&this.w())return this.I(l);if(this.i===4){if(this.w())return c?this.K(l):this.J(l);if(c)return this.H(l)}return l}},y.JpegDecoder=g})()})(),y.encodeImage=function(t,a,i,g){var f={t256:[a],t257:[i],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[i],t279:[a*i*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(g)for(var v in g)f[v]=g[v];for(var s=new Uint8Array(y.encode([f])),h=new Uint8Array(t),b=new Uint8Array(1e3+a*i*4),v=0;v<s.length;v++)b[v]=s[v];for(var v=0;v<h.length;v++)b[1e3+v]=h[v];return b.buffer},y.encode=function(t){var a=new Uint8Array(2e4),i=4,g=y._binBE;a[0]=77,a[1]=77,a[3]=42;var f=8;g.writeUint(a,i,f),i+=4;for(var v=0;v<t.length;v++){var s=y._writeIFD(g,a,f,t[v]);f=s[1],v<t.length-1&&g.writeUint(a,s[0],f)}return a.slice(0,f).buffer},y.decode=function(t){y.decode._decodeG3.allow2D=null;var a=new Uint8Array(t),i=0,g=y._binBE.readASCII(a,i,2);i+=2;var f=g=="II"?y._binLE:y._binBE;f.readUshort(a,i),i+=2;var v=f.readUint(a,i);i+=4;for(var s=[];;){var h=y._readIFD(f,a,v,s,0,!1);if(v=f.readUint(a,h),v==0)break}return s},y.decodeImage=function(t,a,i){var g=new Uint8Array(t),f=y._binBE.readASCII(g,0,2);if(a.t256!=null){a.isLE=f=="II",a.width=a.t256[0],a.height=a.t257[0];var v=a.t259?a.t259[0]:1,s=a.t266?a.t266[0]:1;a.t284&&a.t284[0]==2&&$("PlanarConfiguration 2 should not be used!");var h;a.t258?h=Math.min(32,a.t258[0])*a.t258.length:h=a.t277?a.t277[0]:1,v==1&&a.t279!=null&&a.t278&&a.t262[0]==32803&&(h=Math.round(a.t279[0]*8/(a.width*a.t278[0])));var b=Math.ceil(a.width*h/8)*8,l=a.t273;l==null&&(l=a.t324);var _=a.t279;v==1&&l.length==1&&(_=[a.height*(b>>>3)]),_==null&&(_=a.t325);var c=new Uint8Array(a.height*(b>>>3)),r=0;if(a.t322!=null){for(var n=a.t322[0],u=a.t323[0],m=Math.floor((a.width+n-1)/n),w=Math.floor((a.height+u-1)/u),k=new Uint8Array(Math.ceil(n*u*h/8)|0),x=0;x<w;x++)for(var N=0;N<m;N++){for(var V=x*m+N,z=0;z<k.length;z++)k[z]=0;y.decode._decompress(a,i,g,l[V],_[V],v,k,0,s),v==6?c=k:y._copyTile(k,Math.ceil(n*h/8)|0,u,c,Math.ceil(a.width*h/8)|0,a.height,Math.ceil(N*n*h/8)|0,x*u)}r=c.length*8}else{var M=a.t278?a.t278[0]:a.height;M=Math.min(M,a.height);for(var V=0;V<l.length;V++)y.decode._decompress(a,i,g,l[V],_[V],v,c,Math.ceil(r/8)|0,s),r+=b*M;r=Math.min(r,c.length*8)}a.data=new Uint8Array(c.buffer,0,Math.ceil(r/8)|0)}},y.decode._decompress=function(t,a,i,g,f,v,s,h,b){if(v==1||f==s.length&&v!=32767)for(var l=0;l<f;l++)s[h+l]=i[g+l];else if(v==3)y.decode._decodeG3(i,g,f,s,h,t.width,b);else if(v==4)y.decode._decodeG4(i,g,f,s,h,t.width,b);else if(v==5)y.decode._decodeLZW(i,g,s,h);else if(v==6)y.decode._decodeOldJPEG(t,i,g,f,s,h);else if(v==7)y.decode._decodeNewJPEG(t,i,g,f,s,h);else if(v==8)for(var _=new Uint8Array(i.buffer,g,f),c=L.inflate(_),r=0;r<c.length;r++)s[h+r]=c[r];else v==32767?y.decode._decodeARW(t,i,g,f,s,h):v==32773?y.decode._decodePackBits(i,g,f,s,h):v==32809?y.decode._decodeThunder(i,g,f,s,h):v==34713?y.decode._decodeNikon(t,a,i,g,f,s,h):$("Unknown compression",v);var n=t.t258?Math.min(32,t.t258[0]):1,u=t.t277?t.t277[0]:1,m=n*u>>>3,w=t.t278?t.t278[0]:t.height,k=Math.ceil(n*u*t.width/8);if(n==16&&!t.isLE&&t.t33422==null)for(var x=0;x<w;x++)for(var N=h+x*k,V=1;V<k;V+=2){var z=s[N+V];s[N+V]=s[N+V-1],s[N+V-1]=z}if(t.t317&&t.t317[0]==2)for(var x=0;x<w;x++){var M=h+x*k;if(n==16)for(var l=m;l<k;l+=2){var C=(s[M+l+1]<<8|s[M+l])+(s[M+l-m+1]<<8|s[M+l-m]);s[M+l]=C&255,s[M+l+1]=C>>>8&255}else if(u==3)for(var l=3;l<k;l+=3)s[M+l]=s[M+l]+s[M+l-3]&255,s[M+l+1]=s[M+l+1]+s[M+l-2]&255,s[M+l+2]=s[M+l+2]+s[M+l-1]&255;else for(var l=m;l<k;l++)s[M+l]=s[M+l]+s[M+l-m]&255}},y.decode._ljpeg_diff=function(t,a,i){var g=y.decode._getbithuff,f,v;return f=g(t,a,i[0],i),v=g(t,a,f,0),v&1<<f-1||(v-=(1<<f)-1),v},y.decode._decodeARW=function(t,a,i,g,f,v){var s=t.t256[0],h=t.t257[0],b=t.t258[0],l=t.isLE?y._binLE:y._binBE,_=s*h==g||s*h*1.5==g;if(!_){h+=8;var c=[i,0,0,0],r=new Uint16Array(32770),n=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],I,u,m,U,B,w=0,k=y.decode._ljpeg_diff;for(r[0]=15,m=I=0;I<18;I++)for(var x=32768>>>(n[I]>>>8),u=0;u<x;u++)r[++m]=n[I];for(U=s;U--;)for(B=0;B<h+1;B+=2)if(B==h&&(B=1),w+=k(a,c,r),B<h){var N=w&4095;y.decode._putsF(f,(B*s+U)*b,N<<16-b)}return}if(s*h*1.5==g){for(var I=0;I<g;I+=3){var V=a[i+I+0],z=a[i+I+1],M=a[i+I+2];f[v+I]=z<<4|V>>>4,f[v+I+1]=V<<4|M>>>4,f[v+I+2]=M<<4|z>>>4}return}var C=new Uint16Array(16),B,U,Z,D,G,J,W,X,te,I,ve,q=new Uint8Array(s+1);for(B=0;B<h;B++){for(var ae=0;ae<s;ae++)q[ae]=a[i++];for(ve=0,U=0;U<s-30;ve+=16){for(D=2047&(Z=l.readUint(q,ve)),G=2047&Z>>>11,J=15&Z>>>22,W=15&Z>>>26,X=0;X<4&&128<<X<=D-G;X++);for(te=30,I=0;I<16;I++)I==J?C[I]=D:I==W?C[I]=G:(C[I]=((l.readUshort(q,ve+(te>>3))>>>(te&7)&127)<<X)+G,C[I]>2047&&(C[I]=2047),te+=7);for(I=0;I<16;I++,U+=2){var N=C[I]<<1;y.decode._putsF(f,(B*s+U)*b,N<<16-b)}U-=U&1?1:31}}},y.decode._decodeNikon=function(t,a,i,g,f,v,s){var h=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],b=t.t256[0],l=t.t257[0],_=t.t258[0],c=0,r=0,n=y.decode._make_decoder,u=y.decode._getbithuff,m=a[0].exifIFD.makerNote,w=m.t150?m.t150:m.t140,k=0,x=w[k++],N=w[k++];(x==73||N==88)&&(k+=2110),x==70&&(c=2),_==14&&(c+=3);for(var V=[[0,0],[0,0]],z=t.isLE?y._binLE:y._binBE,Z=0;Z<2;Z++)for(var M=0;M<2;M++)V[Z][M]=z.readShort(w,k),k+=2;var C=1<<_&32767,B=0,U=z.readShort(w,k);k+=2,U>1&&(B=Math.floor(C/(U-1))),x==68&&N==32&&B>0&&(r=z.readShort(w,562));var Z,D,G,J,W,X,te=[0,0],I=n(h[c]),ve=[g,0,0,0];for(D=0;D<l;D++)for(r&&D==r&&(I=n(h[c+1])),G=0;G<b;G++){Z=u(i,ve,I[0],I),J=Z&15,W=Z>>>4,X=(u(i,ve,J-W,0)<<1)+1<<W>>>1,X&1<<J-1||(X-=(1<<J)-(W==0?1:0)),G<2?te[G]=V[D&1][G]+=X:te[G&1]+=X;var q=Math.min(Math.max(te[G&1],0),(1<<_)-1),ae=(D*b+G)*_;y.decode._putsF(v,ae,q<<16-_)}},y.decode._putsF=function(t,a,i){i=i<<8-(a&7);var g=a>>>3;t[g]|=i>>>16,t[g+1]|=i>>>8,t[g+2]|=i},y.decode._getbithuff=function(t,a,i,g){var f=0;y.decode._get_byte;var v,s=a[0],h=a[1],b=a[2],l=a[3];if(i==0||b<0)return 0;for(;!l&&b<i&&(v=t[s++])!=-1&&!(l=f);)h=(h<<8)+v,b+=8;if(v=h<<32-b>>>32-i,g?(b-=g[v+1]>>>8,v=g[v+1]&255):b-=i,b<0)throw"e";return a[0]=s,a[1]=h,a[2]=b,a[3]=l,v},y.decode._make_decoder=function(t){var a,i,g,f,v,s=[];for(a=16;a!=0&&!t[a];a--);var h=17;for(s[0]=a,g=i=1;i<=a;i++)for(f=0;f<t[i];f++,++h)for(v=0;v<1<<a-i;v++)g<=1<<a&&(s[g++]=i<<8|t[h]);return s},y.decode._decodeNewJPEG=function(t,a,i,g,f,v){var s=t.t347,h=s?s.length:0,b=new Uint8Array(h+g);if(s){for(var l=216,_=217,c=0,r=0;r<h-1&&!(s[r]==255&&s[r+1]==_);r++)b[c++]=s[r];var n=a[i],u=a[i+1];(n!=255||u!=l)&&(b[c++]=n,b[c++]=u);for(var r=2;r<g;r++)b[c++]=a[i+r]}else for(var r=0;r<g;r++)b[r]=a[i+r];if(t.t262[0]==32803||t.t262[0]==34892){var m=t.t258[0],w=y.LosslessJpegDecode(b),k=w.length;if(m==16)if(t.isLE)for(var r=0;r<k;r++)f[v+(r<<1)]=w[r]&255,f[v+(r<<1)+1]=w[r]>>>8;else for(var r=0;r<k;r++)f[v+(r<<1)]=w[r]>>>8,f[v+(r<<1)+1]=w[r]&255;else if(m==14||m==12)for(var x=16-m,r=0;r<k;r++)y.decode._putsF(f,r*m,w[r]<<x);else throw new Error("unsupported bit depth "+m)}else{var N=new y.JpegDecoder;N.parse(b);for(var V=N.getData(N.width,N.height),r=0;r<V.length;r++)f[v+r]=V[r]}t.t262[0]==6&&(t.t262[0]=2)},y.decode._decodeOldJPEGInit=function(t,a,i,g){var f=216,v=219,s=196,h=221,b=192,l=218,_=0,c=0,r,n,u=!1,m,w,k,x=t.t513,N=x?x[0]:0,V=t.t514,z=V?V[0]:0,M=t.t324||t.t273||x,C=t.t530,B=0,U=0,Z=t.t277?t.t277[0]:1,D=t.t515;if(M&&(c=M[0],u=M.length>1),!u){if(a[i]==255&&a[i+1]==f)return{jpegOffset:i};if(x!=null&&(a[i+N]==255&&a[i+N+1]==f?_=i+N:$("JPEGInterchangeFormat does not point to SOI"),V==null?$("JPEGInterchangeFormatLength field is missing"):(N>=c||N+z<=c)&&$("JPEGInterchangeFormatLength field value is invalid"),_!=null))return{jpegOffset:_}}if(C!=null&&(B=C[0],U=C[1]),x!=null&&V!=null)if(z>=2&&N+z<=c){for(a[i+N+z-2]==255&&a[i+N+z-1]==f?r=new Uint8Array(z-2):r=new Uint8Array(z),m=0;m<r.length;m++)r[m]=a[i+N+m];$("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else $("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(r==null){var G=0,J=[];J[G++]=255,J[G++]=f;var W=t.t519;if(W==null)throw new Error("JPEGQTables tag is missing");for(m=0;m<W.length;m++)for(J[G++]=255,J[G++]=v,J[G++]=0,J[G++]=67,J[G++]=m,w=0;w<64;w++)J[G++]=a[i+W[m]+w];for(k=0;k<2;k++){var X=t[k==0?"t520":"t521"];if(X==null)throw new Error((k==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(m=0;m<X.length;m++){J[G++]=255,J[G++]=s;var te=19;for(w=0;w<16;w++)te+=a[i+X[m]+w];for(J[G++]=te>>>8,J[G++]=te&255,J[G++]=m|k<<4,w=0;w<16;w++)J[G++]=a[i+X[m]+w];for(w=0;w<te;w++)J[G++]=a[i+X[m]+16+w]}}if(J[G++]=255,J[G++]=b,J[G++]=0,J[G++]=8+3*Z,J[G++]=8,J[G++]=t.height>>>8&255,J[G++]=t.height&255,J[G++]=t.width>>>8&255,J[G++]=t.width&255,J[G++]=Z,Z==1)J[G++]=1,J[G++]=17,J[G++]=0;else for(m=0;m<3;m++)J[G++]=m+1,J[G++]=m!=0?17:(B&15)<<4|U&15,J[G++]=m;D!=null&&D[0]!=0&&(J[G++]=255,J[G++]=h,J[G++]=0,J[G++]=4,J[G++]=D[0]>>>8&255,J[G++]=D[0]&255),r=new Uint8Array(J)}var I=-1;for(m=0;m<r.length-1;){if(r[m]==255&&r[m+1]==b){I=m;break}m++}if(I==-1){var ve=new Uint8Array(r.length+10+3*Z);ve.set(r);var q=r.length;if(I=r.length,r=ve,r[q++]=255,r[q++]=b,r[q++]=0,r[q++]=8+3*Z,r[q++]=8,r[q++]=t.height>>>8&255,r[q++]=t.height&255,r[q++]=t.width>>>8&255,r[q++]=t.width&255,r[q++]=Z,Z==1)r[q++]=1,r[q++]=17,r[q++]=0;else for(m=0;m<3;m++)r[q++]=m+1,r[q++]=m!=0?17:(B&15)<<4|U&15,r[q++]=m}if(a[c]==255&&a[c+1]==l){var ae=a[c+2]<<8|a[c+3];for(n=new Uint8Array(ae+2),n[0]=a[c],n[1]=a[c+1],n[2]=a[c+2],n[3]=a[c+3],m=0;m<ae-2;m++)n[m+4]=a[c+m+4]}else{n=new Uint8Array(8+2*Z);var se=0;if(n[se++]=255,n[se++]=l,n[se++]=0,n[se++]=6+2*Z,n[se++]=Z,Z==1)n[se++]=1,n[se++]=0;else for(m=0;m<3;m++)n[se++]=m+1,n[se++]=m<<4|m;n[se++]=0,n[se++]=63,n[se++]=0}return{jpegOffset:i,tables:r,sosMarker:n,sofPosition:I}},y.decode._decodeOldJPEG=function(t,a,i,g,f,v){var s,h,b,l,_,c=y.decode._decodeOldJPEGInit(t,a,i,g);if(c.jpegOffset!=null)for(h=i+g-c.jpegOffset,l=new Uint8Array(h),s=0;s<h;s++)l[s]=a[c.jpegOffset+s];else{for(b=c.tables.length,l=new Uint8Array(b+c.sosMarker.length+g+2),l.set(c.tables),_=b,l[c.sofPosition+5]=t.height>>>8&255,l[c.sofPosition+6]=t.height&255,l[c.sofPosition+7]=t.width>>>8&255,l[c.sofPosition+8]=t.width&255,(a[i]!=255||a[i+1]!=SOS)&&(l.set(c.sosMarker,_),_+=sosMarker.length),s=0;s<g;s++)l[_++]=a[i+s];l[_++]=255,l[_++]=EOI}var r=new y.JpegDecoder;r.parse(l);for(var n=r.getData(r.width,r.height),s=0;s<n.length;s++)f[v+s]=n[s];t.t262&&t.t262[0]==6&&(t.t262[0]=2)},y.decode._decodePackBits=function(t,a,i,g,f){for(var v=new Int8Array(t.buffer),s=new Int8Array(g.buffer),h=a+i;a<h;){var b=v[a];if(a++,b>=0&&b<128)for(var l=0;l<b+1;l++)s[f]=v[a],f++,a++;if(b>=-127&&b<0){for(var l=0;l<-b+1;l++)s[f]=v[a],f++;a++}}},y.decode._decodeThunder=function(t,a,i,g,f){for(var v=[0,1,0,-1],s=[0,1,2,3,0,-3,-2,-1],h=a+i,b=f*2,l=0;a<h;){var _=t[a],c=_>>>6,r=_&63;if(a++,c==3&&(l=r&15,g[b>>>1]|=l<<4*(1-b&1),b++),c==0)for(var n=0;n<r;n++)g[b>>>1]|=l<<4*(1-b&1),b++;if(c==2)for(var n=0;n<2;n++){var u=r>>>3*(1-n)&7;u!=4&&(l+=s[u],g[b>>>1]|=l<<4*(1-b&1),b++)}if(c==1)for(var n=0;n<3;n++){var u=r>>>2*(2-n)&3;u!=2&&(l+=v[u],g[b>>>1]|=l<<4*(1-b&1),b++)}}},y.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},y.decode._lens=function(){var t=function(b,l,_,c){for(var r=0;r<l.length;r++)b[l[r]]=_+r*c},a="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",i="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",g="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",f="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",v="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";a=a.split(","),i=i.split(","),g=g.split(","),f=f.split(","),v=v.split(",");var s={},h={};return t(s,a,0,1),t(s,g,64,64),t(s,v,1792,64),t(h,i,0,1),t(h,f,64,64),t(h,v,1792,64),[s,h]}(),y.decode._decodeG4=function(t,a,i,g,f,v,s){for(var h=y.decode,b=a<<3,l=0,_="",c=[],r=[],n=0;n<v;n++)r.push(0);r=h._makeDiff(r);for(var u=0,m=0,w=0,k=0,x=0,N=0,V="",z=0,M=Math.ceil(v/8)*8;b>>>3<a+i;){w=h._findDiff(r,u+(u==0?0:1),1-x),k=h._findDiff(r,w,x);var C=0;if(s==1&&(C=t[b>>>3]>>>7-(b&7)&1),s==2&&(C=t[b>>>3]>>>(b&7)&1),b++,_+=C,V=="H"){if(h._lens[x][_]!=null){var B=h._lens[x][_];_="",l+=B,B<64&&(h._addNtimes(c,l,x),u+=l,x=1-x,l=0,z--,z==0&&(V=""))}}else _=="0001"&&(_="",h._addNtimes(c,k-u,x),u=k),_=="001"&&(_="",V="H",z=2),h._dmap[_]!=null&&(m=w+h._dmap[_],h._addNtimes(c,m-u,x),u=m,_="",x=1-x);c.length==v&&V==""&&(h._writeBits(c,g,f*8+N*M),x=0,N++,u=0,r=h._makeDiff(c),c=[])}},y.decode._findDiff=function(t,a,i){for(var g=0;g<t.length;g+=2)if(t[g]>=a&&t[g+1]==i)return t[g]},y.decode._makeDiff=function(t){var a=[];t[0]==1&&a.push(0,1);for(var i=1;i<t.length;i++)t[i-1]!=t[i]&&a.push(i,t[i]);return a.push(t.length,0,t.length,1),a},y.decode._decodeG3=function(t,a,i,g,f,v,s){for(var h=y.decode,b=a<<3,l=0,_="",c=[],r=[],n=0;n<v;n++)c.push(0);for(var u=0,m=0,w=0,k=0,x=0,N=-1,V="",z=0,M=!1,C=Math.ceil(v/8)*8;b>>>3<a+i;){w=h._findDiff(r,u+(u==0?0:1),1-x),k=h._findDiff(r,w,x);var B=0;if(s==1&&(B=t[b>>>3]>>>7-(b&7)&1),s==2&&(B=t[b>>>3]>>>(b&7)&1),b++,_+=B,M){if(h._lens[x][_]!=null){var U=h._lens[x][_];_="",l+=U,U<64&&(h._addNtimes(c,l,x),x=1-x,l=0)}}else if(V=="H"){if(h._lens[x][_]!=null){var U=h._lens[x][_];_="",l+=U,U<64&&(h._addNtimes(c,l,x),u+=l,x=1-x,l=0,z--,z==0&&(V=""))}}else _=="0001"&&(_="",h._addNtimes(c,k-u,x),u=k),_=="001"&&(_="",V="H",z=2),h._dmap[_]!=null&&(m=w+h._dmap[_],h._addNtimes(c,m-u,x),u=m,_="",x=1-x);_.endsWith("000000000001")&&(N>=0&&h._writeBits(c,g,f*8+N*C),s==1&&(M=(t[b>>>3]>>>7-(b&7)&1)==1),s==2&&(M=(t[b>>>3]>>>(b&7)&1)==1),b++,h._decodeG3.allow2D==null&&(h._decodeG3.allow2D=M),h._decodeG3.allow2D||(M=!0,b--),_="",x=0,N++,u=0,r=h._makeDiff(c),c=[])}c.length==v&&h._writeBits(c,g,f*8+N*C)},y.decode._addNtimes=function(t,a,i){for(var g=0;g<a;g++)t.push(i)},y.decode._writeBits=function(t,a,i){for(var g=0;g<t.length;g++)a[i+g>>>3]|=t[g]<<7-(i+g&7)},y.decode._decodeLZW=function(t,a,i,g){if(y.decode._lzwTab==null){for(var f=new Uint32Array(65535),v=new Uint16Array(65535),_=new Uint8Array(2e6),s=0;s<256;s++)_[s<<2]=s,f[s]=s<<2,v[s]=1;y.decode._lzwTab=[f,v,_]}for(var h=y.decode._copyData,b=y.decode._lzwTab[0],l=y.decode._lzwTab[1],_=y.decode._lzwTab[2],c=258,r=1032,n=9,u=a<<3,m=256,w=257,k=0,x=0,N=0;k=t[u>>>3]<<16|t[u+8>>>3]<<8|t[u+16>>>3],x=k>>24-(u&7)-n&(1<<n)-1,u+=n,x!=w;){if(x==m){if(n=9,c=258,r=1032,k=t[u>>>3]<<16|t[u+8>>>3]<<8|t[u+16>>>3],x=k>>24-(u&7)-n&(1<<n)-1,u+=n,x==w)break;i[g]=x,g++}else if(x<c){var V=b[x],z=l[x];if(h(_,V,i,g,z),g+=z,N>=c)b[c]=r,_[b[c]]=V[0],l[c]=1,r=r+1+3&-4,c++;else{b[c]=r;var M=b[N],C=l[N];h(_,M,_,r,C),_[r+C]=_[V],C++,l[c]=C,c++,r=r+C+3&-4}c+1==1<<n&&n++}else{if(N>=c)b[c]=r,l[c]=0,c++;else{b[c]=r;var M=b[N],C=l[N];h(_,M,_,r,C),_[r+C]=_[r],C++,l[c]=C,c++,h(_,r,i,g,C),g+=C,r=r+C+3&-4}c+1==1<<n&&n++}N=x}},y.decode._copyData=function(t,a,i,g,f){for(var v=0;v<f;v+=4)i[g+v]=t[a+v],i[g+v+1]=t[a+v+1],i[g+v+2]=t[a+v+2],i[g+v+3]=t[a+v+3]},y.tags={},y.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},y._readIFD=function(t,a,i,g,f,v){var s=t.readUshort(a,i);i+=2;var h={};g.push(h),v&&$("   ".repeat(f),g.length-1,">>>----------------");for(var b=0;b<s;b++){var l=t.readUshort(a,i);i+=2;var _=t.readUshort(a,i);i+=2;var c=t.readUint(a,i);i+=4;var r=t.readUint(a,i);i+=4;var n=[];if((_==1||_==7)&&(n=new Uint8Array(a.buffer,c<5?i-4:r,c)),_==2){var u=c<5?i-4:r,m=a[u];m<128?n.push(t.readASCII(a,u,c-1)):n=new Uint8Array(a.buffer,u,c-1)}if(_==3)for(var w=0;w<c;w++)n.push(t.readUshort(a,(c<3?i-4:r)+2*w));if(_==4)for(var w=0;w<c;w++)n.push(t.readUint(a,(c<2?i-4:r)+4*w));if(_==5)for(var w=0;w<c;w++)n.push(t.readUint(a,r+w*8)/t.readUint(a,r+w*8+4));if(_==8)for(var w=0;w<c;w++)n.push(t.readShort(a,(c<3?i-4:r)+2*w));if(_==9)for(var w=0;w<c;w++)n.push(t.readInt(a,(c<2?i-4:r)+4*w));if(_==10)for(var w=0;w<c;w++)n.push(t.readInt(a,r+w*8)/t.readInt(a,r+w*8+4));if(_==11)for(var w=0;w<c;w++)n.push(t.readFloat(a,r+w*4));if(_==12)for(var w=0;w<c;w++)n.push(t.readDouble(a,r+w*8));if(h["t"+l]=n,c!=0&&n.length==0&&$("unknown TIFF tag type: ",_,"num:",c),v&&$("   ".repeat(f),l,_,y.tags[l],n),!(l==330&&h.t272&&h.t272[0]=="DSLR-A100")){if(l==330||l==34665||l==50740&&t.readUshort(a,t.readUint(n,0))<300){for(var k=l==50740?[t.readUint(n,0)]:n,x=[],w=0;w<k.length;w++)y._readIFD(t,a,k[w],x,f+1,v);l==330&&(h.subIFD=x),l==34665&&(h.exifIFD=x[0]),l==50740&&(h.dngPrvt=x[0])}}if(l==37500){var N=n;if(t.readASCII(N,0,5)=="Nikon")h.makerNote=y.decode(N.slice(10).buffer)[0];else if(t.readUshort(a,r)<300){var V=[];y._readIFD(t,a,r,V,f+1,v),h.makerNote=V[0]}}}return v&&$("   ".repeat(f),"<<<---------------"),i},y._writeIFD=function(t,a,i,g){var f=Object.keys(g);t.writeUshort(a,i,f.length),i+=2;for(var v=i+f.length*12+4,s=0;s<f.length;s++){var h=f[s],b=parseInt(h.slice(1)),l=y.ttypes[b];if(l==null)throw new Error("unknown type of tag: "+b);var _=g[h];l==2&&(_=_[0]+"\0");var c=_.length;t.writeUshort(a,i,b),i+=2,t.writeUshort(a,i,l),i+=2,t.writeUint(a,i,c),i+=4;var r=[-1,1,1,2,4,8,0,0,0,0,0,0,8][l]*c,n=i;if(r>4&&(t.writeUint(a,i,v),n=v),l==2&&t.writeASCII(a,n,_),l==3)for(var u=0;u<c;u++)t.writeUshort(a,n+2*u,_[u]);if(l==4)for(var u=0;u<c;u++)t.writeUint(a,n+4*u,_[u]);if(l==5)for(var u=0;u<c;u++)t.writeUint(a,n+8*u,Math.round(_[u]*1e4)),t.writeUint(a,n+8*u+4,1e4);if(l==12)for(var u=0;u<c;u++)t.writeDouble(a,n+8*u,_[u]);r>4&&(r+=r&1,v+=r),i+=4}return[i,v]},y.toRGBA8=function(t){var a=t.width,i=t.height,g=a*i,f=g*4,v=t.data,s=new Uint8Array(g*4),h=t.t262?t.t262[0]:2,b=t.t258?Math.min(32,t.t258[0]):1;if(h==0)for(var l=Math.ceil(b*a/8),_=0;_<i;_++){var c=_*l,r=_*a;if(b==1)for(var n=0;n<a;n++){var u=r+n<<2,m=v[c+(n>>3)]>>7-(n&7)&1;s[u]=s[u+1]=s[u+2]=(1-m)*255,s[u+3]=255}if(b==4)for(var n=0;n<a;n++){var u=r+n<<2,m=v[c+(n>>1)]>>4-4*(n&1)&15;s[u]=s[u+1]=s[u+2]=(15-m)*17,s[u+3]=255}if(b==8)for(var n=0;n<a;n++){var u=r+n<<2,m=v[c+n];s[u]=s[u+1]=s[u+2]=255-m,s[u+3]=255}}else if(h==1)for(var l=Math.ceil(b*a/8),_=0;_<i;_++){var c=_*l,r=_*a;if(b==1)for(var n=0;n<a;n++){var u=r+n<<2,m=v[c+(n>>3)]>>7-(n&7)&1;s[u]=s[u+1]=s[u+2]=m*255,s[u+3]=255}if(b==2)for(var n=0;n<a;n++){var u=r+n<<2,m=v[c+(n>>2)]>>6-2*(n&3)&3;s[u]=s[u+1]=s[u+2]=m*85,s[u+3]=255}if(b==8)for(var n=0;n<a;n++){var u=r+n<<2,m=v[c+n];s[u]=s[u+1]=s[u+2]=m,s[u+3]=255}if(b==16)for(var n=0;n<a;n++){var u=r+n<<2,m=v[c+(2*n+1)];s[u]=s[u+1]=s[u+2]=Math.min(255,m),s[u+3]=255}}else if(h==2){var w=t.t258?t.t258.length:3;if(b==8){if(w==4)for(var n=0;n<f;n++)s[n]=v[n];if(w==3)for(var n=0;n<g;n++){var u=n<<2,k=n*3;s[u]=v[k],s[u+1]=v[k+1],s[u+2]=v[k+2],s[u+3]=255}}else{if(w==4)for(var n=0;n<g;n++){var u=n<<2,k=n*8+1;s[u]=v[k],s[u+1]=v[k+2],s[u+2]=v[k+4],s[u+3]=v[k+6]}if(w==3)for(var n=0;n<g;n++){var u=n<<2,k=n*6+1;s[u]=v[k],s[u+1]=v[k+2],s[u+2]=v[k+4],s[u+3]=255}}}else if(h==3)for(var x=t.t320,n=0;n<g;n++){var u=n<<2,N=v[n];s[u]=x[N]>>8,s[u+1]=x[256+N]>>8,s[u+2]=x[512+N]>>8,s[u+3]=255}else if(h==5)for(var w=t.t258?t.t258.length:4,V=w>4?1:0,n=0;n<g;n++){var u=n<<2,z=n*w,M=255-v[z],C=255-v[z+1],B=255-v[z+2],U=(255-v[z+3])*(1/255);s[u]=~~(M*U+.5),s[u+1]=~~(C*U+.5),s[u+2]=~~(B*U+.5),s[u+3]=255*(1-V)+v[z+4]*V}else $("Unknown Photometric interpretation: "+h);return s},y.replaceIMG=function(t){t==null&&(t=document.getElementsByTagName("img"));for(var a=["tif","tiff","dng","cr2","nef"],i=0;i<t.length;i++){var g=t[i],f=g.getAttribute("src");if(f!=null){var v=f.split(".").pop().toLowerCase();if(a.indexOf(v)!=-1){var s=new XMLHttpRequest;y._xhrs.push(s),y._imgs.push(g),s.open("GET",f),s.responseType="arraybuffer",s.onload=y._imgLoaded,s.send()}}}},y._xhrs=[],y._imgs=[],y._imgLoaded=function(t){var a=t.target.response,i=y.decode(a),g=i,f=0,v=g[0];i[0].subIFD&&(g=g.concat(i[0].subIFD));for(var s=0;s<g.length;s++){var r=g[s];if(!(r.t258==null||r.t258.length<3)){var h=r.t256*r.t257;h>f&&(f=h,v=r)}}y.decodeImage(a,v,i);var b=y.toRGBA8(v),l=v.width,_=v.height,c=y._xhrs.indexOf(t.target),r=y._imgs[c];y._xhrs.splice(c,1),y._imgs.splice(c,1);var n=document.createElement("canvas");n.width=l,n.height=_;for(var u=n.getContext("2d"),m=u.createImageData(l,_),s=0;s<b.length;s++)m.data[s]=b[s];u.putImageData(m,0,0),r.setAttribute("src",n.toDataURL())},y._binBE={nextZero:function(t,a){for(;t[a]!=0;)a++;return a},readUshort:function(t,a){return t[a]<<8|t[a+1]},readShort:function(t,a){var i=y._binBE.ui8;return i[0]=t[a+1],i[1]=t[a+0],y._binBE.i16[0]},readInt:function(t,a){var i=y._binBE.ui8;return i[0]=t[a+3],i[1]=t[a+2],i[2]=t[a+1],i[3]=t[a+0],y._binBE.i32[0]},readUint:function(t,a){var i=y._binBE.ui8;return i[0]=t[a+3],i[1]=t[a+2],i[2]=t[a+1],i[3]=t[a+0],y._binBE.ui32[0]},readASCII:function(t,a,i){for(var g="",f=0;f<i;f++)g+=String.fromCharCode(t[a+f]);return g},readFloat:function(t,a){for(var i=y._binBE.ui8,g=0;g<4;g++)i[g]=t[a+3-g];return y._binBE.fl32[0]},readDouble:function(t,a){for(var i=y._binBE.ui8,g=0;g<8;g++)i[g]=t[a+7-g];return y._binBE.fl64[0]},writeUshort:function(t,a,i){t[a]=i>>8&255,t[a+1]=i&255},writeUint:function(t,a,i){t[a]=i>>24&255,t[a+1]=i>>16&255,t[a+2]=i>>8&255,t[a+3]=i>>0&255},writeASCII:function(t,a,i){for(var g=0;g<i.length;g++)t[a+g]=i.charCodeAt(g)},writeDouble:function(t,a,i){y._binBE.fl64[0]=i;for(var g=0;g<8;g++)t[a+g]=y._binBE.ui8[7-g]}},y._binBE.ui8=new Uint8Array(8),y._binBE.i16=new Int16Array(y._binBE.ui8.buffer),y._binBE.i32=new Int32Array(y._binBE.ui8.buffer),y._binBE.ui32=new Uint32Array(y._binBE.ui8.buffer),y._binBE.fl32=new Float32Array(y._binBE.ui8.buffer),y._binBE.fl64=new Float64Array(y._binBE.ui8.buffer),y._binLE={nextZero:y._binBE.nextZero,readUshort:function(t,a){return t[a+1]<<8|t[a]},readShort:function(t,a){var i=y._binBE.ui8;return i[0]=t[a+0],i[1]=t[a+1],y._binBE.i16[0]},readInt:function(t,a){var i=y._binBE.ui8;return i[0]=t[a+0],i[1]=t[a+1],i[2]=t[a+2],i[3]=t[a+3],y._binBE.i32[0]},readUint:function(t,a){var i=y._binBE.ui8;return i[0]=t[a+0],i[1]=t[a+1],i[2]=t[a+2],i[3]=t[a+3],y._binBE.ui32[0]},readASCII:y._binBE.readASCII,readFloat:function(t,a){for(var i=y._binBE.ui8,g=0;g<4;g++)i[g]=t[a+g];return y._binBE.fl32[0]},readDouble:function(t,a){for(var i=y._binBE.ui8,g=0;g<8;g++)i[g]=t[a+g];return y._binBE.fl64[0]}},y._copyTile=function(t,a,i,g,f,v,s,h){for(var b=Math.min(a,f-s),l=Math.min(i,v-h),_=0;_<l;_++)for(var c=(h+_)*f+s,r=_*a,n=0;n<b;n++)g[c+n]=t[r+n]},y.LosslessJpegDecode=function(){function t(f){this.w=f,this.N=0,this._=0,this.G=0}t.prototype={t:function(f){this.N=Math.max(0,Math.min(this.w.length,f))},i:function(){return this.w[this.N++]},l:function(){var f=this.N;return this.N+=2,this.w[f]<<8|this.w[f+1]},J:function(){return this._==0&&(this.G=this.w[this.N],this.N+=1+(this.G+1>>>8),this._=8),this.G>>>--this._&1},Z:function(f){var v=this._,s=this.G,h=Math.min(v,f);f-=h,v-=h;for(var b=s>>>v&(1<<h)-1;f>0;)s=this.w[this.N],this.N+=1+(s+1>>>8),h=Math.min(8,f),f-=h,v=8-h,b<<=h,b|=s>>>v&(1<<h)-1;return this._=v,this.G=s,b}};var a={};a.X=function(){return[0,0,-1]},a.s=function(f,v,s){f[a.Y(f,0,s)+2]=v},a.Y=function(f,v,s){if(f[v+2]!=-1)return 0;if(s==0)return v;for(var h=0;h<2;h++){f[v+h]==0&&(f[v+h]=f.length,f.push(0),f.push(0),f.push(-1));var b=a.Y(f,f[v+h],s-1);if(b!=0)return b}return 0},a.B=function(f,v){for(var s=0,h=0,b=0,l=v._,_=v.G,c=v.N;;)if(l==0&&(_=v.w[c],c+=1+(_+1>>>8),l=8),b=_>>>--l&1,s=f[s+b],h=f[s+2],h!=-1)return v._=l,v.G=_,v.N=c,h;return-1};function i(f){this.z=new t(f),this.D(this.z)}i.prototype={$:function(f,v){this.Q=f.i(),this.F=f.l(),this.o=f.l();var s=this.O=f.i();this.L=[];for(var h=0;h<s;h++){var b=f.i();f.i(),f.i(),this.L[b]=h}f.t(f.N+v-(6+s*3))},e:function(){var f=0,v=this.z.i();this.H==null&&(this.H={});for(var s=this.H[v]=a.X(),h=[],b=0;b<16;b++)h[b]=this.z.i(),f+=h[b];for(var b=0;b<16;b++)for(var l=0;l<h[b];l++)a.s(s,this.z.i(),b+1);return f+17},W:function(f){for(;f>0;)f-=this.e()},p:function(f,v){var s=f.i();this.U||(this.U=[]);for(var h=0;h<s;h++){var b=f.i(),l=f.i();this.U[this.L[b]]=this.H[l>>>4]}this.g=f.i(),f.t(f.N+v-(2+s*2))},D:function(f){var v=!1,s=f.l();if(s===i.q)do{var s=f.l(),h=f.l()-2;switch(s){case i.m:this.$(f,h);break;case i.K:this.W(h);break;case i.V:this.p(f,h),v=!0;break;default:f.t(f.N+h);break}}while(!v)},I:function(f,v){var s=a.B(v,f);if(s==16)return-32768;var h=f.Z(s);return h&1<<s-1||(h-=(1<<s)-1),h},B:function(f,v){for(var s=this.z,h=this.O,b=this.F,l=this.I,_=this.g,c=this.o*h,r=this.U,n=0;n<h;n++)f[n]=l(s,r[n])+(1<<this.Q-1);for(var u=h;u<c;u+=h)for(var n=0;n<h;n++)f[u+n]=l(s,r[n])+f[u+n-h];for(var m=v,w=1;w<b;w++){for(var n=0;n<h;n++)f[m+n]=l(s,r[n])+f[m+n-v];for(var u=h;u<c;u+=h)for(var n=0;n<h;n++){var k=m+u+n,x=f[k-h];_==6&&(x=f[k-v]+(x-f[k-h-v]>>>1)),f[k]=x+l(s,r[n])}m+=v}}},i.m=65475,i.K=65476,i.q=65496,i.V=65498;function g(f){var v=new i(f),s=v.Q>8?Uint16Array:Uint8Array,h=new s(v.o*v.F*v.O),b=v.o*v.O;return v.B(h,b),h}return g}()})(O,j)})()}(Fa)),Fa.exports}var at=ni();const ar={__name:"TiffViewer",props:{tiffUrl:String,isModal:{type:Boolean,default:!1},zoomLevel:{type:Number,default:1},rotationDegree:{type:Number,default:0},translateX:{type:Number,default:0}},emits:["error"],setup(R,{emit:O}){const j=R,$=_e(null),y=_e(!1),L=_e(!1),t=O,a=Ee(()=>({width:j.isModal?"100%":`${250*j.zoomLevel}px`,height:j.isModal?"100%":`${250*j.zoomLevel}px`,transform:`scale(${j.zoomLevel}) rotate(${j.rotationDegree}deg)  translateX(${j.translateX}px)`,objectFit:"contain",transformOrigin:"left"}));return Na(()=>[j.tiffUrl,j.rotationDegree],async()=>{if(j.tiffUrl){L.value=!0;try{const f=await(await fetch(j.tiffUrl)).arrayBuffer(),v=at.decode(f);at.decodeImage(f,v[0]);const s=at.toRGBA8(v[0]);if($.value){const h=$.value,b=h.getContext("2d");h.width=v[0].width,h.height=v[0].height;const l=new ImageData(new Uint8ClampedArray(s),v[0].width,v[0].height);b.clearRect(0,0,h.width,h.height),b.save(),b.translate(h.width/2,h.height/2),b.rotate(j.rotationDegree*Math.PI/180),b.drawImage(h,-h.width/2,-h.height/2),b.restore(),b.putImageData(l,0,0)}L.value=!1}catch(g){L.value=!1,y.value=!0,t("error"),console.error("Erro ao carregar TIFF:",g)}}},{immediate:!0}),(g,f)=>(de(),Be(ua,null,[E(L)?(de(),we(Ot,{key:0,style:{"margin-left":"200px"},class:"loading-spinner",indeterminate:"",size:"64"})):Me("",!0),E(y)?Me("",!0):(de(),Be("canvas",{key:1,ref_key:"tiffCanvas",ref:$,style:Pa(E(a))},null,4))],64))}},oi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAlmSURBVHic7Z1rjF1VFcd/zLSlUqYzLfJohxlKIBJTFAmmMcpjLNUAAY0JBIMxtISPimKCWm2V1wc/QpRHFCEYjSmvKtgXA8jDWkWKtFFMEGKlkKD2QaudaTvtjB/WvWFyufesfR57n33OXb9kfbkn9+z/3nudffZj7X3AMAzDMAzDMAzDMAzDMAzDMIw6c0zZAnIwH/g8cCHwceBE4ARghud0jwC7gf8ALwHPAY8DezynazQ4E3gAGAOmIrEx4H7gDI/57npmAKuBccqv8CRHWI3/Vqjr6AOeoPwKdrUngQEvJdGFzAVeofxKTWt/bmg3cjAD2ET5lZnVNmKvg1x8m/IrMa99s/BS6RJOBw5QfgXmtQPAomKLpju4C7cCfgm4FhgCegPo6gWGG2luddT4owC6asVcYD/JhToJfAfoKUkjjbRXNbQkad2PdQhTsRz9qVpVlrg2fA9d74rS1FWQdSQX5jbCNPeu9ALbSda8vjR1FWMecIjkwry+NHWduZ5kzYeR9QtD4TqqWZAD6I5rrwEHNpBciOvKk6ayHnsN5MKl+V9eljgHVlCx1itrPEA/cClwBfAxYLDxm28mgFOId+19PvAOMNNzOhPAv4G3gNeRhbINyHDTK8PIWrz2lPqyKjSh2mvAlx0Efgqc6iNTvcDtlL8WX4VOlNaJ9W1jwC0UOEyOZS0+uvdnB1xGAyFsIwXEJAwAf4kgM1PIO64qaCOZULadHFPQvYgXlZ2Jpl2ZNSMlcBXll1fT1pHxdXB7BOKbtp5qRTD3ENfDc3PaDAxTfofvKDLE+T4wO20GImA2UvCvI3kpsyzHkKG6Mw843nj6Wrzvsa/xHjNJH5Nwn+vN+9F7sUeBb1GtZrmu9AAr0VuZg8iITuWLyo2mkMo34mIler1d5XKjXyg32Yo9+THSA7xMct39rPVP7UKWz1USurNxs6rQB5yP5OujyLtzGDgOmeeYQAI39yL7/f4GvIb0bzYjHagqMAn8ENmi1olzXG6kxeIN55IZhkHgRuAFpIKz9p4PIZs/vwacFDQH2VhEcn72utxE60zEvNFhGTJt7WPYdRj4NdKaxMpM9M67ilYQMbIU2ELxld7JnkW2pcdI7vqrkgMsQDo2oSq+1R4CTvaQryHgEeR1vB9YC5zl+N+ucYBrgHcpr/Kbtgf4QoH5GkIOoGiXzpDD/2vvAMciPd2yK366TSKjo1kF5O+RhHQecvh/rR3gBKRnX3aFd7IngeNz5jFpFLbP4f+p6q/dhI5WyWVNAp0MjAIfyfDfw0gncRQZ5+9o2CHee2oXAIuBs4ElSMcyyxP9J+AyYFeG/4I4QKcp233oQR656y/GFmA+8FcHba32PDL9meWpnIcstoxmSPfFjGmCdPg63XeNw/9r9wqYjVRkmgpYi5wcVhSfIP36/iaytSBnIR2+1vvtwi3gs3YO8GMHTU17E/icRy3LgJ0p9NyRMZ0hpMO3r2FrcI/2rZUDfNlBz/Tm0Wm5MyfzgYcdNU1S7BDRhdo4wEJk7tqloH9A+M7pzY7a9uBnsqgTtXGAxxy0TAFfDaiplZsSdE23BwNqqoUDXOSgo/nkl81q3F4FoRaRauEAf3DQsYY4AlOOQc4K1vQ+E0hP5R1gxEHDm4Tp8LkyALyBrvtTAbRU3gFcniafQ72sXI6ue20AHZV2gFPQI3hCFGJWtFnDw8AHPWuotAN8wyH9Imf4iuYcdP1f8ayh0g7wrJL2857TLwJttfJpz+lX1gH6kSYyKe0qbBBdTnIexoEPeEy/sg7wWSXdQ+Rfaw/BHPQzji/2mH6q+ivzmNVWlijXtwD/CyEkJweQmIAkzgshxIWYHGCxcv2pICqK4ffKddcAT+/E5ACnK9dfDaKiGLYo180B2qDtX98RQkRB7FSuLwiiwoGYHECLddsRQkRB7FauR3N0fEwOMEe5Ph5ERTFoDhDNOkZMDjCpXK/SCSTaHrxoyj0aIcg4P4ljg6goBq2Jj2bLeUwOoMXRnxhERTFoWt8NosKBmBzgX8p1bZ4gJj6kXH8riAoHYnKAvyvXzw6iohg0rf8MosKBmBxAm+jRpopjYkS5vj2EiKzEvBg0z2P6RTEH/dP2n/GYfmVXA/uAI0ra13pMvyi+RLmrmpV1AND3AI56Tr8ItLCw5zynX2kHuNEh/ZgPaToX/SuiN3jWUGkHGEQPCt3oWUMetA9rHEECX31SaQcAOYpN07AsgI60uISFPxZAR+UdYKmDhp3E9fmYAWS1UtM9EkBL5R0A3M4BejSQFhceRdf7u0BaauEAFznomCLDlzA8cCtuWi8IpKcWDgByQoZLwd4UUFMrNyTomm6/DKipNg6wkPZn5bSz1YTfKXyLo7a9hA0Bq40DgJwG6lLIU8im0tzfyXNgALd3ftOcPtJQILVyAIB7HDQ17Q1kOOaLy4F/pNBzt0ctnaidA8wi/TFxozh+HMGR80j/9dSnKSeMrXYOANLsvuKgrdVeQPbqaQGn7TgOWdjJclDkVsK8jtqRqv6qdlTsJrI92WPIdq3NwB+RE0Z2N+woshJ5ErJhYzEyYfNJsm3i3Ibs/dMig32Ru/5ibAGaDBD3YdHPILucy6SWr4DpzALupfzKbrW7iCNyufYO0OQa3OcJfNou4GrPeU1D1zgAyGSR64yhD1tD2FNAXegqB2gygnTwQlX8ZsIc+ZaFrnSAJkuBX5HvW4GdbAKJVYj1a2FNutoBmiwEvg78lvwfjnwK+XBkbE19J1LVX5XmAbJyPPLBhyXAh4EzkbCs/ob1IAs2+4G3kenkV5GvfrxINY6lmU6q+usGB+g2UtVfu51Bddqm3W1odTPR+kM7B9CavGiONzHeh3bMzjutP7RzAO18m087yzFCs1S5/rbLTX5Oci9yK3FtKjWEHvQVU6cvl1yt3GQKWFmsdqMAVqHXm9NRu3OBg8qNjiJOYC1B+fQA30XfkjZOisOpXD/O/DKwAjgNGx2EZCawCLgO90CZn7S7Uacx/SDwGhIVY1SfceTYmvcdTdPb4Q//RdbdR/xpMgJyG/CbtH/qIX0gpFl8toHOD7pKP3KeTdmZMMtm2yjgWNo+3LZsm8Vl6ykwPrEX2YipHX5kVr4dQLbKeRmiDwL3oc8TmIW3cWSot7Bj7bUh69JuH3AJcAWyvj6EBEzYXEA49iLrNtuQfZEbqV7sgmEYhmEYhmEYhmEYhmEYhmEYnvk/IOetxTmdx/8AAAAASUVORK5CYII=",ht=Symbol.for("vuetify:v-slider");function li(R,O,j){const $=j==="vertical",y=O.getBoundingClientRect(),L="touches"in R?R.touches[0]:R;return $?L.clientY-(y.top+y.height/2):L.clientX-(y.left+y.width/2)}function si(R,O){return"touches"in R&&R.touches.length?R.touches[0][O]:"changedTouches"in R&&R.changedTouches.length?R.changedTouches[0][O]:R[O]}const di=ja({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:R=>typeof R=="boolean"||R==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:R=>typeof R=="boolean"||R==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:R=>["vertical","horizontal"].includes(R)},reverse:Boolean,...ir(),...nr({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),ui=R=>{const O=Ee(()=>parseFloat(R.min)),j=Ee(()=>parseFloat(R.max)),$=Ee(()=>+R.step>0?parseFloat(R.step):0),y=Ee(()=>Math.max(pt($.value),pt(O.value)));function L(t){if(t=parseFloat(t),$.value<=0)return t;const a=Tt(t,O.value,j.value),i=O.value%$.value,g=Math.round((a-i)/$.value)*$.value+i;return parseFloat(Math.min(g,j.value).toFixed(y.value))}return{min:O,max:j,step:$,decimals:y,roundValue:L}},ci=R=>{let{props:O,steps:j,onSliderStart:$,onSliderMove:y,onSliderEnd:L,getActiveThumb:t}=R;const{isRtl:a}=it(),i=la(O,"reverse"),g=Ee(()=>O.direction==="vertical"),f=Ee(()=>g.value!==i.value),{min:v,max:s,step:h,decimals:b,roundValue:l}=j,_=Ee(()=>parseInt(O.thumbSize,10)),c=Ee(()=>parseInt(O.tickSize,10)),r=Ee(()=>parseInt(O.trackSize,10)),n=Ee(()=>(s.value-v.value)/h.value),u=la(O,"disabled"),m=Ee(()=>O.error||O.disabled?void 0:O.thumbColor??O.color),w=Ee(()=>O.error||O.disabled?void 0:O.trackColor??O.color),k=Ee(()=>O.error||O.disabled?void 0:O.trackFillColor??O.color),x=gt(!1),N=gt(0),V=_e(),z=_e();function M(ae){var Le;const se=O.direction==="vertical",be=se?"top":"left",Ne=se?"height":"width",Ue=se?"clientY":"clientX",{[be]:Pe,[Ne]:ke}=(Le=V.value)==null?void 0:Le.$el.getBoundingClientRect(),$e=si(ae,Ue);let Ke=Math.min(Math.max(($e-Pe-N.value)/ke,0),1)||0;return(se?f.value:f.value!==a.value)&&(Ke=1-Ke),l(v.value+Ke*(s.value-v.value))}const C=ae=>{L({value:M(ae)}),x.value=!1,N.value=0},B=ae=>{z.value=t(ae),z.value&&(z.value.focus(),x.value=!0,z.value.contains(ae.target)?N.value=li(ae,z.value,O.direction):(N.value=0,y({value:M(ae)})),$({value:M(ae)}))},U={passive:!0,capture:!0};function Z(ae){y({value:M(ae)})}function D(ae){ae.stopPropagation(),ae.preventDefault(),C(ae),window.removeEventListener("mousemove",Z,U),window.removeEventListener("mouseup",D)}function G(ae){var se;C(ae),window.removeEventListener("touchmove",Z,U),(se=ae.target)==null||se.removeEventListener("touchend",G)}function J(ae){var se;B(ae),window.addEventListener("touchmove",Z,U),(se=ae.target)==null||se.addEventListener("touchend",G,{passive:!1})}function W(ae){ae.preventDefault(),B(ae),window.addEventListener("mousemove",Z,U),window.addEventListener("mouseup",D,{passive:!1})}const X=ae=>{const se=(ae-v.value)/(s.value-v.value)*100;return Tt(isNaN(se)?0:se,0,100)},te=la(O,"showTicks"),I=Ee(()=>te.value?O.ticks?Array.isArray(O.ticks)?O.ticks.map(ae=>({value:ae,position:X(ae),label:ae.toString()})):Object.keys(O.ticks).map(ae=>({value:parseFloat(ae),position:X(parseFloat(ae)),label:O.ticks[ae]})):n.value!==1/0?or(n.value+1).map(ae=>{const se=v.value+ae*h.value;return{value:se,position:X(se)}}):[]:[]),ve=Ee(()=>I.value.some(ae=>{let{label:se}=ae;return!!se})),q={activeThumbRef:z,color:la(O,"color"),decimals:b,disabled:u,direction:la(O,"direction"),elevation:la(O,"elevation"),hasLabels:ve,isReversed:i,indexFromEnd:f,min:v,max:s,mousePressed:x,numTicks:n,onSliderMousedown:W,onSliderTouchstart:J,parsedTicks:I,parseMouseMove:M,position:X,readonly:la(O,"readonly"),rounded:la(O,"rounded"),roundValue:l,showTicks:te,startOffset:N,step:h,thumbSize:_,thumbColor:m,thumbLabel:la(O,"thumbLabel"),ticks:la(O,"ticks"),tickSize:c,trackColor:w,trackContainerRef:V,trackFillColor:k,trackSize:r,vertical:g};return lr(ht,q),q},fi=ja({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Ut()},"VSliderThumb"),vi=nt()({name:"VSliderThumb",directives:{Ripple:sr},props:fi(),emits:{"update:modelValue":R=>!0},setup(R,O){let{slots:j,emit:$}=O;const y=Ht(ht),{isRtl:L,rtlClasses:t}=it();if(!y)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:i,disabled:g,thumbSize:f,thumbLabel:v,direction:s,isReversed:h,vertical:b,readonly:l,elevation:_,mousePressed:c,decimals:r,indexFromEnd:n}=y,u=Ee(()=>g.value?void 0:_.value),{elevationClasses:m}=dr(u),{textColorClasses:w,textColorStyles:k}=ur(a),{pageup:x,pagedown:N,end:V,home:z,left:M,right:C,down:B,up:U}=vr,Z=[x,N,V,z,M,C,B,U],D=Ee(()=>i.value?[1,2,3]:[1,5,10]);function G(W,X){if(!Z.includes(W.key))return;W.preventDefault();const te=i.value||.1,I=(R.max-R.min)/te;if([M,C,B,U].includes(W.key)){const q=(b.value?[L.value?M:C,h.value?B:U]:n.value!==L.value?[M,U]:[C,U]).includes(W.key)?1:-1,ae=W.shiftKey?2:W.ctrlKey?1:0;X=X+q*te*D.value[ae]}else if(W.key===z)X=R.min;else if(W.key===V)X=R.max;else{const ve=W.key===N?1:-1;X=X-ve*te*(I>100?I/10:10)}return Math.max(R.min,Math.min(R.max,X))}function J(W){const X=G(W,R.modelValue);X!=null&&$("update:modelValue",X)}return ot(()=>{const W=wa(n.value?100-R.position:R.position,"%");return S("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":R.focused,"v-slider-thumb--pressed":R.focused&&c.value},R.class,t.value],style:[{"--v-slider-thumb-position":W,"--v-slider-thumb-size":wa(f.value)},R.style],role:"slider",tabindex:g.value?-1:0,"aria-label":R.name,"aria-valuemin":R.min,"aria-valuemax":R.max,"aria-valuenow":R.modelValue,"aria-readonly":!!l.value,"aria-orientation":s.value,onKeydown:l.value?void 0:J},[S("div",{class:["v-slider-thumb__surface",w.value,m.value],style:{...k.value}},null),Ye(S("div",{class:["v-slider-thumb__ripple",w.value],style:k.value},null),[[Ca("ripple"),R.ripple,null,{circle:!0,center:!0}]]),S(cr,{origin:"bottom center"},{default:()=>{var X;return[Ye(S("div",{class:"v-slider-thumb__label-container"},[S("div",{class:["v-slider-thumb__label"]},[S("div",null,[((X=j["thumb-label"])==null?void 0:X.call(j,{modelValue:R.modelValue}))??R.modelValue.toFixed(i.value?r.value:1)])])]),[[fr,v.value&&R.focused||v.value==="always"]])]}})])}),{}}}),hi=ja({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ut()},"VSliderTrack"),_i=nt()({name:"VSliderTrack",props:hi(),emits:{},setup(R,O){let{slots:j}=O;const $=Ht(ht);if(!$)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:y,parsedTicks:L,rounded:t,showTicks:a,tickSize:i,trackColor:g,trackFillColor:f,trackSize:v,vertical:s,min:h,max:b,indexFromEnd:l}=$,{roundedClasses:_}=hr(t),{backgroundColorClasses:c,backgroundColorStyles:r}=bt(f),{backgroundColorClasses:n,backgroundColorStyles:u}=bt(g),m=Ee(()=>`inset-${s.value?"block":"inline"}-${l.value?"end":"start"}`),w=Ee(()=>s.value?"height":"width"),k=Ee(()=>({[m.value]:"0%",[w.value]:"100%"})),x=Ee(()=>R.stop-R.start),N=Ee(()=>({[m.value]:wa(R.start,"%"),[w.value]:wa(x.value,"%")})),V=Ee(()=>a.value?(s.value?L.value.slice().reverse():L.value).map((M,C)=>{var U;const B=M.value!==h.value&&M.value!==b.value?wa(M.position,"%"):void 0;return S("div",{key:M.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":M.position>=R.start&&M.position<=R.stop,"v-slider-track__tick--first":M.value===h.value,"v-slider-track__tick--last":M.value===b.value}],style:{[m.value]:B}},[(M.label||j["tick-label"])&&S("div",{class:"v-slider-track__tick-label"},[((U=j["tick-label"])==null?void 0:U.call(j,{tick:M,index:C}))??M.label])])}):[]);return ot(()=>S("div",{class:["v-slider-track",_.value,R.class],style:[{"--v-slider-track-size":wa(v.value),"--v-slider-tick-size":wa(i.value)},R.style]},[S("div",{class:["v-slider-track__background",n.value,{"v-slider-track__background--opacity":!!y.value||!f.value}],style:{...k.value,...u.value}},null),S("div",{class:["v-slider-track__fill",c.value],style:{...N.value,...r.value}},null),a.value&&S("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[V.value])])),{}}}),mi=ja({..._r(),...di(),...mr(),modelValue:{type:[Number,String],default:0}},"VSlider"),tr=nt()({name:"VSlider",props:mi(),emits:{"update:focused":R=>!0,"update:modelValue":R=>!0,start:R=>!0,end:R=>!0},setup(R,O){let{slots:j,emit:$}=O;const y=_e(),{rtlClasses:L}=it(),t=ui(R),a=pr(R,"modelValue",void 0,w=>t.roundValue(w??t.min.value)),{min:i,max:g,mousePressed:f,roundValue:v,onSliderMousedown:s,onSliderTouchstart:h,trackContainerRef:b,position:l,hasLabels:_,readonly:c}=ci({props:R,steps:t,onSliderStart:()=>{$("start",a.value)},onSliderEnd:w=>{let{value:k}=w;const x=v(k);a.value=x,$("end",x)},onSliderMove:w=>{let{value:k}=w;return a.value=v(k)},getActiveThumb:()=>{var w;return(w=y.value)==null?void 0:w.$el}}),{isFocused:r,focus:n,blur:u}=gr(R),m=Ee(()=>l(a.value));return ot(()=>{const w=wt.filterProps(R),k=!!(R.label||j.label||j.prepend);return S(wt,jt({class:["v-slider",{"v-slider--has-labels":!!j["tick-label"]||_.value,"v-slider--focused":r.value,"v-slider--pressed":f.value,"v-slider--disabled":R.disabled},L.value,R.class],style:R.style},w,{focused:r.value}),{...j,prepend:k?x=>{var N,V;return S(ua,null,[((N=j.label)==null?void 0:N.call(j,x))??(R.label?S(br,{id:x.id.value,class:"v-slider__label",text:R.label},null):void 0),(V=j.prepend)==null?void 0:V.call(j,x)])}:void 0,default:x=>{let{id:N,messagesId:V}=x;return S("div",{class:"v-slider__container",onMousedown:c.value?void 0:s,onTouchstartPassive:c.value?void 0:h},[S("input",{id:N.value,name:R.name||N.value,disabled:!!R.disabled,readonly:!!R.readonly,tabindex:"-1",value:a.value},null),S(_i,{ref:b,start:0,stop:m.value},{"tick-label":j["tick-label"]}),S(vi,{ref:y,"aria-describedby":V.value,focused:r.value,min:i.value,max:g.value,modelValue:a.value,"onUpdate:modelValue":z=>a.value=z,position:m.value,elevation:R.elevation,onFocus:n,onBlur:u,ripple:R.ripple,name:R.name},{"thumb-label":j["thumb-label"]})])}})}),{}}}),pi=["src"],gi={key:2,src:oi},bi={__name:"ReconhecimentoFacial",setup(R){const O=_e(null),j=_e([]),$=_e(""),y=_e(!1),L=_e(null),t=_e(null),a=Ra(),{id:i}=a.params,g=_e(1),v=De("pessoa_token").value,h=De("user-data").value.nome,b=ca(),l=`${b.public.managemant}/upload`,_=`${b.public.managemant}/getLinkTipo`,c=`${b.public.managemant}/download`,{$toast:r}=ma(),n=Ee(()=>!!t.value),u=Ee(()=>!!L.value),m=_e(!1),w=async()=>{const M=await navigator.mediaDevices.enumerateDevices();j.value=M.filter(C=>C.kind==="videoinput").map(C=>({deviceId:C.deviceId,label:C.label||`Camera ${j.value.length+1}`}))},k=async()=>{y.value=!0;try{await navigator.mediaDevices.getUserMedia({video:!0}),await w()}catch(M){console.error("Erro ao acessar dispositivos de mídia:",M)}},x=()=>{y.value=!1;const M=O.value.srcObject;M&&M.getTracks().forEach(B=>B.stop())},N=async()=>{if($.value){const M=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:$.value}}});O.value.srcObject=M}},V=async()=>{const M=document.createElement("canvas"),C=M.getContext("2d"),B=O.value.videoWidth,U=O.value.videoHeight,Z=B*g.value,D=U*g.value,G=(B-Z)/2,J=(U-D)/2;M.width=B,M.height=U,C.drawImage(O.value,G,J,Z,D),M.toBlob(async W=>{const X=new FormData;X.append("file",W,`${h}.jpg`),X.append("cartorio_token",De("user-data").value.cartorio_token),X.append("token",v),X.append("tipo","foto");const{status:te}=await We(l,{method:"POST",body:X},"$fRRPU47ULS");if(te.value==="success"){r.success("Imagem enviada!");const I=URL.createObjectURL(W);L.value=I,x()}else r.error("Erro ao enviar imagem para o sistema.")},"image/jpeg")};return i&&(async M=>{var D;if(!M)return;const{data:C}=await We(_,{method:"POST",body:{tipo:"foto",id:M}},"$N16ZtKMkSh");if(!((D=C.value)!=null&&D.link))return;const{data:B}=await We(c,{method:"POST",body:{bucket:De("user-data").value.cartorio_token,path:C.value.link}},"$mC9TAMOeqI"),U=C.value.link,Z=B.value;/\.(tr7|tiff)$/i.test(U)?(t.value=Z,m.value=!1):L.value=Z})(i),Ha(async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await w()}catch(M){console.error("Erro ao acessar dispositivos de mídia:",M)}}),(M,C)=>{const B=ar;return de(),we(fe,{cols:"auto"},{default:T(()=>[S(Ma,{"max-width":"700",modelValue:E(y),"onUpdate:modelValue":C[3]||(C[3]=U=>da(y)?y.value=U:null)},{activator:T(({props:U})=>[S(Te,jt(U,{variant:"outlined",style:{width:"300px",height:"300px"},onClick:k}),{default:T(()=>[E(n)&&!E(m)?(de(),we(B,{key:0,"tiff-url":E(t),onError:C[0]||(C[0]=Z=>m.value=!0)},null,8,["tiff-url"])):E(u)?(de(),Be("img",{key:1,src:E(L),style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,pi)):(de(),Be("img",gi))]),_:2},1040)]),default:T(({isActive:U})=>[S(Ia,{title:"Biometria"},{default:T(()=>[S(Re,null,{default:T(()=>[S(fe,null,{default:T(()=>[S(aa,null,{default:T(()=>[S(Gt,{items:E(j),modelValue:E($),"onUpdate:modelValue":C[1]||(C[1]=Z=>da($)?$.value=Z:null),"item-title":"label","item-value":"deviceId",label:"Selecionar Webcam"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),S(Re,null,{default:T(()=>[S(fe,null,{default:T(()=>[S(Te,{size:"large",class:"ml-5",onClick:N},{default:T(()=>C[4]||(C[4]=[Ce("Exibir")])),_:1})]),_:1})]),_:1}),S(aa,null,{default:T(()=>[S(tr,{modelValue:E(g),"onUpdate:modelValue":C[2]||(C[2]=Z=>da(g)?g.value=Z:null),min:1,max:3,step:"0.1",label:"Zoom"},null,8,["modelValue"])]),_:1}),S(Re,null,{default:T(()=>[S(aa,{style:{overflow:"hidden"}},{default:T(()=>[S(fe,{class:"d-flex justify-center align-center"},{default:T(()=>[Se("video",{ref_key:"video",ref:O,width:"360",height:"300",autoplay:"",style:Pa({transform:`scale(${E(g)})`,transformOrigin:"center center"})},null,4)]),_:1})]),_:1})]),_:1}),S(Re,{class:"mt-10 mb-5 ml-5"},{default:T(()=>[S(Te,{color:"red",size:"large",onClick:x},{default:T(()=>C[5]||(C[5]=[Ce("Fechar")])),_:1}),S(Te,{color:"green",size:"large",class:"ml-5",onClick:V},{default:T(()=>C[6]||(C[6]=[Ce("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},wi=""+new URL("escanearFicha.CgD8l9Wn.png",import.meta.url).href,ki={__name:"Scanner",setup(R){const O=ca(),{$toast:j}=ma(),$=`${O.public.envioDoc}`,y=`${O.public.biometria}/run-scanner`,t=De("pessoa_token").value;async function a(){try{await i(),await g()}catch(f){console.error("Erro ao executar scanner ou listar arquivos:",f)}}async function i(){try{const{data:f}=await We(y,{method:"GET"},"$qlTK399Ixo")}catch(f){j.error("Erro ao acionar o scanner:",f)}}async function g(){try{const{status:f,data:v}=await We($,{method:"POST",body:{tipo:"ficha",token:t,cartorio_token:De("user-data").value.cartorio_token}},"$JkvEThvk9m")}catch(f){j.error(f),console.error("Erro ao enviar o arquivo:",f)}}return(f,v)=>(de(),Be("div",null,[Se("img",{onClick:a,src:wi,style:{width:"280px",height:"120px",cursor:"pointer","margin-top":"30px"}})]))}},yi={class:"d-flex justify-center align-center"},xi={key:0,class:"ml-5 mt-15"},Ei=["src"],Si={key:2},Ai={__name:"FichaCard",props:{show:Boolean,item:Object,isView:{type:Boolean,default:!1},linkView:String},emits:["close","confirmar"],setup(R,{emit:O}){const j=R,$=ca(),y=`${$.public.managemant}/getLinkTipo`,L=`${$.public.managemant}/download`,t=Ee(()=>!!g.value),a=Ee(()=>!!f.value),i=_e(j.show),g=_e(null),f=_e(null),v=_e(.8),s=_e(0),h=O,b=Ee(()=>(v.value-1)*-50);Na(()=>j.show,async n=>{i.value=n,g.value=null,await _()},{immediate:!0}),Na(()=>j.linkView,n=>{j.isView&&(n&&n.includes(".tr7")?(g.value=n,f.value=null):(g.value=null,f.value=n))},{immediate:!0});const l=()=>{h("confirmar"),c()},_=async()=>{var k;if(j.isView||!j.item.id)return;const{data:n}=await We(y,{method:"POST",body:{tipo:"ficha",id:j.item.id}},"$4omB3S9Tg3");if(!((k=n.value)!=null&&k.link))return;const{data:u}=await We(L,{method:"POST",body:{bucket:De("user-data").value.cartorio_token,path:n.value.link}},"$yanMHqBuqW"),m=n.value.link,w=u.value;/\.(tr7|tiff)$/i.test(m)?g.value=w:f.value=w},c=()=>{i.value=!1,g.value=null,f.value=null,v.value=.8,s.value=0,h("close")},r=()=>{s.value+=90,s.value>=360&&(s.value=0)};return(n,u)=>{const m=ar;return de(),we(Ma,{persistent:"",modelValue:E(i),"onUpdate:modelValue":u[1]||(u[1]=w=>da(i)?i.value=w:null),"max-width":"850"},{default:T(()=>[S(Ia,null,{default:T(()=>[S(ct,{class:"text-h5"},{default:T(()=>u[2]||(u[2]=[Ce("Ficha de Firma")])),_:1}),S(aa,null,{default:T(()=>[S(Re,null,{default:T(()=>[S(fe,{cols:"10"},{default:T(()=>[S(tr,{modelValue:E(v),"onUpdate:modelValue":u[0]||(u[0]=w=>da(v)?v.value=w:null),min:"0.5",max:"1.1",step:"0.1",label:"Zoom",class:"mt-3"},null,8,["modelValue"])]),_:1}),S(fe,{cols:"2"},{default:T(()=>[S(wr,{class:"ml-6",size:"50px",onClick:r},{default:T(()=>u[3]||(u[3]=[Ce("mdi-rotate-right")])),_:1})]),_:1})]),_:1})]),_:1}),Se("div",yi,[E(t)?(de(),Be("div",xi,[S(m,{"tiff-url":E(g),"is-modal":!0,"zoom-level":E(v),"rotation-degree":E(s),"translate-x":E(b)},null,8,["tiff-url","zoom-level","rotation-degree","translate-x"])])):E(a)?(de(),Be("img",{key:1,src:E(f),style:Pa({width:"70%",height:"70%",transform:`scale(${E(v)}) rotate(${E(s)}deg)`})},null,12,Ei)):Me("",!0),!E(f)&&!E(g)?(de(),Be("div",Si,u[4]||(u[4]=[Se("h3",{class:"mb-5"}," Este usuario não possui ficha de firma cadastrada. ",-1)]))):Me("",!0)]),S(ft,null,{default:T(()=>[j.isView?Me("",!0):(de(),we(Te,{key:0,style:{"background-color":"#429946",color:"white"},onClick:l},{default:T(()=>u[5]||(u[5]=[Ce("Reconhecer")])),_:1})),S(Te,{style:{"background-color":"red",color:"white"},onClick:c},{default:T(()=>u[6]||(u[6]=[Ce("Voltar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Vi=rt(Ai,[["__scopeId","data-v-661d97fe"]]),Ci=""+new URL("imprimirFicha.BlhLZ85F.png",import.meta.url).href,Di={style:{display:"flex","flex-direction":"column"}},Bi={key:0},Ri={__name:"Impressao",props:{linkFicha:String},async setup(R){let O,j;const $=R,y=_e(""),L=ca(),t=`${L.public.managemant}/gerarRelatorioPessoa`,a=`${L.public.managemant}/download`,i=_e(null),g=_e(!1),f=_e(!1),v=async()=>{const b=await We(t,{method:"POST",body:{consulta:"FICHA ASSINATURA",pessoa_token:De("pessoa_token").value}},"$LOyFO5WGQE");y.value=b.data.value};if($.linkFicha){const{data:b}=([O,j]=za(()=>We(a,{method:"POST",body:{bucket:De("user-data").value.cartorio_token,path:$.linkFicha}},"$BxSla0y3eT")),O=await O,j(),O);i.value=b.value}const s=()=>{f.value=!0,g.value=!0},h=async()=>{await v();const b=document.createElement("iframe");b.style.position="absolute",b.style.width="0px",b.style.height="0px",b.style.border="none",document.body.appendChild(b);const l=b.contentWindow.document;l.open(),l.write(y.value),l.close(),b.contentWindow.focus(),b.contentWindow.print(),document.body.removeChild(b)};return(b,l)=>{const _=ki,c=Vi;return de(),Be(ua,null,[S(fe,{cols:"auto"},{default:T(()=>[Se("div",Di,[Se("img",{onClick:l[0]||(l[0]=r=>h()),src:Ci,style:{width:"280px",height:"120px",cursor:"pointer"}}),S(_)]),$.linkFicha?(de(),Be("div",Bi,[Se("img",{onClick:l[1]||(l[1]=r=>s()),style:{width:"80px",height:"80px",cursor:"pointer"},src:Yt,alt:"Ver ficha"})])):Me("",!0)]),_:1}),E(f)?(de(),we(c,{key:0,show:E(f),"link-view":E(i),"is-view":!0,onClose:l[2]||(l[2]=r=>f.value=!1)},null,8,["show","link-view"])):Me("",!0)],64)}}},Ni={__name:"Index",props:{isModal:{type:Boolean,default:!1},linkFicha:String},emits:["close-modal"],setup(R,{emit:O}){const j=Da(),$=O,y=R,L=()=>{if(y.isModal===!0){$("close-modal");return}j.push("/pessoas/lista")};return(t,a)=>{const i=Jr,g=bi,f=Ri;return de(),Be(ua,null,[S(aa,null,{default:T(()=>[S(Re,{class:"d-flex align-items-center"},{default:T(()=>[S(i),S(g,{class:"ml-5 mr-5"}),S(f,{"link-ficha":y.linkFicha},null,8,["link-ficha"])]),_:1})]),_:1}),S(Te,{onClick:L,class:"mt-10",size:"large",color:"red"},{default:T(()=>a[0]||(a[0]=[Ce("Voltar")])),_:1})],64)}}},Pi={},zi={style:{height:"425px"}};function Mi(R,O){return de(),Be("div",zi,O[0]||(O[0]=[Se("h1",null,"Restrições",-1)]))}const Ii=rt(Pi,[["render",Mi]]),$i={style:{"background-color":"#f5f2f2",padding:"5px 0px 0px 20px"}},Oi={__name:"RegistroPessoas",props:{show:Boolean},emits:["close"],setup(R,{emit:O}){const j=R,$=_e(j.show),y=O,L=_e("dados"),t=_e(!1),a=_e(!1),i=_e(!1),g=Ba({tipo_pessoa:"FISICA"}),f=[{label:"FÍSICA",value:"FISICA"},{label:"JURÍDICA",value:"JURIDICA"},{label:"ESTRANGEIRA",value:"ESTRANGEIRA"}],v=()=>{t.value=!0,i.value=!0},s=()=>{a.value=!0,i.value=!0};Na(()=>j.show,b=>{$.value=b});const h=()=>{$.value=!1,y("close")};return(b,l)=>{const _=Er,c=Ar,r=Rr,n=Mr,u=jr,m=Ni,w=Ii;return de(),we(Ma,{persistent:"",modelValue:E($),"onUpdate:modelValue":l[3]||(l[3]=k=>da($)?$.value=k:null),"max-width":"900"},{default:T(()=>[S(Ia,null,{default:T(()=>[S(aa,null,{default:T(()=>[l[10]||(l[10]=Se("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Cadastramento de pessoas ",-1)),Se("div",$i,[S(qe,{modelValue:E(g).tipo_pessoa,"onUpdate:modelValue":l[0]||(l[0]=k=>E(g).tipo_pessoa=k),style:{width:"200px"},items:f,"item-title":"label","item-value":"value",label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:E(i)},null,8,["modelValue","disabled"])]),S(kr,{modelValue:E(L),"onUpdate:modelValue":l[1]||(l[1]=k=>da(L)?L.value=k:null),"bg-color":"#f5f2f2"},{default:T(()=>[S(Ea,{value:"dados"},{default:T(()=>l[4]||(l[4]=[Ce("Dados")])),_:1}),E(t)?(de(),we(Ea,{key:0,value:"documento"},{default:T(()=>l[5]||(l[5]=[Ce("Documentos")])),_:1})):Me("",!0),E(a)?(de(),we(Ea,{key:1,value:"representante"},{default:T(()=>l[6]||(l[6]=[Ce("Representantes")])),_:1})):Me("",!0),E(a)||E(t)?(de(),we(Ea,{key:2,value:"endereco"},{default:T(()=>l[7]||(l[7]=[Ce("Endereços")])),_:1})):Me("",!0),E(t)?(de(),we(Ea,{key:3,value:"biometria"},{default:T(()=>l[8]||(l[8]=[Ce("Biometria")])),_:1})):Me("",!0),E(a)||E(t)?(de(),we(Ea,{key:4,value:"restricao"},{default:T(()=>l[9]||(l[9]=[Ce("Restrições")])),_:1})):Me("",!0)]),_:1},8,["modelValue"]),S(yr,{modelValue:E(L),"onUpdate:modelValue":l[2]||(l[2]=k=>da(L)?L.value=k:null)},{default:T(()=>[S(Sa,{value:"dados"},{default:T(()=>[E(g).tipo_pessoa==="FISICA"?(de(),we(_,{key:0,onSaved:v,onCloseModal:h,isModal:!0})):E(g).tipo_pessoa==="JURIDICA"?(de(),we(c,{key:1,onSaved:s,onCloseModal:h,isModal:!0})):Me("",!0)]),_:1}),b.showTabs?(de(),we(Sa,{key:0,value:"documento"},{default:T(()=>[S(r,{onCloseModal:h,isModal:!0})]),_:1})):Me("",!0),E(a)?(de(),we(Sa,{key:1,value:"representante"},{default:T(()=>[S(n,{onCloseModal:h,isModal:!0})]),_:1})):Me("",!0),E(a)||E(t)?(de(),we(Sa,{key:2,value:"endereco"},{default:T(()=>[S(u,{onCloseModal:h,isModal:!0})]),_:1})):Me("",!0),b.showTabs?(de(),we(Sa,{key:3,value:"biometria"},{default:T(()=>[S(aa,null,{default:T(()=>[S(m,{onCloseModal:h,isModal:!0})]),_:1})]),_:1})):Me("",!0),b.showTabs?(de(),we(Sa,{key:4,value:"restricao"},{default:T(()=>[S(w,{onCloseModal:h,isModal:!0})]),_:1})):Me("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{Oi as _,Vi as a,ar as b,Ar as c,Rr as d,Mr as e,jr as f,Ni as g,Ii as h,Er as i};
