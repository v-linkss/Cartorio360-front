import{c as We,r as aa,u as $a}from"./CnnDeAhE.js";import{c as ar}from"./CiIeflMy.js";import{C as Sa,u as ma,e as De,r as _e,f as Da,s as Oa,h as Ia,o as de,c as Se,i as x,j as Ae,N as Mt,t as at,k as Oe,w as H,b as S,V as me,m as Je,v as Fe,d as Ne,F as da,l as fa,J as Ba,g as La,a as Ee,A as _a,L as zt,y as Ve,H as tt,_ as $t,D as vt,q as Ma,af as Ka,ar as tr,aq as rr,c5 as ht,aj as rt,aD as la,az as _t,aC as ir,M as nr,aH as Ot,ag as Lt,ai as it,be as or,aG as Kt,bi as lr,b0 as sr,ak as nt,aJ as Aa,c6 as dr,bM as ur,aE as cr,bl as fr,aS as mt,c7 as vr,c8 as hr,av as _r,c9 as mr,ca as pt,bD as pr,P as Tt}from"./B_E4pH1E.js";import{u as ot}from"./rZnRhoY0.js";import{$ as sa,f as Ue}from"./MJ2J-28f.js";import{a as Ut,f as Pa}from"./B0IxRygJ.js";import{V as Ie}from"./B3oK8asH.js";import{V as ve}from"./B8JbSqLg.js";import{V as Ht}from"./DPS1oOBH.js";import{V as Ye}from"./B3pP8eow.js";import{V as ia}from"./CkJKeZFG.js";import{_ as jt}from"./Dsp8npIh.js";import{_ as za}from"./BVz1G1IN.js";import{_ as Gt}from"./C3iCTc0I.js";import{_ as lt,a as st}from"./DJvq3mCv.js";import{u as Qe}from"./CODeQj60.js";import{V as dt}from"./BZix0oab.js";import{V as Ta}from"./qbusXUS4.js";import{V as Ua,a as Ft,b as qt,c as Zt}from"./BiIL1GZj.js";import{_ as gr}from"./D4zemkNR.js";import{_ as Jt}from"./xFwOg1O6.js";import{a as br,V as xa,b as Ar,c as Ea}from"./Is9XVdTw.js";const wr={key:1},kr={__name:"Dados",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],async setup(R,{emit:$}){let G,z;const k=R,K=$,t=Sa(),{$toast:a}=ma(),i=fa(),g=`${i.public.auth}/service/gerencia/createPessoa`,v=`${i.public.auth}/service/gerencia/updatePessoa`,f=`${i.public.auth}/service/gerencia/listarEstadoCivil`,d=`${i.public.auth}/service/gerencia/listarCapacidadeCivil`,c=`${i.public.auth}/service/gerencia/listarCidades`,b=`${i.public.auth}/service/gerencia/listarSexo`,l={nome:null,nome_pai:null,nome_mae:null,profissao:null,local_trabalho:null,data_nascimento:null,doc_identificacao:null,fone_celular:null,cpf_pai:null,cpf_mae:null,tipo_pessoa:"FISICA",tabvalores_estadocivil_id:null,tabvalores_capacidadecivil_id:null,tabvalores_sexo_id:null,cidade_nascimento_id:null,cartorio_id:De("user-data").value.cartorio_id,user_id:De("user-data").value.usuario_id},_=_e(!1),u=De("pessoa-id"),r=Da({...l});function n(D){if(D)return D.replace(/[.\-]/g,"");D=null}const{data:h,status:p,pending:A,error:w}=([G,z]=Oa(async()=>ot("cliente-dados",async()=>{const[D,B,O,U]=await Promise.all([sa(f),sa(d),sa(c),sa(b)]);return{estadoCivilItems:D,capacidadeCivilItems:B,cidadeNascimentoItems:O,sexoItems:U}})),G=await G,z(),G),y={nome:{required:We.withMessage("O campo é obrigatorio",aa)},nome_mae:{required:We.withMessage("O campo é obrigatorio",aa)},doc_identificacao:{required:We.withMessage("O campo é obrigatorio",aa),cpf:ar}},I=$a(y,r);async function V(){if(await I.value.$validate()){const D={...r};for(const q in D)D[q]===""&&(D[q]=null);const B={...D,doc_identificacao:n(r.doc_identificacao),cpf_pai:n(r.cpf_pai),cpf_mae:n(r.cpf_mae),data_nascimento:Ut(r.data_nascimento),fone_celular:r.fone_celular?r.fone_celular.replace(/[^0-9]/g,""):null},{data:O,error:U,status:Q}=await Ue(g,{method:"POST",body:B});if(Q.value==="error"&&U.value.statusCode===500)a.error("Erro ao cadastrar pessoa,o CPF já está cadastrado.");else{a.success("Pessoa cadastrada com sucesso!");const q=O.value.id;u.value=q;const L=De("pessoa_token");L.value=O.value.token,_.value=!0,K("saved")}}else a.error("Erro ao cadastrar pessoa, preencha os campos obrigatorios.")}async function P(){const D={...r};for(const q in D)D[q]===""&&(D[q]=null);const B={...D,doc_identificacao:n(r.doc_identificacao),cpf_mae:n(r.cpf_mae),fone_celular:r.fone_celular.replace(/[^0-9]/g,"")},{data:O,error:U,status:Q}=await Ue(`${v}/${u.value}`,{method:"PUT",body:B});if(Q.value==="success"){if(k.isModal===!0){a.success("Pessoa atualizada com sucesso!"),K("close-modal");return}a.success("Pessoa atualizada com sucesso!"),t.push("/pessoas/lista")}}const M=()=>{if(k.isModal===!0){K("close-modal");return}t.push("/pessoas/lista")};return(D,B)=>{const O=Ia("mask");return de(),Se(da,null,[x(A)?(de(),Ae(Mt,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):x(w)?(de(),Se("div",wr,at(x(w).message),1)):Oe("",!0),x(A)?Oe("",!0):(de(),Ae(ia,{key:2},{default:H(()=>[S(Ie,null,{default:H(()=>[S(ve,{md:"6"},{default:H(()=>[S(me,{modelValue:x(r).nome,"onUpdate:modelValue":B[0]||(B[0]=U=>x(r).nome=U),"error-messages":x(I).nome.$errors.map(U=>U.$message),label:"Nome",required:"",onBlur:x(I).nome.$touch,onInput:x(I).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),S(ve,{md:"4"},{default:H(()=>[Je(S(me,{modelValue:x(r).doc_identificacao,"onUpdate:modelValue":B[1]||(B[1]=U=>x(r).doc_identificacao=U),"error-messages":x(I).doc_identificacao.$errors.map(U=>U.$message),label:"CPF",required:"",onBlur:x(I).doc_identificacao.$touch,onInput:x(I).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[O,"###.###.###-##"]])]),_:1}),S(ve,{md:"2"},{default:H(()=>[S(Ht,{label:"Sexo",modelValue:x(r).tabvalores_sexo_id,"onUpdate:modelValue":B[2]||(B[2]=U=>x(r).tabvalores_sexo_id=U),items:x(h).sexoItems,"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),S(Ie,null,{default:H(()=>[S(ve,{md:"4"},{default:H(()=>[S(Ye,{modelValue:x(r).tabvalores_estadocivil_id,"onUpdate:modelValue":B[3]||(B[3]=U=>x(r).tabvalores_estadocivil_id=U),items:x(h).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),S(ve,{md:"4"},{default:H(()=>[S(me,{modelValue:x(r).profissao,"onUpdate:modelValue":B[4]||(B[4]=U=>x(r).profissao=U),label:"Profissão"},null,8,["modelValue"])]),_:1}),S(ve,{md:"4"},{default:H(()=>[S(me,{modelValue:x(r).local_trabalho,"onUpdate:modelValue":B[5]||(B[5]=U=>x(r).local_trabalho=U),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),S(Ie,null,{default:H(()=>[S(ve,{md:"2"},{default:H(()=>[Je(S(me,{modelValue:x(r).data_nascimento,"onUpdate:modelValue":B[6]||(B[6]=U=>x(r).data_nascimento=U),label:"Data de nascimento",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[O,"##/##/####"]])]),_:1}),S(ve,{md:"2"},{default:H(()=>[Je(S(me,{modelValue:x(r).fone_celular,"onUpdate:modelValue":B[7]||(B[7]=U=>x(r).fone_celular=U),label:"Celular",placeholder:"'(99) 99999-9999'"},null,8,["modelValue"]),[[O,"(##) #####-####"]])]),_:1}),S(ve,{md:"4"},{default:H(()=>[S(Ye,{modelValue:x(r).tabvalores_capacidadecivil_id,"onUpdate:modelValue":B[8]||(B[8]=U=>x(r).tabvalores_capacidadecivil_id=U),items:x(h).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(ve,{md:"4"},{default:H(()=>[S(Ye,{modelValue:x(r).cidade_nascimento_id,"onUpdate:modelValue":B[9]||(B[9]=U=>x(r).cidade_nascimento_id=U),items:x(h).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),S(Ie,null,{default:H(()=>[S(ve,{md:"4"},{default:H(()=>[Je(S(me,{modelValue:x(r).cpf_pai,"onUpdate:modelValue":B[10]||(B[10]=U=>x(r).cpf_pai=U),label:"CPF do Pai"},null,8,["modelValue"]),[[O,"###.###.###-##"]])]),_:1}),S(ve,{md:"4"},{default:H(()=>[S(me,{modelValue:x(r).nome_pai,"onUpdate:modelValue":B[11]||(B[11]=U=>x(r).nome_pai=U),label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),S(Ie,null,{default:H(()=>[S(ve,{md:"4"},{default:H(()=>[Je(S(me,{modelValue:x(r).cpf_mae,"onUpdate:modelValue":B[12]||(B[12]=U=>x(r).cpf_mae=U),label:"CPF da Mãe"},null,8,["modelValue"]),[[O,"###.###.###-##"]])]),_:1}),S(ve,{md:"4"},{default:H(()=>[S(me,{modelValue:x(r).nome_mae,"onUpdate:modelValue":B[13]||(B[13]=U=>x(r).nome_mae=U),modelModifiers:{date:!0},"error-messages":x(I).nome_mae.$errors.map(U=>U.$message),label:"Nome da Mãe",required:"",onBlur:x(I).nome_mae.$touch,onInput:x(I).nome_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),S(Ie,{class:"mb-3"},{default:H(()=>[S(Fe,{onClick:M,size:"large",color:"red"},{default:H(()=>B[15]||(B[15]=[Ne("Voltar")])),_:1}),S(Fe,{onClick:B[14]||(B[14]=U=>x(_)?P():V()),class:"ml-4",size:"large",color:"green"},{default:H(()=>B[16]||(B[16]=[Ne("Salvar")])),_:1})]),_:1})]),_:1}))],64)}}},yr=We.withMessage("CNPJ inválido",R=>{if(!R)return!1;const $=R.replace(/[^\d]+/g,"");if($.length!==14||/^(\d)\1+$/.test($))return!1;let G=$.length-2,z=$.substring(0,G);const k=$.substring(G);let K=0,t=G-7;for(let i=G;i>=1;i--)K+=parseInt(z.charAt(G-i),10)*t--,t<2&&(t=9);let a=K%11<2?0:11-K%11;if(a!==parseInt(k.charAt(0),10))return!1;G+=1,z=$.substring(0,G),K=0,t=G-7;for(let i=G;i>=1;i--)K+=parseInt(z.charAt(G-i),10)*t--,t<2&&(t=9);return a=K%11<2?0:11-K%11,a===parseInt(k.charAt(1),10)}),xr={__name:"DadosJuridica",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],setup(R,{emit:$}){const G=R,z=$,k=Sa(),K=Ba(),{$toast:t}=ma(),a=fa(),i=`${a.public.auth}/service/gerencia/getPessoaById`,g=`${a.public.auth}/service/gerencia/createPessoa`,v=`${a.public.auth}/service/gerencia/updatePessoa`,{id:f}=K.params,d={nome:null,nome_fantasia:null,inscricao_estadual:null,observacao:null,doc_identificacao:null,tipo_pessoa:"JURIDICA",cartorio_id:De("user-data").value.cartorio_id,user_id:De("user-data").value.usuario_id},c=_e(!1),b=De("pessoa-id"),l=Da({...d});function _(w){return w?w.replace(/[.\-/]/g,""):null}const u={nome:{required:We.withMessage("O campo é obrigatorio",aa)},doc_identificacao:{required:We.withMessage("O campo é obrigatorio",aa),cnpj:yr}},r=$a(u,l);async function n(){if(await r.value.$validate()){const w={...l};for(const M in w)w[M]===""&&(w[M]=null);const y={...w,doc_identificacao:_(l.doc_identificacao)},{data:I,error:V,status:P}=await Ue(g,{method:"POST",body:y});if(P.value==="error"&&V.value.statusCode===500)t.error("Erro ao cadastrar Pessoa Juridica,o CNPJ já está cadastrado.");else{t.success("Pessoa Juridica cadastrada com sucesso!");const M=I.value.id;b.value=M;const D=De("pessoa_token");D.value=I.value.token,c.value=!0,z("saved")}}else t.error("Erro ao cadastrar pessoa juridica, preencha os campos obrigatorios.")}async function h(){const w={...l};for(const M in w)w[M]===""&&(w[M]=null);const y={...w,doc_identificacao:_(l.doc_identificacao)},{data:I,error:V,status:P}=await Ue(`${v}/${f||b.value}`,{method:"PUT",body:y});if(P.value==="success"){if(G.isModal===!0){t.success("Pessoa Juridica atualizada com sucesso!"),z("close-modal");return}t.success("Pessoa Juridica atualizada com sucesso!"),k.push("/pessoas/lista")}}async function p(){const{data:w,error:y}=await Ue(`${i}/${f}`,{method:"GET"});Object.assign(l,w.value)}const A=()=>{if(G.isModal===!0){z("close-modal");return}k.push("/pessoas/lista")};return La(()=>{f&&(p(),c.value=!0)}),(w,y)=>{const I=Ia("mask");return de(),Ae(ia,{class:"mt-3",style:{height:"425px"}},{default:H(()=>[S(Ie,null,{default:H(()=>[S(ve,{md:"8"},{default:H(()=>[S(me,{modelValue:x(l).nome,"onUpdate:modelValue":y[0]||(y[0]=V=>x(l).nome=V),"error-messages":x(r).nome.$errors.map(V=>V.$message),label:"Razão Social",required:"",onBlur:x(r).nome.$touch,onInput:x(r).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),S(ve,{md:"4"},{default:H(()=>[Je(S(me,{modelValue:x(l).doc_identificacao,"onUpdate:modelValue":y[1]||(y[1]=V=>x(l).doc_identificacao=V),"error-messages":x(r).doc_identificacao.$errors.map(V=>V.$message),label:"CNPJ",required:"",onBlur:x(r).doc_identificacao.$touch,onInput:x(r).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[I,"##.###.###/####-##"]])]),_:1})]),_:1}),S(Ie,null,{default:H(()=>[S(ve,{md:"8"},{default:H(()=>[S(me,{modelValue:x(l).nome_fantasia,"onUpdate:modelValue":y[2]||(y[2]=V=>x(l).nome_fantasia=V),label:"Nome Fantasia"},null,8,["modelValue"])]),_:1}),S(ve,{md:"4"},{default:H(()=>[S(me,{modelValue:x(l).inscricao_estadual,"onUpdate:modelValue":y[3]||(y[3]=V=>x(l).inscricao_estadual=V),label:"Inscrição Estadual"},null,8,["modelValue"])]),_:1})]),_:1}),S(Ie,null,{default:H(()=>[S(ve,{md:"12"},{default:H(()=>[S(me,{modelValue:x(l).observacao,"onUpdate:modelValue":y[4]||(y[4]=V=>x(l).observacao=V),label:"Observação"},null,8,["modelValue"])]),_:1})]),_:1}),S(Ie,{class:"mb-3"},{default:H(()=>[S(Fe,{onClick:A,size:"large",color:"red"},{default:H(()=>y[6]||(y[6]=[Ne("Voltar")])),_:1}),S(Fe,{onClick:y[5]||(y[5]=V=>x(c)?h():n()),class:"ml-4",size:"large",color:"green"},{default:H(()=>y[7]||(y[7]=[Ne("Salvar")])),_:1})]),_:1})]),_:1})}}},Er="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHCAgICAgHBwgHBwoHBwcHBw8ICQcKIBEiIiARHx8YHSggGBolGx8TITEhJSkrLi4uFx8zODMsNygtLisBCgoKCg0FGg8HDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIANcA6wMBIgACEQEDEQH/xAAWAAEBAQAAAAAAAAAAAAAAAAAAAQb/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAcE/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AyQDCrIqKCAAqAAAAogCooCAAAACggAKgAAACoCgAgoCAAAAAAAoIAAKAgAAoCAACoAAAAAAACggKCAAqAAqKAIAKgCoAAAAAAAKgAKgAqACgAIoIqKCAAAAKgAogAKCAoIqAKigIKgAqAKgAogAoCKIAoAIqAKACKAgqAAoCAAqACgAIAKACKAgAKigCCggAAAAoCAoICgioACoCoAAAAAAoCCgIKAgAAKCAAAAKgAqAAAKgAKiggAAKCAAogAAAqAAKCKigigCCoAAAoAioAKigiiACgCKAgqAqCgigCAAoigCKCAAKiggACoAAAqKgAAAAAAKACAAqAAAAAAqAKioAAAAACggAAKCKgAqAKioAKgAAAKCAAAAKigIqAAAKigigAgAKigCKCCoCoAAAKgAqKAIACoAogCggKgAqCgiooIKgKIoIKAAAiiAqACoqAKigiiAqKAgqAKgCggKIAoICoAAAAAAKCKigCKCKgCggAAAAAKCKAIKAgoAACCgAAIKAgoCCgIKAgoAACCgCKAIoD//Z",Cr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABIgAAASIAQMAAABC4maAAAAAA1BMVEUAgACc+aWRAAAA1ElEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGD24EAAAAAAAMj/tRFUVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVaU9OCQAAAAAEPT/tS9MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMwCla4AAb0OJ2IAAAAASUVORK5CYII=",Vr=""+new URL("escanear.DNtQsXN4.png",import.meta.url).href,Sr=["onClick"],Dr=["onClick"],Br={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:lt,alt:"deletar",title:"Reativar"},Ir={key:1,src:st,alt:"reativar",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"reativar"},Rr=["onClick"],Nr={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:Er,alt:"Criar"},Pr={key:1,style:{width:"30px",height:"30px",cursor:"pointer"},src:Cr,alt:"Criar"},Mr={key:2,style:{width:"30px",height:"30px",cursor:"pointer"},src:Vr,alt:"Criar"},zr={__name:"Documentos",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(R,{emit:$}){let G,z;const k=$,K=R,{$toast:t}=ma(),a=Ba(),i=Sa(),{id:g}=a.params,v=fa(),f=`${v.public.auth}/service/gerencia/listarTipoDocumento`,d=`${v.public.auth}/service/gerencia/listarUF`,c=`${v.public.auth}/service/gerencia/getPessoaDocById`,b=`${v.public.auth}/service/gerencia/createPessoaDoc`,l=`${v.public.auth}/service/gerencia/updatePessoaDoc`,_=_e(!1),u=_e(null),r=_e(De("user-data").value.usuario_id).value,n=Number(g||De("pessoa-id").value),h=Da({tabvalores_tipodoc_id:null,emissor:null,numero:null,data_emissao:null,data_vencimento:null,tabvalores_ufemissor_id:null}),p=[{title:"Tipo",value:"tipoDocumento.descricao"},{title:"Número",value:"numero"},{title:"Emissor",value:"emissor"},{title:"UF",value:"ufEmissor.descricao"},{title:"Emissão",value:"data_emissao"},{title:"Validade",value:"data_vencimento"},{value:"actions"}],A={numero:{required:We.withMessage("O campo é obrigatorio",aa)},emissor:{required:We.withMessage("O campo é obrigatorio",aa)},tabvalores_ufemissor_id:{required:We.withMessage("O campo é obrigatorio",aa)}},w=$a(A,h),{data:y,pending:I,refresh:V}=([G,z]=Oa(async()=>ot("cliente-documentos",async()=>{const[L,Z,W]=await Promise.all([sa(f),sa(d),sa(`${c}/${n}`)]),X=W.map(E=>({...E,data_emissao:E.data_emissao?Pa(E.data_emissao,"dd/mm/yyyy"):null,data_vencimento:E.data_vencimento?Pa(E.data_vencimento,"dd/mm/yyyy"):null}));return{tipoDocumentoItems:L,ufItems:Z,pessoasDocsItems:X}})),G=await G,z(),G);async function P(){if(await w.value.$validate()){const L={...h};for(const ue in L)L[ue]===""&&(L[ue]=null);const Z={...L,user_id:r,pessoa_id:n},{data:W,error:X,status:E}=await Ue(b,{method:"POST",body:Z});if(E.value==="error"&&X.value.statusCode===500)console.log(JSON.stringify(X.value)),t.error(X.value.data.details);else{t.success("Documento cadastrado com sucesso!"),V();for(const ue in h)h[ue]="";w.value.$reset()}}else t.error("Erro ao cadastrar documento. Os seguintes campos são obrigatórios: Número, Emissor e UF.")}async function M(L){try{console.log(`Ação do scanner iniciada
`),console.log("Token do documento:",L),await D(),await B(L)}catch(Z){console.error("Erro ao executar scanner ou listar arquivos:",Z)}}async function D(){try{const{data:L}=await Qe(acionarScanner,{method:"GET"},"$cLGZtMLuJD")}catch(L){t.error("Erro ao acionar o scanner:",L)}}async function B(L){try{const{data:Z,status:W}=await Qe("http://localhost:3500/uploadAnexo",{method:"POST",body:{tipo:"docs",token:a.query.ato_token_edit,cartorio_token:L}},"$2fkU5kgcxs")}catch(Z){console.error("Erro ao enviar o arquivo:",Z)}}function O(L){L&&(u.value={...L,data_emissao:L.data_emissao?Pa(L.data_emissao,"dd/mm/yyyy"):null,data_vencimento:L.data_vencimento?Pa(L.data_vencimento,"dd/mm/yyyy"):null},_.value=!0)}async function U(L){const Z={tabvalores_tipodoc_id:u.value.tabvalores_tipodoc_id,numero:u.value.numero,emissor:u.value.emissor,tabvalores_ufemissor_id:u.value.tabvalores_ufemissor_id,data_vencimento:u.value.data_vencimento,data_emissao:Ut(u.value.data_emissao)},{status:W}=await Ue(`${l}/${L}`,{method:"PUT",body:Z});W.value==="success"&&(_.value=!1,t.success("Pessoa atualizada com sucesso!"),V())}async function Q(L){L.excluido=!L.excluido;try{await Ue(`${l}/${L.id}`,{method:"PUT",body:JSON.stringify({excluido:L.excluido})})}catch(Z){console.error("Erro ao excluir pessoa:",Z)}}const q=()=>{if(K.isModal===!0){k("close-modal");return}i.push("/pessoas/lista")};return(L,Z)=>{const W=jt,X=Ia("mask");return de(),Se(da,null,[x(I)?Oe("",!0):(de(),Ae(ia,{key:0,class:"mt-3",style:{height:"425px"}},{default:H(()=>[S(Ie,null,{default:H(()=>[S(ve,{md:"2"},{default:H(()=>[S(Ye,{modelValue:x(h).tabvalores_tipodoc_id,"onUpdate:modelValue":Z[0]||(Z[0]=E=>x(h).tabvalores_tipodoc_id=E),items:x(y).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(ve,null,{default:H(()=>[S(me,{modelValue:x(h).numero,"onUpdate:modelValue":Z[1]||(Z[1]=E=>x(h).numero=E),"error-messages":x(w).numero.$errors.map(E=>E.$message),label:"Numero",required:"",onBlur:x(w).numero.$touch,onInput:x(w).numero.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),S(ve,{md:"2"},{default:H(()=>[S(me,{modelValue:x(h).emissor,"onUpdate:modelValue":Z[2]||(Z[2]=E=>x(h).emissor=E),"error-messages":x(w).emissor.$errors.map(E=>E.$message),required:"",onBlur:x(w).emissor.$touch,onInput:x(w).emissor.$touch,label:"Emissor"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),S(ve,null,{default:H(()=>[S(Ye,{modelValue:x(h).tabvalores_ufemissor_id,"onUpdate:modelValue":Z[3]||(Z[3]=E=>x(h).tabvalores_ufemissor_id=E),error:x(w).tabvalores_ufemissor_id.$error,"error-messages":x(w).tabvalores_ufemissor_id.$errors.map(E=>E.$message),items:x(y).ufItems,label:"UF","item-title":"descricao","item-value":"id",required:"",onBlur:x(w).tabvalores_ufemissor_id.$touch,onInput:x(w).tabvalores_ufemissor_id.$touch},null,8,["modelValue","error","error-messages","items","onBlur","onInput"])]),_:1}),S(ve,{md:"2"},{default:H(()=>[Je(S(me,{modelValue:x(h).data_emissao,"onUpdate:modelValue":Z[4]||(Z[4]=E=>x(h).data_emissao=E),label:"Emissão",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[X,"##/##/####"]])]),_:1}),S(ve,{md:"2"},{default:H(()=>[Je(S(me,{modelValue:x(h).data_vencimento,"onUpdate:modelValue":Z[5]||(Z[5]=E=>x(h).data_vencimento=E),label:"Validade",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[X,"##/##/####"]])]),_:1}),Ee("div",{class:"mt-1"},[Ee("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:za,alt:"novo",onClick:P})])]),_:1}),S(dt,{style:{"max-height":"330px"},headers:p,items:x(y).pessoasDocsItems,"item-key":"id"},{"item.actions":H(({item:E})=>[S(Ie,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:H(()=>[Ee("div",{onClick:ue=>O(E),title:"editar"},Z[15]||(Z[15]=[Ee("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:Gt,alt:"editar"},null,-1)]),8,Sr),Ee("div",{onClick:ue=>Q(E),title:"deletar"},[E.excluido?(de(),Se("img",Br)):(de(),Se("img",Ir))],8,Dr),Ee("div",{onClick:ue=>M(E.token),title:"Criar"},[L.status_arquivo===!1?(de(),Se("img",Nr)):L.status_arquivo===!0?(de(),Se("img",Pr)):(de(),Se("img",Mr))],8,Rr)]),_:2},1024)]),_:1},8,["items"]),S(Ta,{modelValue:x(_),"onUpdate:modelValue":Z[14]||(Z[14]=E=>_a(_)?_.value=E:null),"max-width":"600px"},{default:H(()=>[S(Ua,null,{default:H(()=>[S(Ft,{style:{color:"green"}},{default:H(()=>Z[16]||(Z[16]=[Ne("Atualizar Endereço")])),_:1}),S(qt,null,{default:H(()=>[S(Ie,null,{default:H(()=>[S(ve,{cols:"12",md:"6"},{default:H(()=>[S(Ye,{modelValue:x(u).tabvalores_tipodoc_id,"onUpdate:modelValue":Z[6]||(Z[6]=E=>x(u).tabvalores_tipodoc_id=E),items:x(y).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:H(()=>[S(me,{modelValue:x(u).numero,"onUpdate:modelValue":Z[7]||(Z[7]=E=>x(u).numero=E),label:"Número"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:H(()=>[S(me,{modelValue:x(u).emissor,"onUpdate:modelValue":Z[8]||(Z[8]=E=>x(u).emissor=E),label:"Número"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:H(()=>[S(Ye,{modelValue:x(u).tabvalores_ufemissor_id,"onUpdate:modelValue":Z[9]||(Z[9]=E=>x(u).tabvalores_ufemissor_id=E),items:x(y).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:H(()=>[Je(S(me,{modelValue:x(u).data_emissao,"onUpdate:modelValue":Z[10]||(Z[10]=E=>x(u).data_emissao=E),label:"Emissão",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[X,"##/##/####"]])]),_:1}),S(ve,{cols:"12",md:"6"},{default:H(()=>[Je(S(me,{modelValue:x(u).data_vencimento,"onUpdate:modelValue":Z[11]||(Z[11]=E=>x(u).data_vencimento=E),label:"Validade",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[X,"##/##/####"]])]),_:1})]),_:1})]),_:1}),S(Zt,null,{default:H(()=>[S(zt),S(Fe,{color:"green",text:"",onClick:Z[12]||(Z[12]=E=>_.value=!1)},{default:H(()=>Z[17]||(Z[17]=[Ne("Cancelar")])),_:1}),S(Fe,{color:"green",text:"",onClick:Z[13]||(Z[13]=E=>U(x(u).id))},{default:H(()=>Z[18]||(Z[18]=[Ne("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),S(W,{onClick:q},{default:H(()=>[S(Fe,{size:"large",class:"ml-10 mb-5",color:"red"},{default:H(()=>Z[19]||(Z[19]=[Ne("Voltar")])),_:1})]),_:1})],64)}}},$r=["onClick"],Or={key:0,style:{width:"30px",height:"30px"},src:lt,alt:"Visualizar",title:"Reativar"},Lr={key:1,src:st,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Kr={__name:"Representantes",props:{isModal:{type:Boolean,default:!1}},async setup(R){let $,G;const z=R,k=fa(),{$toast:K}=ma(),t=Ba(),a=Sa(),i=`${k.public.auth}/service/gerencia/pesquisarPessoas`,g=`${k.public.auth}/service/gerencia/listarPapeis`,v=`${k.public.auth}/service/gerencia/representante`,f=`${k.public.auth}/service/gerencia/representante`,d=`${k.public.auth}/service/gerencia/representante`,c=_e(De("user-data").value.cartorio_token),{id:b}=t.params,l=Number(b||De("pessoa-id").value),_=_e([]),u=_e([]),r=_e([]),n=_e(!1),h=[{title:"Documento",align:"start",key:"representante",value:D=>{var B,O;return((B=D.representante)==null?void 0:B.doc_identificacao)||((O=D.representante)==null?void 0:O.documento)}},{title:"Pessoa",align:"start",key:"representante.nome"},{title:"Papel",align:"start",key:"papel.descricao"},{value:"actions"}],p=Da({papeis:null,nome:null,pessoa:null,documento:null}),{data:A}=([$,G]=Oa(()=>Ue(g,{method:"POST",body:{rotina:"CADASTRO_PJ"}})),$=await $,G(),$);r.value=A.value;async function w(){try{const{data:D,error:B}=await Ue(i,{method:"POST",body:{cartorio_token:c.value,documento:p.documento,nome:p.nome}});D.value.length>0?(_.value=D.value,p.pessoa=_.value[0]):_.value=[]}catch(D){console.error("Erro na requisição",D)}}const y=()=>{n.value=!0},I=async()=>{const D={representante:p.pessoa,papel:r.value.find(B=>B.id===p.papeis)};try{const{data:B,error:O,status:U}=await Ue(v,{method:"POST",body:{ato_id:null,representante_id:p.pessoa.id,pessoa_id:l||b,papel_id:p.papeis,user_id:De("user-data").value.usuario_id}});U.value==="success"?(D.id=B.value.id,K.success("Pessoa Registrada com Sucesso!"),u.value.push(D)):K.error("Erro ao registrar a pessoa!")}catch{K.error("Erro no servidor. Tente novamente.")}};async function V(){const{data:D,error:B}=await Ue(`${f}/${b}`,{method:"GET"});u.value=D.value}async function P(D){D.excluido=!D.excluido;try{await Ue(`${d}/${D.id}`,{method:"PUT",body:JSON.stringify({excluido:D.excluido})})}catch(B){console.error("Erro ao excluir pessoa:",B)}}const M=()=>{if(z.isModal===!0){emit("close-modal");return}a.push("/pessoas/lista")};return La(()=>{b&&V()}),(D,B)=>{const O=Li,U=jt;return de(),Se(da,null,[S(ia,{style:{height:"425px"}},{default:H(()=>[S(Ie,{class:"mt-1"},{default:H(()=>[S(ve,{cols:"3"},{default:H(()=>[S(me,{label:"Documento",modelValue:x(p).documento,"onUpdate:modelValue":B[0]||(B[0]=Q=>x(p).documento=Q)},null,8,["modelValue"])]),_:1}),S(ve,{cols:"4"},{default:H(()=>[S(me,{label:"Pessoa",modelValue:x(p).nome,"onUpdate:modelValue":B[1]||(B[1]=Q=>x(p).nome=Q)},null,8,["modelValue"])]),_:1}),Ee("div",null,[Ee("img",{class:"mt-1",src:Jt,style:{width:"40px",cursor:"pointer"},title:"Pesquisar Pessoa",onClick:w})]),Ee("div",null,[Ee("img",{class:"mt-1 ml-2",src:za,style:{width:"40px",cursor:"pointer"},title:"Criar Pessoa",onClick:y})])]),_:1}),S(Ie,null,{default:H(()=>[S(ve,{cols:"4"},{default:H(()=>[S(Ye,{label:"Selecione a Pessoa",modelValue:x(p).pessoa,"onUpdate:modelValue":B[2]||(B[2]=Q=>x(p).pessoa=Q),items:x(_),"item-title":"nome","item-value":"id","return-object":"",required:""},null,8,["modelValue","items"])]),_:1}),S(ve,{cols:"3"},{default:H(()=>[S(Ye,{label:"Papel",modelValue:x(p).papeis,"onUpdate:modelValue":B[3]||(B[3]=Q=>x(p).papeis=Q),items:x(r),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),Ee("div",null,[Ee("img",{class:"mt-1",src:za,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:I})])]),_:1}),S(Ie,null,{default:H(()=>[S(ve,null,{default:H(()=>[S(dt,{style:{"max-height":"330px"},headers:h,items:x(u)},{"item.actions":H(({item:Q})=>[S(Ie,null,{default:H(()=>[Ee("div",{class:"mr-2",style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:q=>P(Q),title:"Deletar Pessoa"},[Q.excluido?(de(),Se("img",Or)):(de(),Se("img",Lr))],8,$r)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),S(O,{show:x(n),onClose:B[4]||(B[4]=Q=>n.value=!1)},null,8,["show"])]),_:1}),S(U,{onClick:M},{default:H(()=>[S(Fe,{size:"large",class:"ml-10 mb-5",color:"red"},{default:H(()=>B[5]||(B[5]=[Ne("Voltar")])),_:1})]),_:1})],64)}}},Tr={class:"mt-1"},Ur={style:{width:"150px","font-weight":"500"}},Hr={style:{width:"200px","font-weight":"500"}},jr=["onClick"],Gr=["onClick"],Fr={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:lt,alt:"Visualizar",title:"Reativar"},qr={key:1,src:st,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},Zr={__name:"Endereco",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(R,{emit:$}){let G,z;const k=$,K=R,{$toast:t}=ma(),a=Ba(),{id:i}=a.params,g=Sa(),v=fa(),f=`${v.public.auth}/service/gerencia/listarPais`,d=`${v.public.auth}/service/gerencia/getPessoaEnderecoById`,c=`${v.public.auth}/service/gerencia/createPessoaEndereco`,b=`${v.public.auth}/service/gerencia/updatePessoaEndereco`,l=`${v.public.auth}/service/gerencia/cep`,_=_e(De("user-data").value.usuario_id).value,u=Number(i||De("pessoa-id").value),r=Da({tabvalores_pais_id:null,cidade_id:null,codcep:null,logradouro:null,numero:null,bairro:null,complemento:null,cidade_estrangeira:null}),n=[{title:"País",value:"pais.descricao"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro"},{title:"N*",value:"numero"},{title:"Complemento",value:"complemento"},{title:"Bairro",value:"bairro"},{title:"Cidade",value:"cidade"},{value:"actions"}],h=_e(!1),p=_e(null),A=Ve(()=>{const X=M.value.paisItems.find(E=>E.id===r.tabvalores_pais_id);return X?X.estrangeiro:!1}),w=X=>{var E;return((E=X.cidades)==null?void 0:E.nome)||X.cidade_estrangeira},y={numero:{required:We.withMessage("O campo é obrigatorio",aa)},bairro:{required:We.withMessage("O campo é obrigatorio",aa)},logradouro:{required:We.withMessage("O campo é obrigatorio",aa)},codcep:{required:We.withMessage("O campo é obrigatorio e precisa de 8 digitos",aa)}},I=$a(y,r),P=De("auth_token").value,{data:M,status:D,pending:B,refresh:O}=([G,z]=Oa(async()=>ot("cliente-enderecos",async()=>{const[X,E,ue]=await Promise.all([sa(f),sa(`${d}/${u}`),sa(`${v.public.auth}/service/gerencia/listarCidades`)]);return{paisItems:X,enderecosItems:E,cidadesItems:ue}})),G=await G,z(),G);async function U(){if(await I.value.$validate()){const E={...{...r},user_id:_,pessoa_id:u},{data:ue,error:Y,status:te}=await Ue(c,{method:"POST",body:E});if(te.value==="error"&&Y.value.statusCode===500)t.error("Erro ao cadastrar endereço,erro no sistema.");else{t.success("Endereço cadastrado com sucesso!"),O();for(const se in r)r[se]=null;I.value.$reset()}}else t.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}async function Q(){if(!r.cidade_estrangeira||!r.logradouro){t.error("Os Campos Cidade Estrangeira e Endereço são obrigatorios!");return}const E={...{...r},user_id:_,pessoa_id:u},{data:ue,error:Y,status:te}=await Ue(c,{method:"POST",body:E});if(te.value==="error"&&Y.value.statusCode===500)t.error("Erro ao cadastrar endereço,erro no sistema.");else{t.success("Endereço cadastrado com sucesso!"),O();for(const se in r)r[se]=null;I.value.$reset()}}function q(X){const E=M.value.enderecosItems.find(ue=>ue.id===X);E&&(p.value=E,h.value=!0)}async function L(X){const E={tabvalores_pais_id:p.value.tabvalores_pais_id,cidade_id:p.value.cidade_id,codcep:p.value.codcep,logradouro:p.value.logradouro,numero:p.value.numero,bairro:p.value.bairro,complemento:p.value.complemento},{status:ue}=await Ue(`${b}/${X}`,{method:"PUT",body:E});ue.value==="success"&&(h.value=!1,t.success("Endereço atualizado com sucesso!"),O())}tt(()=>r.codcep,async X=>{if(X.length===8)try{const{data:E,error:ue}=await Qe(`${l}/${X}`,{headers:{Authorization:P}},"$xTfPNGciav");if(ue.value){console.error("Erro ao buscar CEP:",ue.value),t.error("Erro ao buscar CEP no servidor.");return}if(E.value.logradouro&&E.value.bairro&&E.value.localidade&&E.value.uf){r.logradouro=E.value.logradouro,r.bairro=E.value.bairro,r.complemento=E.value.complemento;let Y=`${E.value.localidade}/${E.value.uf}`.toUpperCase();const te=M.value.cidadesItems.find(se=>se.descricao===Y);te?(r.cidade_id=te.id,r.tabvalores_pais_id=76):t.error("Cidade não encontrada na lista!")}else t.error("CEP não retornou dados válidos!")}catch(E){console.error("Erro inesperado:",E),t.error("Erro inesperado. Verifique sua conexão.")}});async function Z(X){X.excluido=!X.excluido;try{await Ue(`${b}/${X.id}`,{method:"PUT",body:{excluido:X.excluido}})}catch(E){console.error("Erro ao excluir pessoa:",E)}}const W=()=>{if(K.isModal===!0){k("close-modal");return}g.push("/pessoas/lista")};return(X,E)=>{const ue=Ia("mask");return de(),Se(da,null,[x(B)?Oe("",!0):(de(),Ae(ia,{key:0,class:"mt-3",style:{height:"425px"}},{default:H(()=>[S(Ie,null,{default:H(()=>[S(ve,{md:"2"},{default:H(()=>[S(Ye,{modelValue:x(r).tabvalores_pais_id,"onUpdate:modelValue":E[0]||(E[0]=Y=>x(r).tabvalores_pais_id=Y),items:x(M).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(ve,{md:"2"},{default:H(()=>[x(A)?Je((de(),Ae(me,{key:1,modelValue:x(r).codcep,"onUpdate:modelValue":E[2]||(E[2]=Y=>x(r).codcep=Y),label:"CEP"},null,8,["modelValue"])),[[ue,"########"]]):Je((de(),Ae(me,{key:0,modelValue:x(r).codcep,"onUpdate:modelValue":E[1]||(E[1]=Y=>x(r).codcep=Y),"error-messages":x(I).codcep.$errors.map(Y=>Y.$message),required:"",onBlur:x(I).codcep.$touch,onInput:x(I).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"])),[[ue,"########"]])]),_:1}),S(ve,{md:"6"},{default:H(()=>[x(A)?(de(),Ae(me,{key:1,modelValue:x(r).logradouro,"onUpdate:modelValue":E[4]||(E[4]=Y=>x(r).logradouro=Y),label:"Endereço"},null,8,["modelValue"])):(de(),Ae(me,{key:0,modelValue:x(r).logradouro,"onUpdate:modelValue":E[3]||(E[3]=Y=>x(r).logradouro=Y),label:"Endereço","error-messages":x(I).logradouro.$errors.map(Y=>Y.$message),required:"",onBlur:x(I).logradouro.$touch,onInput:x(I).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),S(ve,{md:"1"},{default:H(()=>[x(A)?(de(),Ae(me,{key:1,modelValue:x(r).numero,"onUpdate:modelValue":E[6]||(E[6]=Y=>x(r).numero=Y),label:"N*"},null,8,["modelValue"])):(de(),Ae(me,{key:0,modelValue:x(r).numero,"onUpdate:modelValue":E[5]||(E[5]=Y=>x(r).numero=Y),required:"","error-messages":x(I).numero.$errors.map(Y=>Y.$message),onBlur:x(I).numero.$touch,onInput:x(I).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),Ee("div",Tr,[Ee("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:za,alt:"novo",onClick:E[7]||(E[7]=Y=>x(A)?Q():U())})]),S(ve,{md:"5"},{default:H(()=>[S(me,{modelValue:x(r).complemento,"onUpdate:modelValue":E[8]||(E[8]=Y=>x(r).complemento=Y),label:"Complemento"},null,8,["modelValue"])]),_:1}),S(ve,{md:"3"},{default:H(()=>[x(A)?(de(),Ae(me,{key:1,modelValue:x(r).bairro,"onUpdate:modelValue":E[10]||(E[10]=Y=>x(r).bairro=Y),label:"Bairro"},null,8,["modelValue"])):(de(),Ae(me,{key:0,modelValue:x(r).bairro,"onUpdate:modelValue":E[9]||(E[9]=Y=>x(r).bairro=Y),"error-messages":x(I).bairro.$errors.map(Y=>Y.$message),required:"",onBlur:x(I).bairro.$touch,onInput:x(I).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),S(ve,{md:"3"},{default:H(()=>[x(A)?(de(),Ae(me,{key:1,modelValue:x(r).cidade_estrangeira,"onUpdate:modelValue":E[12]||(E[12]=Y=>x(r).cidade_estrangeira=Y),label:"Cidade Estrangeira"},null,8,["modelValue"])):(de(),Ae(Ye,{key:0,modelValue:x(r).cidade_id,"onUpdate:modelValue":E[11]||(E[11]=Y=>x(r).cidade_id=Y),items:x(M).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"]))]),_:1})]),_:1}),S(dt,{style:{"max-height":"330px"},headers:n,items:x(M).enderecosItems,"item-key":"id"},{"item.cidade":H(({item:Y})=>[Ee("h4",Ur,at(w(Y)),1)]),"item.logradouro":H(({item:Y})=>[Ee("h4",Hr,at(Y.logradouro),1)]),"item.actions":H(({item:Y})=>[S(Ie,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:H(()=>[Ee("div",{onClick:te=>q(Y.id),title:"Visualizar"},E[24]||(E[24]=[Ee("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:Gt,alt:"Visualizar"},null,-1)]),8,jr),Ee("div",{onClick:te=>Z(Y),title:"Visualizar"},[Y.excluido?(de(),Se("img",Fr)):(de(),Se("img",qr))],8,Gr)]),_:2},1024)]),_:1},8,["items"]),S(Ta,{modelValue:x(h),"onUpdate:modelValue":E[23]||(E[23]=Y=>_a(h)?h.value=Y:null),"max-width":"600px"},{default:H(()=>[S(Ua,null,{default:H(()=>[S(Ft,{style:{color:"green"}},{default:H(()=>E[25]||(E[25]=[Ne("Atualizar Endereço")])),_:1}),S(qt,null,{default:H(()=>[S(Ie,null,{default:H(()=>[S(ve,{cols:"12",md:"6"},{default:H(()=>[S(Ye,{modelValue:x(p).tabvalores_pais_id,"onUpdate:modelValue":E[13]||(E[13]=Y=>x(p).tabvalores_pais_id=Y),items:x(M).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:H(()=>[S(me,{modelValue:x(p).logradouro,"onUpdate:modelValue":E[14]||(E[14]=Y=>x(p).logradouro=Y),label:"Logradouro"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:H(()=>[S(me,{modelValue:x(p).complemento,"onUpdate:modelValue":E[15]||(E[15]=Y=>x(p).complemento=Y),label:"Complemento"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:H(()=>[S(me,{modelValue:x(p).numero,"onUpdate:modelValue":E[16]||(E[16]=Y=>x(p).numero=Y),label:"Número"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:H(()=>[S(me,{modelValue:x(p).bairro,"onUpdate:modelValue":E[17]||(E[17]=Y=>x(p).bairro=Y),label:"Bairro"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:H(()=>[S(me,{modelValue:x(p).codcep,"onUpdate:modelValue":E[18]||(E[18]=Y=>x(p).codcep=Y),label:"CEP"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:H(()=>[x(p).cidade_estrangeira?(de(),Ae(Ye,{key:0,modelValue:x(p).cidade_id,"onUpdate:modelValue":E[19]||(E[19]=Y=>x(p).cidade_id=Y),items:x(M).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])):(de(),Ae(me,{key:1,modelValue:x(p).cidade_estrangeira,"onUpdate:modelValue":E[20]||(E[20]=Y=>x(p).cidade_estrangeira=Y),label:"Cidade Estrangeira"},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),S(Zt,null,{default:H(()=>[S(zt),S(Fe,{color:"green",text:"",onClick:E[21]||(E[21]=Y=>h.value=!1)},{default:H(()=>E[26]||(E[26]=[Ne("Cancelar")])),_:1}),S(Fe,{color:"green",text:"",onClick:E[22]||(E[22]=Y=>L(x(p).id))},{default:H(()=>E[27]||(E[27]=[Ne("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),S(Fe,{onClick:W,class:"ml-10 mb-5",size:"large",color:"red"},{default:H(()=>E[28]||(E[28]=[Ne("Voltar")])),_:1})],64)}}},Jr={class:"finger-container"},Yr=["onClick"],Wr=["onClick"],Qr={__name:"Digital",setup(R){const $=_e(["E1","E2","E3","E4","E5"]);var G=_e(["red","red","red","red","red"]);const z=_e(["D1","D2","D3","D4","D5"]);var k=_e(["red","red","red","red","red"]);const K=Ba(),{$toast:t}=ma(),a=fa(),{id:i}=K.params,g=_e(De("pessoa-id").value).value,v=`${a.public.biometria}/capture-finger`,f=`${a.public.managemant}/createPessoaBiometria`,d=`${a.public.managemant}/getPessoaBiometriaById`;async function c(){const{status:u,data:r}=await Qe(`${d}/${i||g}`,{method:"GET"},"$wrCckM1pY4");u.value==="success"&&r.value&&r.value.forEach(n=>{($.value.includes(n.dedo)||z.value.includes(n.dedo))&&l(n.dedo,"green")})}La(()=>{c()});async function b(u){const{status:r,data:n}=await Qe(v,{method:"GET"},"$b5yqRnLFV9");if(r.value==="success"){const h=n.value.hash,p={user_id:De("user-data").value.usuario_id,pessoa_id:Number(i)||g,dedo:u,hash:h},{status:A}=await Qe(f,{method:"POST",body:p},"$cWP9jlCX2Z");A.value==="success"?(t.success("Biometria enviada com sucesso!"),l(u,"green")):t.error("Falha ao enviar a biometria.")}else t.error("Erro ao Capturar biometria para o sistema.")}function l(u,r){const n=$.value.findIndex(h=>h===u);if(n!==-1)G.value[n]=r;else{const h=z.value.findIndex(p=>p===u);h!==-1&&(k.value[h]=r)}}function _(u,r){const h={E1:{top:82,left:-10},E2:{top:35,left:4},E3:{top:0,left:30},E4:{top:15,left:75},E5:{top:50,left:170},D1:{top:50,left:210},D2:{top:18,left:300},D3:{top:5,left:350},D4:{top:35,left:375},D5:{top:80,left:390}}[u];let p="red";if(r==="left"){const A=$.value.indexOf(u);A!==-1&&(p=G.value[A])}else if(r==="right"){const A=z.value.indexOf(u);A!==-1&&(p=k.value[A])}return{backgroundColor:p,top:`${h.top}px`,left:`${h.left}px`}}return(u,r)=>(de(),Ae(ve,{style:{"margin-top":"20px"},cols:"auto",class:"biometria-container"},{default:H(()=>[Ee("div",Jr,[(de(!0),Se(da,null,vt(x($),(n,h)=>(de(),Se("div",{key:h,class:"finger",style:Ma(_(n,"left")),onClick:p=>b(n)},null,12,Yr))),128)),(de(!0),Se(da,null,vt(x(z),(n,h)=>(de(),Se("div",{key:h,class:"finger",style:Ma(_(n,"right")),onClick:p=>b(n)},null,12,Wr))),128))])]),_:1}))}},Xr=$t(Qr,[["__scopeId","data-v-12f11fb7"]]);function ei(R){throw new Error('Could not dynamically require "'+R+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ha={exports:{}},ja={},gt;function pa(){return gt||(gt=1,function(R){var $=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function G(K,t){return Object.prototype.hasOwnProperty.call(K,t)}R.assign=function(K){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var a=t.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var i in a)G(a,i)&&(K[i]=a[i])}}return K},R.shrinkBuf=function(K,t){return K.length===t?K:K.subarray?K.subarray(0,t):(K.length=t,K)};var z={arraySet:function(K,t,a,i,g){if(t.subarray&&K.subarray){K.set(t.subarray(a,a+i),g);return}for(var v=0;v<i;v++)K[g+v]=t[a+v]},flattenChunks:function(K){var t,a,i,g,v,f;for(i=0,t=0,a=K.length;t<a;t++)i+=K[t].length;for(f=new Uint8Array(i),g=0,t=0,a=K.length;t<a;t++)v=K[t],f.set(v,g),g+=v.length;return f}},k={arraySet:function(K,t,a,i,g){for(var v=0;v<i;v++)K[g+v]=t[a+v]},flattenChunks:function(K){return[].concat.apply([],K)}};R.setTyped=function(K){K?(R.Buf8=Uint8Array,R.Buf16=Uint16Array,R.Buf32=Int32Array,R.assign(R,z)):(R.Buf8=Array,R.Buf16=Array,R.Buf32=Array,R.assign(R,k))},R.setTyped($)}(ja)),ja}var Ca={},ra={},ga={},bt;function ai(){if(bt)return ga;bt=1;var R=pa(),$=4,G=0,z=1,k=2;function K(m){for(var ee=m.length;--ee>=0;)m[ee]=0}var t=0,a=1,i=2,g=3,v=258,f=29,d=256,c=d+1+f,b=30,l=19,_=2*c+1,u=15,r=16,n=7,h=256,p=16,A=17,w=18,y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],I=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=512,D=new Array((c+2)*2);K(D);var B=new Array(b*2);K(B);var O=new Array(M);K(O);var U=new Array(v-g+1);K(U);var Q=new Array(f);K(Q);var q=new Array(b);K(q);function L(m,ee,re,le,N){this.static_tree=m,this.extra_bits=ee,this.extra_base=re,this.elems=le,this.max_length=N,this.has_stree=m&&m.length}var Z,W,X;function E(m,ee){this.dyn_tree=m,this.max_code=0,this.stat_desc=ee}function ue(m){return m<256?O[m]:O[256+(m>>>7)]}function Y(m,ee){m.pending_buf[m.pending++]=ee&255,m.pending_buf[m.pending++]=ee>>>8&255}function te(m,ee,re){m.bi_valid>r-re?(m.bi_buf|=ee<<m.bi_valid&65535,Y(m,m.bi_buf),m.bi_buf=ee>>r-m.bi_valid,m.bi_valid+=re-r):(m.bi_buf|=ee<<m.bi_valid&65535,m.bi_valid+=re)}function se(m,ee,re){te(m,re[ee*2],re[ee*2+1])}function be(m,ee){var re=0;do re|=m&1,m>>>=1,re<<=1;while(--ee>0);return re>>>1}function Be(m){m.bi_valid===16?(Y(m,m.bi_buf),m.bi_buf=0,m.bi_valid=0):m.bi_valid>=8&&(m.pending_buf[m.pending++]=m.bi_buf&255,m.bi_buf>>=8,m.bi_valid-=8)}function Ke(m,ee){var re=ee.dyn_tree,le=ee.max_code,N=ee.stat_desc.static_tree,J=ee.stat_desc.has_stree,o=ee.stat_desc.extra_bits,ae=ee.stat_desc.extra_base,he=ee.stat_desc.max_length,e,j,F,s,C,T,fe=0;for(s=0;s<=u;s++)m.bl_count[s]=0;for(re[m.heap[m.heap_max]*2+1]=0,e=m.heap_max+1;e<_;e++)j=m.heap[e],s=re[re[j*2+1]*2+1]+1,s>he&&(s=he,fe++),re[j*2+1]=s,!(j>le)&&(m.bl_count[s]++,C=0,j>=ae&&(C=o[j-ae]),T=re[j*2],m.opt_len+=T*(s+C),J&&(m.static_len+=T*(N[j*2+1]+C)));if(fe!==0){do{for(s=he-1;m.bl_count[s]===0;)s--;m.bl_count[s]--,m.bl_count[s+1]+=2,m.bl_count[he]--,fe-=2}while(fe>0);for(s=he;s!==0;s--)for(j=m.bl_count[s];j!==0;)F=m.heap[--e],!(F>le)&&(re[F*2+1]!==s&&(m.opt_len+=(s-re[F*2+1])*re[F*2],re[F*2+1]=s),j--)}}function Re(m,ee,re){var le=new Array(u+1),N=0,J,o;for(J=1;J<=u;J++)le[J]=N=N+re[J-1]<<1;for(o=0;o<=ee;o++){var ae=m[o*2+1];ae!==0&&(m[o*2]=be(le[ae]++,ae))}}function we(){var m,ee,re,le,N,J=new Array(u+1);for(re=0,le=0;le<f-1;le++)for(Q[le]=re,m=0;m<1<<y[le];m++)U[re++]=le;for(U[re-1]=le,N=0,le=0;le<16;le++)for(q[le]=N,m=0;m<1<<I[le];m++)O[N++]=le;for(N>>=7;le<b;le++)for(q[le]=N<<7,m=0;m<1<<I[le]-7;m++)O[256+N++]=le;for(ee=0;ee<=u;ee++)J[ee]=0;for(m=0;m<=143;)D[m*2+1]=8,m++,J[8]++;for(;m<=255;)D[m*2+1]=9,m++,J[9]++;for(;m<=279;)D[m*2+1]=7,m++,J[7]++;for(;m<=287;)D[m*2+1]=8,m++,J[8]++;for(Re(D,c+1,J),m=0;m<b;m++)B[m*2+1]=5,B[m*2]=be(m,5);Z=new L(D,y,d+1,c,u),W=new L(B,I,0,b,u),X=new L(new Array(0),V,0,l,n)}function ze(m){var ee;for(ee=0;ee<c;ee++)m.dyn_ltree[ee*2]=0;for(ee=0;ee<b;ee++)m.dyn_dtree[ee*2]=0;for(ee=0;ee<l;ee++)m.bl_tree[ee*2]=0;m.dyn_ltree[h*2]=1,m.opt_len=m.static_len=0,m.last_lit=m.matches=0}function qe(m){m.bi_valid>8?Y(m,m.bi_buf):m.bi_valid>0&&(m.pending_buf[m.pending++]=m.bi_buf),m.bi_buf=0,m.bi_valid=0}function Le(m,ee,re,le){qe(m),Y(m,re),Y(m,~re),R.arraySet(m.pending_buf,m.window,ee,re,m.pending),m.pending+=re}function pe(m,ee,re,le){var N=ee*2,J=re*2;return m[N]<m[J]||m[N]===m[J]&&le[ee]<=le[re]}function ne(m,ee,re){for(var le=m.heap[re],N=re<<1;N<=m.heap_len&&(N<m.heap_len&&pe(ee,m.heap[N+1],m.heap[N],m.depth)&&N++,!pe(ee,le,m.heap[N],m.depth));)m.heap[re]=m.heap[N],re=N,N<<=1;m.heap[re]=le}function ce(m,ee,re){var le,N,J=0,o,ae;if(m.last_lit!==0)do le=m.pending_buf[m.d_buf+J*2]<<8|m.pending_buf[m.d_buf+J*2+1],N=m.pending_buf[m.l_buf+J],J++,le===0?se(m,N,ee):(o=U[N],se(m,o+d+1,ee),ae=y[o],ae!==0&&(N-=Q[o],te(m,N,ae)),le--,o=ue(le),se(m,o,re),ae=I[o],ae!==0&&(le-=q[o],te(m,le,ae)));while(J<m.last_lit);se(m,h,ee)}function ge(m,ee){var re=ee.dyn_tree,le=ee.stat_desc.static_tree,N=ee.stat_desc.has_stree,J=ee.stat_desc.elems,o,ae,he=-1,e;for(m.heap_len=0,m.heap_max=_,o=0;o<J;o++)re[o*2]!==0?(m.heap[++m.heap_len]=he=o,m.depth[o]=0):re[o*2+1]=0;for(;m.heap_len<2;)e=m.heap[++m.heap_len]=he<2?++he:0,re[e*2]=1,m.depth[e]=0,m.opt_len--,N&&(m.static_len-=le[e*2+1]);for(ee.max_code=he,o=m.heap_len>>1;o>=1;o--)ne(m,re,o);e=J;do o=m.heap[1],m.heap[1]=m.heap[m.heap_len--],ne(m,re,1),ae=m.heap[1],m.heap[--m.heap_max]=o,m.heap[--m.heap_max]=ae,re[e*2]=re[o*2]+re[ae*2],m.depth[e]=(m.depth[o]>=m.depth[ae]?m.depth[o]:m.depth[ae])+1,re[o*2+1]=re[ae*2+1]=e,m.heap[1]=e++,ne(m,re,1);while(m.heap_len>=2);m.heap[--m.heap_max]=m.heap[1],Ke(m,ee),Re(re,he,m.bl_count)}function xe(m,ee,re){var le,N=-1,J,o=ee[0*2+1],ae=0,he=7,e=4;for(o===0&&(he=138,e=3),ee[(re+1)*2+1]=65535,le=0;le<=re;le++)J=o,o=ee[(le+1)*2+1],!(++ae<he&&J===o)&&(ae<e?m.bl_tree[J*2]+=ae:J!==0?(J!==N&&m.bl_tree[J*2]++,m.bl_tree[p*2]++):ae<=10?m.bl_tree[A*2]++:m.bl_tree[w*2]++,ae=0,N=J,o===0?(he=138,e=3):J===o?(he=6,e=3):(he=7,e=4))}function Ce(m,ee,re){var le,N=-1,J,o=ee[0*2+1],ae=0,he=7,e=4;for(o===0&&(he=138,e=3),le=0;le<=re;le++)if(J=o,o=ee[(le+1)*2+1],!(++ae<he&&J===o)){if(ae<e)do se(m,J,m.bl_tree);while(--ae!==0);else J!==0?(J!==N&&(se(m,J,m.bl_tree),ae--),se(m,p,m.bl_tree),te(m,ae-3,2)):ae<=10?(se(m,A,m.bl_tree),te(m,ae-3,3)):(se(m,w,m.bl_tree),te(m,ae-11,7));ae=0,N=J,o===0?(he=138,e=3):J===o?(he=6,e=3):(he=7,e=4)}}function He(m){var ee;for(xe(m,m.dyn_ltree,m.l_desc.max_code),xe(m,m.dyn_dtree,m.d_desc.max_code),ge(m,m.bl_desc),ee=l-1;ee>=3&&m.bl_tree[P[ee]*2+1]===0;ee--);return m.opt_len+=3*(ee+1)+5+5+4,ee}function wa(m,ee,re,le){var N;for(te(m,ee-257,5),te(m,re-1,5),te(m,le-4,4),N=0;N<le;N++)te(m,m.bl_tree[P[N]*2+1],3);Ce(m,m.dyn_ltree,ee-1),Ce(m,m.dyn_dtree,re-1)}function va(m){var ee=4093624447,re;for(re=0;re<=31;re++,ee>>>=1)if(ee&1&&m.dyn_ltree[re*2]!==0)return G;if(m.dyn_ltree[9*2]!==0||m.dyn_ltree[10*2]!==0||m.dyn_ltree[13*2]!==0)return z;for(re=32;re<d;re++)if(m.dyn_ltree[re*2]!==0)return z;return G}var ta=!1;function ka(m){ta||(we(),ta=!0),m.l_desc=new E(m.dyn_ltree,Z),m.d_desc=new E(m.dyn_dtree,W),m.bl_desc=new E(m.bl_tree,X),m.bi_buf=0,m.bi_valid=0,ze(m)}function ha(m,ee,re,le){te(m,(t<<1)+(le?1:0),3),Le(m,ee,re)}function je(m){te(m,a<<1,3),se(m,h,D),Be(m)}function na(m,ee,re,le){var N,J,o=0;m.level>0?(m.strm.data_type===k&&(m.strm.data_type=va(m)),ge(m,m.l_desc),ge(m,m.d_desc),o=He(m),N=m.opt_len+3+7>>>3,J=m.static_len+3+7>>>3,J<=N&&(N=J)):N=J=re+5,re+4<=N&&ee!==-1?ha(m,ee,re,le):m.strategy===$||J===N?(te(m,(a<<1)+(le?1:0),3),ce(m,D,B)):(te(m,(i<<1)+(le?1:0),3),wa(m,m.l_desc.max_code+1,m.d_desc.max_code+1,o+1),ce(m,m.dyn_ltree,m.dyn_dtree)),ze(m),le&&qe(m)}function ya(m,ee,re){return m.pending_buf[m.d_buf+m.last_lit*2]=ee>>>8&255,m.pending_buf[m.d_buf+m.last_lit*2+1]=ee&255,m.pending_buf[m.l_buf+m.last_lit]=re&255,m.last_lit++,ee===0?m.dyn_ltree[re*2]++:(m.matches++,ee--,m.dyn_ltree[(U[re]+d+1)*2]++,m.dyn_dtree[ue(ee)*2]++),m.last_lit===m.lit_bufsize-1}return ga._tr_init=ka,ga._tr_stored_block=ha,ga._tr_flush_block=na,ga._tr_tally=ya,ga._tr_align=je,ga}var Ga,At;function Yt(){if(At)return Ga;At=1;function R($,G,z,k){for(var K=$&65535|0,t=$>>>16&65535|0,a=0;z!==0;){a=z>2e3?2e3:z,z-=a;do K=K+G[k++]|0,t=t+K|0;while(--a);K%=65521,t%=65521}return K|t<<16|0}return Ga=R,Ga}var Fa,wt;function Wt(){if(wt)return Fa;wt=1;function R(){for(var z,k=[],K=0;K<256;K++){z=K;for(var t=0;t<8;t++)z=z&1?3988292384^z>>>1:z>>>1;k[K]=z}return k}var $=R();function G(z,k,K,t){var a=$,i=t+K;z^=-1;for(var g=t;g<i;g++)z=z>>>8^a[(z^k[g])&255];return z^-1}return Fa=G,Fa}var qa,kt;function ut(){return kt||(kt=1,qa={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),qa}var yt;function ti(){if(yt)return ra;yt=1;var R=pa(),$=ai(),G=Yt(),z=Wt(),k=ut(),K=0,t=1,a=3,i=4,g=5,v=0,f=1,d=-2,c=-3,b=-5,l=-1,_=1,u=2,r=3,n=4,h=0,p=2,A=8,w=9,y=15,I=8,V=29,P=256,M=P+1+V,D=30,B=19,O=2*M+1,U=15,Q=3,q=258,L=q+Q+1,Z=32,W=42,X=69,E=73,ue=91,Y=103,te=113,se=666,be=1,Be=2,Ke=3,Re=4,we=3;function ze(e,j){return e.msg=k[j],j}function qe(e){return(e<<1)-(e>4?9:0)}function Le(e){for(var j=e.length;--j>=0;)e[j]=0}function pe(e){var j=e.state,F=j.pending;F>e.avail_out&&(F=e.avail_out),F!==0&&(R.arraySet(e.output,j.pending_buf,j.pending_out,F,e.next_out),e.next_out+=F,j.pending_out+=F,e.total_out+=F,e.avail_out-=F,j.pending-=F,j.pending===0&&(j.pending_out=0))}function ne(e,j){$._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,j),e.block_start=e.strstart,pe(e.strm)}function ce(e,j){e.pending_buf[e.pending++]=j}function ge(e,j){e.pending_buf[e.pending++]=j>>>8&255,e.pending_buf[e.pending++]=j&255}function xe(e,j,F,s){var C=e.avail_in;return C>s&&(C=s),C===0?0:(e.avail_in-=C,R.arraySet(j,e.input,e.next_in,C,F),e.state.wrap===1?e.adler=G(e.adler,j,C,F):e.state.wrap===2&&(e.adler=z(e.adler,j,C,F)),e.next_in+=C,e.total_in+=C,C)}function Ce(e,j){var F=e.max_chain_length,s=e.strstart,C,T,fe=e.prev_length,ie=e.nice_match,oe=e.strstart>e.w_size-L?e.strstart-(e.w_size-L):0,ke=e.window,ua=e.w_mask,Pe=e.prev,ye=e.strstart+q,$e=ke[s+fe-1],Ge=ke[s+fe];e.prev_length>=e.good_match&&(F>>=2),ie>e.lookahead&&(ie=e.lookahead);do if(C=j,!(ke[C+fe]!==Ge||ke[C+fe-1]!==$e||ke[C]!==ke[s]||ke[++C]!==ke[s+1])){s+=2,C++;do;while(ke[++s]===ke[++C]&&ke[++s]===ke[++C]&&ke[++s]===ke[++C]&&ke[++s]===ke[++C]&&ke[++s]===ke[++C]&&ke[++s]===ke[++C]&&ke[++s]===ke[++C]&&ke[++s]===ke[++C]&&s<ye);if(T=q-(ye-s),s=ye-q,T>fe){if(e.match_start=j,fe=T,T>=ie)break;$e=ke[s+fe-1],Ge=ke[s+fe]}}while((j=Pe[j&ua])>oe&&--F!==0);return fe<=e.lookahead?fe:e.lookahead}function He(e){var j=e.w_size,F,s,C,T,fe;do{if(T=e.window_size-e.lookahead-e.strstart,e.strstart>=j+(j-L)){R.arraySet(e.window,e.window,j,j,0),e.match_start-=j,e.strstart-=j,e.block_start-=j,s=e.hash_size,F=s;do C=e.head[--F],e.head[F]=C>=j?C-j:0;while(--s);s=j,F=s;do C=e.prev[--F],e.prev[F]=C>=j?C-j:0;while(--s);T+=j}if(e.strm.avail_in===0)break;if(s=xe(e.strm,e.window,e.strstart+e.lookahead,T),e.lookahead+=s,e.lookahead+e.insert>=Q)for(fe=e.strstart-e.insert,e.ins_h=e.window[fe],e.ins_h=(e.ins_h<<e.hash_shift^e.window[fe+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[fe+Q-1])&e.hash_mask,e.prev[fe&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=fe,fe++,e.insert--,!(e.lookahead+e.insert<Q)););}while(e.lookahead<L&&e.strm.avail_in!==0)}function wa(e,j){var F=65535;for(F>e.pending_buf_size-5&&(F=e.pending_buf_size-5);;){if(e.lookahead<=1){if(He(e),e.lookahead===0&&j===K)return be;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var s=e.block_start+F;if((e.strstart===0||e.strstart>=s)&&(e.lookahead=e.strstart-s,e.strstart=s,ne(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-L&&(ne(e,!1),e.strm.avail_out===0))return be}return e.insert=0,j===i?(ne(e,!0),e.strm.avail_out===0?Ke:Re):(e.strstart>e.block_start&&(ne(e,!1),e.strm.avail_out===0),be)}function va(e,j){for(var F,s;;){if(e.lookahead<L){if(He(e),e.lookahead<L&&j===K)return be;if(e.lookahead===0)break}if(F=0,e.lookahead>=Q&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Q-1])&e.hash_mask,F=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),F!==0&&e.strstart-F<=e.w_size-L&&(e.match_length=Ce(e,F)),e.match_length>=Q)if(s=$._tr_tally(e,e.strstart-e.match_start,e.match_length-Q),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Q){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Q-1])&e.hash_mask,F=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else s=$._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(s&&(ne(e,!1),e.strm.avail_out===0))return be}return e.insert=e.strstart<Q-1?e.strstart:Q-1,j===i?(ne(e,!0),e.strm.avail_out===0?Ke:Re):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?be:Be}function ta(e,j){for(var F,s,C;;){if(e.lookahead<L){if(He(e),e.lookahead<L&&j===K)return be;if(e.lookahead===0)break}if(F=0,e.lookahead>=Q&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Q-1])&e.hash_mask,F=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Q-1,F!==0&&e.prev_length<e.max_lazy_match&&e.strstart-F<=e.w_size-L&&(e.match_length=Ce(e,F),e.match_length<=5&&(e.strategy===_||e.match_length===Q&&e.strstart-e.match_start>4096)&&(e.match_length=Q-1)),e.prev_length>=Q&&e.match_length<=e.prev_length){C=e.strstart+e.lookahead-Q,s=$._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-Q),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Q-1])&e.hash_mask,F=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Q-1,e.strstart++,s&&(ne(e,!1),e.strm.avail_out===0))return be}else if(e.match_available){if(s=$._tr_tally(e,0,e.window[e.strstart-1]),s&&ne(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return be}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(s=$._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Q-1?e.strstart:Q-1,j===i?(ne(e,!0),e.strm.avail_out===0?Ke:Re):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?be:Be}function ka(e,j){for(var F,s,C,T,fe=e.window;;){if(e.lookahead<=q){if(He(e),e.lookahead<=q&&j===K)return be;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Q&&e.strstart>0&&(C=e.strstart-1,s=fe[C],s===fe[++C]&&s===fe[++C]&&s===fe[++C])){T=e.strstart+q;do;while(s===fe[++C]&&s===fe[++C]&&s===fe[++C]&&s===fe[++C]&&s===fe[++C]&&s===fe[++C]&&s===fe[++C]&&s===fe[++C]&&C<T);e.match_length=q-(T-C),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Q?(F=$._tr_tally(e,1,e.match_length-Q),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(F=$._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),F&&(ne(e,!1),e.strm.avail_out===0))return be}return e.insert=0,j===i?(ne(e,!0),e.strm.avail_out===0?Ke:Re):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?be:Be}function ha(e,j){for(var F;;){if(e.lookahead===0&&(He(e),e.lookahead===0)){if(j===K)return be;break}if(e.match_length=0,F=$._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,F&&(ne(e,!1),e.strm.avail_out===0))return be}return e.insert=0,j===i?(ne(e,!0),e.strm.avail_out===0?Ke:Re):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?be:Be}function je(e,j,F,s,C){this.good_length=e,this.max_lazy=j,this.nice_length=F,this.max_chain=s,this.func=C}var na;na=[new je(0,0,0,0,wa),new je(4,4,8,4,va),new je(4,5,16,8,va),new je(4,6,32,32,va),new je(4,4,16,16,ta),new je(8,16,32,32,ta),new je(8,16,128,128,ta),new je(8,32,128,256,ta),new je(32,128,258,1024,ta),new je(32,258,258,4096,ta)];function ya(e){e.window_size=2*e.w_size,Le(e.head),e.max_lazy_match=na[e.level].max_lazy,e.good_match=na[e.level].good_length,e.nice_match=na[e.level].nice_length,e.max_chain_length=na[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Q-1,e.match_available=0,e.ins_h=0}function m(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(O*2),this.dyn_dtree=new R.Buf16((2*D+1)*2),this.bl_tree=new R.Buf16((2*B+1)*2),Le(this.dyn_ltree),Le(this.dyn_dtree),Le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(U+1),this.heap=new R.Buf16(2*M+1),Le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*M+1),Le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ee(e){var j;return!e||!e.state?ze(e,d):(e.total_in=e.total_out=0,e.data_type=p,j=e.state,j.pending=0,j.pending_out=0,j.wrap<0&&(j.wrap=-j.wrap),j.status=j.wrap?W:te,e.adler=j.wrap===2?0:1,j.last_flush=K,$._tr_init(j),v)}function re(e){var j=ee(e);return j===v&&ya(e.state),j}function le(e,j){return!e||!e.state||e.state.wrap!==2?d:(e.state.gzhead=j,v)}function N(e,j,F,s,C,T){if(!e)return d;var fe=1;if(j===l&&(j=6),s<0?(fe=0,s=-s):s>15&&(fe=2,s-=16),C<1||C>w||F!==A||s<8||s>15||j<0||j>9||T<0||T>n)return ze(e,d);s===8&&(s=9);var ie=new m;return e.state=ie,ie.strm=e,ie.wrap=fe,ie.gzhead=null,ie.w_bits=s,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=C+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+Q-1)/Q),ie.window=new R.Buf8(ie.w_size*2),ie.head=new R.Buf16(ie.hash_size),ie.prev=new R.Buf16(ie.w_size),ie.lit_bufsize=1<<C+6,ie.pending_buf_size=ie.lit_bufsize*4,ie.pending_buf=new R.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=j,ie.strategy=T,ie.method=F,re(e)}function J(e,j){return N(e,j,A,y,I,h)}function o(e,j){var F,s,C,T;if(!e||!e.state||j>g||j<0)return e?ze(e,d):d;if(s=e.state,!e.output||!e.input&&e.avail_in!==0||s.status===se&&j!==i)return ze(e,e.avail_out===0?b:d);if(s.strm=e,F=s.last_flush,s.last_flush=j,s.status===W)if(s.wrap===2)e.adler=0,ce(s,31),ce(s,139),ce(s,8),s.gzhead?(ce(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),ce(s,s.gzhead.time&255),ce(s,s.gzhead.time>>8&255),ce(s,s.gzhead.time>>16&255),ce(s,s.gzhead.time>>24&255),ce(s,s.level===9?2:s.strategy>=u||s.level<2?4:0),ce(s,s.gzhead.os&255),s.gzhead.extra&&s.gzhead.extra.length&&(ce(s,s.gzhead.extra.length&255),ce(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=z(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=X):(ce(s,0),ce(s,0),ce(s,0),ce(s,0),ce(s,0),ce(s,s.level===9?2:s.strategy>=u||s.level<2?4:0),ce(s,we),s.status=te);else{var fe=A+(s.w_bits-8<<4)<<8,ie=-1;s.strategy>=u||s.level<2?ie=0:s.level<6?ie=1:s.level===6?ie=2:ie=3,fe|=ie<<6,s.strstart!==0&&(fe|=Z),fe+=31-fe%31,s.status=te,ge(s,fe),s.strstart!==0&&(ge(s,e.adler>>>16),ge(s,e.adler&65535)),e.adler=1}if(s.status===X)if(s.gzhead.extra){for(C=s.pending;s.gzindex<(s.gzhead.extra.length&65535)&&!(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>C&&(e.adler=z(e.adler,s.pending_buf,s.pending-C,C)),pe(e),C=s.pending,s.pending===s.pending_buf_size));)ce(s,s.gzhead.extra[s.gzindex]&255),s.gzindex++;s.gzhead.hcrc&&s.pending>C&&(e.adler=z(e.adler,s.pending_buf,s.pending-C,C)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=E)}else s.status=E;if(s.status===E)if(s.gzhead.name){C=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>C&&(e.adler=z(e.adler,s.pending_buf,s.pending-C,C)),pe(e),C=s.pending,s.pending===s.pending_buf_size)){T=1;break}s.gzindex<s.gzhead.name.length?T=s.gzhead.name.charCodeAt(s.gzindex++)&255:T=0,ce(s,T)}while(T!==0);s.gzhead.hcrc&&s.pending>C&&(e.adler=z(e.adler,s.pending_buf,s.pending-C,C)),T===0&&(s.gzindex=0,s.status=ue)}else s.status=ue;if(s.status===ue)if(s.gzhead.comment){C=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>C&&(e.adler=z(e.adler,s.pending_buf,s.pending-C,C)),pe(e),C=s.pending,s.pending===s.pending_buf_size)){T=1;break}s.gzindex<s.gzhead.comment.length?T=s.gzhead.comment.charCodeAt(s.gzindex++)&255:T=0,ce(s,T)}while(T!==0);s.gzhead.hcrc&&s.pending>C&&(e.adler=z(e.adler,s.pending_buf,s.pending-C,C)),T===0&&(s.status=Y)}else s.status=Y;if(s.status===Y&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&pe(e),s.pending+2<=s.pending_buf_size&&(ce(s,e.adler&255),ce(s,e.adler>>8&255),e.adler=0,s.status=te)):s.status=te),s.pending!==0){if(pe(e),e.avail_out===0)return s.last_flush=-1,v}else if(e.avail_in===0&&qe(j)<=qe(F)&&j!==i)return ze(e,b);if(s.status===se&&e.avail_in!==0)return ze(e,b);if(e.avail_in!==0||s.lookahead!==0||j!==K&&s.status!==se){var oe=s.strategy===u?ha(s,j):s.strategy===r?ka(s,j):na[s.level].func(s,j);if((oe===Ke||oe===Re)&&(s.status=se),oe===be||oe===Ke)return e.avail_out===0&&(s.last_flush=-1),v;if(oe===Be&&(j===t?$._tr_align(s):j!==g&&($._tr_stored_block(s,0,0,!1),j===a&&(Le(s.head),s.lookahead===0&&(s.strstart=0,s.block_start=0,s.insert=0))),pe(e),e.avail_out===0))return s.last_flush=-1,v}return j!==i?v:s.wrap<=0?f:(s.wrap===2?(ce(s,e.adler&255),ce(s,e.adler>>8&255),ce(s,e.adler>>16&255),ce(s,e.adler>>24&255),ce(s,e.total_in&255),ce(s,e.total_in>>8&255),ce(s,e.total_in>>16&255),ce(s,e.total_in>>24&255)):(ge(s,e.adler>>>16),ge(s,e.adler&65535)),pe(e),s.wrap>0&&(s.wrap=-s.wrap),s.pending!==0?v:f)}function ae(e){var j;return!e||!e.state?d:(j=e.state.status,j!==W&&j!==X&&j!==E&&j!==ue&&j!==Y&&j!==te&&j!==se?ze(e,d):(e.state=null,j===te?ze(e,c):v))}function he(e,j){var F=j.length,s,C,T,fe,ie,oe,ke,ua;if(!e||!e.state||(s=e.state,fe=s.wrap,fe===2||fe===1&&s.status!==W||s.lookahead))return d;for(fe===1&&(e.adler=G(e.adler,j,F,0)),s.wrap=0,F>=s.w_size&&(fe===0&&(Le(s.head),s.strstart=0,s.block_start=0,s.insert=0),ua=new R.Buf8(s.w_size),R.arraySet(ua,j,F-s.w_size,s.w_size,0),j=ua,F=s.w_size),ie=e.avail_in,oe=e.next_in,ke=e.input,e.avail_in=F,e.next_in=0,e.input=j,He(s);s.lookahead>=Q;){C=s.strstart,T=s.lookahead-(Q-1);do s.ins_h=(s.ins_h<<s.hash_shift^s.window[C+Q-1])&s.hash_mask,s.prev[C&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=C,C++;while(--T);s.strstart=C,s.lookahead=Q-1,He(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=Q-1,s.match_available=0,e.next_in=oe,e.input=ke,e.avail_in=ie,s.wrap=fe,v}return ra.deflateInit=J,ra.deflateInit2=N,ra.deflateReset=re,ra.deflateResetKeep=ee,ra.deflateSetHeader=le,ra.deflate=o,ra.deflateEnd=ae,ra.deflateSetDictionary=he,ra.deflateInfo="pako deflate (from Nodeca project)",ra}var ba={},xt;function Qt(){if(xt)return ba;xt=1;var R=pa(),$=!0,G=!0;try{String.fromCharCode.apply(null,[0])}catch{$=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{G=!1}for(var z=new R.Buf8(256),k=0;k<256;k++)z[k]=k>=252?6:k>=248?5:k>=240?4:k>=224?3:k>=192?2:1;z[254]=z[254]=1,ba.string2buf=function(t){var a,i,g,v,f,d=t.length,c=0;for(v=0;v<d;v++)i=t.charCodeAt(v),(i&64512)===55296&&v+1<d&&(g=t.charCodeAt(v+1),(g&64512)===56320&&(i=65536+(i-55296<<10)+(g-56320),v++)),c+=i<128?1:i<2048?2:i<65536?3:4;for(a=new R.Buf8(c),f=0,v=0;f<c;v++)i=t.charCodeAt(v),(i&64512)===55296&&v+1<d&&(g=t.charCodeAt(v+1),(g&64512)===56320&&(i=65536+(i-55296<<10)+(g-56320),v++)),i<128?a[f++]=i:i<2048?(a[f++]=192|i>>>6,a[f++]=128|i&63):i<65536?(a[f++]=224|i>>>12,a[f++]=128|i>>>6&63,a[f++]=128|i&63):(a[f++]=240|i>>>18,a[f++]=128|i>>>12&63,a[f++]=128|i>>>6&63,a[f++]=128|i&63);return a};function K(t,a){if(a<65534&&(t.subarray&&G||!t.subarray&&$))return String.fromCharCode.apply(null,R.shrinkBuf(t,a));for(var i="",g=0;g<a;g++)i+=String.fromCharCode(t[g]);return i}return ba.buf2binstring=function(t){return K(t,t.length)},ba.binstring2buf=function(t){for(var a=new R.Buf8(t.length),i=0,g=a.length;i<g;i++)a[i]=t.charCodeAt(i);return a},ba.buf2string=function(t,a){var i,g,v,f,d=a||t.length,c=new Array(d*2);for(g=0,i=0;i<d;){if(v=t[i++],v<128){c[g++]=v;continue}if(f=z[v],f>4){c[g++]=65533,i+=f-1;continue}for(v&=f===2?31:f===3?15:7;f>1&&i<d;)v=v<<6|t[i++]&63,f--;if(f>1){c[g++]=65533;continue}v<65536?c[g++]=v:(v-=65536,c[g++]=55296|v>>10&1023,c[g++]=56320|v&1023)}return K(c,g)},ba.utf8border=function(t,a){var i;for(a=a||t.length,a>t.length&&(a=t.length),i=a-1;i>=0&&(t[i]&192)===128;)i--;return i<0||i===0?a:i+z[t[i]]>a?i:a},ba}var Za,Et;function Xt(){if(Et)return Za;Et=1;function R(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return Za=R,Za}var Ct;function ri(){if(Ct)return Ca;Ct=1;var R=ti(),$=pa(),G=Qt(),z=ut(),k=Xt(),K=Object.prototype.toString,t=0,a=4,i=0,g=1,v=2,f=-1,d=0,c=8;function b(r){if(!(this instanceof b))return new b(r);this.options=$.assign({level:f,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},r||{});var n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var h=R.deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(h!==i)throw new Error(z[h]);if(n.header&&R.deflateSetHeader(this.strm,n.header),n.dictionary){var p;if(typeof n.dictionary=="string"?p=G.string2buf(n.dictionary):K.call(n.dictionary)==="[object ArrayBuffer]"?p=new Uint8Array(n.dictionary):p=n.dictionary,h=R.deflateSetDictionary(this.strm,p),h!==i)throw new Error(z[h]);this._dict_set=!0}}b.prototype.push=function(r,n){var h=this.strm,p=this.options.chunkSize,A,w;if(this.ended)return!1;w=n===~~n?n:n===!0?a:t,typeof r=="string"?h.input=G.string2buf(r):K.call(r)==="[object ArrayBuffer]"?h.input=new Uint8Array(r):h.input=r,h.next_in=0,h.avail_in=h.input.length;do{if(h.avail_out===0&&(h.output=new $.Buf8(p),h.next_out=0,h.avail_out=p),A=R.deflate(h,w),A!==g&&A!==i)return this.onEnd(A),this.ended=!0,!1;(h.avail_out===0||h.avail_in===0&&(w===a||w===v))&&(this.options.to==="string"?this.onData(G.buf2binstring($.shrinkBuf(h.output,h.next_out))):this.onData($.shrinkBuf(h.output,h.next_out)))}while((h.avail_in>0||h.avail_out===0)&&A!==g);return w===a?(A=R.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===i):(w===v&&(this.onEnd(i),h.avail_out=0),!0)},b.prototype.onData=function(r){this.chunks.push(r)},b.prototype.onEnd=function(r){r===i&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function l(r,n){var h=new b(n);if(h.push(r,!0),h.err)throw h.msg||z[h.err];return h.result}function _(r,n){return n=n||{},n.raw=!0,l(r,n)}function u(r,n){return n=n||{},n.gzip=!0,l(r,n)}return Ca.Deflate=b,Ca.deflate=l,Ca.deflateRaw=_,Ca.gzip=u,Ca}var Va={},ea={},Ja,Vt;function ii(){if(Vt)return Ja;Vt=1;var R=30,$=12;return Ja=function(z,k){var K,t,a,i,g,v,f,d,c,b,l,_,u,r,n,h,p,A,w,y,I,V,P,M,D;K=z.state,t=z.next_in,M=z.input,a=t+(z.avail_in-5),i=z.next_out,D=z.output,g=i-(k-z.avail_out),v=i+(z.avail_out-257),f=K.dmax,d=K.wsize,c=K.whave,b=K.wnext,l=K.window,_=K.hold,u=K.bits,r=K.lencode,n=K.distcode,h=(1<<K.lenbits)-1,p=(1<<K.distbits)-1;e:do{u<15&&(_+=M[t++]<<u,u+=8,_+=M[t++]<<u,u+=8),A=r[_&h];a:for(;;){if(w=A>>>24,_>>>=w,u-=w,w=A>>>16&255,w===0)D[i++]=A&65535;else if(w&16){y=A&65535,w&=15,w&&(u<w&&(_+=M[t++]<<u,u+=8),y+=_&(1<<w)-1,_>>>=w,u-=w),u<15&&(_+=M[t++]<<u,u+=8,_+=M[t++]<<u,u+=8),A=n[_&p];t:for(;;){if(w=A>>>24,_>>>=w,u-=w,w=A>>>16&255,w&16){if(I=A&65535,w&=15,u<w&&(_+=M[t++]<<u,u+=8,u<w&&(_+=M[t++]<<u,u+=8)),I+=_&(1<<w)-1,I>f){z.msg="invalid distance too far back",K.mode=R;break e}if(_>>>=w,u-=w,w=i-g,I>w){if(w=I-w,w>c&&K.sane){z.msg="invalid distance too far back",K.mode=R;break e}if(V=0,P=l,b===0){if(V+=d-w,w<y){y-=w;do D[i++]=l[V++];while(--w);V=i-I,P=D}}else if(b<w){if(V+=d+b-w,w-=b,w<y){y-=w;do D[i++]=l[V++];while(--w);if(V=0,b<y){w=b,y-=w;do D[i++]=l[V++];while(--w);V=i-I,P=D}}}else if(V+=b-w,w<y){y-=w;do D[i++]=l[V++];while(--w);V=i-I,P=D}for(;y>2;)D[i++]=P[V++],D[i++]=P[V++],D[i++]=P[V++],y-=3;y&&(D[i++]=P[V++],y>1&&(D[i++]=P[V++]))}else{V=i-I;do D[i++]=D[V++],D[i++]=D[V++],D[i++]=D[V++],y-=3;while(y>2);y&&(D[i++]=D[V++],y>1&&(D[i++]=D[V++]))}}else if(w&64){z.msg="invalid distance code",K.mode=R;break e}else{A=n[(A&65535)+(_&(1<<w)-1)];continue t}break}}else if(w&64)if(w&32){K.mode=$;break e}else{z.msg="invalid literal/length code",K.mode=R;break e}else{A=r[(A&65535)+(_&(1<<w)-1)];continue a}break}}while(t<a&&i<v);y=u>>3,t-=y,u-=y<<3,_&=(1<<u)-1,z.next_in=t,z.next_out=i,z.avail_in=t<a?5+(a-t):5-(t-a),z.avail_out=i<v?257+(v-i):257-(i-v),K.hold=_,K.bits=u},Ja}var Ya,St;function ni(){if(St)return Ya;St=1;var R=pa(),$=15,G=852,z=592,k=0,K=1,t=2,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Ya=function(d,c,b,l,_,u,r,n){var h=n.bits,p=0,A=0,w=0,y=0,I=0,V=0,P=0,M=0,D=0,B=0,O,U,Q,q,L,Z=null,W=0,X,E=new R.Buf16($+1),ue=new R.Buf16($+1),Y=null,te=0,se,be,Be;for(p=0;p<=$;p++)E[p]=0;for(A=0;A<l;A++)E[c[b+A]]++;for(I=h,y=$;y>=1&&E[y]===0;y--);if(I>y&&(I=y),y===0)return _[u++]=1<<24|64<<16|0,_[u++]=1<<24|64<<16|0,n.bits=1,0;for(w=1;w<y&&E[w]===0;w++);for(I<w&&(I=w),M=1,p=1;p<=$;p++)if(M<<=1,M-=E[p],M<0)return-1;if(M>0&&(d===k||y!==1))return-1;for(ue[1]=0,p=1;p<$;p++)ue[p+1]=ue[p]+E[p];for(A=0;A<l;A++)c[b+A]!==0&&(r[ue[c[b+A]]++]=A);if(d===k?(Z=Y=r,X=19):d===K?(Z=a,W-=257,Y=i,te-=257,X=256):(Z=g,Y=v,X=-1),B=0,A=0,p=w,L=u,V=I,P=0,Q=-1,D=1<<I,q=D-1,d===K&&D>G||d===t&&D>z)return 1;for(;;){se=p-P,r[A]<X?(be=0,Be=r[A]):r[A]>X?(be=Y[te+r[A]],Be=Z[W+r[A]]):(be=96,Be=0),O=1<<p-P,U=1<<V,w=U;do U-=O,_[L+(B>>P)+U]=se<<24|be<<16|Be|0;while(U!==0);for(O=1<<p-1;B&O;)O>>=1;if(O!==0?(B&=O-1,B+=O):B=0,A++,--E[p]===0){if(p===y)break;p=c[b+r[A]]}if(p>I&&(B&q)!==Q){for(P===0&&(P=I),L+=w,V=p-P,M=1<<V;V+P<y&&(M-=E[V+P],!(M<=0));)V++,M<<=1;if(D+=1<<V,d===K&&D>G||d===t&&D>z)return 1;Q=B&q,_[Q]=I<<24|V<<16|L-u|0}}return B!==0&&(_[L+B]=p-P<<24|64<<16|0),n.bits=I,0},Ya}var Dt;function oi(){if(Dt)return ea;Dt=1;var R=pa(),$=Yt(),G=Wt(),z=ii(),k=ni(),K=0,t=1,a=2,i=4,g=5,v=6,f=0,d=1,c=2,b=-2,l=-3,_=-4,u=-5,r=8,n=1,h=2,p=3,A=4,w=5,y=6,I=7,V=8,P=9,M=10,D=11,B=12,O=13,U=14,Q=15,q=16,L=17,Z=18,W=19,X=20,E=21,ue=22,Y=23,te=24,se=25,be=26,Be=27,Ke=28,Re=29,we=30,ze=31,qe=32,Le=852,pe=592,ne=15,ce=ne;function ge(N){return(N>>>24&255)+(N>>>8&65280)+((N&65280)<<8)+((N&255)<<24)}function xe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new R.Buf16(320),this.work=new R.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ce(N){var J;return!N||!N.state?b:(J=N.state,N.total_in=N.total_out=J.total=0,N.msg="",J.wrap&&(N.adler=J.wrap&1),J.mode=n,J.last=0,J.havedict=0,J.dmax=32768,J.head=null,J.hold=0,J.bits=0,J.lencode=J.lendyn=new R.Buf32(Le),J.distcode=J.distdyn=new R.Buf32(pe),J.sane=1,J.back=-1,f)}function He(N){var J;return!N||!N.state?b:(J=N.state,J.wsize=0,J.whave=0,J.wnext=0,Ce(N))}function wa(N,J){var o,ae;return!N||!N.state||(ae=N.state,J<0?(o=0,J=-J):(o=(J>>4)+1,J<48&&(J&=15)),J&&(J<8||J>15))?b:(ae.window!==null&&ae.wbits!==J&&(ae.window=null),ae.wrap=o,ae.wbits=J,He(N))}function va(N,J){var o,ae;return N?(ae=new xe,N.state=ae,ae.window=null,o=wa(N,J),o!==f&&(N.state=null),o):b}function ta(N){return va(N,ce)}var ka=!0,ha,je;function na(N){if(ka){var J;for(ha=new R.Buf32(512),je=new R.Buf32(32),J=0;J<144;)N.lens[J++]=8;for(;J<256;)N.lens[J++]=9;for(;J<280;)N.lens[J++]=7;for(;J<288;)N.lens[J++]=8;for(k(t,N.lens,0,288,ha,0,N.work,{bits:9}),J=0;J<32;)N.lens[J++]=5;k(a,N.lens,0,32,je,0,N.work,{bits:5}),ka=!1}N.lencode=ha,N.lenbits=9,N.distcode=je,N.distbits=5}function ya(N,J,o,ae){var he,e=N.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new R.Buf8(e.wsize)),ae>=e.wsize?(R.arraySet(e.window,J,o-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(he=e.wsize-e.wnext,he>ae&&(he=ae),R.arraySet(e.window,J,o-ae,he,e.wnext),ae-=he,ae?(R.arraySet(e.window,J,o-ae,ae,0),e.wnext=ae,e.whave=e.wsize):(e.wnext+=he,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=he))),0}function m(N,J){var o,ae,he,e,j,F,s,C,T,fe,ie,oe,ke,ua,Pe=0,ye,$e,Ge,Ze,Ra,Na,Me,Xe,Te=new R.Buf8(4),ca,oa,ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return b;o=N.state,o.mode===B&&(o.mode=O),j=N.next_out,he=N.output,s=N.avail_out,e=N.next_in,ae=N.input,F=N.avail_in,C=o.hold,T=o.bits,fe=F,ie=s,Xe=f;e:for(;;)switch(o.mode){case n:if(o.wrap===0){o.mode=O;break}for(;T<16;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}if(o.wrap&2&&C===35615){o.check=0,Te[0]=C&255,Te[1]=C>>>8&255,o.check=G(o.check,Te,2,0),C=0,T=0,o.mode=h;break}if(o.flags=0,o.head&&(o.head.done=!1),!(o.wrap&1)||(((C&255)<<8)+(C>>8))%31){N.msg="incorrect header check",o.mode=we;break}if((C&15)!==r){N.msg="unknown compression method",o.mode=we;break}if(C>>>=4,T-=4,Me=(C&15)+8,o.wbits===0)o.wbits=Me;else if(Me>o.wbits){N.msg="invalid window size",o.mode=we;break}o.dmax=1<<Me,N.adler=o.check=1,o.mode=C&512?M:B,C=0,T=0;break;case h:for(;T<16;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}if(o.flags=C,(o.flags&255)!==r){N.msg="unknown compression method",o.mode=we;break}if(o.flags&57344){N.msg="unknown header flags set",o.mode=we;break}o.head&&(o.head.text=C>>8&1),o.flags&512&&(Te[0]=C&255,Te[1]=C>>>8&255,o.check=G(o.check,Te,2,0)),C=0,T=0,o.mode=p;case p:for(;T<32;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}o.head&&(o.head.time=C),o.flags&512&&(Te[0]=C&255,Te[1]=C>>>8&255,Te[2]=C>>>16&255,Te[3]=C>>>24&255,o.check=G(o.check,Te,4,0)),C=0,T=0,o.mode=A;case A:for(;T<16;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}o.head&&(o.head.xflags=C&255,o.head.os=C>>8),o.flags&512&&(Te[0]=C&255,Te[1]=C>>>8&255,o.check=G(o.check,Te,2,0)),C=0,T=0,o.mode=w;case w:if(o.flags&1024){for(;T<16;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}o.length=C,o.head&&(o.head.extra_len=C),o.flags&512&&(Te[0]=C&255,Te[1]=C>>>8&255,o.check=G(o.check,Te,2,0)),C=0,T=0}else o.head&&(o.head.extra=null);o.mode=y;case y:if(o.flags&1024&&(oe=o.length,oe>F&&(oe=F),oe&&(o.head&&(Me=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),R.arraySet(o.head.extra,ae,e,oe,Me)),o.flags&512&&(o.check=G(o.check,ae,oe,e)),F-=oe,e+=oe,o.length-=oe),o.length))break e;o.length=0,o.mode=I;case I:if(o.flags&2048){if(F===0)break e;oe=0;do Me=ae[e+oe++],o.head&&Me&&o.length<65536&&(o.head.name+=String.fromCharCode(Me));while(Me&&oe<F);if(o.flags&512&&(o.check=G(o.check,ae,oe,e)),F-=oe,e+=oe,Me)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=V;case V:if(o.flags&4096){if(F===0)break e;oe=0;do Me=ae[e+oe++],o.head&&Me&&o.length<65536&&(o.head.comment+=String.fromCharCode(Me));while(Me&&oe<F);if(o.flags&512&&(o.check=G(o.check,ae,oe,e)),F-=oe,e+=oe,Me)break e}else o.head&&(o.head.comment=null);o.mode=P;case P:if(o.flags&512){for(;T<16;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}if(C!==(o.check&65535)){N.msg="header crc mismatch",o.mode=we;break}C=0,T=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),N.adler=o.check=0,o.mode=B;break;case M:for(;T<32;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}N.adler=o.check=ge(C),C=0,T=0,o.mode=D;case D:if(o.havedict===0)return N.next_out=j,N.avail_out=s,N.next_in=e,N.avail_in=F,o.hold=C,o.bits=T,c;N.adler=o.check=1,o.mode=B;case B:if(J===g||J===v)break e;case O:if(o.last){C>>>=T&7,T-=T&7,o.mode=Be;break}for(;T<3;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}switch(o.last=C&1,C>>>=1,T-=1,C&3){case 0:o.mode=U;break;case 1:if(na(o),o.mode=X,J===v){C>>>=2,T-=2;break e}break;case 2:o.mode=L;break;case 3:N.msg="invalid block type",o.mode=we}C>>>=2,T-=2;break;case U:for(C>>>=T&7,T-=T&7;T<32;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}if((C&65535)!==(C>>>16^65535)){N.msg="invalid stored block lengths",o.mode=we;break}if(o.length=C&65535,C=0,T=0,o.mode=Q,J===v)break e;case Q:o.mode=q;case q:if(oe=o.length,oe){if(oe>F&&(oe=F),oe>s&&(oe=s),oe===0)break e;R.arraySet(he,ae,e,oe,j),F-=oe,e+=oe,s-=oe,j+=oe,o.length-=oe;break}o.mode=B;break;case L:for(;T<14;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}if(o.nlen=(C&31)+257,C>>>=5,T-=5,o.ndist=(C&31)+1,C>>>=5,T-=5,o.ncode=(C&15)+4,C>>>=4,T-=4,o.nlen>286||o.ndist>30){N.msg="too many length or distance symbols",o.mode=we;break}o.have=0,o.mode=Z;case Z:for(;o.have<o.ncode;){for(;T<3;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}o.lens[ft[o.have++]]=C&7,C>>>=3,T-=3}for(;o.have<19;)o.lens[ft[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,ca={bits:o.lenbits},Xe=k(K,o.lens,0,19,o.lencode,0,o.work,ca),o.lenbits=ca.bits,Xe){N.msg="invalid code lengths set",o.mode=we;break}o.have=0,o.mode=W;case W:for(;o.have<o.nlen+o.ndist;){for(;Pe=o.lencode[C&(1<<o.lenbits)-1],ye=Pe>>>24,$e=Pe>>>16&255,Ge=Pe&65535,!(ye<=T);){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}if(Ge<16)C>>>=ye,T-=ye,o.lens[o.have++]=Ge;else{if(Ge===16){for(oa=ye+2;T<oa;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}if(C>>>=ye,T-=ye,o.have===0){N.msg="invalid bit length repeat",o.mode=we;break}Me=o.lens[o.have-1],oe=3+(C&3),C>>>=2,T-=2}else if(Ge===17){for(oa=ye+3;T<oa;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}C>>>=ye,T-=ye,Me=0,oe=3+(C&7),C>>>=3,T-=3}else{for(oa=ye+7;T<oa;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}C>>>=ye,T-=ye,Me=0,oe=11+(C&127),C>>>=7,T-=7}if(o.have+oe>o.nlen+o.ndist){N.msg="invalid bit length repeat",o.mode=we;break}for(;oe--;)o.lens[o.have++]=Me}}if(o.mode===we)break;if(o.lens[256]===0){N.msg="invalid code -- missing end-of-block",o.mode=we;break}if(o.lenbits=9,ca={bits:o.lenbits},Xe=k(t,o.lens,0,o.nlen,o.lencode,0,o.work,ca),o.lenbits=ca.bits,Xe){N.msg="invalid literal/lengths set",o.mode=we;break}if(o.distbits=6,o.distcode=o.distdyn,ca={bits:o.distbits},Xe=k(a,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,ca),o.distbits=ca.bits,Xe){N.msg="invalid distances set",o.mode=we;break}if(o.mode=X,J===v)break e;case X:o.mode=E;case E:if(F>=6&&s>=258){N.next_out=j,N.avail_out=s,N.next_in=e,N.avail_in=F,o.hold=C,o.bits=T,z(N,ie),j=N.next_out,he=N.output,s=N.avail_out,e=N.next_in,ae=N.input,F=N.avail_in,C=o.hold,T=o.bits,o.mode===B&&(o.back=-1);break}for(o.back=0;Pe=o.lencode[C&(1<<o.lenbits)-1],ye=Pe>>>24,$e=Pe>>>16&255,Ge=Pe&65535,!(ye<=T);){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}if($e&&!($e&240)){for(Ze=ye,Ra=$e,Na=Ge;Pe=o.lencode[Na+((C&(1<<Ze+Ra)-1)>>Ze)],ye=Pe>>>24,$e=Pe>>>16&255,Ge=Pe&65535,!(Ze+ye<=T);){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}C>>>=Ze,T-=Ze,o.back+=Ze}if(C>>>=ye,T-=ye,o.back+=ye,o.length=Ge,$e===0){o.mode=be;break}if($e&32){o.back=-1,o.mode=B;break}if($e&64){N.msg="invalid literal/length code",o.mode=we;break}o.extra=$e&15,o.mode=ue;case ue:if(o.extra){for(oa=o.extra;T<oa;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}o.length+=C&(1<<o.extra)-1,C>>>=o.extra,T-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=Y;case Y:for(;Pe=o.distcode[C&(1<<o.distbits)-1],ye=Pe>>>24,$e=Pe>>>16&255,Ge=Pe&65535,!(ye<=T);){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}if(!($e&240)){for(Ze=ye,Ra=$e,Na=Ge;Pe=o.distcode[Na+((C&(1<<Ze+Ra)-1)>>Ze)],ye=Pe>>>24,$e=Pe>>>16&255,Ge=Pe&65535,!(Ze+ye<=T);){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}C>>>=Ze,T-=Ze,o.back+=Ze}if(C>>>=ye,T-=ye,o.back+=ye,$e&64){N.msg="invalid distance code",o.mode=we;break}o.offset=Ge,o.extra=$e&15,o.mode=te;case te:if(o.extra){for(oa=o.extra;T<oa;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}o.offset+=C&(1<<o.extra)-1,C>>>=o.extra,T-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){N.msg="invalid distance too far back",o.mode=we;break}o.mode=se;case se:if(s===0)break e;if(oe=ie-s,o.offset>oe){if(oe=o.offset-oe,oe>o.whave&&o.sane){N.msg="invalid distance too far back",o.mode=we;break}oe>o.wnext?(oe-=o.wnext,ke=o.wsize-oe):ke=o.wnext-oe,oe>o.length&&(oe=o.length),ua=o.window}else ua=he,ke=j-o.offset,oe=o.length;oe>s&&(oe=s),s-=oe,o.length-=oe;do he[j++]=ua[ke++];while(--oe);o.length===0&&(o.mode=E);break;case be:if(s===0)break e;he[j++]=o.length,s--,o.mode=E;break;case Be:if(o.wrap){for(;T<32;){if(F===0)break e;F--,C|=ae[e++]<<T,T+=8}if(ie-=s,N.total_out+=ie,o.total+=ie,ie&&(N.adler=o.check=o.flags?G(o.check,he,ie,j-ie):$(o.check,he,ie,j-ie)),ie=s,(o.flags?C:ge(C))!==o.check){N.msg="incorrect data check",o.mode=we;break}C=0,T=0}o.mode=Ke;case Ke:if(o.wrap&&o.flags){for(;T<32;){if(F===0)break e;F--,C+=ae[e++]<<T,T+=8}if(C!==(o.total&4294967295)){N.msg="incorrect length check",o.mode=we;break}C=0,T=0}o.mode=Re;case Re:Xe=d;break e;case we:Xe=l;break e;case ze:return _;case qe:default:return b}return N.next_out=j,N.avail_out=s,N.next_in=e,N.avail_in=F,o.hold=C,o.bits=T,(o.wsize||ie!==N.avail_out&&o.mode<we&&(o.mode<Be||J!==i))&&ya(N,N.output,N.next_out,ie-N.avail_out),fe-=N.avail_in,ie-=N.avail_out,N.total_in+=fe,N.total_out+=ie,o.total+=ie,o.wrap&&ie&&(N.adler=o.check=o.flags?G(o.check,he,ie,N.next_out-ie):$(o.check,he,ie,N.next_out-ie)),N.data_type=o.bits+(o.last?64:0)+(o.mode===B?128:0)+(o.mode===X||o.mode===Q?256:0),(fe===0&&ie===0||J===i)&&Xe===f&&(Xe=u),Xe}function ee(N){if(!N||!N.state)return b;var J=N.state;return J.window&&(J.window=null),N.state=null,f}function re(N,J){var o;return!N||!N.state||(o=N.state,!(o.wrap&2))?b:(o.head=J,J.done=!1,f)}function le(N,J){var o=J.length,ae,he,e;return!N||!N.state||(ae=N.state,ae.wrap!==0&&ae.mode!==D)?b:ae.mode===D&&(he=1,he=$(he,J,o,0),he!==ae.check)?l:(e=ya(N,J,o,o),e?(ae.mode=ze,_):(ae.havedict=1,f))}return ea.inflateReset=He,ea.inflateReset2=wa,ea.inflateResetKeep=Ce,ea.inflateInit=ta,ea.inflateInit2=va,ea.inflate=m,ea.inflateEnd=ee,ea.inflateGetHeader=re,ea.inflateSetDictionary=le,ea.inflateInfo="pako inflate (from Nodeca project)",ea}var Wa,Bt;function er(){return Bt||(Bt=1,Wa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Wa}var Qa,It;function li(){if(It)return Qa;It=1;function R(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return Qa=R,Qa}var Rt;function si(){if(Rt)return Va;Rt=1;var R=oi(),$=pa(),G=Qt(),z=er(),k=ut(),K=Xt(),t=li(),a=Object.prototype.toString;function i(f){if(!(this instanceof i))return new i(f);this.options=$.assign({chunkSize:16384,windowBits:0,to:""},f||{});var d=this.options;d.raw&&d.windowBits>=0&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),d.windowBits>=0&&d.windowBits<16&&!(f&&f.windowBits)&&(d.windowBits+=32),d.windowBits>15&&d.windowBits<48&&(d.windowBits&15||(d.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new K,this.strm.avail_out=0;var c=R.inflateInit2(this.strm,d.windowBits);if(c!==z.Z_OK)throw new Error(k[c]);if(this.header=new t,R.inflateGetHeader(this.strm,this.header),d.dictionary&&(typeof d.dictionary=="string"?d.dictionary=G.string2buf(d.dictionary):a.call(d.dictionary)==="[object ArrayBuffer]"&&(d.dictionary=new Uint8Array(d.dictionary)),d.raw&&(c=R.inflateSetDictionary(this.strm,d.dictionary),c!==z.Z_OK)))throw new Error(k[c])}i.prototype.push=function(f,d){var c=this.strm,b=this.options.chunkSize,l=this.options.dictionary,_,u,r,n,h,p=!1;if(this.ended)return!1;u=d===~~d?d:d===!0?z.Z_FINISH:z.Z_NO_FLUSH,typeof f=="string"?c.input=G.binstring2buf(f):a.call(f)==="[object ArrayBuffer]"?c.input=new Uint8Array(f):c.input=f,c.next_in=0,c.avail_in=c.input.length;do{if(c.avail_out===0&&(c.output=new $.Buf8(b),c.next_out=0,c.avail_out=b),_=R.inflate(c,z.Z_NO_FLUSH),_===z.Z_NEED_DICT&&l&&(_=R.inflateSetDictionary(this.strm,l)),_===z.Z_BUF_ERROR&&p===!0&&(_=z.Z_OK,p=!1),_!==z.Z_STREAM_END&&_!==z.Z_OK)return this.onEnd(_),this.ended=!0,!1;c.next_out&&(c.avail_out===0||_===z.Z_STREAM_END||c.avail_in===0&&(u===z.Z_FINISH||u===z.Z_SYNC_FLUSH))&&(this.options.to==="string"?(r=G.utf8border(c.output,c.next_out),n=c.next_out-r,h=G.buf2string(c.output,r),c.next_out=n,c.avail_out=b-n,n&&$.arraySet(c.output,c.output,r,n,0),this.onData(h)):this.onData($.shrinkBuf(c.output,c.next_out))),c.avail_in===0&&c.avail_out===0&&(p=!0)}while((c.avail_in>0||c.avail_out===0)&&_!==z.Z_STREAM_END);return _===z.Z_STREAM_END&&(u=z.Z_FINISH),u===z.Z_FINISH?(_=R.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===z.Z_OK):(u===z.Z_SYNC_FLUSH&&(this.onEnd(z.Z_OK),c.avail_out=0),!0)},i.prototype.onData=function(f){this.chunks.push(f)},i.prototype.onEnd=function(f){f===z.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function g(f,d){var c=new i(d);if(c.push(f,!0),c.err)throw c.msg||k[c.err];return c.result}function v(f,d){return d=d||{},d.raw=!0,g(f,d)}return Va.Inflate=i,Va.inflate=g,Va.inflateRaw=v,Va.ungzip=g,Va}var Xa,Nt;function di(){if(Nt)return Xa;Nt=1;var R=pa().assign,$=ri(),G=si(),z=er(),k={};return R(k,$,G,z),Xa=k,Xa}var Pt;function ui(){return Pt||(Pt=1,function(R){(function(){var $={};R.exports=$;var G;typeof ei=="function"?G=di():G=self.pako;function z(){typeof process>"u"&&console.log.apply(console,arguments)}(function(k,K){(function(){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a=function(){function g(v){this.message="JPEG error: "+v}return g.prototype=Error(),g.prototype.name="JpegError",g.constructor=g}(),i=function(){function g(v,f){this.message=v,this.g=f}return g.prototype=Error(),g.prototype.name="DNLMarkerError",g.constructor=g}();(function(){function g(){this.M=null,this.B=-1}function v(l,_){for(var u=0,r=[],n,h,p=16;0<p&&!l[p-1];)p--;r.push({children:[],index:0});var A=r[0],w;for(n=0;n<p;n++){for(h=0;h<l[n];h++){for(A=r.pop(),A.children[A.index]=_[u];0<A.index;)A=r.pop();for(A.index++,r.push(A);r.length<=n;)r.push(w={children:[],index:0}),A.children[A.index]=w.children,A=w;u++}n+1<p&&(r.push(w={children:[],index:0}),A.children[A.index]=w.children,A=w)}return r[0].children}function f(l,_,u,r,n,h,p,A,w){function y(){if(0<W)return W--,Z>>W&1;if(Z=l[_++],Z===255){var ne=l[_++];if(ne){if(ne===220&&Q){_+=2;var ce=l[_++]<<8|l[_++];if(0<ce&&ce!==u.g)throw new i("Found DNL marker (0xFFDC) while parsing scan data",ce)}throw new a("unexpected marker "+(Z<<8|ne).toString(16))}}return W=7,Z>>>7}function I(ne){for(;;){if(ne=ne[y()],typeof ne=="number")return ne;if((typeof ne>"u"?"undefined":t(ne))!=="object")throw new a("invalid huffman sequence")}}function V(ne){for(var ce=0;0<ne;)ce=ce<<1|y(),ne--;return ce}function P(ne){if(ne===1)return y()===1?1:-1;var ce=V(ne);return ce>=1<<ne-1?ce:ce+(-1<<ne)+1}function M(ne,ce){var ge=I(ne.D);for(ge=ge===0?0:P(ge),ne.a[ce]=ne.m+=ge,ge=1;64>ge;){var xe=I(ne.o),Ce=xe&15;if(xe>>=4,Ce===0){if(15>xe)break;ge+=16}else ge+=xe,ne.a[ce+b[ge]]=P(Ce),ge++}}function D(ne,ce){var ge=I(ne.D);ge=ge===0?0:P(ge)<<w,ne.a[ce]=ne.m+=ge}function B(ne,ce){ne.a[ce]|=y()<<w}function O(ne,ce){if(0<X)X--;else for(var ge=h;ge<=p;){var xe=I(ne.o),Ce=xe&15;if(xe>>=4,Ce===0){if(15>xe){X=V(xe)+(1<<xe)-1;break}ge+=16}else ge+=xe,ne.a[ce+b[ge]]=P(Ce)*(1<<w),ge++}}function U(ne,ce){for(var ge=h,xe=0,Ce;ge<=p;){Ce=ce+b[ge];var He=0>ne.a[Ce]?-1:1;switch(E){case 0:if(xe=I(ne.o),Ce=xe&15,xe>>=4,Ce===0)15>xe?(X=V(xe)+(1<<xe),E=4):(xe=16,E=1);else{if(Ce!==1)throw new a("invalid ACn encoding");ue=P(Ce),E=xe?2:3}continue;case 1:case 2:ne.a[Ce]?ne.a[Ce]+=He*(y()<<w):(xe--,xe===0&&(E=E===2?3:0));break;case 3:ne.a[Ce]?ne.a[Ce]+=He*(y()<<w):(ne.a[Ce]=ue<<w,E=0);break;case 4:ne.a[Ce]&&(ne.a[Ce]+=He*(y()<<w))}ge++}E===4&&(X--,X===0&&(E=0))}for(var Q=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,q=u.P,L=_,Z=0,W=0,X=0,E=0,ue,Y=r.length,te,se,be,Be,Ke=u.S?h===0?A===0?D:B:A===0?O:U:M,Re=0,we=Y===1?r[0].c*r[0].l:q*u.O,ze,qe;Re<we;){var Le=n?Math.min(we-Re,n):we;for(te=0;te<Y;te++)r[te].m=0;if(X=0,Y===1){var pe=r[0];for(Be=0;Be<Le;Be++)Ke(pe,64*((pe.c+1)*(Re/pe.c|0)+Re%pe.c)),Re++}else for(Be=0;Be<Le;Be++){for(te=0;te<Y;te++)for(pe=r[te],ze=pe.h,qe=pe.j,se=0;se<qe;se++)for(be=0;be<ze;be++)Ke(pe,64*((pe.c+1)*((Re/q|0)*pe.j+se)+(Re%q*pe.h+be)));Re++}if(W=0,(pe=c(l,_))&&pe.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+pe.f),_=pe.offset),pe=pe&&pe.F,!pe||65280>=pe)throw new a("marker was not found");if(65488<=pe&&65495>=pe)_+=2;else break}return(pe=c(l,_))&&pe.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+pe.f),_=pe.offset),_-L}function d(l,_){for(var u=_.c,r=_.l,n=new Int16Array(64),h=0;h<r;h++)for(var p=0;p<u;p++){var A=64*((_.c+1)*h+p),w=n,y=_.G,I=_.a;if(!y)throw new a("missing required Quantization Table.");for(var V=0;64>V;V+=8){var P=I[A+V],M=I[A+V+1],D=I[A+V+2],B=I[A+V+3],O=I[A+V+4],U=I[A+V+5],Q=I[A+V+6],q=I[A+V+7];if(P*=y[V],!(M|D|B|O|U|Q|q))P=5793*P+512>>10,w[V]=P,w[V+1]=P,w[V+2]=P,w[V+3]=P,w[V+4]=P,w[V+5]=P,w[V+6]=P,w[V+7]=P;else{M*=y[V+1],D*=y[V+2],B*=y[V+3],O*=y[V+4],U*=y[V+5],Q*=y[V+6],q*=y[V+7];var L=5793*P+128>>8,Z=5793*O+128>>8,W=D,X=Q;O=2896*(M-q)+128>>8,q=2896*(M+q)+128>>8,B<<=4,U<<=4,L=L+Z+1>>1,Z=L-Z,P=3784*W+1567*X+128>>8,W=1567*W-3784*X+128>>8,X=P,O=O+U+1>>1,U=O-U,q=q+B+1>>1,B=q-B,L=L+X+1>>1,X=L-X,Z=Z+W+1>>1,W=Z-W,P=2276*O+3406*q+2048>>12,O=3406*O-2276*q+2048>>12,q=P,P=799*B+4017*U+2048>>12,B=4017*B-799*U+2048>>12,U=P,w[V]=L+q,w[V+7]=L-q,w[V+1]=Z+U,w[V+6]=Z-U,w[V+2]=W+B,w[V+5]=W-B,w[V+3]=X+O,w[V+4]=X-O}}for(y=0;8>y;++y)P=w[y],M=w[y+8],D=w[y+16],B=w[y+24],O=w[y+32],U=w[y+40],Q=w[y+48],q=w[y+56],M|D|B|O|U|Q|q?(L=5793*P+2048>>12,Z=5793*O+2048>>12,W=D,X=Q,O=2896*(M-q)+2048>>12,q=2896*(M+q)+2048>>12,L=(L+Z+1>>1)+4112,Z=L-Z,P=3784*W+1567*X+2048>>12,W=1567*W-3784*X+2048>>12,X=P,O=O+U+1>>1,U=O-U,q=q+B+1>>1,B=q-B,L=L+X+1>>1,X=L-X,Z=Z+W+1>>1,W=Z-W,P=2276*O+3406*q+2048>>12,O=3406*O-2276*q+2048>>12,q=P,P=799*B+4017*U+2048>>12,B=4017*B-799*U+2048>>12,U=P,P=L+q,q=L-q,M=Z+U,Q=Z-U,D=W+B,U=W-B,B=X+O,O=X-O,P=16>P?0:4080<=P?255:P>>4,M=16>M?0:4080<=M?255:M>>4,D=16>D?0:4080<=D?255:D>>4,B=16>B?0:4080<=B?255:B>>4,O=16>O?0:4080<=O?255:O>>4,U=16>U?0:4080<=U?255:U>>4,Q=16>Q?0:4080<=Q?255:Q>>4,q=16>q?0:4080<=q?255:q>>4,I[A+y]=P,I[A+y+8]=M,I[A+y+16]=D,I[A+y+24]=B,I[A+y+32]=O,I[A+y+40]=U,I[A+y+48]=Q,I[A+y+56]=q):(P=5793*P+8192>>14,P=-2040>P?0:2024<=P?255:P+2056>>4,I[A+y]=P,I[A+y+8]=P,I[A+y+16]=P,I[A+y+24]=P,I[A+y+32]=P,I[A+y+40]=P,I[A+y+48]=P,I[A+y+56]=P)}return _.a}function c(l,_){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:_,r=l.length-1;if(u=u<_?u:_,_>=r)return null;var n=l[_]<<8|l[_+1];if(65472<=n&&65534>=n)return{f:null,F:n,offset:_};for(var h=l[u]<<8|l[u+1];!(65472<=h&&65534>=h);){if(++u>=r)return null;h=l[u]<<8|l[u+1]}return{f:n.toString(16),F:h,offset:u}}var b=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);g.prototype={parse:function(l){function _(){var W=l[p]<<8|l[p+1];return p+=2,W}function u(){var W=_();W=p+W-2;var X=c(l,W,p);return X&&X.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+X.f),W=X.offset),W=l.subarray(p,W),p+=W.length,W}function r(W){for(var X=Math.ceil(W.v/8/W.s),E=Math.ceil(W.g/8/W.u),ue=0;ue<W.b.length;ue++){L=W.b[ue];var Y=Math.ceil(Math.ceil(W.v/8)*L.h/W.s),te=Math.ceil(Math.ceil(W.g/8)*L.j/W.u);L.a=new Int16Array(64*E*L.j*(X*L.h+1)),L.c=Y,L.l=te}W.P=X,W.O=E}var n=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,h=n===void 0?null:n,p=0,A=null,w=0;n=[];var y=[],I=[],V=_();if(V!==65496)throw new a("SOI not found");for(V=_();V!==65497;){switch(V){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var P=u();V===65518&&P[0]===65&&P[1]===100&&P[2]===111&&P[3]===98&&P[4]===101&&(A={version:P[5]<<8|P[6],Y:P[7]<<8|P[8],Z:P[9]<<8|P[10],W:P[11]});break;case 65499:V=_()+p-2;for(var M;p<V;){var D=l[p++],B=new Uint16Array(64);if(D>>4)if(D>>4===1)for(P=0;64>P;P++)M=b[P],B[M]=_();else throw new a("DQT - invalid table spec");else for(P=0;64>P;P++)M=b[P],B[M]=l[p++];n[D&15]=B}break;case 65472:case 65473:case 65474:if(O)throw new a("Only single frame JPEGs supported");_();var O={};for(O.X=V===65473,O.S=V===65474,O.precision=l[p++],V=_(),O.g=h||V,O.v=_(),O.b=[],O.C={},P=l[p++],V=B=D=0;V<P;V++){M=l[p];var U=l[p+1]>>4,Q=l[p+1]&15;D<U&&(D=U),B<Q&&(B=Q),U=O.b.push({h:U,j:Q,T:l[p+2],G:null}),O.C[M]=U-1,p+=3}O.s=D,O.u=B,r(O);break;case 65476:for(M=_(),V=2;V<M;){for(D=l[p++],B=new Uint8Array(16),P=U=0;16>P;P++,p++)U+=B[P]=l[p];for(Q=new Uint8Array(U),P=0;P<U;P++,p++)Q[P]=l[p];V+=17+U,(D>>4?y:I)[D&15]=v(B,Q)}break;case 65501:_();var q=_();break;case 65498:for(P=++w===1&&!h,_(),D=l[p++],M=[],V=0;V<D;V++){B=O.C[l[p++]];var L=O.b[B];B=l[p++],L.D=I[B>>4],L.o=y[B&15],M.push(L)}V=l[p++],D=l[p++],B=l[p++];try{var Z=f(l,p,O,M,q,V,D,B>>4,B&15,P);p+=Z}catch(W){if(W instanceof i)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(l,{N:W.g});throw W}break;case 65500:p+=4;break;case 65535:l[p]!==255&&p--;break;default:if(l[p-3]===255&&192<=l[p-2]&&254>=l[p-2])p-=3;else if((P=c(l,p-2))&&P.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+P.f),p=P.offset;else throw new a("unknown marker "+V.toString(16))}V=_()}for(this.width=O.v,this.height=O.g,this.A=A,this.b=[],V=0;V<O.b.length;V++)L=O.b[V],(q=n[L.T])&&(L.G=q),this.b.push({R:d(O,L),U:L.h/O.s,V:L.j/O.u,c:L.c,l:L.l});this.i=this.b.length},L:function(l,_){var u=this.width/l,r=this.height/_,n,h,p=this.b.length,A=l*_*p,w=new Uint8ClampedArray(A),y=new Uint32Array(l);for(h=0;h<p;h++){var I=this.b[h],V=I.U*u,P=I.V*r,M=h,D=I.R,B=I.c+1<<3;for(n=0;n<l;n++)I=0|n*V,y[n]=(I&4294967288)<<3|I&7;for(V=0;V<_;V++)for(I=0|V*P,I=B*(I&4294967288)|(I&7)<<3,n=0;n<l;n++)w[M]=D[I+y[n]],M+=p}if(r=this.M)for(h=0;h<A;)for(u=I=0;I<p;I++,h++,u+=2)w[h]=(w[h]*r[u]>>8)+r[u+1];return w},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(l){for(var _,u,r,n=0,h=l.length;n<h;n+=3)_=l[n],u=l[n+1],r=l[n+2],l[n]=_-179.456+1.402*r,l[n+1]=_+135.459-.344*u-.714*r,l[n+2]=_-226.816+1.772*u;return l},K:function(l){for(var _,u,r,n,h=0,p=0,A=l.length;p<A;p+=4)_=l[p],u=l[p+1],r=l[p+2],n=l[p+3],l[h++]=-122.67195406894+u*(-660635669420364e-19*u+.000437130475926232*r-54080610064599e-18*_+.00048449797120281*n-.154362151871126)+r*(-.000957964378445773*r+.000817076911346625*_-.00477271405408747*n+1.53380253221734)+_*(.000961250184130688*_-.00266257332283933*n+.48357088451265)+n*(-.000336197177618394*n+.484791561490776),l[h++]=107.268039397724+u*(219927104525741e-19*u-.000640992018297945*r+.000659397001245577*_+.000426105652938837*n-.176491792462875)+r*(-.000778269941513683*r+.00130872261408275*_+.000770482631801132*n-.151051492775562)+_*(.00126935368114843*_-.00265090189010898*n+.25802910206845)+n*(-.000318913117588328*n-.213742400323665),l[h++]=-20.810012546947+u*(-.000570115196973677*u-263409051004589e-19*r+.0020741088115012*_-.00288260236853442*n+.814272968359295)+r*(-153496057440975e-19*r-.000132689043961446*_+.000560833691242812*n-.195152027534049)+_*(.00174418132927582*_-.00255243321439347*n+.116935020465145)+n*(-.000343531996510555*n+.24165260232407);return l.subarray(0,h)},J:function(l){for(var _,u,r,n=0,h=l.length;n<h;n+=4)_=l[n],u=l[n+1],r=l[n+2],l[n]=434.456-_-1.402*r,l[n+1]=119.541-_+.344*u+.714*r,l[n+2]=481.816-_-1.772*u;return l},H:function(l){for(var _,u,r,n,h=0,p=1/255,A=0,w=l.length;A<w;A+=4)_=l[A]*p,u=l[A+1]*p,r=l[A+2]*p,n=l[A+3]*p,l[h++]=255+_*(-4.387332384609988*_+54.48615194189176*u+18.82290502165302*r+212.25662451639585*n-285.2331026137004)+u*(1.7149763477362134*u-5.6096736904047315*r-17.873870861415444*n-5.497006427196366)+r*(-2.5217340131683033*r-21.248923337353073*n+17.5119270841813)-n*(21.86122147463605*n+189.48180835922747),l[h++]=255+_*(8.841041422036149*_+60.118027045597366*u+6.871425592049007*r+31.159100130055922*n-79.2970844816548)+u*(-15.310361306967817*u+17.575251261109482*r+131.35250912493976*n-190.9453302588951)+r*(4.444339102852739*r+9.8632861493405*n-24.86741582555878)-n*(20.737325471181034*n+187.80453709719578),l[h++]=255+_*(.8842522430003296*_+8.078677503112928*u+30.89978309703729*r-.23883238689178934*n-14.183576799673286)+u*(10.49593273432072*u+63.02378494754052*r+50.606957656360734*n-112.23884253719248)+r*(.03296041114873217*r+115.60384449646641*n-193.58209356861505)-n*(22.33816807309886*n+180.12613974708367);return l.subarray(0,h)},getData:function(l,_,u){if(4<this.i)throw new a("Unsupported color mode");if(l=this.L(l,_),this.i===1&&u){u=l.length,_=new Uint8ClampedArray(3*u);for(var r=0,n=0;n<u;n++){var h=l[n];_[r++]=h,_[r++]=h,_[r++]=h}return _}if(this.i===3&&this.w())return this.I(l);if(this.i===4){if(this.w())return u?this.K(l):this.J(l);if(u)return this.H(l)}return l}},k.JpegDecoder=g})()})(),k.encodeImage=function(t,a,i,g){var v={t256:[a],t257:[i],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[i],t279:[a*i*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(g)for(var f in g)v[f]=g[f];for(var d=new Uint8Array(k.encode([v])),c=new Uint8Array(t),b=new Uint8Array(1e3+a*i*4),f=0;f<d.length;f++)b[f]=d[f];for(var f=0;f<c.length;f++)b[1e3+f]=c[f];return b.buffer},k.encode=function(t){var a=new Uint8Array(2e4),i=4,g=k._binBE;a[0]=77,a[1]=77,a[3]=42;var v=8;g.writeUint(a,i,v),i+=4;for(var f=0;f<t.length;f++){var d=k._writeIFD(g,a,v,t[f]);v=d[1],f<t.length-1&&g.writeUint(a,d[0],v)}return a.slice(0,v).buffer},k.decode=function(t){k.decode._decodeG3.allow2D=null;var a=new Uint8Array(t),i=0,g=k._binBE.readASCII(a,i,2);i+=2;var v=g=="II"?k._binLE:k._binBE;v.readUshort(a,i),i+=2;var f=v.readUint(a,i);i+=4;for(var d=[];;){var c=k._readIFD(v,a,f,d,0,!1);if(f=v.readUint(a,c),f==0)break}return d},k.decodeImage=function(t,a,i){var g=new Uint8Array(t),v=k._binBE.readASCII(g,0,2);if(a.t256!=null){a.isLE=v=="II",a.width=a.t256[0],a.height=a.t257[0];var f=a.t259?a.t259[0]:1,d=a.t266?a.t266[0]:1;a.t284&&a.t284[0]==2&&z("PlanarConfiguration 2 should not be used!");var c;a.t258?c=Math.min(32,a.t258[0])*a.t258.length:c=a.t277?a.t277[0]:1,f==1&&a.t279!=null&&a.t278&&a.t262[0]==32803&&(c=Math.round(a.t279[0]*8/(a.width*a.t278[0])));var b=Math.ceil(a.width*c/8)*8,l=a.t273;l==null&&(l=a.t324);var _=a.t279;f==1&&l.length==1&&(_=[a.height*(b>>>3)]),_==null&&(_=a.t325);var u=new Uint8Array(a.height*(b>>>3)),r=0;if(a.t322!=null){for(var n=a.t322[0],h=a.t323[0],p=Math.floor((a.width+n-1)/n),A=Math.floor((a.height+h-1)/h),w=new Uint8Array(Math.ceil(n*h*c/8)|0),y=0;y<A;y++)for(var I=0;I<p;I++){for(var V=y*p+I,P=0;P<w.length;P++)w[P]=0;k.decode._decompress(a,i,g,l[V],_[V],f,w,0,d),f==6?u=w:k._copyTile(w,Math.ceil(n*c/8)|0,h,u,Math.ceil(a.width*c/8)|0,a.height,Math.ceil(I*n*c/8)|0,y*h)}r=u.length*8}else{var M=a.t278?a.t278[0]:a.height;M=Math.min(M,a.height);for(var V=0;V<l.length;V++)k.decode._decompress(a,i,g,l[V],_[V],f,u,Math.ceil(r/8)|0,d),r+=b*M;r=Math.min(r,u.length*8)}a.data=new Uint8Array(u.buffer,0,Math.ceil(r/8)|0)}},k.decode._decompress=function(t,a,i,g,v,f,d,c,b){if(f==1||v==d.length&&f!=32767)for(var l=0;l<v;l++)d[c+l]=i[g+l];else if(f==3)k.decode._decodeG3(i,g,v,d,c,t.width,b);else if(f==4)k.decode._decodeG4(i,g,v,d,c,t.width,b);else if(f==5)k.decode._decodeLZW(i,g,d,c);else if(f==6)k.decode._decodeOldJPEG(t,i,g,v,d,c);else if(f==7)k.decode._decodeNewJPEG(t,i,g,v,d,c);else if(f==8)for(var _=new Uint8Array(i.buffer,g,v),u=K.inflate(_),r=0;r<u.length;r++)d[c+r]=u[r];else f==32767?k.decode._decodeARW(t,i,g,v,d,c):f==32773?k.decode._decodePackBits(i,g,v,d,c):f==32809?k.decode._decodeThunder(i,g,v,d,c):f==34713?k.decode._decodeNikon(t,a,i,g,v,d,c):z("Unknown compression",f);var n=t.t258?Math.min(32,t.t258[0]):1,h=t.t277?t.t277[0]:1,p=n*h>>>3,A=t.t278?t.t278[0]:t.height,w=Math.ceil(n*h*t.width/8);if(n==16&&!t.isLE&&t.t33422==null)for(var y=0;y<A;y++)for(var I=c+y*w,V=1;V<w;V+=2){var P=d[I+V];d[I+V]=d[I+V-1],d[I+V-1]=P}if(t.t317&&t.t317[0]==2)for(var y=0;y<A;y++){var M=c+y*w;if(n==16)for(var l=p;l<w;l+=2){var D=(d[M+l+1]<<8|d[M+l])+(d[M+l-p+1]<<8|d[M+l-p]);d[M+l]=D&255,d[M+l+1]=D>>>8&255}else if(h==3)for(var l=3;l<w;l+=3)d[M+l]=d[M+l]+d[M+l-3]&255,d[M+l+1]=d[M+l+1]+d[M+l-2]&255,d[M+l+2]=d[M+l+2]+d[M+l-1]&255;else for(var l=p;l<w;l++)d[M+l]=d[M+l]+d[M+l-p]&255}},k.decode._ljpeg_diff=function(t,a,i){var g=k.decode._getbithuff,v,f;return v=g(t,a,i[0],i),f=g(t,a,v,0),f&1<<v-1||(f-=(1<<v)-1),f},k.decode._decodeARW=function(t,a,i,g,v,f){var d=t.t256[0],c=t.t257[0],b=t.t258[0],l=t.isLE?k._binLE:k._binBE,_=d*c==g||d*c*1.5==g;if(!_){c+=8;var u=[i,0,0,0],r=new Uint16Array(32770),n=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],E,h,p,O,B,A=0,w=k.decode._ljpeg_diff;for(r[0]=15,p=E=0;E<18;E++)for(var y=32768>>>(n[E]>>>8),h=0;h<y;h++)r[++p]=n[E];for(O=d;O--;)for(B=0;B<c+1;B+=2)if(B==c&&(B=1),A+=w(a,u,r),B<c){var I=A&4095;k.decode._putsF(v,(B*d+O)*b,I<<16-b)}return}if(d*c*1.5==g){for(var E=0;E<g;E+=3){var V=a[i+E+0],P=a[i+E+1],M=a[i+E+2];v[f+E]=P<<4|V>>>4,v[f+E+1]=V<<4|M>>>4,v[f+E+2]=M<<4|P>>>4}return}var D=new Uint16Array(16),B,O,U,Q,q,L,Z,W,X,E,ue,Y=new Uint8Array(d+1);for(B=0;B<c;B++){for(var te=0;te<d;te++)Y[te]=a[i++];for(ue=0,O=0;O<d-30;ue+=16){for(Q=2047&(U=l.readUint(Y,ue)),q=2047&U>>>11,L=15&U>>>22,Z=15&U>>>26,W=0;W<4&&128<<W<=Q-q;W++);for(X=30,E=0;E<16;E++)E==L?D[E]=Q:E==Z?D[E]=q:(D[E]=((l.readUshort(Y,ue+(X>>3))>>>(X&7)&127)<<W)+q,D[E]>2047&&(D[E]=2047),X+=7);for(E=0;E<16;E++,O+=2){var I=D[E]<<1;k.decode._putsF(v,(B*d+O)*b,I<<16-b)}O-=O&1?1:31}}},k.decode._decodeNikon=function(t,a,i,g,v,f,d){var c=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],b=t.t256[0],l=t.t257[0],_=t.t258[0],u=0,r=0,n=k.decode._make_decoder,h=k.decode._getbithuff,p=a[0].exifIFD.makerNote,A=p.t150?p.t150:p.t140,w=0,y=A[w++],I=A[w++];(y==73||I==88)&&(w+=2110),y==70&&(u=2),_==14&&(u+=3);for(var V=[[0,0],[0,0]],P=t.isLE?k._binLE:k._binBE,U=0;U<2;U++)for(var M=0;M<2;M++)V[U][M]=P.readShort(A,w),w+=2;var D=1<<_&32767,B=0,O=P.readShort(A,w);w+=2,O>1&&(B=Math.floor(D/(O-1))),y==68&&I==32&&B>0&&(r=P.readShort(A,562));var U,Q,q,L,Z,W,X=[0,0],E=n(c[u]),ue=[g,0,0,0];for(Q=0;Q<l;Q++)for(r&&Q==r&&(E=n(c[u+1])),q=0;q<b;q++){U=h(i,ue,E[0],E),L=U&15,Z=U>>>4,W=(h(i,ue,L-Z,0)<<1)+1<<Z>>>1,W&1<<L-1||(W-=(1<<L)-(Z==0?1:0)),q<2?X[q]=V[Q&1][q]+=W:X[q&1]+=W;var Y=Math.min(Math.max(X[q&1],0),(1<<_)-1),te=(Q*b+q)*_;k.decode._putsF(f,te,Y<<16-_)}},k.decode._putsF=function(t,a,i){i=i<<8-(a&7);var g=a>>>3;t[g]|=i>>>16,t[g+1]|=i>>>8,t[g+2]|=i},k.decode._getbithuff=function(t,a,i,g){var v=0;k.decode._get_byte;var f,d=a[0],c=a[1],b=a[2],l=a[3];if(i==0||b<0)return 0;for(;!l&&b<i&&(f=t[d++])!=-1&&!(l=v);)c=(c<<8)+f,b+=8;if(f=c<<32-b>>>32-i,g?(b-=g[f+1]>>>8,f=g[f+1]&255):b-=i,b<0)throw"e";return a[0]=d,a[1]=c,a[2]=b,a[3]=l,f},k.decode._make_decoder=function(t){var a,i,g,v,f,d=[];for(a=16;a!=0&&!t[a];a--);var c=17;for(d[0]=a,g=i=1;i<=a;i++)for(v=0;v<t[i];v++,++c)for(f=0;f<1<<a-i;f++)g<=1<<a&&(d[g++]=i<<8|t[c]);return d},k.decode._decodeNewJPEG=function(t,a,i,g,v,f){var d=t.t347,c=d?d.length:0,b=new Uint8Array(c+g);if(d){for(var l=216,_=217,u=0,r=0;r<c-1&&!(d[r]==255&&d[r+1]==_);r++)b[u++]=d[r];var n=a[i],h=a[i+1];(n!=255||h!=l)&&(b[u++]=n,b[u++]=h);for(var r=2;r<g;r++)b[u++]=a[i+r]}else for(var r=0;r<g;r++)b[r]=a[i+r];if(t.t262[0]==32803||t.t262[0]==34892){var p=t.t258[0],A=k.LosslessJpegDecode(b),w=A.length;if(p==16)if(t.isLE)for(var r=0;r<w;r++)v[f+(r<<1)]=A[r]&255,v[f+(r<<1)+1]=A[r]>>>8;else for(var r=0;r<w;r++)v[f+(r<<1)]=A[r]>>>8,v[f+(r<<1)+1]=A[r]&255;else if(p==14||p==12)for(var y=16-p,r=0;r<w;r++)k.decode._putsF(v,r*p,A[r]<<y);else throw new Error("unsupported bit depth "+p)}else{var I=new k.JpegDecoder;I.parse(b);for(var V=I.getData(I.width,I.height),r=0;r<V.length;r++)v[f+r]=V[r]}t.t262[0]==6&&(t.t262[0]=2)},k.decode._decodeOldJPEGInit=function(t,a,i,g){var v=216,f=219,d=196,c=221,b=192,l=218,_=0,u=0,r,n,h=!1,p,A,w,y=t.t513,I=y?y[0]:0,V=t.t514,P=V?V[0]:0,M=t.t324||t.t273||y,D=t.t530,B=0,O=0,U=t.t277?t.t277[0]:1,Q=t.t515;if(M&&(u=M[0],h=M.length>1),!h){if(a[i]==255&&a[i+1]==v)return{jpegOffset:i};if(y!=null&&(a[i+I]==255&&a[i+I+1]==v?_=i+I:z("JPEGInterchangeFormat does not point to SOI"),V==null?z("JPEGInterchangeFormatLength field is missing"):(I>=u||I+P<=u)&&z("JPEGInterchangeFormatLength field value is invalid"),_!=null))return{jpegOffset:_}}if(D!=null&&(B=D[0],O=D[1]),y!=null&&V!=null)if(P>=2&&I+P<=u){for(a[i+I+P-2]==255&&a[i+I+P-1]==v?r=new Uint8Array(P-2):r=new Uint8Array(P),p=0;p<r.length;p++)r[p]=a[i+I+p];z("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else z("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(r==null){var q=0,L=[];L[q++]=255,L[q++]=v;var Z=t.t519;if(Z==null)throw new Error("JPEGQTables tag is missing");for(p=0;p<Z.length;p++)for(L[q++]=255,L[q++]=f,L[q++]=0,L[q++]=67,L[q++]=p,A=0;A<64;A++)L[q++]=a[i+Z[p]+A];for(w=0;w<2;w++){var W=t[w==0?"t520":"t521"];if(W==null)throw new Error((w==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(p=0;p<W.length;p++){L[q++]=255,L[q++]=d;var X=19;for(A=0;A<16;A++)X+=a[i+W[p]+A];for(L[q++]=X>>>8,L[q++]=X&255,L[q++]=p|w<<4,A=0;A<16;A++)L[q++]=a[i+W[p]+A];for(A=0;A<X;A++)L[q++]=a[i+W[p]+16+A]}}if(L[q++]=255,L[q++]=b,L[q++]=0,L[q++]=8+3*U,L[q++]=8,L[q++]=t.height>>>8&255,L[q++]=t.height&255,L[q++]=t.width>>>8&255,L[q++]=t.width&255,L[q++]=U,U==1)L[q++]=1,L[q++]=17,L[q++]=0;else for(p=0;p<3;p++)L[q++]=p+1,L[q++]=p!=0?17:(B&15)<<4|O&15,L[q++]=p;Q!=null&&Q[0]!=0&&(L[q++]=255,L[q++]=c,L[q++]=0,L[q++]=4,L[q++]=Q[0]>>>8&255,L[q++]=Q[0]&255),r=new Uint8Array(L)}var E=-1;for(p=0;p<r.length-1;){if(r[p]==255&&r[p+1]==b){E=p;break}p++}if(E==-1){var ue=new Uint8Array(r.length+10+3*U);ue.set(r);var Y=r.length;if(E=r.length,r=ue,r[Y++]=255,r[Y++]=b,r[Y++]=0,r[Y++]=8+3*U,r[Y++]=8,r[Y++]=t.height>>>8&255,r[Y++]=t.height&255,r[Y++]=t.width>>>8&255,r[Y++]=t.width&255,r[Y++]=U,U==1)r[Y++]=1,r[Y++]=17,r[Y++]=0;else for(p=0;p<3;p++)r[Y++]=p+1,r[Y++]=p!=0?17:(B&15)<<4|O&15,r[Y++]=p}if(a[u]==255&&a[u+1]==l){var te=a[u+2]<<8|a[u+3];for(n=new Uint8Array(te+2),n[0]=a[u],n[1]=a[u+1],n[2]=a[u+2],n[3]=a[u+3],p=0;p<te-2;p++)n[p+4]=a[u+p+4]}else{n=new Uint8Array(8+2*U);var se=0;if(n[se++]=255,n[se++]=l,n[se++]=0,n[se++]=6+2*U,n[se++]=U,U==1)n[se++]=1,n[se++]=0;else for(p=0;p<3;p++)n[se++]=p+1,n[se++]=p<<4|p;n[se++]=0,n[se++]=63,n[se++]=0}return{jpegOffset:i,tables:r,sosMarker:n,sofPosition:E}},k.decode._decodeOldJPEG=function(t,a,i,g,v,f){var d,c,b,l,_,u=k.decode._decodeOldJPEGInit(t,a,i,g);if(u.jpegOffset!=null)for(c=i+g-u.jpegOffset,l=new Uint8Array(c),d=0;d<c;d++)l[d]=a[u.jpegOffset+d];else{for(b=u.tables.length,l=new Uint8Array(b+u.sosMarker.length+g+2),l.set(u.tables),_=b,l[u.sofPosition+5]=t.height>>>8&255,l[u.sofPosition+6]=t.height&255,l[u.sofPosition+7]=t.width>>>8&255,l[u.sofPosition+8]=t.width&255,(a[i]!=255||a[i+1]!=SOS)&&(l.set(u.sosMarker,_),_+=sosMarker.length),d=0;d<g;d++)l[_++]=a[i+d];l[_++]=255,l[_++]=EOI}var r=new k.JpegDecoder;r.parse(l);for(var n=r.getData(r.width,r.height),d=0;d<n.length;d++)v[f+d]=n[d];t.t262&&t.t262[0]==6&&(t.t262[0]=2)},k.decode._decodePackBits=function(t,a,i,g,v){for(var f=new Int8Array(t.buffer),d=new Int8Array(g.buffer),c=a+i;a<c;){var b=f[a];if(a++,b>=0&&b<128)for(var l=0;l<b+1;l++)d[v]=f[a],v++,a++;if(b>=-127&&b<0){for(var l=0;l<-b+1;l++)d[v]=f[a],v++;a++}}},k.decode._decodeThunder=function(t,a,i,g,v){for(var f=[0,1,0,-1],d=[0,1,2,3,0,-3,-2,-1],c=a+i,b=v*2,l=0;a<c;){var _=t[a],u=_>>>6,r=_&63;if(a++,u==3&&(l=r&15,g[b>>>1]|=l<<4*(1-b&1),b++),u==0)for(var n=0;n<r;n++)g[b>>>1]|=l<<4*(1-b&1),b++;if(u==2)for(var n=0;n<2;n++){var h=r>>>3*(1-n)&7;h!=4&&(l+=d[h],g[b>>>1]|=l<<4*(1-b&1),b++)}if(u==1)for(var n=0;n<3;n++){var h=r>>>2*(2-n)&3;h!=2&&(l+=f[h],g[b>>>1]|=l<<4*(1-b&1),b++)}}},k.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},k.decode._lens=function(){var t=function(b,l,_,u){for(var r=0;r<l.length;r++)b[l[r]]=_+r*u},a="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",i="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",g="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",v="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",f="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";a=a.split(","),i=i.split(","),g=g.split(","),v=v.split(","),f=f.split(",");var d={},c={};return t(d,a,0,1),t(d,g,64,64),t(d,f,1792,64),t(c,i,0,1),t(c,v,64,64),t(c,f,1792,64),[d,c]}(),k.decode._decodeG4=function(t,a,i,g,v,f,d){for(var c=k.decode,b=a<<3,l=0,_="",u=[],r=[],n=0;n<f;n++)r.push(0);r=c._makeDiff(r);for(var h=0,p=0,A=0,w=0,y=0,I=0,V="",P=0,M=Math.ceil(f/8)*8;b>>>3<a+i;){A=c._findDiff(r,h+(h==0?0:1),1-y),w=c._findDiff(r,A,y);var D=0;if(d==1&&(D=t[b>>>3]>>>7-(b&7)&1),d==2&&(D=t[b>>>3]>>>(b&7)&1),b++,_+=D,V=="H"){if(c._lens[y][_]!=null){var B=c._lens[y][_];_="",l+=B,B<64&&(c._addNtimes(u,l,y),h+=l,y=1-y,l=0,P--,P==0&&(V=""))}}else _=="0001"&&(_="",c._addNtimes(u,w-h,y),h=w),_=="001"&&(_="",V="H",P=2),c._dmap[_]!=null&&(p=A+c._dmap[_],c._addNtimes(u,p-h,y),h=p,_="",y=1-y);u.length==f&&V==""&&(c._writeBits(u,g,v*8+I*M),y=0,I++,h=0,r=c._makeDiff(u),u=[])}},k.decode._findDiff=function(t,a,i){for(var g=0;g<t.length;g+=2)if(t[g]>=a&&t[g+1]==i)return t[g]},k.decode._makeDiff=function(t){var a=[];t[0]==1&&a.push(0,1);for(var i=1;i<t.length;i++)t[i-1]!=t[i]&&a.push(i,t[i]);return a.push(t.length,0,t.length,1),a},k.decode._decodeG3=function(t,a,i,g,v,f,d){for(var c=k.decode,b=a<<3,l=0,_="",u=[],r=[],n=0;n<f;n++)u.push(0);for(var h=0,p=0,A=0,w=0,y=0,I=-1,V="",P=0,M=!1,D=Math.ceil(f/8)*8;b>>>3<a+i;){A=c._findDiff(r,h+(h==0?0:1),1-y),w=c._findDiff(r,A,y);var B=0;if(d==1&&(B=t[b>>>3]>>>7-(b&7)&1),d==2&&(B=t[b>>>3]>>>(b&7)&1),b++,_+=B,M){if(c._lens[y][_]!=null){var O=c._lens[y][_];_="",l+=O,O<64&&(c._addNtimes(u,l,y),y=1-y,l=0)}}else if(V=="H"){if(c._lens[y][_]!=null){var O=c._lens[y][_];_="",l+=O,O<64&&(c._addNtimes(u,l,y),h+=l,y=1-y,l=0,P--,P==0&&(V=""))}}else _=="0001"&&(_="",c._addNtimes(u,w-h,y),h=w),_=="001"&&(_="",V="H",P=2),c._dmap[_]!=null&&(p=A+c._dmap[_],c._addNtimes(u,p-h,y),h=p,_="",y=1-y);_.endsWith("000000000001")&&(I>=0&&c._writeBits(u,g,v*8+I*D),d==1&&(M=(t[b>>>3]>>>7-(b&7)&1)==1),d==2&&(M=(t[b>>>3]>>>(b&7)&1)==1),b++,c._decodeG3.allow2D==null&&(c._decodeG3.allow2D=M),c._decodeG3.allow2D||(M=!0,b--),_="",y=0,I++,h=0,r=c._makeDiff(u),u=[])}u.length==f&&c._writeBits(u,g,v*8+I*D)},k.decode._addNtimes=function(t,a,i){for(var g=0;g<a;g++)t.push(i)},k.decode._writeBits=function(t,a,i){for(var g=0;g<t.length;g++)a[i+g>>>3]|=t[g]<<7-(i+g&7)},k.decode._decodeLZW=function(t,a,i,g){if(k.decode._lzwTab==null){for(var v=new Uint32Array(65535),f=new Uint16Array(65535),_=new Uint8Array(2e6),d=0;d<256;d++)_[d<<2]=d,v[d]=d<<2,f[d]=1;k.decode._lzwTab=[v,f,_]}for(var c=k.decode._copyData,b=k.decode._lzwTab[0],l=k.decode._lzwTab[1],_=k.decode._lzwTab[2],u=258,r=1032,n=9,h=a<<3,p=256,A=257,w=0,y=0,I=0;w=t[h>>>3]<<16|t[h+8>>>3]<<8|t[h+16>>>3],y=w>>24-(h&7)-n&(1<<n)-1,h+=n,y!=A;){if(y==p){if(n=9,u=258,r=1032,w=t[h>>>3]<<16|t[h+8>>>3]<<8|t[h+16>>>3],y=w>>24-(h&7)-n&(1<<n)-1,h+=n,y==A)break;i[g]=y,g++}else if(y<u){var V=b[y],P=l[y];if(c(_,V,i,g,P),g+=P,I>=u)b[u]=r,_[b[u]]=V[0],l[u]=1,r=r+1+3&-4,u++;else{b[u]=r;var M=b[I],D=l[I];c(_,M,_,r,D),_[r+D]=_[V],D++,l[u]=D,u++,r=r+D+3&-4}u+1==1<<n&&n++}else{if(I>=u)b[u]=r,l[u]=0,u++;else{b[u]=r;var M=b[I],D=l[I];c(_,M,_,r,D),_[r+D]=_[r],D++,l[u]=D,u++,c(_,r,i,g,D),g+=D,r=r+D+3&-4}u+1==1<<n&&n++}I=y}},k.decode._copyData=function(t,a,i,g,v){for(var f=0;f<v;f+=4)i[g+f]=t[a+f],i[g+f+1]=t[a+f+1],i[g+f+2]=t[a+f+2],i[g+f+3]=t[a+f+3]},k.tags={},k.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},k._readIFD=function(t,a,i,g,v,f){var d=t.readUshort(a,i);i+=2;var c={};g.push(c),f&&z("   ".repeat(v),g.length-1,">>>----------------");for(var b=0;b<d;b++){var l=t.readUshort(a,i);i+=2;var _=t.readUshort(a,i);i+=2;var u=t.readUint(a,i);i+=4;var r=t.readUint(a,i);i+=4;var n=[];if((_==1||_==7)&&(n=new Uint8Array(a.buffer,u<5?i-4:r,u)),_==2){var h=u<5?i-4:r,p=a[h];p<128?n.push(t.readASCII(a,h,u-1)):n=new Uint8Array(a.buffer,h,u-1)}if(_==3)for(var A=0;A<u;A++)n.push(t.readUshort(a,(u<3?i-4:r)+2*A));if(_==4)for(var A=0;A<u;A++)n.push(t.readUint(a,(u<2?i-4:r)+4*A));if(_==5)for(var A=0;A<u;A++)n.push(t.readUint(a,r+A*8)/t.readUint(a,r+A*8+4));if(_==8)for(var A=0;A<u;A++)n.push(t.readShort(a,(u<3?i-4:r)+2*A));if(_==9)for(var A=0;A<u;A++)n.push(t.readInt(a,(u<2?i-4:r)+4*A));if(_==10)for(var A=0;A<u;A++)n.push(t.readInt(a,r+A*8)/t.readInt(a,r+A*8+4));if(_==11)for(var A=0;A<u;A++)n.push(t.readFloat(a,r+A*4));if(_==12)for(var A=0;A<u;A++)n.push(t.readDouble(a,r+A*8));if(c["t"+l]=n,u!=0&&n.length==0&&z("unknown TIFF tag type: ",_,"num:",u),f&&z("   ".repeat(v),l,_,k.tags[l],n),!(l==330&&c.t272&&c.t272[0]=="DSLR-A100")){if(l==330||l==34665||l==50740&&t.readUshort(a,t.readUint(n,0))<300){for(var w=l==50740?[t.readUint(n,0)]:n,y=[],A=0;A<w.length;A++)k._readIFD(t,a,w[A],y,v+1,f);l==330&&(c.subIFD=y),l==34665&&(c.exifIFD=y[0]),l==50740&&(c.dngPrvt=y[0])}}if(l==37500){var I=n;if(t.readASCII(I,0,5)=="Nikon")c.makerNote=k.decode(I.slice(10).buffer)[0];else if(t.readUshort(a,r)<300){var V=[];k._readIFD(t,a,r,V,v+1,f),c.makerNote=V[0]}}}return f&&z("   ".repeat(v),"<<<---------------"),i},k._writeIFD=function(t,a,i,g){var v=Object.keys(g);t.writeUshort(a,i,v.length),i+=2;for(var f=i+v.length*12+4,d=0;d<v.length;d++){var c=v[d],b=parseInt(c.slice(1)),l=k.ttypes[b];if(l==null)throw new Error("unknown type of tag: "+b);var _=g[c];l==2&&(_=_[0]+"\0");var u=_.length;t.writeUshort(a,i,b),i+=2,t.writeUshort(a,i,l),i+=2,t.writeUint(a,i,u),i+=4;var r=[-1,1,1,2,4,8,0,0,0,0,0,0,8][l]*u,n=i;if(r>4&&(t.writeUint(a,i,f),n=f),l==2&&t.writeASCII(a,n,_),l==3)for(var h=0;h<u;h++)t.writeUshort(a,n+2*h,_[h]);if(l==4)for(var h=0;h<u;h++)t.writeUint(a,n+4*h,_[h]);if(l==5)for(var h=0;h<u;h++)t.writeUint(a,n+8*h,Math.round(_[h]*1e4)),t.writeUint(a,n+8*h+4,1e4);if(l==12)for(var h=0;h<u;h++)t.writeDouble(a,n+8*h,_[h]);r>4&&(r+=r&1,f+=r),i+=4}return[i,f]},k.toRGBA8=function(t){var a=t.width,i=t.height,g=a*i,v=g*4,f=t.data,d=new Uint8Array(g*4),c=t.t262?t.t262[0]:2,b=t.t258?Math.min(32,t.t258[0]):1;if(c==0)for(var l=Math.ceil(b*a/8),_=0;_<i;_++){var u=_*l,r=_*a;if(b==1)for(var n=0;n<a;n++){var h=r+n<<2,p=f[u+(n>>3)]>>7-(n&7)&1;d[h]=d[h+1]=d[h+2]=(1-p)*255,d[h+3]=255}if(b==4)for(var n=0;n<a;n++){var h=r+n<<2,p=f[u+(n>>1)]>>4-4*(n&1)&15;d[h]=d[h+1]=d[h+2]=(15-p)*17,d[h+3]=255}if(b==8)for(var n=0;n<a;n++){var h=r+n<<2,p=f[u+n];d[h]=d[h+1]=d[h+2]=255-p,d[h+3]=255}}else if(c==1)for(var l=Math.ceil(b*a/8),_=0;_<i;_++){var u=_*l,r=_*a;if(b==1)for(var n=0;n<a;n++){var h=r+n<<2,p=f[u+(n>>3)]>>7-(n&7)&1;d[h]=d[h+1]=d[h+2]=p*255,d[h+3]=255}if(b==2)for(var n=0;n<a;n++){var h=r+n<<2,p=f[u+(n>>2)]>>6-2*(n&3)&3;d[h]=d[h+1]=d[h+2]=p*85,d[h+3]=255}if(b==8)for(var n=0;n<a;n++){var h=r+n<<2,p=f[u+n];d[h]=d[h+1]=d[h+2]=p,d[h+3]=255}if(b==16)for(var n=0;n<a;n++){var h=r+n<<2,p=f[u+(2*n+1)];d[h]=d[h+1]=d[h+2]=Math.min(255,p),d[h+3]=255}}else if(c==2){var A=t.t258?t.t258.length:3;if(b==8){if(A==4)for(var n=0;n<v;n++)d[n]=f[n];if(A==3)for(var n=0;n<g;n++){var h=n<<2,w=n*3;d[h]=f[w],d[h+1]=f[w+1],d[h+2]=f[w+2],d[h+3]=255}}else{if(A==4)for(var n=0;n<g;n++){var h=n<<2,w=n*8+1;d[h]=f[w],d[h+1]=f[w+2],d[h+2]=f[w+4],d[h+3]=f[w+6]}if(A==3)for(var n=0;n<g;n++){var h=n<<2,w=n*6+1;d[h]=f[w],d[h+1]=f[w+2],d[h+2]=f[w+4],d[h+3]=255}}}else if(c==3)for(var y=t.t320,n=0;n<g;n++){var h=n<<2,I=f[n];d[h]=y[I]>>8,d[h+1]=y[256+I]>>8,d[h+2]=y[512+I]>>8,d[h+3]=255}else if(c==5)for(var A=t.t258?t.t258.length:4,V=A>4?1:0,n=0;n<g;n++){var h=n<<2,P=n*A,M=255-f[P],D=255-f[P+1],B=255-f[P+2],O=(255-f[P+3])*(1/255);d[h]=~~(M*O+.5),d[h+1]=~~(D*O+.5),d[h+2]=~~(B*O+.5),d[h+3]=255*(1-V)+f[P+4]*V}else z("Unknown Photometric interpretation: "+c);return d},k.replaceIMG=function(t){t==null&&(t=document.getElementsByTagName("img"));for(var a=["tif","tiff","dng","cr2","nef"],i=0;i<t.length;i++){var g=t[i],v=g.getAttribute("src");if(v!=null){var f=v.split(".").pop().toLowerCase();if(a.indexOf(f)!=-1){var d=new XMLHttpRequest;k._xhrs.push(d),k._imgs.push(g),d.open("GET",v),d.responseType="arraybuffer",d.onload=k._imgLoaded,d.send()}}}},k._xhrs=[],k._imgs=[],k._imgLoaded=function(t){var a=t.target.response,i=k.decode(a),g=i,v=0,f=g[0];i[0].subIFD&&(g=g.concat(i[0].subIFD));for(var d=0;d<g.length;d++){var r=g[d];if(!(r.t258==null||r.t258.length<3)){var c=r.t256*r.t257;c>v&&(v=c,f=r)}}k.decodeImage(a,f,i);var b=k.toRGBA8(f),l=f.width,_=f.height,u=k._xhrs.indexOf(t.target),r=k._imgs[u];k._xhrs.splice(u,1),k._imgs.splice(u,1);var n=document.createElement("canvas");n.width=l,n.height=_;for(var h=n.getContext("2d"),p=h.createImageData(l,_),d=0;d<b.length;d++)p.data[d]=b[d];h.putImageData(p,0,0),r.setAttribute("src",n.toDataURL())},k._binBE={nextZero:function(t,a){for(;t[a]!=0;)a++;return a},readUshort:function(t,a){return t[a]<<8|t[a+1]},readShort:function(t,a){var i=k._binBE.ui8;return i[0]=t[a+1],i[1]=t[a+0],k._binBE.i16[0]},readInt:function(t,a){var i=k._binBE.ui8;return i[0]=t[a+3],i[1]=t[a+2],i[2]=t[a+1],i[3]=t[a+0],k._binBE.i32[0]},readUint:function(t,a){var i=k._binBE.ui8;return i[0]=t[a+3],i[1]=t[a+2],i[2]=t[a+1],i[3]=t[a+0],k._binBE.ui32[0]},readASCII:function(t,a,i){for(var g="",v=0;v<i;v++)g+=String.fromCharCode(t[a+v]);return g},readFloat:function(t,a){for(var i=k._binBE.ui8,g=0;g<4;g++)i[g]=t[a+3-g];return k._binBE.fl32[0]},readDouble:function(t,a){for(var i=k._binBE.ui8,g=0;g<8;g++)i[g]=t[a+7-g];return k._binBE.fl64[0]},writeUshort:function(t,a,i){t[a]=i>>8&255,t[a+1]=i&255},writeUint:function(t,a,i){t[a]=i>>24&255,t[a+1]=i>>16&255,t[a+2]=i>>8&255,t[a+3]=i>>0&255},writeASCII:function(t,a,i){for(var g=0;g<i.length;g++)t[a+g]=i.charCodeAt(g)},writeDouble:function(t,a,i){k._binBE.fl64[0]=i;for(var g=0;g<8;g++)t[a+g]=k._binBE.ui8[7-g]}},k._binBE.ui8=new Uint8Array(8),k._binBE.i16=new Int16Array(k._binBE.ui8.buffer),k._binBE.i32=new Int32Array(k._binBE.ui8.buffer),k._binBE.ui32=new Uint32Array(k._binBE.ui8.buffer),k._binBE.fl32=new Float32Array(k._binBE.ui8.buffer),k._binBE.fl64=new Float64Array(k._binBE.ui8.buffer),k._binLE={nextZero:k._binBE.nextZero,readUshort:function(t,a){return t[a+1]<<8|t[a]},readShort:function(t,a){var i=k._binBE.ui8;return i[0]=t[a+0],i[1]=t[a+1],k._binBE.i16[0]},readInt:function(t,a){var i=k._binBE.ui8;return i[0]=t[a+0],i[1]=t[a+1],i[2]=t[a+2],i[3]=t[a+3],k._binBE.i32[0]},readUint:function(t,a){var i=k._binBE.ui8;return i[0]=t[a+0],i[1]=t[a+1],i[2]=t[a+2],i[3]=t[a+3],k._binBE.ui32[0]},readASCII:k._binBE.readASCII,readFloat:function(t,a){for(var i=k._binBE.ui8,g=0;g<4;g++)i[g]=t[a+g];return k._binBE.fl32[0]},readDouble:function(t,a){for(var i=k._binBE.ui8,g=0;g<8;g++)i[g]=t[a+g];return k._binBE.fl64[0]}},k._copyTile=function(t,a,i,g,v,f,d,c){for(var b=Math.min(a,v-d),l=Math.min(i,f-c),_=0;_<l;_++)for(var u=(c+_)*v+d,r=_*a,n=0;n<b;n++)g[u+n]=t[r+n]},k.LosslessJpegDecode=function(){function t(v){this.w=v,this.N=0,this._=0,this.G=0}t.prototype={t:function(v){this.N=Math.max(0,Math.min(this.w.length,v))},i:function(){return this.w[this.N++]},l:function(){var v=this.N;return this.N+=2,this.w[v]<<8|this.w[v+1]},J:function(){return this._==0&&(this.G=this.w[this.N],this.N+=1+(this.G+1>>>8),this._=8),this.G>>>--this._&1},Z:function(v){var f=this._,d=this.G,c=Math.min(f,v);v-=c,f-=c;for(var b=d>>>f&(1<<c)-1;v>0;)d=this.w[this.N],this.N+=1+(d+1>>>8),c=Math.min(8,v),v-=c,f=8-c,b<<=c,b|=d>>>f&(1<<c)-1;return this._=f,this.G=d,b}};var a={};a.X=function(){return[0,0,-1]},a.s=function(v,f,d){v[a.Y(v,0,d)+2]=f},a.Y=function(v,f,d){if(v[f+2]!=-1)return 0;if(d==0)return f;for(var c=0;c<2;c++){v[f+c]==0&&(v[f+c]=v.length,v.push(0),v.push(0),v.push(-1));var b=a.Y(v,v[f+c],d-1);if(b!=0)return b}return 0},a.B=function(v,f){for(var d=0,c=0,b=0,l=f._,_=f.G,u=f.N;;)if(l==0&&(_=f.w[u],u+=1+(_+1>>>8),l=8),b=_>>>--l&1,d=v[d+b],c=v[d+2],c!=-1)return f._=l,f.G=_,f.N=u,c;return-1};function i(v){this.z=new t(v),this.D(this.z)}i.prototype={$:function(v,f){this.Q=v.i(),this.F=v.l(),this.o=v.l();var d=this.O=v.i();this.L=[];for(var c=0;c<d;c++){var b=v.i();v.i(),v.i(),this.L[b]=c}v.t(v.N+f-(6+d*3))},e:function(){var v=0,f=this.z.i();this.H==null&&(this.H={});for(var d=this.H[f]=a.X(),c=[],b=0;b<16;b++)c[b]=this.z.i(),v+=c[b];for(var b=0;b<16;b++)for(var l=0;l<c[b];l++)a.s(d,this.z.i(),b+1);return v+17},W:function(v){for(;v>0;)v-=this.e()},p:function(v,f){var d=v.i();this.U||(this.U=[]);for(var c=0;c<d;c++){var b=v.i(),l=v.i();this.U[this.L[b]]=this.H[l>>>4]}this.g=v.i(),v.t(v.N+f-(2+d*2))},D:function(v){var f=!1,d=v.l();if(d===i.q)do{var d=v.l(),c=v.l()-2;switch(d){case i.m:this.$(v,c);break;case i.K:this.W(c);break;case i.V:this.p(v,c),f=!0;break;default:v.t(v.N+c);break}}while(!f)},I:function(v,f){var d=a.B(f,v);if(d==16)return-32768;var c=v.Z(d);return c&1<<d-1||(c-=(1<<d)-1),c},B:function(v,f){for(var d=this.z,c=this.O,b=this.F,l=this.I,_=this.g,u=this.o*c,r=this.U,n=0;n<c;n++)v[n]=l(d,r[n])+(1<<this.Q-1);for(var h=c;h<u;h+=c)for(var n=0;n<c;n++)v[h+n]=l(d,r[n])+v[h+n-c];for(var p=f,A=1;A<b;A++){for(var n=0;n<c;n++)v[p+n]=l(d,r[n])+v[p+n-f];for(var h=c;h<u;h+=c)for(var n=0;n<c;n++){var w=p+h+n,y=v[w-c];_==6&&(y=v[w-f]+(y-v[w-c-f]>>>1)),v[w]=y+l(d,r[n])}p+=f}}},i.m=65475,i.K=65476,i.q=65496,i.V=65498;function g(v){var f=new i(v),d=f.Q>8?Uint16Array:Uint8Array,c=new d(f.o*f.F*f.O),b=f.o*f.O;return f.B(c,b),c}return g}()})($,G)})()}(Ha)),Ha.exports}var et=ui();const ci={__name:"TiffViewer",props:{tiffUrl:String,isModal:{type:Boolean,default:!1},zoomLevel:{type:Number,default:1},rotationDegree:{type:Number,default:0},translateX:{type:Number,default:0}},emits:["error"],setup(R,{emit:$}){const G=R,z=_e(null),k=_e(!1),K=_e(!1),t=$,a=Ve(()=>({width:G.isModal?"100%":`${250*G.zoomLevel}px`,height:G.isModal?"100%":`${250*G.zoomLevel}px`,transform:`scale(${G.zoomLevel}) rotate(${G.rotationDegree}deg)  translateX(${G.translateX}px)`,objectFit:"contain",transformOrigin:"left"}));return tt(()=>[G.tiffUrl,G.rotationDegree],async()=>{if(G.tiffUrl){K.value=!0;try{const v=await(await fetch(G.tiffUrl)).arrayBuffer(),f=et.decode(v);et.decodeImage(v,f[0]);const d=et.toRGBA8(f[0]);if(z.value){const c=z.value,b=c.getContext("2d");c.width=f[0].width,c.height=f[0].height;const l=new ImageData(new Uint8ClampedArray(d),f[0].width,f[0].height);b.clearRect(0,0,c.width,c.height),b.save(),b.translate(c.width/2,c.height/2),b.rotate(G.rotationDegree*Math.PI/180),b.drawImage(c,-c.width/2,-c.height/2),b.restore(),b.putImageData(l,0,0)}K.value=!1}catch(g){K.value=!1,k.value=!0,t("error"),console.error("Erro ao carregar TIFF:",g)}}},{immediate:!0}),(g,v)=>(de(),Se(da,null,[x(K)?(de(),Ae(Mt,{key:0,style:{"margin-left":"200px"},class:"loading-spinner",indeterminate:"",size:"64"})):Oe("",!0),x(k)?Oe("",!0):(de(),Se("canvas",{key:1,ref_key:"tiffCanvas",ref:z,style:Ma(x(a))},null,4))],64))}},fi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAlmSURBVHic7Z1rjF1VFcd/zLSlUqYzLfJohxlKIBJTFAmmMcpjLNUAAY0JBIMxtISPimKCWm2V1wc/QpRHFCEYjSmvKtgXA8jDWkWKtFFMEGKlkKD2QaudaTvtjB/WvWFyufesfR57n33OXb9kfbkn9+z/3nudffZj7X3AMAzDMAzDMAzDMAzDMAzDMIw6c0zZAnIwH/g8cCHwceBE4ARghud0jwC7gf8ALwHPAY8DezynazQ4E3gAGAOmIrEx4H7gDI/57npmAKuBccqv8CRHWI3/Vqjr6AOeoPwKdrUngQEvJdGFzAVeofxKTWt/bmg3cjAD2ET5lZnVNmKvg1x8m/IrMa99s/BS6RJOBw5QfgXmtQPAomKLpju4C7cCfgm4FhgCegPo6gWGG2luddT4owC6asVcYD/JhToJfAfoKUkjjbRXNbQkad2PdQhTsRz9qVpVlrg2fA9d74rS1FWQdSQX5jbCNPeu9ALbSda8vjR1FWMecIjkwry+NHWduZ5kzYeR9QtD4TqqWZAD6I5rrwEHNpBciOvKk6ayHnsN5MKl+V9eljgHVlCx1itrPEA/cClwBfAxYLDxm28mgFOId+19PvAOMNNzOhPAv4G3gNeRhbINyHDTK8PIWrz2lPqyKjSh2mvAlx0Efgqc6iNTvcDtlL8WX4VOlNaJ9W1jwC0UOEyOZS0+uvdnB1xGAyFsIwXEJAwAf4kgM1PIO64qaCOZULadHFPQvYgXlZ2Jpl2ZNSMlcBXll1fT1pHxdXB7BOKbtp5qRTD3ENfDc3PaDAxTfofvKDLE+T4wO20GImA2UvCvI3kpsyzHkKG6Mw843nj6Wrzvsa/xHjNJH5Nwn+vN+9F7sUeBb1GtZrmu9AAr0VuZg8iITuWLyo2mkMo34mIler1d5XKjXyg32Yo9+THSA7xMct39rPVP7UKWz1USurNxs6rQB5yP5OujyLtzGDgOmeeYQAI39yL7/f4GvIb0bzYjHagqMAn8ENmi1olzXG6kxeIN55IZhkHgRuAFpIKz9p4PIZs/vwacFDQH2VhEcn72utxE60zEvNFhGTJt7WPYdRj4NdKaxMpM9M67ilYQMbIU2ELxld7JnkW2pcdI7vqrkgMsQDo2oSq+1R4CTvaQryHgEeR1vB9YC5zl+N+ucYBrgHcpr/Kbtgf4QoH5GkIOoGiXzpDD/2vvAMciPd2yK366TSKjo1kF5O+RhHQecvh/rR3gBKRnX3aFd7IngeNz5jFpFLbP4f+p6q/dhI5WyWVNAp0MjAIfyfDfw0gncRQZ5+9o2CHee2oXAIuBs4ElSMcyyxP9J+AyYFeG/4I4QKcp233oQR656y/GFmA+8FcHba32PDL9meWpnIcstoxmSPfFjGmCdPg63XeNw/9r9wqYjVRkmgpYi5wcVhSfIP36/iaytSBnIR2+1vvtwi3gs3YO8GMHTU17E/icRy3LgJ0p9NyRMZ0hpMO3r2FrcI/2rZUDfNlBz/Tm0Wm5MyfzgYcdNU1S7BDRhdo4wEJk7tqloH9A+M7pzY7a9uBnsqgTtXGAxxy0TAFfDaiplZsSdE23BwNqqoUDXOSgo/nkl81q3F4FoRaRauEAf3DQsYY4AlOOQc4K1vQ+E0hP5R1gxEHDm4Tp8LkyALyBrvtTAbRU3gFcniafQ72sXI6ue20AHZV2gFPQI3hCFGJWtFnDw8AHPWuotAN8wyH9Imf4iuYcdP1f8ayh0g7wrJL2857TLwJttfJpz+lX1gH6kSYyKe0qbBBdTnIexoEPeEy/sg7wWSXdQ+Rfaw/BHPQzji/2mH6q+ivzmNVWlijXtwD/CyEkJweQmIAkzgshxIWYHGCxcv2pICqK4ffKddcAT+/E5ACnK9dfDaKiGLYo180B2qDtX98RQkRB7FSuLwiiwoGYHECLddsRQkRB7FauR3N0fEwOMEe5Ph5ERTFoDhDNOkZMDjCpXK/SCSTaHrxoyj0aIcg4P4ljg6goBq2Jj2bLeUwOoMXRnxhERTFoWt8NosKBmBzgX8p1bZ4gJj6kXH8riAoHYnKAvyvXzw6iohg0rf8MosKBmBxAm+jRpopjYkS5vj2EiKzEvBg0z2P6RTEH/dP2n/GYfmVXA/uAI0ra13pMvyi+RLmrmpV1AND3AI56Tr8ItLCw5zynX2kHuNEh/ZgPaToX/SuiN3jWUGkHGEQPCt3oWUMetA9rHEECX31SaQcAOYpN07AsgI60uISFPxZAR+UdYKmDhp3E9fmYAWS1UtM9EkBL5R0A3M4BejSQFhceRdf7u0BaauEAFznomCLDlzA8cCtuWi8IpKcWDgByQoZLwd4UUFMrNyTomm6/DKipNg6wkPZn5bSz1YTfKXyLo7a9hA0Bq40DgJwG6lLIU8im0tzfyXNgALd3ftOcPtJQILVyAIB7HDQ17Q1kOOaLy4F/pNBzt0ctnaidA8wi/TFxozh+HMGR80j/9dSnKSeMrXYOANLsvuKgrdVeQPbqaQGn7TgOWdjJclDkVsK8jtqRqv6qdlTsJrI92WPIdq3NwB+RE0Z2N+woshJ5ErJhYzEyYfNJsm3i3Ibs/dMig32Ru/5ibAGaDBD3YdHPILucy6SWr4DpzALupfzKbrW7iCNyufYO0OQa3OcJfNou4GrPeU1D1zgAyGSR64yhD1tD2FNAXegqB2gygnTwQlX8ZsIc+ZaFrnSAJkuBX5HvW4GdbAKJVYj1a2FNutoBmiwEvg78lvwfjnwK+XBkbE19J1LVX5XmAbJyPPLBhyXAh4EzkbCs/ob1IAs2+4G3kenkV5GvfrxINY6lmU6q+usGB+g2UtVfu51Bddqm3W1odTPR+kM7B9CavGiONzHeh3bMzjutP7RzAO18m087yzFCs1S5/rbLTX5Oci9yK3FtKjWEHvQVU6cvl1yt3GQKWFmsdqMAVqHXm9NRu3OBg8qNjiJOYC1B+fQA30XfkjZOisOpXD/O/DKwAjgNGx2EZCawCLgO90CZn7S7Uacx/SDwGhIVY1SfceTYmvcdTdPb4Q//RdbdR/xpMgJyG/CbtH/qIX0gpFl8toHOD7pKP3KeTdmZMMtm2yjgWNo+3LZsm8Vl6ykwPrEX2YipHX5kVr4dQLbKeRmiDwL3oc8TmIW3cWSot7Bj7bUh69JuH3AJcAWyvj6EBEzYXEA49iLrNtuQfZEbqV7sgmEYhmEYhmEYhmEYhmEYhmEYnvk/IOetxTmdx/8AAAAASUVORK5CYII=",ct=Symbol.for("vuetify:v-slider");function vi(R,$,G){const z=G==="vertical",k=$.getBoundingClientRect(),K="touches"in R?R.touches[0]:R;return z?K.clientY-(k.top+k.height/2):K.clientX-(k.left+k.width/2)}function hi(R,$){return"touches"in R&&R.touches.length?R.touches[0][$]:"changedTouches"in R&&R.changedTouches.length?R.changedTouches[0][$]:R[$]}const _i=Ka({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:R=>typeof R=="boolean"||R==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:R=>typeof R=="boolean"||R==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:R=>["vertical","horizontal"].includes(R)},reverse:Boolean,...tr(),...rr({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),mi=R=>{const $=Ve(()=>parseFloat(R.min)),G=Ve(()=>parseFloat(R.max)),z=Ve(()=>+R.step>0?parseFloat(R.step):0),k=Ve(()=>Math.max(ht(z.value),ht($.value)));function K(t){if(t=parseFloat(t),z.value<=0)return t;const a=Ot(t,$.value,G.value),i=$.value%z.value,g=Math.round((a-i)/z.value)*z.value+i;return parseFloat(Math.min(g,G.value).toFixed(k.value))}return{min:$,max:G,step:z,decimals:k,roundValue:K}},pi=R=>{let{props:$,steps:G,onSliderStart:z,onSliderMove:k,onSliderEnd:K,getActiveThumb:t}=R;const{isRtl:a}=rt(),i=la($,"reverse"),g=Ve(()=>$.direction==="vertical"),v=Ve(()=>g.value!==i.value),{min:f,max:d,step:c,decimals:b,roundValue:l}=G,_=Ve(()=>parseInt($.thumbSize,10)),u=Ve(()=>parseInt($.tickSize,10)),r=Ve(()=>parseInt($.trackSize,10)),n=Ve(()=>(d.value-f.value)/c.value),h=la($,"disabled"),p=Ve(()=>$.error||$.disabled?void 0:$.thumbColor??$.color),A=Ve(()=>$.error||$.disabled?void 0:$.trackColor??$.color),w=Ve(()=>$.error||$.disabled?void 0:$.trackFillColor??$.color),y=_t(!1),I=_t(0),V=_e(),P=_e();function M(te){var Le;const se=$.direction==="vertical",be=se?"top":"left",Be=se?"height":"width",Ke=se?"clientY":"clientX",{[be]:Re,[Be]:we}=(Le=V.value)==null?void 0:Le.$el.getBoundingClientRect(),ze=hi(te,Ke);let qe=Math.min(Math.max((ze-Re-I.value)/we,0),1)||0;return(se?v.value:v.value!==a.value)&&(qe=1-qe),l(f.value+qe*(d.value-f.value))}const D=te=>{K({value:M(te)}),y.value=!1,I.value=0},B=te=>{P.value=t(te),P.value&&(P.value.focus(),y.value=!0,P.value.contains(te.target)?I.value=vi(te,P.value,$.direction):(I.value=0,k({value:M(te)})),z({value:M(te)}))},O={passive:!0,capture:!0};function U(te){k({value:M(te)})}function Q(te){te.stopPropagation(),te.preventDefault(),D(te),window.removeEventListener("mousemove",U,O),window.removeEventListener("mouseup",Q)}function q(te){var se;D(te),window.removeEventListener("touchmove",U,O),(se=te.target)==null||se.removeEventListener("touchend",q)}function L(te){var se;B(te),window.addEventListener("touchmove",U,O),(se=te.target)==null||se.addEventListener("touchend",q,{passive:!1})}function Z(te){te.preventDefault(),B(te),window.addEventListener("mousemove",U,O),window.addEventListener("mouseup",Q,{passive:!1})}const W=te=>{const se=(te-f.value)/(d.value-f.value)*100;return Ot(isNaN(se)?0:se,0,100)},X=la($,"showTicks"),E=Ve(()=>X.value?$.ticks?Array.isArray($.ticks)?$.ticks.map(te=>({value:te,position:W(te),label:te.toString()})):Object.keys($.ticks).map(te=>({value:parseFloat(te),position:W(parseFloat(te)),label:$.ticks[te]})):n.value!==1/0?ir(n.value+1).map(te=>{const se=f.value+te*c.value;return{value:se,position:W(se)}}):[]:[]),ue=Ve(()=>E.value.some(te=>{let{label:se}=te;return!!se})),Y={activeThumbRef:P,color:la($,"color"),decimals:b,disabled:h,direction:la($,"direction"),elevation:la($,"elevation"),hasLabels:ue,isReversed:i,indexFromEnd:v,min:f,max:d,mousePressed:y,numTicks:n,onSliderMousedown:Z,onSliderTouchstart:L,parsedTicks:E,parseMouseMove:M,position:W,readonly:la($,"readonly"),rounded:la($,"rounded"),roundValue:l,showTicks:X,startOffset:I,step:c,thumbSize:_,thumbColor:p,thumbLabel:la($,"thumbLabel"),ticks:la($,"ticks"),tickSize:u,trackColor:A,trackContainerRef:V,trackFillColor:w,trackSize:r,vertical:g};return nr(ct,Y),Y},gi=Ka({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Lt()},"VSliderThumb"),bi=it()({name:"VSliderThumb",directives:{Ripple:or},props:gi(),emits:{"update:modelValue":R=>!0},setup(R,$){let{slots:G,emit:z}=$;const k=Kt(ct),{isRtl:K,rtlClasses:t}=rt();if(!k)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:i,disabled:g,thumbSize:v,thumbLabel:f,direction:d,isReversed:c,vertical:b,readonly:l,elevation:_,mousePressed:u,decimals:r,indexFromEnd:n}=k,h=Ve(()=>g.value?void 0:_.value),{elevationClasses:p}=lr(h),{textColorClasses:A,textColorStyles:w}=sr(a),{pageup:y,pagedown:I,end:V,home:P,left:M,right:D,down:B,up:O}=cr,U=[y,I,V,P,M,D,B,O],Q=Ve(()=>i.value?[1,2,3]:[1,5,10]);function q(Z,W){if(!U.includes(Z.key))return;Z.preventDefault();const X=i.value||.1,E=(R.max-R.min)/X;if([M,D,B,O].includes(Z.key)){const Y=(b.value?[K.value?M:D,c.value?B:O]:n.value!==K.value?[M,O]:[D,O]).includes(Z.key)?1:-1,te=Z.shiftKey?2:Z.ctrlKey?1:0;W=W+Y*X*Q.value[te]}else if(Z.key===P)W=R.min;else if(Z.key===V)W=R.max;else{const ue=Z.key===I?1:-1;W=W-ue*X*(E>100?E/10:10)}return Math.max(R.min,Math.min(R.max,W))}function L(Z){const W=q(Z,R.modelValue);W!=null&&z("update:modelValue",W)}return nt(()=>{const Z=Aa(n.value?100-R.position:R.position,"%");return S("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":R.focused,"v-slider-thumb--pressed":R.focused&&u.value},R.class,t.value],style:[{"--v-slider-thumb-position":Z,"--v-slider-thumb-size":Aa(v.value)},R.style],role:"slider",tabindex:g.value?-1:0,"aria-label":R.name,"aria-valuemin":R.min,"aria-valuemax":R.max,"aria-valuenow":R.modelValue,"aria-readonly":!!l.value,"aria-orientation":d.value,onKeydown:l.value?void 0:L},[S("div",{class:["v-slider-thumb__surface",A.value,p.value],style:{...w.value}},null),Je(S("div",{class:["v-slider-thumb__ripple",A.value],style:w.value},null),[[Ia("ripple"),R.ripple,null,{circle:!0,center:!0}]]),S(dr,{origin:"bottom center"},{default:()=>{var W;return[Je(S("div",{class:"v-slider-thumb__label-container"},[S("div",{class:["v-slider-thumb__label"]},[S("div",null,[((W=G["thumb-label"])==null?void 0:W.call(G,{modelValue:R.modelValue}))??R.modelValue.toFixed(i.value?r.value:1)])])]),[[ur,f.value&&R.focused||f.value==="always"]])]}})])}),{}}}),Ai=Ka({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Lt()},"VSliderTrack"),wi=it()({name:"VSliderTrack",props:Ai(),emits:{},setup(R,$){let{slots:G}=$;const z=Kt(ct);if(!z)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:k,parsedTicks:K,rounded:t,showTicks:a,tickSize:i,trackColor:g,trackFillColor:v,trackSize:f,vertical:d,min:c,max:b,indexFromEnd:l}=z,{roundedClasses:_}=fr(t),{backgroundColorClasses:u,backgroundColorStyles:r}=mt(v),{backgroundColorClasses:n,backgroundColorStyles:h}=mt(g),p=Ve(()=>`inset-${d.value?"block":"inline"}-${l.value?"end":"start"}`),A=Ve(()=>d.value?"height":"width"),w=Ve(()=>({[p.value]:"0%",[A.value]:"100%"})),y=Ve(()=>R.stop-R.start),I=Ve(()=>({[p.value]:Aa(R.start,"%"),[A.value]:Aa(y.value,"%")})),V=Ve(()=>a.value?(d.value?K.value.slice().reverse():K.value).map((M,D)=>{var O;const B=M.value!==c.value&&M.value!==b.value?Aa(M.position,"%"):void 0;return S("div",{key:M.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":M.position>=R.start&&M.position<=R.stop,"v-slider-track__tick--first":M.value===c.value,"v-slider-track__tick--last":M.value===b.value}],style:{[p.value]:B}},[(M.label||G["tick-label"])&&S("div",{class:"v-slider-track__tick-label"},[((O=G["tick-label"])==null?void 0:O.call(G,{tick:M,index:D}))??M.label])])}):[]);return nt(()=>S("div",{class:["v-slider-track",_.value,R.class],style:[{"--v-slider-track-size":Aa(f.value),"--v-slider-tick-size":Aa(i.value)},R.style]},[S("div",{class:["v-slider-track__background",n.value,{"v-slider-track__background--opacity":!!k.value||!v.value}],style:{...w.value,...h.value}},null),S("div",{class:["v-slider-track__fill",u.value],style:{...I.value,...r.value}},null),a.value&&S("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[V.value])])),{}}}),ki=Ka({...vr(),..._i(),...hr(),modelValue:{type:[Number,String],default:0}},"VSlider"),yi=it()({name:"VSlider",props:ki(),emits:{"update:focused":R=>!0,"update:modelValue":R=>!0,start:R=>!0,end:R=>!0},setup(R,$){let{slots:G,emit:z}=$;const k=_e(),{rtlClasses:K}=rt(),t=mi(R),a=_r(R,"modelValue",void 0,A=>t.roundValue(A??t.min.value)),{min:i,max:g,mousePressed:v,roundValue:f,onSliderMousedown:d,onSliderTouchstart:c,trackContainerRef:b,position:l,hasLabels:_,readonly:u}=pi({props:R,steps:t,onSliderStart:()=>{z("start",a.value)},onSliderEnd:A=>{let{value:w}=A;const y=f(w);a.value=y,z("end",y)},onSliderMove:A=>{let{value:w}=A;return a.value=f(w)},getActiveThumb:()=>{var A;return(A=k.value)==null?void 0:A.$el}}),{isFocused:r,focus:n,blur:h}=mr(R),p=Ve(()=>l(a.value));return nt(()=>{const A=pt.filterProps(R),w=!!(R.label||G.label||G.prepend);return S(pt,Tt({class:["v-slider",{"v-slider--has-labels":!!G["tick-label"]||_.value,"v-slider--focused":r.value,"v-slider--pressed":v.value,"v-slider--disabled":R.disabled},K.value,R.class],style:R.style},A,{focused:r.value}),{...G,prepend:w?y=>{var I,V;return S(da,null,[((I=G.label)==null?void 0:I.call(G,y))??(R.label?S(pr,{id:y.id.value,class:"v-slider__label",text:R.label},null):void 0),(V=G.prepend)==null?void 0:V.call(G,y)])}:void 0,default:y=>{let{id:I,messagesId:V}=y;return S("div",{class:"v-slider__container",onMousedown:u.value?void 0:d,onTouchstartPassive:u.value?void 0:c},[S("input",{id:I.value,name:R.name||I.value,disabled:!!R.disabled,readonly:!!R.readonly,tabindex:"-1",value:a.value},null),S(wi,{ref:b,start:0,stop:p.value},{"tick-label":G["tick-label"]}),S(bi,{ref:k,"aria-describedby":V.value,focused:r.value,min:i.value,max:g.value,modelValue:a.value,"onUpdate:modelValue":P=>a.value=P,position:p.value,elevation:R.elevation,onFocus:n,onBlur:h,ripple:R.ripple,name:R.name},{"thumb-label":G["thumb-label"]})])}})}),{}}}),xi=["src"],Ei={key:2,src:fi},Ci={__name:"ReconhecimentoFacial",setup(R){const $=_e(null),G=_e([]),z=_e(""),k=_e(!1),K=_e(null),t=_e(null),a=Ba(),{id:i}=a.params,g=_e(1),f=De("pessoa_token").value,c=De("user-data").value.nome,b=fa(),l=`${b.public.managemant}/upload`,_=`${b.public.managemant}/getLinkTipo`,u=`${b.public.managemant}/download`,{$toast:r}=ma(),n=Ve(()=>!!t.value),h=Ve(()=>!!K.value),p=_e(!1),A=async()=>{const M=await navigator.mediaDevices.enumerateDevices();G.value=M.filter(D=>D.kind==="videoinput").map(D=>({deviceId:D.deviceId,label:D.label||`Camera ${G.value.length+1}`}))},w=async()=>{k.value=!0;try{await navigator.mediaDevices.getUserMedia({video:!0}),await A()}catch(M){console.error("Erro ao acessar dispositivos de mídia:",M)}},y=()=>{k.value=!1;const M=$.value.srcObject;M&&M.getTracks().forEach(B=>B.stop())},I=async()=>{if(z.value){const M=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:z.value}}});$.value.srcObject=M}},V=async()=>{const M=document.createElement("canvas"),D=M.getContext("2d"),B=$.value.videoWidth,O=$.value.videoHeight,U=B*g.value,Q=O*g.value,q=(B-U)/2,L=(O-Q)/2;M.width=B,M.height=O,D.drawImage($.value,q,L,U,Q),M.toBlob(async Z=>{const W=new FormData;W.append("file",Z,`${c}.jpg`),W.append("cartorio_token",De("user-data").value.cartorio_token),W.append("token",f),W.append("tipo","foto");const{status:X}=await Qe(l,{method:"POST",body:W},"$fRRPU47ULS");if(X.value==="success"){r.success("Imagem enviada!");const E=URL.createObjectURL(Z);K.value=E,y()}else r.error("Erro ao enviar imagem para o sistema.")},"image/jpeg")};return i&&(async M=>{var Q;if(!M)return;const{data:D}=await Qe(_,{method:"POST",body:{tipo:"foto",id:M}},"$N16ZtKMkSh");if(!((Q=D.value)!=null&&Q.link))return;const{data:B}=await Qe(u,{method:"POST",body:{bucket:De("user-data").value.cartorio_token,path:D.value.link}},"$mC9TAMOeqI"),O=D.value.link,U=B.value;/\.(tr7|tiff)$/i.test(O)?(t.value=U,p.value=!1):K.value=U})(i),La(async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await A()}catch(M){console.error("Erro ao acessar dispositivos de mídia:",M)}}),(M,D)=>{const B=ci;return de(),Ae(ve,{cols:"auto"},{default:H(()=>[S(Ta,{"max-width":"700",modelValue:x(k),"onUpdate:modelValue":D[3]||(D[3]=O=>_a(k)?k.value=O:null)},{activator:H(({props:O})=>[S(Fe,Tt(O,{variant:"outlined",style:{width:"300px",height:"300px"},onClick:w}),{default:H(()=>[x(n)&&!x(p)?(de(),Ae(B,{key:0,"tiff-url":x(t),onError:D[0]||(D[0]=U=>p.value=!0)},null,8,["tiff-url"])):x(h)?(de(),Se("img",{key:1,src:x(K),style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,xi)):(de(),Se("img",Ei))]),_:2},1040)]),default:H(({isActive:O})=>[S(Ua,{title:"Biometria"},{default:H(()=>[S(Ie,null,{default:H(()=>[S(ve,null,{default:H(()=>[S(ia,null,{default:H(()=>[S(Ht,{items:x(G),modelValue:x(z),"onUpdate:modelValue":D[1]||(D[1]=U=>_a(z)?z.value=U:null),"item-title":"label","item-value":"deviceId",label:"Selecionar Webcam"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),S(Ie,null,{default:H(()=>[S(ve,null,{default:H(()=>[S(Fe,{size:"large",class:"ml-5",onClick:I},{default:H(()=>D[4]||(D[4]=[Ne("Exibir")])),_:1})]),_:1})]),_:1}),S(ia,null,{default:H(()=>[S(yi,{modelValue:x(g),"onUpdate:modelValue":D[2]||(D[2]=U=>_a(g)?g.value=U:null),min:1,max:3,step:"0.1",label:"Zoom"},null,8,["modelValue"])]),_:1}),S(Ie,null,{default:H(()=>[S(ia,{style:{overflow:"hidden"}},{default:H(()=>[S(ve,{class:"d-flex justify-center align-center"},{default:H(()=>[Ee("video",{ref_key:"video",ref:$,width:"360",height:"300",autoplay:"",style:Ma({transform:`scale(${x(g)})`,transformOrigin:"center center"})},null,4)]),_:1})]),_:1})]),_:1}),S(Ie,{class:"mt-10 mb-5 ml-5"},{default:H(()=>[S(Fe,{color:"red",size:"large",onClick:y},{default:H(()=>D[5]||(D[5]=[Ne("Fechar")])),_:1}),S(Fe,{color:"green",size:"large",class:"ml-5",onClick:V},{default:H(()=>D[6]||(D[6]=[Ne("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Vi=""+new URL("escanearFicha.CgD8l9Wn.png",import.meta.url).href,Si={__name:"Scanner",setup(R){const $=fa(),{$toast:G}=ma(),z=`${$.public.envioDoc}`,k=`${$.public.biometria}/run-scanner`,t=De("pessoa_token").value;async function a(){try{await i(),await g()}catch(v){console.error("Erro ao executar scanner ou listar arquivos:",v)}}async function i(){try{const{data:v}=await Qe(k,{method:"GET"},"$qlTK399Ixo")}catch(v){G.error("Erro ao acionar o scanner:",v)}}async function g(){try{const{status:v,data:f}=await Qe(z,{method:"POST",body:{tipo:"ficha",token:t,cartorio_token:De("user-data").value.cartorio_token}},"$JkvEThvk9m")}catch(v){G.error(v),console.error("Erro ao enviar o arquivo:",v)}}return(v,f)=>(de(),Se("div",null,[Ee("img",{onClick:a,src:Vi,style:{width:"280px",height:"120px",cursor:"pointer","margin-top":"30px"}})]))}},Di=""+new URL("imprimirFicha.BlhLZ85F.png",import.meta.url).href,Bi={style:{display:"flex","flex-direction":"column"}},Ii={key:0},Ri={__name:"Impressao",props:{linkFicha:String},setup(R){const $=R,G=_e(""),z=fa(),k=`${z.public.managemant}/gerarRelatorioPessoa`,K=`${z.public.managemant}/download`,t=_e(null),a=_e(!1),i=_e(!1),g=_e({}),v=async()=>{const c=await Qe(k,{method:"POST",body:{consulta:"FICHA ASSINATURA",pessoa_token:De("pessoa_token").value}},"$LOyFO5WGQE");G.value=c.data.value},f=async()=>{if(i.value=!0,a.value=!0,$.linkFicha){g.value={token:De("pessoa_token").value,link_ficha:$.linkFicha};const{data:c}=await Qe(K,{method:"POST",body:{bucket:De("user-data").value.cartorio_token,path:$.linkFicha}},"$BxSla0y3eT");t.value=c.value}},d=async()=>{await v();const c=document.createElement("iframe");c.style.position="absolute",c.style.width="0px",c.style.height="0px",c.style.border="none",document.body.appendChild(c);const b=c.contentWindow.document;b.open(),b.write(G.value),b.close(),c.contentWindow.focus(),c.contentWindow.print(),document.body.removeChild(c)};return(c,b)=>{const l=Si,_=gr;return de(),Se(da,null,[S(ve,{cols:"auto"},{default:H(()=>[Ee("div",Bi,[Ee("img",{onClick:b[0]||(b[0]=u=>d()),src:Di,style:{width:"280px",height:"120px",cursor:"pointer"}}),S(l)]),$.linkFicha?(de(),Se("div",Ii,[Ee("img",{onClick:b[1]||(b[1]=u=>f()),style:{width:"80px",height:"80px",cursor:"pointer"},src:Jt,alt:"Ver ficha"})])):Oe("",!0)]),_:1}),x(i)?(de(),Ae(_,{key:0,show:x(i),"link-view":x(t),"is-view":!0,"pessoa-obj":x(g),onClose:b[2]||(b[2]=u=>i.value=!1)},null,8,["show","link-view","pessoa-obj"])):Oe("",!0)],64)}}},Ni={__name:"Index",props:{isModal:{type:Boolean,default:!1},linkFicha:String},emits:["close-modal"],setup(R,{emit:$}){const G=Sa(),z=$,k=R,K=()=>{if(k.isModal===!0){z("close-modal");return}G.push("/pessoas/lista")};return(t,a)=>{const i=Xr,g=Ci,v=Ri;return de(),Se(da,null,[S(ia,null,{default:H(()=>[S(Ie,{class:"d-flex align-items-center"},{default:H(()=>[S(i),S(g,{class:"ml-5 mr-5"}),S(v,{"link-ficha":k.linkFicha},null,8,["link-ficha"])]),_:1})]),_:1}),S(Fe,{onClick:K,class:"mt-10",size:"large",color:"red"},{default:H(()=>a[0]||(a[0]=[Ne("Voltar")])),_:1})],64)}}},Pi={},Mi={style:{height:"425px"}};function zi(R,$){return de(),Se("div",Mi,$[0]||($[0]=[Ee("h1",null,"Restrições",-1)]))}const $i=$t(Pi,[["render",zi]]),Oi={style:{"background-color":"#f5f2f2",padding:"5px 0px 0px 20px"}},Li={__name:"RegistroPessoas",props:{show:Boolean},emits:["close"],setup(R,{emit:$}){const G=R,z=_e(G.show),k=$,K=_e("dados"),t=_e(!1),a=_e(!1),i=_e(!1),g=Da({tipo_pessoa:"FISICA"}),v=[{label:"FÍSICA",value:"FISICA"},{label:"JURÍDICA",value:"JURIDICA"},{label:"ESTRANGEIRA",value:"ESTRANGEIRA"}],f=()=>{t.value=!0,i.value=!0},d=()=>{a.value=!0,i.value=!0};tt(()=>G.show,b=>{z.value=b});const c=()=>{z.value=!1,k("close")};return(b,l)=>{const _=kr,u=xr,r=zr,n=Kr,h=Zr,p=Ni,A=$i;return de(),Ae(Ta,{persistent:"",modelValue:x(z),"onUpdate:modelValue":l[3]||(l[3]=w=>_a(z)?z.value=w:null),"max-width":"900"},{default:H(()=>[S(Ua,null,{default:H(()=>[S(ia,null,{default:H(()=>[l[10]||(l[10]=Ee("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Cadastramento de pessoas ",-1)),Ee("div",Oi,[S(Ye,{modelValue:x(g).tipo_pessoa,"onUpdate:modelValue":l[0]||(l[0]=w=>x(g).tipo_pessoa=w),style:{width:"200px"},items:v,"item-title":"label","item-value":"value",label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:x(i)},null,8,["modelValue","disabled"])]),S(br,{modelValue:x(K),"onUpdate:modelValue":l[1]||(l[1]=w=>_a(K)?K.value=w:null),"bg-color":"#f5f2f2"},{default:H(()=>[S(xa,{value:"dados"},{default:H(()=>l[4]||(l[4]=[Ne("Dados")])),_:1}),x(t)?(de(),Ae(xa,{key:0,value:"documento"},{default:H(()=>l[5]||(l[5]=[Ne("Documentos")])),_:1})):Oe("",!0),x(a)?(de(),Ae(xa,{key:1,value:"representante"},{default:H(()=>l[6]||(l[6]=[Ne("Representantes")])),_:1})):Oe("",!0),x(a)||x(t)?(de(),Ae(xa,{key:2,value:"endereco"},{default:H(()=>l[7]||(l[7]=[Ne("Endereços")])),_:1})):Oe("",!0),x(t)?(de(),Ae(xa,{key:3,value:"biometria"},{default:H(()=>l[8]||(l[8]=[Ne("Biometria")])),_:1})):Oe("",!0),x(a)||x(t)?(de(),Ae(xa,{key:4,value:"restricao"},{default:H(()=>l[9]||(l[9]=[Ne("Restrições")])),_:1})):Oe("",!0)]),_:1},8,["modelValue"]),S(Ar,{modelValue:x(K),"onUpdate:modelValue":l[2]||(l[2]=w=>_a(K)?K.value=w:null)},{default:H(()=>[S(Ea,{value:"dados"},{default:H(()=>[x(g).tipo_pessoa==="FISICA"?(de(),Ae(_,{key:0,onSaved:f,onCloseModal:c,isModal:!0})):x(g).tipo_pessoa==="JURIDICA"?(de(),Ae(u,{key:1,onSaved:d,onCloseModal:c,isModal:!0})):Oe("",!0)]),_:1}),b.showTabs?(de(),Ae(Ea,{key:0,value:"documento"},{default:H(()=>[S(r,{onCloseModal:c,isModal:!0})]),_:1})):Oe("",!0),x(a)?(de(),Ae(Ea,{key:1,value:"representante"},{default:H(()=>[S(n,{onCloseModal:c,isModal:!0})]),_:1})):Oe("",!0),x(a)||x(t)?(de(),Ae(Ea,{key:2,value:"endereco"},{default:H(()=>[S(h,{onCloseModal:c,isModal:!0})]),_:1})):Oe("",!0),b.showTabs?(de(),Ae(Ea,{key:3,value:"biometria"},{default:H(()=>[S(ia,null,{default:H(()=>[S(p,{onCloseModal:c,isModal:!0})]),_:1})]),_:1})):Oe("",!0),b.showTabs?(de(),Ae(Ea,{key:4,value:"restricao"},{default:H(()=>[S(A,{onCloseModal:c,isModal:!0})]),_:1})):Oe("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{Li as _,Vr as a,Er as b,Cr as c,ci as d,xr as e,zr as f,Kr as g,Zr as h,Ni as i,$i as j,kr as k};
