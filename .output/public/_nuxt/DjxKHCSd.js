import{_ as P}from"./Gnuvr7sq.js";import{_ as R}from"./BVz1G1IN.js";import{_ as T}from"./CrWJisGq.js";import{_ as A}from"./pWXklnL3.js";import{_ as U,a as B}from"./DJvq3mCv.js";import{D as E,r as h,I,p as S,s as d,C as j,w as i,J as F,A as J,o as p,b as a,a as s,V as x,v as y,c as v}from"./xl25qiRG.js";import{f as V}from"./CHGR5Is0.js";import{V as W}from"./XNimg4P9.js";import{V as g}from"./DkbN-eQS.js";import{V as q}from"./DGqk-aAY.js";import"./CcPBPL8f.js";import"./CBNTobcg.js";import"./C6HhzkM2.js";import"./BhYPs0Mi.js";import"./B5zZWPzv.js";const G={style:{width:"200px"}},H={style:{width:"300px"}},K=["onClick"],M=["onClick"],O=["onClick"],Q={key:0,style:{width:"30px",height:"30px"},src:U,alt:"Visualizar",title:"Reativar"},X={key:1,src:B,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},_e={__name:"index",async setup(Y){let r,m;const _=J(),w=`${_.public.auth}/service/gerencia/getAllPessoa`,C=`${_.public.auth}/service/gerencia/updatePessoa`,f=E(),l=h(""),n=h(""),k=[{title:"Documento",value:"doc_identificacao"},{title:"Nome/RazÃ£o Social",value:"nome"},{value:"actions"}],{data:$,status:b}=([r,m]=I(()=>V(`${w}?pageNumber=1&pageSize=1000000`)),r=await r,m(),r),z=S(()=>$.value.data.filter(e=>{const t=e.doc_identificacao?e.doc_identificacao.toLowerCase():"",u=e.nome?e.nome.toLowerCase():"",o=t.includes(n.value.toLowerCase()),c=u.includes(l.value.toLowerCase());return o&&c}));async function D(e){e.excluido=!e.excluido;try{await V(`${C}/${e.id}`,{method:"PUT",body:{excluido:e.excluido}})}catch(t){console.error("Erro ao excluir pessoa:",t)}}function N(e){f.push({path:`/pessoas/vizualizar/${e}`})}function L(e){f.push({path:`/pessoas/atualizar/${e}`})}return(e,t)=>{const u=P;return d(b)==="success"?(p(),j(W,{key:0,class:"mt-5"},{default:i(()=>[a(u,{to:"/pessoas/cadastro"},{default:i(()=>t[2]||(t[2]=[s("img",{style:{cursor:"pointer"},src:R,alt:"Cadastro"},null,-1)])),_:1}),a(g,{style:{gap:"3rem"}},{default:i(()=>[s("div",G,[a(x,{class:"mt-7 mb-4",modelValue:d(n),"onUpdate:modelValue":t[0]||(t[0]=o=>y(n)?n.value=o:null),label:"Documento","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),s("div",H,[a(x,{class:"mt-7 mb-4",modelValue:d(l),"onUpdate:modelValue":t[1]||(t[1]=o=>y(l)?l.value=o:null),label:"Pessoa","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),a(q,{density:"compact",headers:k,items:d(z),"item-key":"id"},{"item.actions":i(({item:o})=>[a(g,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:i(()=>[s("div",{style:{cursor:"pointer"},onClick:c=>N(o.id),title:"Visualizar"},t[3]||(t[3]=[s("img",{style:{width:"30px",height:"30px"},src:T,alt:"Visualizar"},null,-1)]),8,K),s("div",{style:{cursor:"pointer"},onClick:c=>L(o.id),title:"Atualizar"},t[4]||(t[4]=[s("img",{style:{width:"30px",height:"30px"},src:A,alt:"Atualizar"},null,-1)]),8,M),s("div",{style:{cursor:"pointer"},onClick:c=>D(o),title:"Deletar"},[o.excluido?(p(),v("img",Q)):(p(),v("img",X))],8,O)]),_:2},1024)]),_:1},8,["items"])]),_:1})):F("",!0)}}};export{_e as default};
