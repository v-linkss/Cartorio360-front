import{_ as ke}from"./BzCYLhfv.js";import{_ as ye}from"./KO88Hdqv.js";import{V as oe,a as Oe,c as Be}from"./CHys887S.js";import{V as j}from"./By0pZRMT.js";import{V as E}from"./IgXHs3Jc.js";import{bT as Re,bU as Se,bV as Fe,bW as Ue,bX as Ie,bY as Ne,bZ as Ge,N as K,r as m,bj as Ee,f as Pe,aZ as be,h as H,j as Te,b_ as Le,b$ as De,c0 as ve,c1 as He,b as e,c2 as Me,z as le,P as ne,J as fe,I as ze,bG as Ye,c3 as qe,c4 as Je,aU as $,c5 as Qe,c6 as We,c7 as Xe,o as z,A as X,w as r,y as J,d as T,q as l,v as ae,a as v,n as je,D as P,G as re,t as te,s as S,K as _e,x as se,bp as Ze,u as Ke,L as pe,M as Ae,c as ge}from"./Doy_hywm.js";import{V as ue}from"./BztJFi75.js";import{u as M}from"./YRoDzBEv.js";import{_ as Ve,a as $e}from"./CrE-eFFQ.js";import{V as ee}from"./CHkY7Oik.js";import{c as eo,r as oo,u as ao}from"./DulzNWFS.js";import{_ as to}from"./DCsXQasW.js";import{_ as lo,a as no}from"./qu7Wfn_m.js";import{V as O}from"./BTdvDkGO.js";const ro=Re({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:o=>!isNaN(parseFloat(o))},maxRows:{type:[Number,String],validator:o=>!isNaN(parseFloat(o))},suffix:String,modelModifiers:Object,...Se(),...Fe()},"VTextarea"),so=Ue()({name:"VTextarea",directives:{Intersect:Ie},inheritAttrs:!1,props:ro(),emits:{"click:control":o=>!0,"mousedown:control":o=>!0,"update:focused":o=>!0,"update:modelValue":o=>!0},setup(o,F){let{attrs:u,emit:A,slots:f}=F;const p=Ne(o,"modelValue"),{isFocused:w,focus:B,blur:_}=Ge(o),U=K(()=>typeof o.counterValue=="function"?o.counterValue(p.value):(p.value||"").toString().length),N=K(()=>{if(u.maxlength)return u.maxlength;if(!(!o.counter||typeof o.counter!="number"&&typeof o.counter!="string"))return o.counter});function L(c,d){var s,a;!o.autofocus||!c||(a=(s=d[0].target)==null?void 0:s.focus)==null||a.call(s)}const C=m(),h=m(),g=Ee(""),I=m(),x=K(()=>o.persistentPlaceholder||w.value||o.active);function k(){var c;I.value!==document.activeElement&&((c=I.value)==null||c.focus()),w.value||B()}function n(c){k(),A("click:control",c)}function Q(c){A("mousedown:control",c)}function Y(c){c.stopPropagation(),k(),$(()=>{p.value="",Qe(o["onClick:clear"],c)})}function Z(c){var s;const d=c.target;if(p.value=d.value,(s=o.modelModifiers)!=null&&s.trim){const a=[d.selectionStart,d.selectionEnd];$(()=>{d.selectionStart=a[0],d.selectionEnd=a[1]})}}const G=m(),D=m(+o.rows),b=K(()=>["plain","underlined"].includes(o.variant));Pe(()=>{o.autoGrow||(D.value=+o.rows)});function i(){o.autoGrow&&$(()=>{if(!G.value||!h.value)return;const c=getComputedStyle(G.value),d=getComputedStyle(h.value.$el),s=parseFloat(c.getPropertyValue("--v-field-padding-top"))+parseFloat(c.getPropertyValue("--v-input-padding-top"))+parseFloat(c.getPropertyValue("--v-field-padding-bottom")),a=G.value.scrollHeight,V=parseFloat(c.lineHeight),R=Math.max(parseFloat(o.rows)*V+s,parseFloat(d.getPropertyValue("--v-input-control-height"))),W=parseFloat(o.maxRows)*V+s||1/0,t=Xe(a??0,R,W);D.value=Math.floor((t-s)/V),g.value=We(t)})}be(i),H(p,i),H(()=>o.rows,i),H(()=>o.maxRows,i),H(()=>o.density,i);let y;return H(G,c=>{c?(y=new ResizeObserver(i),y.observe(G.value)):y==null||y.disconnect()}),Te(()=>{y==null||y.disconnect()}),Le(()=>{const c=!!(f.counter||o.counter||o.counterValue),d=!!(c||f.details),[s,a]=De(u),{modelValue:V,...R}=ve.filterProps(o),W=He(o);return e(ve,le({ref:C,modelValue:p.value,"onUpdate:modelValue":t=>p.value=t,class:["v-textarea v-text-field",{"v-textarea--prefixed":o.prefix,"v-textarea--suffixed":o.suffix,"v-text-field--prefixed":o.prefix,"v-text-field--suffixed":o.suffix,"v-textarea--auto-grow":o.autoGrow,"v-textarea--no-resize":o.noResize||o.autoGrow,"v-input--plain-underlined":b.value},o.class],style:o.style},s,R,{centerAffix:D.value===1&&!b.value,focused:w.value}),{...f,default:t=>{let{id:q,isDisabled:ie,isDirty:de,isReadonly:we,isValid:Ce}=t;return e(Me,le({ref:h,style:{"--v-textarea-control-height":g.value},onClick:n,onMousedown:Q,"onClick:clear":Y,"onClick:prependInner":o["onClick:prependInner"],"onClick:appendInner":o["onClick:appendInner"]},W,{id:q.value,active:x.value||de.value,centerAffix:D.value===1&&!b.value,dirty:de.value||o.dirty,disabled:ie.value,focused:w.value,error:Ce.value===!1}),{...f,default:he=>{let{props:{class:ce,...me}}=he;return e(ne,null,[o.prefix&&e("span",{class:"v-text-field__prefix"},[o.prefix]),fe(e("textarea",le({ref:I,class:ce,value:p.value,onInput:Z,autofocus:o.autofocus,readonly:we.value,disabled:ie.value,placeholder:o.placeholder,rows:o.rows,name:o.name,onFocus:k,onBlur:_},me,a),null),[[ze("intersect"),{handler:L},null,{once:!0}]]),o.autoGrow&&fe(e("textarea",{class:[ce,"v-textarea__sizer"],id:`${me.id}-sizer`,"onUpdate:modelValue":xe=>p.value=xe,ref:G,readonly:!0,"aria-hidden":"true"},null),[[Ye,p.value]]),o.suffix&&e("span",{class:"v-text-field__suffix"},[o.suffix])])}})},details:d?t=>{var q;return e(ne,null,[(q=f.details)==null?void 0:q.call(f,t),c&&e(ne,null,[e("span",null,null),e(qe,{active:o.persistentCounter||w.value,value:U.value,max:N.value,disabled:o.disabled},f.counter)])])}:void 0})}),Je({},C,h,I)}}),uo=v("h1",null,"Confirmação de Recebimento",-1),io=v("p",null," O valor recebido é menor que o valor da OS, confirma o recebimento parcial? ",-1),co={__name:"ModalRecebimentoCond",props:{show:Boolean,faltaReceber:Number},emits:["close","confirmar"],setup(o,{emit:F}){const u=o,A=m(u.show),f=F;H(()=>u.show,B=>{A.value=B});const p=()=>{f("confirmar"),w()},w=()=>{A.value=!1,f("close")};return(B,_)=>(z(),X(ue,{persistent:"",modelValue:l(A),"onUpdate:modelValue":_[0]||(_[0]=U=>ae(A)?A.value=U:null),"max-width":"650"},{default:r(()=>[e(oe,null,{default:r(()=>[e(j,null,{default:r(()=>[e(E,{class:"mb-5 mt-1 ml-2"},{default:r(()=>[uo]),_:1}),e(E,{class:"ml-2"},{default:r(()=>[io]),_:1})]),_:1}),e(Oe,null,{default:r(()=>[e(J,{style:{"background-color":"#429946",color:"white"},onClick:p},{default:r(()=>[T("Confirmar")]),_:1}),e(J,{style:{"background-color":"red",color:"white"},onClick:w},{default:r(()=>[T("Cancelar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},mo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAATqSURBVHic7VtNbBtFFP7e2rGRCFZDBRJqoFRCHAAJkOiJHMCtjJwQiUs4AOKAiE2EhERvSAhygSOgSJS4BXHh1N4o1GCVVUVQD5w4IHFB0NC0HKBplSZS6p99HGgc73PGnlnPrieE7xS/fTN+++XNe7Pfjgkxo7hQzG5mW2UCXgDwCIDb+wzZAPAzQF/sH8udOP386Xqc8VGck+c/yR+Al/4awKNRxhPwEwfNZ/05/7Ll0Nrw4pq4uFDMDnLzAMDAY/BGzsycmslYDC2E2AjYzLbKGODmt8GPr167Pjv4PDsjHdfERHgR3GnA2YBS5fOz1ZVe4546WRz3gtYJAMW2keklAB/HEWdsGQDGQ50fdW4eAM7PVlfSTZRDUxEeth3eFuIjABjt/KBz81uovV67JEx3WIloB8RJwK5A3zaYXyxMs8fHiOkw+vdwV7AB4EcifPBdqfZVL8eeBBxZLLzPhLeshpY83vPLtbdVF5UE5BcL0yB8GU9MyYII06pMUNYA9vhYfCElCw7wpuqach9ATE+EDXjSL9UuWIwrNhytHJ0I4C21DYTDKt9eXSDUxnbLzQPAufK5H4RJ2Ub3fBv8n4BhBzBs7HkCtJ8G85UC9/fafdjzGdCLAO2nN9fBgHy6bENNAKGE/wAJDFzymEqq61qiaL5SWAZwX9uQSt/vv3p2efDw7CH/6eRBtJoXO0x/+OXawX7jNGsAr4c+Ba1RleewEDSacrd3Q2ecHgFEIQLA7BwBSAcypvUd/QT0CAjgPAFpTomYSIsAvX0A0TpCEq+nJODpyjNTBK4AYBBKfqlWTcKPxT+FiC1mgKgBnqfOAAIvAjgAYJwZlaT8ZFYGMmsV0CKARUHhgHqptONbfxBwb1J+TOGYyGN7RZBEBqBHBgwLLPQLBHo1QHMJyC4A5wggqVgTNnTG6S6BDWFwUB4XWUkWawCJnsoU35uaqCCIumRzCRCLguLgEpA1wGoRlDtBz3OPAIBEG7SZAYIAZnKPgK7daWCPgCa1xGTutUHIrJTPL8phOmh6kgDniiBYFGabBHgjaVFQ3FsCsgimuGVxJ7h5U7LpHAEkCUil7GVAJsg4TwBETLlczh4B1TeqNwE0OkyZOI+umaK4UMwCGOkw1XUPWJrI4iFG19bWnMmCulePpAYBBgSwmLSBlDOdgG/Lxk9A1/OAQ8JotyCqpwYBJkuAhMrqki7YJYiSVgsETAhwWBiNKogCRhkgJ1ULo0kjqiAKGHUBfWE0cUQURIGBimBPYTRRSEFUVw0CjNqgEBgcyoAuMYT1XosBRkvAXWE0qiAKmG2EHBZGowmiwCA1wCFhNKogCgzSBtVLYGXbRX0yw6ZfVw3QlMMAkwwQyrBSGL11sqTfyQy7fkIQhaddBLVPiRHROvP2G2KVMHrr7W2vd332/ZhHw2ddYsgAp4XRiILov0M1MdKiq8J0aH5+fujH7GZOzaTAONRpSzOv6o7XvoF9d+5bRrgV3r10z4UPJ45PjenOYRsTx6fGrl67/hGAuzrMN1Zp9aLuHEY/nT1SKXzGwCsmYxIH46T/Wk1dVAWMUpiD5jsA/W0eVWL4q0H0rskAIwL8Of8yEU0S8KdZXIngSsA8uVT+1ii2lOm3/H7m1ysPPvfA58xUB7AfQA4x/gS3DzYB/MLMlUaQefn7uW9+M53gH/TVyDpW2OO1AAAAAElFTkSuQmCC",vo=v("h1",null,"Ordem de Serviço nº",-1),fo={style:{color:"red","margin-left":"18px"}},po={style:{"max-width":"180px"}},Ao=v("hr",{class:"mb-5"},null,-1),go=["onClick"],bo=v("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:mo,alt:"Remover"},null,-1),_o=[bo],Vo={style:{display:"flex","justify-content":"flex-start"}},wo={__name:"Ordem",props:{show:Boolean,ordem:{type:Object,required:!0}},emits:["close"],setup(o,{emit:F}){const u=o,{$toast:A}=je(),f=m(u.show),p=m(!1),w=se(),B=`${w.public.managemant}/listarFormasReceb`,_=`${w.public.managemant}/receberOs`,U=P("auth_token").value,N=m([]),L=m(null),C=m([]),h=m([]),g=re({descricao:null,forma:null,valor:""}),I=F,x=[{title:"Forma",value:"forma"},{title:"Valor",value:"valor"},{value:"actions"}];H(()=>u.show,b=>{f.value=b});const k=()=>{f.value=!1,I("close")},n=async()=>{L.value=Number(u.ordem.valor),p.value=!0},Q=async()=>{const b={ordemserv_token:u.ordem.token,usuario_token:U,recebimentos:[h.value]},{data:i,error:y}=await M(_,{method:"POST",body:JSON.stringify(b)},"$vhMIR8Sr2p");i.value[0].status==="OK"&&(A.success("Valores Recebidos com Sucesso!"),C.value=[],k())},Y=()=>{u.ordem.valor=parseFloat(u.ordem.valor).toFixed(2),u.ordem.valor_pago=parseFloat(u.ordem.valor_pago).toFixed(2)},Z=async()=>{try{const i={cartorio_token:m(P("user-data").value.cartorio_token).value},{data:y,error:c}=await M(B,{method:"POST",body:JSON.stringify(i)},"$eiMzO5y6Bb");N.value=Ze(y.value)}catch(b){console.error("Erro ao realizar a requisição:",b)}},G=async()=>{const b=N.value.find(i=>i.token===g.forma);if(!b){A.error("Por favor, selecione uma forma.");return}if(Number(u.ordem.valor)<=0){A.error("O valor recebido não deve ultrapassar o valor total da ordem.");return}C.value.push({forma:g.forma,descricao:b.descricao,valor:g.valor}),h.value.push({forma_receb_token:g.forma,valor:Number(g.valor)}),u.ordem.valor_pago=parseFloat(u.ordem.valor_pago)+parseFloat(g.valor),u.ordem.valor=parseFloat(u.ordem.valor)-parseFloat(g.valor),g.forma=null,g.valor="0.00",Y()},D=b=>{const i=C.value.indexOf(b);i!==-1&&(C.value.splice(i,1),h.value.splice(i,1),u.ordem.valor_pago=parseFloat(u.ordem.valor_pago)-parseFloat(b.valor),u.ordem.valor=parseFloat(u.ordem.valor)+parseFloat(b.valor))};return Z(),(b,i)=>{const y=ye,c=co;return z(),X(ue,{persistent:"",modelValue:l(f),"onUpdate:modelValue":i[6]||(i[6]=d=>ae(f)?f.value=d:null),"max-width":"650"},{default:r(()=>[e(oe,null,{default:r(()=>[e(j,null,{default:r(()=>[e(E,{class:"mb-5 mt-1 ml-2"},{default:r(()=>[vo,v("h1",fo,te(u.ordem.numero),1)]),_:1}),e(j,null,{default:r(()=>[e(E,null,{default:r(()=>[e(S,{class:"mr-5",label:"Recebido",modelValue:u.ordem.valor_pago,"onUpdate:modelValue":i[0]||(i[0]=d=>u.ordem.valor_pago=d),disabled:""},null,8,["modelValue"]),e(S,{label:"Falta Receber",modelValue:u.ordem.valor,"onUpdate:modelValue":i[1]||(i[1]=d=>u.ordem.valor=d),disabled:""},null,8,["modelValue"])]),_:1}),e(E,null,{default:r(()=>[e(ee,{class:"mb-5 mr-5",label:"Forma",modelValue:l(g).forma,"onUpdate:modelValue":i[2]||(i[2]=d=>l(g).forma=d),items:l(N),"item-title":"descricao","item-value":"token"},null,8,["modelValue","items"]),v("div",po,[e(y,{modelValue:l(g).valor,"onUpdate:modelValue":i[3]||(i[3]=d=>l(g).valor=d)},null,8,["modelValue"])]),v("div",null,[v("img",{src:Ve,class:"ml-5",style:{cursor:"pointer",height:"40px",width:"40px"},onClick:G})])]),_:1})]),_:1}),Ao,e(_e,{headers:x,items:l(C),"item-value":"token"},{"item.forma":r(({item:d})=>[T(te(d.descricao),1)]),"item.actions":r(({item:d})=>[v("div",{style:{display:"flex","justify-content":"flex-end"},onClick:s=>D(d),title:"Remover"},_o,8,go)]),_:1},8,["items"])]),_:1}),v("div",Vo,[e(J,{class:"ml-8",size:"large",onClick:k,color:"red"},{default:r(()=>[T("Voltar")]),_:1}),Number(u.ordem.valor)>0?(z(),X(J,{key:0,class:"ml-6 mb-6",size:"large",color:"green",onClick:n},{default:r(()=>[T("Salvar")]),_:1})):(z(),X(J,{key:1,size:"large",class:"ml-6 mb-6",color:"green",onClick:Q},{default:r(()=>[T("Salvar")]),_:1}))])]),_:1}),e(c,{modelValue:l(p),"onUpdate:modelValue":i[4]||(i[4]=d=>ae(p)?p.value=d:null),faltaReceber:l(L),onClose:i[5]||(i[5]=d=>p.value=!1),onConfirmar:Q},null,8,["modelValue","faltaReceber"])]),_:1},8,["modelValue"])}}},Co=v("h1",null,"Cancelamento da OS nº",-1),ho={style:{color:"red","margin-left":"18px"}},xo={class:"mb-5",style:{display:"flex","justify-content":"flex-start"}},ko={class:"ml-6"},yo={class:"ml-6"},Oo={__name:"Ordem",props:{show:Boolean,numero_os:Number,ordemserv_token:String},emits:["close"],setup(o,{emit:F}){const u=o,A=m(u.show),f=se();m(P("user-data").value.cartorio_token).value;const p=P("auth_token").value,w=`${f.public.managemant}/analisaCancelamento`,B=`${f.public.managemant}/cancelaOs`,_=re({motivo:null}),U=m(null),N=F,L={motivo:{required:eo.withMessage("O campo é obrigatorio",oo)}},C=ao(L,_);H(()=>u.show,x=>{A.value=x});const h=()=>{A.value=!1,N("close")};(async()=>{const{data:x,error:k}=await M(`${w}`,{method:"POST",body:{ordemserv_token:u.ordemserv_token}},"$1fnrIk2fgs");U.value=x.value.mensagem})();const I=async()=>{if(await C.value.$validate()){const{status:x}=await M(`${B}`,{method:"POST",body:{usuario_token:p,motivo:_.motivo,ordemserv_token:u.ordemserv_token}},"$21WlhUNXeM");x.value==="success"&&(window.location.reload(),h())}};return(x,k)=>(z(),X(ue,{persistent:"",modelValue:l(A),"onUpdate:modelValue":k[1]||(k[1]=n=>ae(A)?A.value=n:null),"max-width":"650"},{default:r(()=>[e(oe,null,{default:r(()=>[e(j,null,{default:r(()=>[e(E,{class:"mb-5 mt-1 ml-2"},{default:r(()=>[Co,v("h1",ho,te(u.numero_os),1)]),_:1}),e(j,null,{default:r(()=>[e(oe,{variant:"outlined",class:"mb-5"},{default:r(()=>[e(Be,null,{default:r(()=>[T(te(l(U)),1)]),_:1})]),_:1}),e(so,{label:"Motivo",modelValue:l(_).motivo,"onUpdate:modelValue":k[0]||(k[0]=n=>l(_).motivo=n),required:"","error-messages":l(C).motivo.$errors.map(n=>n.$message),onBlur:l(C).motivo.$touch,onInput:l(C).motivo.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),v("div",xo,[v("div",ko,[e(J,{size:"large",color:"red",onClick:h},{default:r(()=>[T("Fechar")]),_:1})]),v("div",yo,[e(J,{size:"large",color:"green",onClick:I},{default:r(()=>[T("Salvar")]),_:1})])])]),_:1})]),_:1},8,["modelValue"]))}},Bo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAABVCAYAAAA49ahaAAAACXBIWXMAABOvAAATrwFj5o7DAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAADWFJREFUeJztnXtwVOd5xp/nO2d3xQohrgYXM8Rjxm2ZkMQRCRHBJNrVBUiBJgxqbULjC5YZ125N49aTJq5MnbppXbeJmRgkoNOp7diFOoVgY5CQhDEVTIJMgpk0deykriEO4SbQBUm753v6x0oUS7vsCvasxOU3s//sfpf3PPud873f7T2UhGRwNd254xZOwYjuexzLMlpNAzVKoAuJJJPmu6oQIEKE4gDPiniXRH08FNq45xfb3le14smyMZmoJbXz5xjFl4AmAmCygHxCAQGGuBbU/DCCRMAKjBHoAHAUso2W8Zebqpr29k//IVEXrFkwqiMYK3VplgOaDXIChGtOxPRIAI4Dao4Lz+X3BHZtf2j72b5fz4u6YM2CUV7QmxWjngD4SQKBoTL5SkFSDOBB19Njrufu7xPW9CVod3rKY9A3Ac4EdF3QTCACIIriLv663ekp7/vaAIlnaMB1loG8DZDD63d8RiR0kgPgkwGXy0pqS+YAgMvVdCOTSpeAnE0wgOSCWkndBM/IoIOiB3nJ3YarCToU5cAiH1AhyRAuuLuBPmERADDbwP0lwWbOXbPwZjfYvQXEjGSdkiSBPAGimTIvxMIde98IvXFSS9WTmysbOljJ4O2Lbh/ndI2YS6s7BRRTGJ/Mn0x4Bzh8ui2+yMWI7nvgYXJKQQ0P0WpdLNy1tbOz80zLl1u6BNncXNbQok3qIXmsqKZoWzgc3hPszFsk8gEBM9jvllaiBU8uLDB3u45lmaD8JDe9BXmSVuvOjQ1ta15a90GOrmVYIckC6ATQOXvdwlfCphvW4gkajkO/R4GgfIgVhlbTkrlPkrpBNMfyu7Y2L912NEfXMKxpXrntKIzdQoN9grr7/04gQGKaATFKkBmYgGcUw4udnZ1ncmPylUGrbW2zcbwEcYAuiREnCl0AbrKhpww6utW2t6WqpSsn1ibh8+vLlzvAp/t/T5hTwZvM09vn//8oJle0VLV0ferZ8r0jiY6BdpEAXFcQk/mlFL194/YdH8pOyRH/HMCM/t8LirnH3BcB5FxUQZYTKo9FTp2OgwNucAiiSenoy9O14DZdClq6qQfGJG1sBDFQ6utcNsNWVJIGw9i+i+EOtQF9lKwuycPk4GJjuQTUrEhN+UQAoRTJAx2x7h9HaypOE/w5jPY6Pdha92Ddj3r9yiFlyEWNboxOlRf4K3NjcAksRiXm2jPIKIRATBI0CcLt8QAfLVlXdqp0XcWrjNnv1D9Uf9B341MwZKLOrJ0ZLsSYbwLu/YQNp5jIGQQyJMcL+IpCZllk/fwDruNV191TV5cVgwfBkDyzStd/6dZCjP8RZFYByIKgF5AoyiXsZzzPbI/Ulu8urSmdnr0K0pNzUcs2lt0GdewDNN3XaVsBkByCn4Nxfhitmfdo5ebKoI81nienopauL73V80yDgLG5rFdCPmj/9tSps6+Ubiid6Hd9ORN1wZoFoyB3G4Exuarzw5CCyhQ3r5X8S8loP2vKiagkzbk8PSbo1swzSbi4HzD4lQcCMDgyIX9C56DzDoKciBrZEJlC2T/OMLkVdMCJYRnE/0qWgEJcwtcBbhZwWsx0IZ1H3BFcsWnpJl+H3zkR1djggwRGXDRRQpRzIu5rrKr7VN0DdS8C8pIlFaGRodB/NFTtqBw/pnCSC30F4k97W3eqCnqM8ZbuXL7zN5dzLZngu5/60c2VIydKf5guHYEe4+r3B+tX9ra65wA8F9kwb7HxtEbElP6Fw5qv16/YsX8wZV8qvrfUCWePf0TSpHTpJD57uY5644odW8eOLZwm2acAnB+uUtw199ezvn05ZQ8G30VlV+gWQ178jiC6rNO9MRv1bVq6qafx/vq/MMZ+FsAZkCdacWJxdXV10s1kfuC7qI6rGUrbUbOtzWv7RTbrrV9Rv5/G+21ruksOVB3wtbfvj+/PVEs7Nu1/58GXv3fXil3HABzLfskXx//en0zvvlCjwl54mu+25AjfRRX5q7SJiFCA4UeYbNHnCsT3izDWeyujhI7ujNaW/X3J6pI8n03yHd+fqbGe8P84we5zaZ1/wRH4Z5wUiJZtLPvGmFFj6v22zS98b6mRk0XvkzqcYXLS8BPWOltPnT77FsnJvhrnE76LWl1dHXcNn0SmEyC986CCbpWU0ynCbJGT5ZSeIz07eGPghyRnXcLc0kAotz3W/a3SZxc8b+Lxn8ROx95vqm4asp00/clJb9tU3dRFp+APBLVmpUCRFBbL9TZ7I3iIvxV6K1pb9o+lNaXTS3YPfUeXMxem4d6X33OMIgCzu1VHyKM0DTCrROeQ+XnwcHTjvEf9noi+GDn1C+vvrT8YHhOYTuBdn6pwINxCT99iLPi/0ZqKJ1avXp3zFeOcO9vblm47uqtq5zQDuxqJzbRZRwAoFID4xhs37jtaUVMx1496UjFkI5j6qvrHQ93OjQb8NojTfh3LFHRDnGyK1FR8LVcjtiEdFm5/aPvZ+qodq0Jdzke8GOZbsAlER/b1lSHxN5Ga8tW5EHbIt/0ACXEB7CBYF90QnRDzTJFLLofwRTDlfqrBQhh+LVI77xCqsDlLZSZlWIjahyCLFTgGYDuA7ZGaircIfDR7FciB9EzphtI9vdOCvjCsZ4WYcomaFsAhEW1IcbQ+daGYJLp3Xa5tF2NYi5oaeZR3B018BsA/gfg2L1iTSp8bK/x0ta5QUYFwKGwb7m14r+H+nWvO8MRttFwJ4GQmeQndtPum3b/jl21XrKgXcqDqQGf9yh3rY3kmIuhE2gxUiArd4pc9V4Wofez5o9cOycOqNNuFAJHG2rTL5pfKVSUqAHgFBQ0U29Klk4xvcwM5FbVsY9kXImt/r8jPOiaFnDZB7enSGfp3nClnos5dO/9j1pp/pxv7z2hNdGHv6ZOs03W6Kw9KP2AgM3j2XiI5EbXiHypucI3dCSEPQkh0t0ZqSp/2Y2dzu9c+FWS6PbCWlr/Odt19+C7qzNqZ4VihtpI43zEQIGgePnm69e2S2vlzslUXV9NFwP07JDnAfCEiOoJjgz/NVr398VVUgmY0xz5D8TMDfhQAcKoDvR6pLd/92fXln7isukgTmVz+OMRIerv0s20+Hrf3dexfWlv+pwLuvlgaQYbg50YILdHaisNwtXZcwejnNy3dlLaz6SO6MTo1WluxVlbz+keMGFgfAHBdpmVfCr6JWvHdilk2gCeR4d0gwID4GGJce7L1zD9Faiv+G8CU5AoJbZ3dH49sqCg3Hr8IusWSQhntpiaOdLW3bcn8SgaPfy31HH4pVz8mk9z6qRAS7UzII/Dx1OkYMC6/B4miElJmIKgAWegvm1c1n8rYpkvAt2fqzkd2/kah2HwAL/XOKmUPAoDMYEPm0WrLDaNH/1tWbUmCrx1V011NrXM/mL3cWKwEMNRhQ948d67d90MUQI52qNSv3LGe9D4N4hUkdqPmFFH73bOY7/dt30fORlS77tv1dmNV3WLj2MUAfjKY+c9LhoiJqtGvYiU7H/H/VEofOV1O6T2L/yqAVxMnSfCwqGIBoWyu9RHwBL0JN/hw492vNGex6IwYsjWqxhU7tgLYGn06OhVhZxkcLpHwu4YMJQvplAFWxFmK9R74TFPVawOCxeaKIV/4a/hqw3sAngTwZOXmymBre2txrFufN+R0GH4BQn6KrCdBHJf0LsWD8OKvNT3QuH84hMwbclEvpLdnfr33g2htxSEkCaEEIJYfDM35wV0/+Fku7cuUq26SejhwXVQfMClXc+iQlcxJJIcrjcrNlUFYm7RBCoLbu0g2MNYf5RRHiieQ/GCowhJ51FOpYv3FJ8bTHyXyAYKm/Hj5RLnGTeoGEnIBxAUNDKJokR9yC+YU1RRtg09bHtOx+76655A4IT1sKKotyusJYjY95PdvioIEIW4gnE0+ulEhre4Mh8OFuTH3ymC0GV1A4Q5QA3QhYEGcMaLeERAbkIAMCSgOduYtmr1u4RV59CbbzF63cHI8zkX0NNuAAxYXBcZg8Y5Lw12wmAag/wEEQ2G8yAfCphulG0q3tNrWtpb7W7qGQ+i3XEHSFNUU5Y02owuC4ALHmAcFjEeSfohAJ2HrOPdfF97snuveAmgGkgWnBSSrEzTYZ+N4qce079k3bt/xayEMKCsZLI4UTwi5BXMo3EFPs2U4PsWSjRVwmG3xRcTjcCOTSp8CeSfAG1KUbwV1QzwD2g5axOEkjx96VWFByQZAkw+q0IAhpfLtiWOe7Pder9r1iKtqxUtqS14m3ZthsQBEIEmgWkNwBIgRgEkUe/W/OiGxln5+z0fyDVpKvF8pRth9RPz7ghIObFNV014T0/PG8CBFL30kiesACUFJeqDejMX1Qt9rlM435aAXrDOO85iAFoADvIHrJEGMCWpR3Dw+0gueD6oz4H1U7U5PuWucL9OomOD4lM+QaxsL6ATA5ljce2GkF6xL+j6qCympLZlj4H4JMFEAk3vfWBEQaXgNvvRLgEhYCTECnQKOWNgGwv1+ssnwpKICiTHubU9HphQWmLshVpCYRqEQZMow9lcdiVkRSYiDOgPhHQNbp3b9c+NXG99PNSH+fzZMXGHcTk4pAAAAAElFTkSuQmCC",Ro=v("h1",null,"Ordens de Serviço",-1),So=v("hr",{class:"mt-5 mb-5"},null,-1),Fo=["title","onClick"],Uo=["onClick","title"],Io=["disabled","onClick"],No={key:0,style:{width:"30px",height:"30px"},src:no,alt:"Visualizar",title:"Bloqueado"},Go={key:1,src:$e,alt:"Cancelamento",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Cancelamento"},jo={__name:"index",setup(o){const F=se(),u=`${F.public.managemant}/listarUsuarios`,A=`${F.public.managemant}/listarOrdensServico`,f=`${F.public.managemant}/tipoAtos`,p=Ke(),w=m(P("auth_token").value)||null,B=m(P("user-data").value.cartorio_token)||null,_=m([]),U=m([]),N=m([]),L=m(["PENDENTE","EM ANDAMENTO","CONCLUÍDA","LAVRADA"]),C=m(!1),h=m(!1),g=m(null),I=m(null),x=m(null),k=m({}),n=re({numero:null,data_inicio:Y(),data_fim:Y(),data_lavratura_inicio:null,data_lavratura_fim:null,protocolo:null,livro:null,folha:null,situacao:null,usuario_token:w.value,selo:null,ato_tipo_token:null,apresentante:null}),Q=[{title:"Número",value:"numero"},{title:"Situação",value:"situacao"},{title:"CPF",value:"apresentante_cpf"},{title:"Apresentante",value:"apresentante_nome"},{title:"Usuario",value:"usuario_nome"},{title:"Data Recebimento",value:"dt_pagto"},{title:"Valor",value:"valor"},{value:"actions"}];function Y(){const s=new Date,a=s.getFullYear(),V=String(s.getMonth()+1).padStart(2,"0"),R=String(s.getDate()).padStart(2,"0");return`${a}-${V}-${R}`}async function Z(){const{data:s,error:a}=await M(u,{method:"POST",body:{cartorio_token:B.value}},"$pAAptWJdb1");U.value=s.value}async function G(){try{sessionStorage.setItem("pesquisaOS",JSON.stringify(n));const{data:s,error:a}=await M(A,{method:"POST",body:{cartorio_token:B.value,numero:n.numero||null,data_inicio:n.data_inicio||null,data_fim:n.data_fim||null,data_lavratura_inicio:n.data_lavratura_inicio||null,data_lavratura_fim:n.data_lavratura_fim||null,protocolo:n.protocolo||null,livro:n.livro||null,folha:n.folha||null,situacao:n.situacao||null,usuario_token:n.usuario_token,selo:n.selo||null,ato_tipo_token:n.ato_tipo_token,apresentante:n.apresentante||null}},"$IO02J210Z9");s.value.length>0?_.value=s.value:_.value=[]}catch(s){console.error("Erro na requisição",s)}}async function D(){const{data:s,error:a}=await M(f,{method:"POST",body:{cartorio_token:B.value,usuario_token:w.value}},"$YgUhKRJlsV");N.value=s.value}const b=async()=>{try{const s=Y(),a=sessionStorage.getItem("pesquisaOS"),V=JSON.parse(a),{data:R,error:W}=await M(A,{method:"POST",body:{cartorio_token:B.value,usuario_token:w.value,data_fim:(V==null?void 0:V.data_fim)||s,data_inicio:(V==null?void 0:V.data_inicio)||s}},"$xKnfARCL4G");R.value.length>0?(_.value=R.value,console.log(_.value)):_.value=[]}catch(s){console.error("Erro ao buscar serviços",s)}};Z(),D();function i(s,a,V){x.value=s,I.value=a,h.value=!0}function y(s){const a=P("user-service"),V=_.value.find(R=>R.id===s);a.value=a.value=JSON.stringify({id:V.id,token:V.token}),p.push({path:`/os/atualizar/${s}`})}function c(s,a){x.value=s,k.value={token:a.token,numero:a.numero,valor:a.valor,valor_pago:a.valor_pago},C.value=!0}const d=()=>{const s=P("user-service"),a=P("ordem-button");s.value=null,g.value=!0,a.value=g.value};return be(()=>{$(async()=>{const s=sessionStorage.getItem("pesquisaOS");if(s){const a=JSON.parse(s);Object.assign(n,a)}await b()})}),(s,a)=>{const V=ke,R=wo,W=Oo;return z(),X(j,{class:"mt-5"},{default:r(()=>[e(E,{class:"mb-5"},{default:r(()=>[Ro,e(V,{to:"/os/criar-registro"},{default:r(()=>[v("img",{style:{width:"60px",height:"60px",cursor:"pointer","margin-left":"70px"},src:Ve,alt:"novo",onClick:d})]),_:1})]),_:1}),e(E,{style:{"margin-bottom":"-35px"}},{default:r(()=>[e(O,null,{default:r(()=>[e(S,{modelValue:l(n).numero,"onUpdate:modelValue":a[0]||(a[0]=t=>l(n).numero=t),label:"Número",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(S,{modelValue:l(n).data_inicio,"onUpdate:modelValue":a[1]||(a[1]=t=>l(n).data_inicio=t),type:"date",label:"Abertura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(S,{modelValue:l(n).data_fim,"onUpdate:modelValue":a[2]||(a[2]=t=>l(n).data_fim=t),type:"date",label:"Abertura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(S,{modelValue:l(n).data_lavratura_inicio,"onUpdate:modelValue":a[3]||(a[3]=t=>l(n).data_lavratura_inicio=t),type:"date",label:"Lavratura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(S,{modelValue:l(n).data_lavratura_fim,"onUpdate:modelValue":a[4]||(a[4]=t=>l(n).data_lavratura_fim=t),type:"date",label:"Lavratura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[e(S,{modelValue:l(n).protocolo,"onUpdate:modelValue":a[5]||(a[5]=t=>l(n).protocolo=t),label:"Protocolo",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(O,{md:"1"},{default:r(()=>[e(S,{modelValue:l(n).livro,"onUpdate:modelValue":a[6]||(a[6]=t=>l(n).livro=t),label:"Livro",style:{width:"80px"}},null,8,["modelValue"])]),_:1}),e(O,{md:"1"},{default:r(()=>[e(S,{modelValue:l(n).folha,"onUpdate:modelValue":a[7]||(a[7]=t=>l(n).folha=t),label:"Folha",style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(E,null,{default:r(()=>[e(O,{md:"3"},{default:r(()=>[e(ee,{modelValue:l(n).situacao,"onUpdate:modelValue":a[8]||(a[8]=t=>l(n).situacao=t),items:l(L),label:"Situação"},null,8,["modelValue","items"])]),_:1}),e(O,{md:"2"},{default:r(()=>[e(ee,{items:l(U),modelValue:l(n).usuario_token,"onUpdate:modelValue":a[9]||(a[9]=t=>l(n).usuario_token=t),"item-title":"user_nome","item-value":"user_token",label:"Usuario"},null,8,["items","modelValue"])]),_:1}),e(O,{md:"1"},{default:r(()=>[e(S,{modelValue:l(n).selo,"onUpdate:modelValue":a[10]||(a[10]=t=>l(n).selo=t),label:"Selo"},null,8,["modelValue"])]),_:1}),e(O,{md:"3"},{default:r(()=>[e(ee,{modelValue:l(n).ato_tipo_token,"onUpdate:modelValue":a[11]||(a[11]=t=>l(n).ato_tipo_token=t),items:l(N),"item-title":"descricao","item-value":"token",label:"Serviço"},null,8,["modelValue","items"])]),_:1}),e(O,{md:"2"},{default:r(()=>[e(S,{modelValue:l(n).apresentante,"onUpdate:modelValue":a[12]||(a[12]=t=>l(n).apresentante=t),label:"Apresentante"},null,8,["modelValue"])]),_:1}),e(O,null,{default:r(()=>[v("div",null,[v("img",{onClick:G,style:{width:"40px",height:"40px",cursor:"pointer"},src:to,alt:"Pesquisar"})])]),_:1})]),_:1}),So,e(_e,{headers:Q,items:l(_),"item-key":"id"},{"item.actions":r(({item:t})=>[e(E,{style:{display:"flex",gap:"10px","margin-top":"-5px"}},{default:r(()=>[v("div",{class:Ae({disabled:!t.btn_receber}),title:t.btn_receber?"Receber":"Bloqueado",onClick:q=>t.btn_receber?c(t.numero,t):null},[v("img",{style:pe({cursor:t.btn_receber?"pointer":"default",width:"30px",height:"30px"}),src:Bo,alt:"Receber"},null,4)],10,Fo),v("div",{class:Ae({disabled:!t.btn_editar}),onClick:q=>t.btn_editar?y(t.id):null,title:t.btn_editar?"Editar":"Bloqueado"},[v("img",{style:pe({cursor:t.btn_editar?"pointer":"default",width:"30px",height:"30px"}),src:lo,alt:"Editar"},null,4)],10,Uo),v("div",{disabled:!t.btn_cancelar,onClick:q=>t.btn_cancelar?i(t.numero,t.token):null,title:"Cancelamento"},[t.excluido?(z(),ge("img",No)):(z(),ge("img",Go))],8,Io)]),_:2},1024)]),_:1},8,["items"]),e(R,{show:l(C),numero_os:l(x),ordem:l(k),onClose:a[13]||(a[13]=t=>C.value=!1)},null,8,["show","numero_os","ordem"]),e(W,{show:l(h),numero_os:l(x),ordemserv_token:l(I),onClose:a[14]||(a[14]=t=>h.value=!1)},null,8,["show","numero_os","ordemserv_token"])]),_:1})}}};export{jo as default};
