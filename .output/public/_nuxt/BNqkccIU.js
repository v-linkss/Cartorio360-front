import{_ as X}from"./B8E4Yk0y.js";import{V as p,a as Y,b as _,c as Z,_ as h,d as ee,e as ae,f as oe}from"./Bi282oSp.js";import{_ as te,r as le,u as se,n as de,E as ie,D as N,F as ne,G as me,o as b,A as $,w as o,x as ue,H as re,a as g,t as D,q as n,b as e,d as f,v as A,ac as ce,c as pe,C as T,s as m,I,p as _e,e as fe}from"./D5VOzlVn.js";import{a as Ve,u as ve}from"./DsS5FBw2.js";import{_ as be}from"./ToPptOUL.js";import{u as Ce,V as C,_ as ge}from"./Cxcqav-B.js";import{a as xe}from"./CVcwomT3.js";import{V as B}from"./CuEkq3d2.js";import{V as r}from"./DRT9Tz3w.js";import{V as i}from"./DLEAhXhf.js";import"./BUe_X6z7.js";import"./DFD-PcG3.js";import"./iq-OhJk-.js";const ye=V=>(_e("data-v-d0dac443"),V=V(),fe(),V),Pe={style:{"background-color":"#c8fcca",color:"#429946",padding:"10px 0px 0px 20px"}},Ue={style:{"background-color":"#c8fcca",padding:"20px 0px 20px 20px"}},$e={key:1},Ie=ye(()=>g("img",{class:"btn-pointer",src:be,alt:"Sair"},null,-1)),ke={__name:"[id]",emits:["saved"],async setup(V,{emit:Fe}){let v,k;const u=le(null),R=se(),{$toast:S}=de(),E=ie(),{id:x}=E.params,c=ue(),M=`${c.public.managemant}/updatePessoa`,z=`${c.public.managemant}/listarEstadoCivil`,L=`${c.public.managemant}/listarCapacidadeCivil`,q=`${c.public.managemant}/listarCidades`,W=`${c.public.managemant}/getPessoaById`,j={nome:"",nome_pai:"",nome_mae:"",profissao:"",data_nascimento:"",doc_identificacao:"",cpf_pai:"",cpf_mae:"",tipo_pessoa:"FISICA",tabvalores_estadocivil_id:"",tabvalores_capacidadecivil_id:"",cidade_natural_id:"",cartorio_id:N("user-data").value.cartorio_id,user_id:N("user-data").value.usuario_id},l=ne({...j});function G(s){if(s)return s.replace(/[.\-]/g,"");s=null}const{data:y,status:we,pending:F,error:w}=([v,k]=me(async()=>Ve("cliente-dados",async()=>{const[s,a,d,P]=await Promise.all([$fetch(z),$fetch(L),$fetch(q),$fetch(`${W}/${x}`)]);return Object.assign(l,P),{estadoCivilItems:s,capacidadeCivilItems:a,cidadeNascimentoItems:d}})),v=await v,k(),v);Ce(l);function H(s){const a={};for(const d in s)s[d]===""?a[d]=null:d==="doc_identificacao"||d==="cpf_pai"||d==="cpf_mae"?a[d]=G(s[d]):a[d]=s[d];return a}async function O(){const s=H(l);await ve(`${M}/${x}`,{method:"PUT",body:s},"$NdF8Uiv290"),S.success("Pessoa atualizada com sucesso!"),R.push("/pessoas/registros")}return(s,a)=>{const d=X,P=h,J=ee,K=ae,Q=oe,U=re("mask");return b(),$(xe,{width:"1300"},{default:o(()=>[g("h1",Pe,D(n(x)?"Atualização de Pessoas":"Cadastramento de Pessoas"),1),g("div",Ue,[e(C,{modelValue:l.tipo_pessoa,"onUpdate:modelValue":a[0]||(a[0]=t=>l.tipo_pessoa=t),style:{width:"200px"},items:s.pessoa_tipo,label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:""},null,8,["modelValue","items"])]),e(Y,{modelValue:n(u),"onUpdate:modelValue":a[1]||(a[1]=t=>A(u)?u.value=t:null),"bg-color":"#C8FCCA"},{default:o(()=>[e(p,{value:"dados"},{default:o(()=>[f("Dados")]),_:1}),e(p,{value:"documento"},{default:o(()=>[f("Documentos")]),_:1}),e(p,{value:"endereco"},{default:o(()=>[f("Endereços")]),_:1}),e(p,{value:"biometria"},{default:o(()=>[f("Biometria")]),_:1}),e(p,{value:"restricao"},{default:o(()=>[f("Restrições")]),_:1})]),_:1},8,["modelValue"]),e(Z,{modelValue:n(u),"onUpdate:modelValue":a[15]||(a[15]=t=>A(u)?u.value=t:null)},{default:o(()=>[e(_,{value:"dados"},{default:o(()=>[n(F)?(b(),$(ce,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):n(w)?(b(),pe("div",$e,D(n(w).message),1)):T("",!0),n(F)?T("",!0):(b(),$(B,{key:2,class:"mt-5"},{default:o(()=>[e(r,null,{default:o(()=>[e(i,{cols:"12",md:"8"},{default:o(()=>[e(m,{modelValue:l.nome,"onUpdate:modelValue":a[2]||(a[2]=t=>l.nome=t),label:"Nome"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[I(e(m,{modelValue:l.doc_identificacao,"onUpdate:modelValue":a[3]||(a[3]=t=>l.doc_identificacao=t),label:"CPF",required:""},null,8,["modelValue"]),[[U,"###.###.###-##"]])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[e(C,{modelValue:l.tabvalores_estadocivil_id,"onUpdate:modelValue":a[4]||(a[4]=t=>l.tabvalores_estadocivil_id=t),items:n(y).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(m,{modelValue:l.profissao,"onUpdate:modelValue":a[5]||(a[5]=t=>l.profissao=t),label:"Profissão"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(m,{modelValue:l.local_trabalho,"onUpdate:modelValue":a[6]||(a[6]=t=>l.local_trabalho=t),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[e(m,{modelValue:l.data_nascimento,"onUpdate:modelValue":a[7]||(a[7]=t=>l.data_nascimento=t),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(C,{modelValue:l.tabvalores_capacidadecivil_id,"onUpdate:modelValue":a[8]||(a[8]=t=>l.tabvalores_capacidadecivil_id=t),items:n(y).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(C,{modelValue:l.cidade_natural_id,"onUpdate:modelValue":a[9]||(a[9]=t=>l.cidade_natural_id=t),items:n(y).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[I(e(m,{modelValue:l.cpf_pai,"onUpdate:modelValue":a[10]||(a[10]=t=>l.cpf_pai=t),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[U,"###.###.###-##"]])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(m,{modelValue:l.nome_pai,"onUpdate:modelValue":a[11]||(a[11]=t=>l.nome_pai=t),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[I(e(m,{modelValue:l.cpf_mae,"onUpdate:modelValue":a[12]||(a[12]=t=>l.cpf_mae=t),modelModifiers:{date:!0},label:"CPF da Mãe"},null,8,["modelValue"]),[[U,"###.###.###-##"]])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(m,{modelValue:l.nome_mae,"onUpdate:modelValue":a[13]||(a[13]=t=>l.nome_mae=t),modelModifiers:{date:!0},label:"Nome da Mãe"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(d,{to:"/pessoas/registros"},{default:o(()=>[Ie]),_:1}),g("img",{class:"btn-pointer",src:ge,onClick:a[14]||(a[14]=t=>O())})]),_:1})]),_:1}))]),_:1}),e(_,{value:"documento"},{default:o(()=>[e(P)]),_:1}),e(_,{value:"endereco"},{default:o(()=>[e(J)]),_:1}),e(_,{value:"biometria"},{default:o(()=>[e(B,{class:"mt-5"},{default:o(()=>[e(K)]),_:1})]),_:1}),e(_,{value:"restricao"},{default:o(()=>[e(Q)]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},je=te(ke,[["__scopeId","data-v-d0dac443"]]);export{je as default};
