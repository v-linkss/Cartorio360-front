import{_ as pe,a as _e,b as ve,c as fe,d as ye,e as Ve}from"./pQBYeHjq.js";import{_ as ge}from"./ChpN7W8P.js";import{_ as te}from"./CHX0wQFs.js";import{_ as oe}from"./BVz1G1IN.js";import{_ as ae}from"./BgQMh2P3.js";import{_ as le,a as se,b as ie}from"./DyxRs9vo.js";import{B as ne,G as Q,u as be,r as m,m as K,C as xe,H as N,o as S,E as re,w as a,b as e,v as l,a as n,t as ue,c as F,I,d as _,J as $e,z as J,s as X,p as ke,V as Z,K as Ce,F as we}from"./Cm2qawq4.js";import{u as E}from"./BwiqaWx8.js";import{V as k}from"./CakaMPFd.js";import{V as ee}from"./CB8xsDNX.js";import{V as C}from"./DE1X9ztL.js";import{V as H}from"./D-K3Ocaa.js";import{V as de}from"./DwQMd6rp.js";import{V as Ae,a as ce,b as Pe,c as Te,d as Be}from"./pFt7emYK.js";import{V as me}from"./KAiuM7Yc.js";import{_ as he,a as ze}from"./BJp4Iefj.js";import{f as L}from"./CbY73pMP.js";import{V as Oe,a as P,b as Ue,c as T}from"./C1T8G2sy.js";import"./Bc1w8Bmk.js";import"./DpM2OOrS.js";import"./CdP3NN9a.js";import"./8Y6_f4F1.js";import"./BrubndAB.js";import"./BRkP5OV8.js";import"./7ZCn_wWy.js";import"./DcdBVpdl.js";const De={style:{width:"800px","font-weight":"500"}},Ie=["onClick"],Se=["onClick"],Me=["onClick"],Re={key:0,style:{width:"30px",height:"30px"},src:se,alt:"Reativar",title:"Reativar"},qe={key:1,src:ie,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Ee={__name:"Bens",async setup(Y){let r,v;const w=ne(),y=Q(),p=X(),{$toast:g}=be(),V=`${p.public.managemant}/atos_bens`,b=`${p.public.managemant}/atos_bens`,A=`${p.public.managemant}/listarBens`,B=`${p.public.managemant}/listarTipoBens`,h=m(K("user-data").value.cartorio_token),z=m(K("user-data").value.usuario_id).value,x=m([]),c=m([]),f=m(!1),R=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"vlr_alienacao"},{align:"end",value:"actions"}],d=xe({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),j=async()=>{if(!d.vlr_alienacao&&!d.descricao){g.error("Os campos Descrição e Valor são Obrigatorios!");return}const{data:u,status:t}=await E(`${V}`,{method:"POST",body:{descricao:d.descricao,tipo_id:d.tipo_id,valor_mercado:"0.00",vlr_alienacao:d.vlr_alienacao,user_id:z,ato_id:Number.parseInt(y.query.ato_id),token:y.query.ato_token_edit}},"$aGIwRtPn6M");t.value==="success"&&(g.success("Bem registrado com sucesso!"),x.value.push(u.value),Object.assign(d,{vlr_alienacao:null,descricao:null,tipo_id:null}))},M=async u=>{const{status:t}=await E(`${b}/${u}`,{method:"PUT",body:{descricao:c.value.descricao,tipo_id:c.value.tipo_id,vlr_alienacao:c.value.vlr_alienacao}},"$4hUMyAQlzU");t.value==="success"&&(g.success("Bem Atualizado com sucesso!"),f.value=!1)},q=u=>{const t=x.value.find($=>$.id===u);t&&(c.value=t,f.value=!0)},{data:s}=([r,v]=N(()=>E(`${B}`,{method:"POST",body:{cartorio_token:h.value,imoveis:!1}},"$da802I2H8c")),r=await r,v(),r);d.tiposBens=s.value;const{data:o}=([r,v]=N(()=>E(`${A}`,{method:"POST",body:{ato_token:y.query.ato_token_edit}},"$iXfJJrO35d")),r=await r,v(),r);x.value=o.value&&Object.keys(o.value).length===0?[]:o.value;async function O(u){u.excluido=!u.excluido;try{await E(`${b}/${u.id}`,{method:"PUT",body:JSON.stringify({excluido:u.excluido})},"$PGKHfsa7Pl")}catch(t){console.error("Erro ao excluir pessoa:",t)}}const U=()=>{const u=y.query.origem||"criar",t=y.query.id;u==="atualizar"?w.push(`/os/atualizar/${t}`):w.push("/os/criar-registro")};return(u,t)=>{const $=ge,W=te;return S(),re(me,null,{default:a(()=>[e(k,{class:"mt-5",cols:"12"},{default:a(()=>[e(ee,{label:"Descrição",modelValue:l(d).descricao,"onUpdate:modelValue":t[0]||(t[0]=i=>l(d).descricao=i)},null,8,["modelValue"])]),_:1}),e(C,{class:"ml-1 mb-3"},{default:a(()=>[e(k,{class:"mt-6",cols:"8"},{default:a(()=>[e(H,{label:"Selecione o Tipo",items:l(d).tiposBens,modelValue:l(d).tipo_id,"onUpdate:modelValue":t[1]||(t[1]=i=>l(d).tipo_id=i),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(k,{class:"ml-5",cols:"3"},{default:a(()=>[t[9]||(t[9]=n("label",null,"Valor",-1)),e($,{modelValue:l(d).vlr_alienacao,"onUpdate:modelValue":t[2]||(t[2]=i=>l(d).vlr_alienacao=i)},null,8,["modelValue"])]),_:1}),n("div",null,[n("img",{class:"mt-7 ml-4",src:oe,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:j})])]),_:1}),e(C,null,{default:a(()=>[e(k,null,{default:a(()=>[e(de,{style:{height:"465px"},headers:R,items:l(x)},{"item.descricao":a(({item:i})=>[n("h3",De,ue(i.descricao),1)]),"item.actions":a(({item:i})=>[e(C,{style:{"margin-top":"-8px"},justify:"end"},{default:a(()=>[n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:G=>u.redirectToFicha(i),title:"Visualizar Ficha"},t[10]||(t[10]=[n("img",{style:{width:"30px",height:"30px"},src:ae,alt:"Visualizar"},null,-1)]),8,Ie),n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:G=>q(i.id),title:"Alterar Papel"},t[11]||(t[11]=[n("img",{style:{width:"30px",height:"30px"},src:le,alt:"Editar"},null,-1)]),8,Se),n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:G=>O(i),title:"Deletar Pessoa"},[i.excluido?(S(),F("img",Re)):(S(),F("img",qe))],8,Me)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(Ae,{modelValue:l(f),"onUpdate:modelValue":t[8]||(t[8]=i=>I(f)?f.value=i:null),"max-width":"600px"},{default:a(()=>[e(ce,null,{default:a(()=>[e(Pe,{style:{color:"green"}},{default:a(()=>t[12]||(t[12]=[_("Atualizar Bem")])),_:1}),e(Te,null,{default:a(()=>[e(k,{class:"mt-1",cols:"12"},{default:a(()=>[e(ee,{label:"Descrição",modelValue:l(c).descricao,"onUpdate:modelValue":t[3]||(t[3]=i=>l(c).descricao=i)},null,8,["modelValue"])]),_:1}),e(C,null,{default:a(()=>[e(k,{class:"mt-6 ml-3",cols:"8"},{default:a(()=>[e(H,{label:"Selecione o Tipo",items:l(d).tiposBens,modelValue:l(c).tipo_id,"onUpdate:modelValue":t[4]||(t[4]=i=>l(c).tipo_id=i),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(k,{class:"ml-5",cols:"3"},{default:a(()=>[t[13]||(t[13]=n("label",null,"Valor",-1)),e($,{modelValue:l(c).vlr_alienacao,"onUpdate:modelValue":t[5]||(t[5]=i=>l(c).vlr_alienacao=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(Be,null,{default:a(()=>[e($e),e(J,{color:"green",text:"",onClick:t[6]||(t[6]=i=>f.value=!1)},{default:a(()=>t[14]||(t[14]=[_("Cancelar")])),_:1}),e(J,{color:"green",text:"",onClick:t[7]||(t[7]=i=>M(l(c).id))},{default:a(()=>t[15]||(t[15]=[_("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(C,null,{default:a(()=>[e(W,{onClick:U},{default:a(()=>[e(J,{size:"large",color:"red"},{default:a(()=>t[16]||(t[16]=[_("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Le={style:{width:"200px"}},Ne={style:{width:"300px"}},Fe=["onClick"],je=["onClick"],Ge=["onClick"],Je={key:0,style:{width:"30px",height:"30px"},src:se,alt:"Visualizar",title:"Reativar"},He={key:1,src:ie,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},We={__name:"Imoveis",async setup(Y){let r,v;const w=X(),y=`${w.public.auth}/service/gerencia/atos_imoveis`,p=`${w.public.auth}/service/gerencia/atos_bens`,g=ne(),V=Q(),b=m(""),A=m(""),B=m(!1),h=m(!1),z=m(null),x=[{title:"Matrícula",value:"registro_matricula"},{title:"Descrição",value:"descricao"},{value:"actions"}],{data:c,status:f}=([r,v]=N(()=>L(y,{method:"POST",body:{ato_token:V.query.ato_token_edit}})),r=await r,v(),r),R=ke(()=>{if(Object.keys(c.value).length!==0)return c.value.filter(s=>{const o=s.matricula?s.matricula.toLowerCase():"",O=s.descricao?s.descricao.toLowerCase():"",U=o.includes(A.value.toLowerCase()),u=O.includes(b.value.toLowerCase());return U&&u})});async function d(s){s.excluido=!s.excluido;try{await L(`${p}/${s.id}`,{method:"PUT",body:{excluido:s.excluido}})}catch(o){console.error("Erro ao excluir pessoa:",o)}}function j(s){z.value=s,h.value=!0}const M=async()=>{await L(y,{method:"POST",body:{ato_token:V.query.ato_token_edit}})},q=()=>{const s=V.query.origem||"criar",o=V.query.id;s==="atualizar"?g.push(`/os/atualizar/${o}`):g.push("/os/criar-registro")};return(s,o)=>{const O=te,U=he,u=ze;return l(f)==="success"?(S(),re(me,{key:0,class:"mt-5"},{default:a(()=>[n("img",{onClick:o[0]||(o[0]=t=>B.value=!0),style:{cursor:"pointer"},src:oe,alt:"Cadastro"}),e(C,{style:{gap:"3rem"}},{default:a(()=>[n("div",Le,[e(Z,{class:"mt-7 mb-4",modelValue:l(A),"onUpdate:modelValue":o[1]||(o[1]=t=>I(A)?A.value=t:null),label:"Matrícula","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),n("div",Ne,[e(Z,{class:"mt-7 mb-4",modelValue:l(b),"onUpdate:modelValue":o[2]||(o[2]=t=>I(b)?b.value=t:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),e(de,{density:"compact",headers:x,items:l(R),"item-key":"id"},{"item.actions":a(({item:t})=>[e(C,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:a(()=>[n("div",{style:{cursor:"pointer"},onClick:$=>s.redirectToView(t.id),title:"Visualizar"},o[5]||(o[5]=[n("img",{style:{width:"30px",height:"30px"},src:ae,alt:"Visualizar"},null,-1)]),8,Fe),n("div",{style:{cursor:"pointer"},onClick:$=>j(t.id),title:"Atualizar"},o[6]||(o[6]=[n("img",{style:{width:"30px",height:"30px"},src:le,alt:"Atualizar"},null,-1)]),8,je),n("div",{style:{cursor:"pointer"},onClick:$=>d(t),title:"Deletar"},[t.excluido?(S(),F("img",Je)):(S(),F("img",He))],8,Ge)]),_:2},1024)]),_:1},8,["items"]),e(O,{onClick:q},{default:a(()=>[e(J,{size:"large",color:"red"},{default:a(()=>o[7]||(o[7]=[_("Voltar")])),_:1})]),_:1}),e(U,{onRefresh:M,show:l(B),onClose:o[3]||(o[3]=t=>B.value=!1)},null,8,["show"]),e(u,{onRefresh:M,imovel_id:l(z),show:l(h),onClose:o[4]||(o[4]=t=>h.value=!1)},null,8,["imovel_id","show"])]),_:1})):Ce("",!0)}}},Ke={class:"mb-10"},Qe={style:{color:"red","margin-left":"30px"}},kt={__name:"[id]",async setup(Y){let r,v;const w=m(null),y=m(null),p=m(null),g=X(),V=Q(),b=`${g.public.auth}/service/gerencia/listarSituacoes`,A=`${g.public.auth}/service/gerencia/getAtos`,B=m(K("user-data").value.cartorio_token),h=V.query.id?{ato_token:V.query.tipo_ato_token}:{cartorio_token:B},z=m([]),x=m([]),c=m("PROCURAÇÕES"),f=m("PROCURAÇÃO COM BENS");async function R(){try{const{data:s}=await L(`${A}/${V.query.ato_id}`,{method:"GET"});x.value=s.value}catch(s){console.log(s)}}[r,v]=N(()=>R()),await r,v();const{data:d,status:j}=([r,v]=N(()=>L(b,{method:"POST",body:h})),r=await r,v(),r);z.value=d.value;const M=s=>{w.value=s},q=s=>{y.value=s};return(s,o)=>{const O=pe,U=_e,u=Ee,t=We,$=ve,W=fe,i=ye,G=Ve;return S(),F(we,null,[n("div",Ke,[e(C,{class:"mb-5 mt-5"},{default:a(()=>[o[4]||(o[4]=n("h1",null,"Ordem de Serviço nº",-1)),n("h1",Qe,ue(l(V).query.numero_os),1)]),_:1}),e(C,null,{default:a(()=>[e(k,{md:"6"},{default:a(()=>[e(H,{class:"mr-5",modelValue:l(c),"onUpdate:modelValue":o[0]||(o[0]=D=>I(c)?c.value=D:null),disabled:""},null,8,["modelValue"])]),_:1}),e(k,{md:"6"},{default:a(()=>[e(H,{modelValue:l(f),"onUpdate:modelValue":o[1]||(o[1]=D=>I(f)?f.value=D:null),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),e(ce,{width:"1300"},{default:a(()=>[e(Oe,{modelValue:l(p),"onUpdate:modelValue":o[2]||(o[2]=D=>I(p)?p.value=D:null),"bg-color":"#f5f2f2"},{default:a(()=>[e(P,{value:"dados"},{default:a(()=>o[5]||(o[5]=[_("Dados")])),_:1}),e(P,{value:"partes"},{default:a(()=>o[6]||(o[6]=[_("Partes")])),_:1}),e(P,{value:"bens"},{default:a(()=>o[7]||(o[7]=[_("Bens")])),_:1}),e(P,{value:"imoveis"},{default:a(()=>o[8]||(o[8]=[_("Imoveis")])),_:1}),e(P,{value:"minuta"},{default:a(()=>o[9]||(o[9]=[_("Minuta")])),_:1}),e(P,{value:"livro"},{default:a(()=>o[10]||(o[10]=[_("Livro")])),_:1}),e(P,{value:"observacao"},{default:a(()=>o[11]||(o[11]=[_("Observações")])),_:1}),e(P,{value:"anexo"},{default:a(()=>o[12]||(o[12]=[_("Anexos")])),_:1})]),_:1},8,["modelValue"]),e(Ue,{modelValue:l(p),"onUpdate:modelValue":o[3]||(o[3]=D=>I(p)?p.value=D:null)},{default:a(()=>[e(T,{value:"dados"},{default:a(()=>[e(O,{item_dados:l(x),item_situacoes:l(z)},null,8,["item_dados","item_situacoes"])]),_:1}),e(T,{value:"partes"},{default:a(()=>[e(U)]),_:1}),e(T,{value:"bens"},{default:a(()=>[e(u)]),_:1}),e(T,{value:"imoveis"},{default:a(()=>[e(t)]),_:1}),e(T,{value:"minuta"},{default:a(()=>[e($,{onPage:M,onDoc:q})]),_:1}),e(T,{value:"livro"},{default:a(()=>[e(W,{pages:l(w),document:l(y)},null,8,["pages","document"])]),_:1}),e(T,{value:"observacao"},{default:a(()=>[e(i)]),_:1}),e(T,{value:"anexo"},{default:a(()=>[e(G)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{kt as default};
