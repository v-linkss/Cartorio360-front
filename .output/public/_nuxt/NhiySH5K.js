import{_ as A}from"./Cykzbz2B.js";import{_ as q}from"./DlVRPcVp.js";import{r as p,H as g,o as f,c as V,b as e,w as a,q as r,v as B,P as H,x as L,K as P,a as u,bP as R,s as h,y as b,d as y}from"./DmB7erS7.js";import{a as _}from"./BNKc9VId.js";import{_ as G,a as I}from"./HBU26js5.js";import{_ as M,a as O}from"./Bur82CR1.js";import{V as j}from"./B44yjN_N.js";import{V as J}from"./D_KemwPg.js";import{V as K}from"./DNgTeJdf.js";import{V as W,c as Z,b as Q,a as X}from"./DvR1iBE2.js";import{V as Y}from"./DpxhA7Hx.js";import{V as ee}from"./BFttnXmb.js";const te=u("img",{class:"btn-pointer",src:G,alt:"Cadastro"},null,-1),oe=["onClick"],le=["onClick"],ae={key:0,style:{width:"30px",height:"30px",cursor:"pointer","margin-left":"7px"},src:O,alt:"Visualizar",title:"Reativar"},se={key:1,src:I,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer","margin-left":"7px"},title:"Excluir"},re=u("span",{class:"text-h6"},"Editar Selo",-1),he={__name:"lista",async setup(ie){let i,d;const c=L(),C=`${c.public.managemant}/tipo-selos`,$=`${c.public.managemant}/tipo-selos`,w=`${c.public.managemant}/tipo-selos-delete`,S=`${c.public.managemant}/uf`,k=p([]),n=p(!1),v=p([]),t=p({id:null,uf:"",cor:"",descricao:"",vlr_compra:null}),{data:E}=([i,d]=g(()=>_(S,{method:"GET"},"$7yCH3mLdj9")),i=await i,d(),i);v.value=E.value;const{data:x}=([i,d]=g(()=>_(C,{method:"GET"},"$sAxng7NVFv")),i=await i,d(),i);k.value=x.value;const T=[{title:"ID",value:"id"},{title:"UF",value:"uf"},{title:"Cor",value:"cor"},{title:"Descrição",value:"descricao"},{title:"Valor",value:"vlr_compra"},{title:"Ações",value:"actions",sortable:!1}];function U(s){t.value={...s},n.value=!0}async function F(){try{const s={uf:t.value.uf,cor:t.value.cor,descricao:t.value.descricao,vlr_compra:t.value.vlr_compra};await _(`${$}/${t.value.id}`,{method:"PUT",body:s},"$fzpNhzhZeF"),location.reload(),n=!1}catch(s){console.error("Erro ao atualizar pessoa:",s)}}async function N(s){s.excluido=!s.excluido;const o=JSON.stringify({excluido:s.excluido});try{const{error:m}=await _(`${w}/${s.id}`,{method:"PUT",body:o},"$G6Nnl7TgWb")}catch(m){console.error("Erro ao excluir selo:",m)}}return(s,o)=>{const m=A,z=q;return f(),V(H,null,[e(j,null,{default:a(()=>[e(m,{to:"/tiposSelos/criar-selo"},{default:a(()=>[te]),_:1}),e(P,{items:r(x),headers:T,"item-value":"id"},{"item.actions":a(({item:l})=>[e(K,{style:{"margin-top":"-6px"}},{default:a(()=>[u("div",null,[u("img",{onClick:D=>U(l),style:{width:"30px",height:"30px",cursor:"pointer"},src:M,alt:"Atualizar"},null,8,oe)]),u("div",{onClick:D=>N(l),title:"Deletar"},[l.excluido?(f(),V("img",ae)):(f(),V("img",se))],8,le)]),_:2},1024)]),_:1},8,["items"])]),_:1}),e(J,{modelValue:r(n),"onUpdate:modelValue":o[5]||(o[5]=l=>B(n)?n.value=l:null),"max-width":"500"},{default:a(()=>[e(W,null,{default:a(()=>[e(Z,null,{default:a(()=>[re]),_:1}),e(Q,null,{default:a(()=>[e(Y,{onSubmit:R(F,["prevent"])},{default:a(()=>[e(ee,{modelValue:r(t).uf,"onUpdate:modelValue":o[0]||(o[0]=l=>r(t).uf=l),items:r(v),class:"mb-5","item-title":"descricao","item-value":"sigla",label:"UF",required:"",outlined:""},null,8,["modelValue","items"]),e(h,{modelValue:r(t).cor,"onUpdate:modelValue":o[1]||(o[1]=l=>r(t).cor=l),label:"Cor",required:"",outlined:""},null,8,["modelValue"]),e(h,{modelValue:r(t).descricao,"onUpdate:modelValue":o[2]||(o[2]=l=>r(t).descricao=l),label:"Descrição",required:"",outlined:""},null,8,["modelValue"]),e(z,{required:"",modelValue:r(t).vlr_compra,"onUpdate:modelValue":o[3]||(o[3]=l=>r(t).vlr_compra=l)},null,8,["modelValue"]),e(X,null,{default:a(()=>[e(b,{type:"submit",color:"green",size:"large"},{default:a(()=>[y("Salvar")]),_:1}),e(b,{color:"red",size:"large",onClick:o[4]||(o[4]=l=>n.value=!1)},{default:a(()=>[y("Cancelar")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{he as default};
