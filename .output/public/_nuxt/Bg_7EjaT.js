import{_ as pe,a as _e,b as ve,c as fe,d as Ve,e as ye}from"./DX55YroA.js";import{_ as ge}from"./B9v2bdt4.js";import{_ as te}from"./DT0rhw5R.js";import{_ as oe}from"./BVz1G1IN.js";import{_ as ae}from"./DwoiFzmz.js";import{_ as le,a as se,b as ie}from"./xcPDFsCw.js";import{B as ne,G as Q,u as be,r as c,m as K,C as xe,H as N,o as S,E as re,w as a,b as e,v as l,a as n,t as ue,c as L,I,d as v,J as $e,z as G,s as X,p as ke,V as Z,K as Ce,F as we}from"./DcEcaW-S.js";import{u as E}from"./CyaT_84s.js";import{V as k}from"./DOIYqepX.js";import{V as ee}from"./7gIA2uzt.js";import{V as C}from"./A6vPjWZm.js";import{V as J}from"./B6rrhQim.js";import{V as de}from"./DFau9ZNz.js";import{V as Ae,a as ce,b as Pe,c as Be,d as Te}from"./DtYKjT2J.js";import{V as me}from"./IJukKW5T.js";import{_ as ze,a as he}from"./DcXTVt1J.js";import{f as H}from"./eySUcND9.js";import{V as Ue,a as P,b as Oe,c as B}from"./qht1uaqA.js";import"./DCLUbmxc.js";import"./CUe93QRC.js";import"./CdP3NN9a.js";import"./B1KiYq__.js";import"./B5V1WT9M.js";import"./v2qenqxz.js";import"./BPksNfW5.js";import"./BVZxtKaa.js";const De={style:{width:"800px","font-weight":"500"}},Ie=["onClick"],Se=["onClick"],Me=["onClick"],Re={key:0,style:{width:"30px",height:"30px"},src:se,alt:"Reativar",title:"Reativar"},qe={key:1,src:ie,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Ee={__name:"Bens",async setup(Y){let r,f;const w=ne(),V=Q(),p=X(),{$toast:g}=be(),y=`${p.public.managemant}/atos_bens`,b=`${p.public.managemant}/atos_bens`,A=`${p.public.managemant}/listarBens`,T=`${p.public.managemant}/listarTipoBens`,z=c(K("user-data").value.cartorio_token),h=c(K("user-data").value.usuario_id).value,x=c([]),m=c([]),_=c(!1),M=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"vlr_alienacao"},{align:"end",value:"actions"}],d=xe({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),F=async()=>{if(!d.vlr_alienacao&&!d.descricao){g.error("Os campos Descrição e Valor são Obrigatorios!");return}const{data:u,status:t}=await E(`${y}`,{method:"POST",body:{descricao:d.descricao,tipo_id:d.tipo_id,valor_mercado:"0.00",vlr_alienacao:d.vlr_alienacao,user_id:h,ato_id:Number.parseInt(V.query.ato_id),token:V.query.ato_token_edit}},"$aGIwRtPn6M");t.value==="success"&&(g.success("Bem registrado com sucesso!"),x.value.push(u.value),Object.assign(d,{vlr_alienacao:null,descricao:null,tipo_id:null}))},R=async u=>{const{status:t}=await E(`${b}/${u}`,{method:"PUT",body:{descricao:m.value.descricao,tipo_id:m.value.tipo_id,vlr_alienacao:m.value.vlr_alienacao}},"$4hUMyAQlzU");t.value==="success"&&(g.success("Bem Atualizado com sucesso!"),_.value=!1)},q=u=>{const t=x.value.find($=>$.id===u);t&&(m.value=t,_.value=!0)},{data:s}=([r,f]=N(()=>E(`${T}`,{method:"POST",body:{cartorio_token:z.value,imoveis:!1}},"$da802I2H8c")),r=await r,f(),r);d.tiposBens=s.value;const{data:o}=([r,f]=N(()=>E(`${A}`,{method:"POST",body:{ato_token:V.query.ato_token_edit}},"$iXfJJrO35d")),r=await r,f(),r);x.value=o.value&&Object.keys(o.value).length===0?[]:o.value;async function U(u){u.excluido=!u.excluido;try{await E(`${b}/${u.id}`,{method:"PUT",body:JSON.stringify({excluido:u.excluido})},"$PGKHfsa7Pl")}catch(t){console.error("Erro ao excluir pessoa:",t)}}const O=()=>{const u=V.query.origem||"criar",t=V.query.id;u==="atualizar"?w.push(`/os/atualizar/${t}`):w.push("/os/criar-registro")};return(u,t)=>{const $=ge,W=te;return S(),re(me,null,{default:a(()=>[e(k,{class:"mt-5",cols:"12"},{default:a(()=>[e(ee,{label:"Descrição",modelValue:l(d).descricao,"onUpdate:modelValue":t[0]||(t[0]=i=>l(d).descricao=i)},null,8,["modelValue"])]),_:1}),e(C,{class:"ml-1 mb-3"},{default:a(()=>[e(k,{class:"mt-6",cols:"8"},{default:a(()=>[e(J,{label:"Selecione o Tipo",items:l(d).tiposBens,modelValue:l(d).tipo_id,"onUpdate:modelValue":t[1]||(t[1]=i=>l(d).tipo_id=i),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(k,{class:"ml-5",cols:"3"},{default:a(()=>[t[9]||(t[9]=n("label",null,"Valor",-1)),e($,{modelValue:l(d).vlr_alienacao,"onUpdate:modelValue":t[2]||(t[2]=i=>l(d).vlr_alienacao=i)},null,8,["modelValue"])]),_:1}),n("div",null,[n("img",{class:"mt-7 ml-4",src:oe,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:F})])]),_:1}),e(C,null,{default:a(()=>[e(k,null,{default:a(()=>[e(de,{style:{height:"465px"},headers:M,items:l(x)},{"item.descricao":a(({item:i})=>[n("h3",De,ue(i.descricao),1)]),"item.actions":a(({item:i})=>[e(C,{style:{"margin-top":"-8px"},justify:"end"},{default:a(()=>[n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:j=>u.redirectToFicha(i),title:"Visualizar Ficha"},t[10]||(t[10]=[n("img",{style:{width:"30px",height:"30px"},src:ae,alt:"Visualizar"},null,-1)]),8,Ie),n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:j=>q(i.id),title:"Alterar Papel"},t[11]||(t[11]=[n("img",{style:{width:"30px",height:"30px"},src:le,alt:"Editar"},null,-1)]),8,Se),n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:j=>U(i),title:"Deletar Pessoa"},[i.excluido?(S(),L("img",Re)):(S(),L("img",qe))],8,Me)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(Ae,{modelValue:l(_),"onUpdate:modelValue":t[8]||(t[8]=i=>I(_)?_.value=i:null),"max-width":"600px"},{default:a(()=>[e(ce,null,{default:a(()=>[e(Pe,{style:{color:"green"}},{default:a(()=>t[12]||(t[12]=[v("Atualizar Bem")])),_:1}),e(Be,null,{default:a(()=>[e(k,{class:"mt-1",cols:"12"},{default:a(()=>[e(ee,{label:"Descrição",modelValue:l(m).descricao,"onUpdate:modelValue":t[3]||(t[3]=i=>l(m).descricao=i)},null,8,["modelValue"])]),_:1}),e(C,null,{default:a(()=>[e(k,{class:"mt-6 ml-3",cols:"8"},{default:a(()=>[e(J,{label:"Selecione o Tipo",items:l(d).tiposBens,modelValue:l(m).tipo_id,"onUpdate:modelValue":t[4]||(t[4]=i=>l(m).tipo_id=i),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(k,{class:"ml-5",cols:"3"},{default:a(()=>[t[13]||(t[13]=n("label",null,"Valor",-1)),e($,{modelValue:l(m).vlr_alienacao,"onUpdate:modelValue":t[5]||(t[5]=i=>l(m).vlr_alienacao=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(Te,null,{default:a(()=>[e($e),e(G,{color:"green",text:"",onClick:t[6]||(t[6]=i=>_.value=!1)},{default:a(()=>t[14]||(t[14]=[v("Cancelar")])),_:1}),e(G,{color:"green",text:"",onClick:t[7]||(t[7]=i=>R(l(m).id))},{default:a(()=>t[15]||(t[15]=[v("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(C,null,{default:a(()=>[e(W,{onClick:O},{default:a(()=>[e(G,{size:"large",color:"red"},{default:a(()=>t[16]||(t[16]=[v("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Ne={style:{width:"200px"}},Le={style:{width:"300px"}},Fe=["onClick"],je=["onClick"],Ge=["onClick"],Je={key:0,style:{width:"30px",height:"30px"},src:se,alt:"Visualizar",title:"Reativar"},He={key:1,src:ie,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},We={__name:"Imoveis",async setup(Y){let r,f;const w=X(),V=`${w.public.auth}/service/gerencia/atos_imoveis`,p=`${w.public.auth}/service/gerencia/atos_bens`,g=ne(),y=Q(),b=c(""),A=c(""),T=c(!1),z=c(!1),h=c(null),x=c(null),m=[{title:"Matrícula",value:"registro_matricula"},{title:"Descrição",value:"descricao"},{value:"actions"}],{data:_,status:M}=([r,f]=N(()=>H(V,{method:"POST",body:{ato_token:y.query.ato_token_edit}})),r=await r,f(),r),d=ke(()=>{if(Object.keys(_.value).length!==0)return _.value.filter(s=>{const o=s.matricula?s.matricula.toLowerCase():"",U=s.descricao?s.descricao.toLowerCase():"",O=o.includes(A.value.toLowerCase()),u=U.includes(b.value.toLowerCase());return O&&u})});async function F(s){s.excluido=!s.excluido;try{await H(`${p}/${s.id}`,{method:"PUT",body:{excluido:s.excluido}})}catch(o){console.error("Erro ao excluir pessoa:",o)}}function R(s){h.value=s,z.value=!0}const q=()=>{const s=y.query.origem||"criar",o=y.query.id;s==="atualizar"?g.push(`/os/atualizar/${o}`):g.push("/os/criar-registro")};return(s,o)=>{const U=te,O=ze,u=he;return l(M)==="success"?(S(),re(me,{key:0,class:"mt-5"},{default:a(()=>[n("img",{onClick:o[0]||(o[0]=t=>T.value=!0),style:{cursor:"pointer"},src:oe,alt:"Cadastro"}),e(C,{style:{gap:"3rem"}},{default:a(()=>[n("div",Ne,[e(Z,{class:"mt-7 mb-4",modelValue:l(A),"onUpdate:modelValue":o[1]||(o[1]=t=>I(A)?A.value=t:null),label:"Matrícula","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),n("div",Le,[e(Z,{class:"mt-7 mb-4",modelValue:l(b),"onUpdate:modelValue":o[2]||(o[2]=t=>I(b)?b.value=t:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),e(de,{density:"compact",headers:m,items:l(d),"item-key":"id"},{"item.actions":a(({item:t})=>[e(C,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:a(()=>[n("div",{style:{cursor:"pointer"},onClick:$=>s.redirectToView(t.id),title:"Visualizar"},o[5]||(o[5]=[n("img",{style:{width:"30px",height:"30px"},src:ae,alt:"Visualizar"},null,-1)]),8,Fe),n("div",{style:{cursor:"pointer"},onClick:$=>R(t.id),title:"Atualizar"},o[6]||(o[6]=[n("img",{style:{width:"30px",height:"30px"},src:le,alt:"Atualizar"},null,-1)]),8,je),n("div",{style:{cursor:"pointer"},onClick:$=>F(t),title:"Deletar"},[t.excluido?(S(),L("img",Je)):(S(),L("img",He))],8,Ge)]),_:2},1024)]),_:1},8,["items"]),e(U,{onClick:q},{default:a(()=>[e(G,{size:"large",color:"red"},{default:a(()=>o[7]||(o[7]=[v("Voltar")])),_:1})]),_:1}),e(O,{ato_token:l(x),show:l(T),onClose:o[3]||(o[3]=t=>T.value=!1)},null,8,["ato_token","show"]),e(u,{imovel_id:l(h),show:l(z),onClose:o[4]||(o[4]=t=>z.value=!1)},null,8,["imovel_id","show"])]),_:1})):Ce("",!0)}}},Ke={class:"mb-10"},Qe={style:{color:"red","margin-left":"30px"}},kt={__name:"[id]",async setup(Y){let r,f;const w=c(null),V=c(null),p=c(null),g=X(),y=Q(),b=`${g.public.auth}/service/gerencia/listarSituacoes`,A=`${g.public.auth}/service/gerencia/getAtos`,T=c(K("user-data").value.cartorio_token),z=y.query.id?{ato_token:y.query.tipo_ato_token}:{cartorio_token:T},h=c([]),x=c([]),m=c("PROCURAÇÕES"),_=c("PROCURAÇÃO COM BENS");async function M(){try{const{data:s}=await H(`${A}/${y.query.ato_id}`,{method:"GET"});x.value=s.value}catch(s){console.log(s)}}[r,f]=N(()=>M()),await r,f();const{data:d,status:F}=([r,f]=N(()=>H(b,{method:"POST",body:z})),r=await r,f(),r);h.value=d.value;const R=s=>{w.value=s},q=s=>{V.value=s};return(s,o)=>{const U=pe,O=_e,u=Ee,t=We,$=ve,W=fe,i=Ve,j=ye;return S(),L(we,null,[n("div",Ke,[e(C,{class:"mb-5 mt-5"},{default:a(()=>[o[4]||(o[4]=n("h1",null,"Ordem de Serviço nº",-1)),n("h1",Qe,ue(l(y).query.numero_os),1)]),_:1}),e(C,null,{default:a(()=>[e(k,{md:"6"},{default:a(()=>[e(J,{class:"mr-5",modelValue:l(m),"onUpdate:modelValue":o[0]||(o[0]=D=>I(m)?m.value=D:null),disabled:""},null,8,["modelValue"])]),_:1}),e(k,{md:"6"},{default:a(()=>[e(J,{modelValue:l(_),"onUpdate:modelValue":o[1]||(o[1]=D=>I(_)?_.value=D:null),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),e(ce,{width:"1300"},{default:a(()=>[e(Ue,{modelValue:l(p),"onUpdate:modelValue":o[2]||(o[2]=D=>I(p)?p.value=D:null),"bg-color":"#f5f2f2"},{default:a(()=>[e(P,{value:"dados"},{default:a(()=>o[5]||(o[5]=[v("Dados")])),_:1}),e(P,{value:"partes"},{default:a(()=>o[6]||(o[6]=[v("Partes")])),_:1}),e(P,{value:"bens"},{default:a(()=>o[7]||(o[7]=[v("Bens")])),_:1}),e(P,{value:"imoveis"},{default:a(()=>o[8]||(o[8]=[v("Imoveis")])),_:1}),e(P,{value:"minuta"},{default:a(()=>o[9]||(o[9]=[v("Minuta")])),_:1}),e(P,{value:"livro"},{default:a(()=>o[10]||(o[10]=[v("Livro")])),_:1}),e(P,{value:"observacao"},{default:a(()=>o[11]||(o[11]=[v("Observações")])),_:1}),e(P,{value:"anexo"},{default:a(()=>o[12]||(o[12]=[v("Anexos")])),_:1})]),_:1},8,["modelValue"]),e(Oe,{modelValue:l(p),"onUpdate:modelValue":o[3]||(o[3]=D=>I(p)?p.value=D:null)},{default:a(()=>[e(B,{value:"dados"},{default:a(()=>[e(U,{item_dados:l(x),item_situacoes:l(h)},null,8,["item_dados","item_situacoes"])]),_:1}),e(B,{value:"partes"},{default:a(()=>[e(O)]),_:1}),e(B,{value:"bens"},{default:a(()=>[e(u)]),_:1}),e(B,{value:"imoveis"},{default:a(()=>[e(t)]),_:1}),e(B,{value:"minuta"},{default:a(()=>[e($,{onPage:R,onDoc:q})]),_:1}),e(B,{value:"livro"},{default:a(()=>[e(W,{pages:l(w),document:l(V)},null,8,["pages","document"])]),_:1}),e(B,{value:"observacao"},{default:a(()=>[e(i)]),_:1}),e(B,{value:"anexo"},{default:a(()=>[e(j)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{kt as default};
