import{_ as S,a as $}from"./CS0zC2A1.js";import{_ as I,C as N,u as P,r as l,y as R,z as A,j as B,w as u,l as U,o as T,b as t,V,i as o,A as p,a as j,v as q,P as E,d as F}from"./CGoc4MUN.js";import{u as z}from"./BCQztBG6.js";import{V as D}from"./EG0WhhH5.js";import{V as M}from"./RINLxuLe.js";import{V as b}from"./s6YzGfIy.js";import{V as O}from"./CRckTsZp.js";import"./Bb91ERKm.js";import"./CExG2k25.js";const Y={__name:"index",setup(G){N();const{$toast:f}=P();l({senha:"",email:""});const d=l(!1),c=l(!1),v=l(!1),n=l(""),s=l("");l(!1),l(!1),l(!1),l(!1);const h=l(!1),x=l(""),g=l(!1),y=U();`${y.public.auth}`,y.public.auth;const _=y.public.managemant,k=l(!1),i=l(""),C=async()=>{var r,a,m;if(n.value!==s.value){g.value=!0,f.error("As senhas não coincidem.");return}g.value=!1;try{const{data:e,status:H,error:J}=await z(`${_}/verifica_codigo_recuperacao`,{method:"POST",body:{acao:"alterar",token:i.value,senha:n.value}},"$6PqqSha0mY");f.success(e.value.status_mensagem||"Senha alterada com sucesso!"),h.value=!1,k.value=!1,x.value="",i.value="",n.value="",s.value=""}catch(e){f.error(((a=(r=e==null?void 0:e.data)==null?void 0:r.menssage)==null?void 0:a.details)||((m=e==null?void 0:e.data)==null?void 0:m.status_mensagem))}},w=R(()=>n.value&&s.value&&n.value===s.value);return(r,a)=>{const m=A("center");return T(),B(D,{style:{"background-color":"#0a063b"}},{default:u(()=>[t(O,{cols:"5",class:"d-flex align-center justify-center"},{default:u(()=>[t(M,{style:{"max-width":"650px"}},{default:u(()=>[t(m,null,{default:u(()=>[t(b,{style:{"margin-bottom":"30px"},width:400,height:330,src:S})]),_:1}),t(V,{modelValue:o(i),"onUpdate:modelValue":a[0]||(a[0]=e=>p(i)?i.value=e:null),class:"input mt-5",type:r.text,density:"compact",style:{"background-color":"aliceblue"},"hide-details":"",placeholder:"Código de verificação",variant:"outlined"},null,8,["modelValue","type"]),t(V,{modelValue:o(n),"onUpdate:modelValue":a[1]||(a[1]=e=>p(n)?n.value=e:null),class:"input mt-5","append-inner-icon":o(d)?"mdi-eye-off":"mdi-eye",type:o(d)?"text":"password",density:"compact",style:{"background-color":"aliceblue"},"hide-details":"",placeholder:"Nova Senha","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":a[2]||(a[2]=e=>d.value=!o(d))},null,8,["modelValue","append-inner-icon","type"]),t(V,{modelValue:o(s),"onUpdate:modelValue":a[3]||(a[3]=e=>p(s)?s.value=e:null),class:"input mt-3","append-inner-icon":o(c)?"mdi-eye-off":"mdi-eye",type:o(c)?"text":"password",density:"compact",style:{"background-color":"aliceblue"},"hide-details":"",placeholder:"Confirmar Senha","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":a[4]||(a[4]=e=>c.value=!o(c))},null,8,["modelValue","append-inner-icon","type"]),j("div",null,[t(q,E({rounded:"",class:"mb-10 mt-4 ml-1"},r.activatorProps,{color:"primary",onClick:C,modelValue:o(v),"onUpdate:modelValue":a[5]||(a[5]=e=>p(v)?v.value=e:null),block:"",disabled:!o(w)}),{default:u(()=>a[6]||(a[6]=[F(" Alterar Senha ")])),_:1},16,["modelValue","disabled"])])]),_:1})]),_:1}),t(b,{src:$,cover:""})]),_:1})}}},oe=I(Y,[["__scopeId","data-v-4332a1af"]]);export{oe as default};
