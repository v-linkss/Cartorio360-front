import{_ as pe,a as _e,b as ve,c as fe,d as ye,e as Ve}from"./CDuMXoKA.js";import{_ as ge}from"./4u97w4Tn.js";import{_ as oe}from"./DOp-Ggmg.js";import{_ as ae}from"./BVz1G1IN.js";import{_ as le}from"./CHavHpAK.js";import{_ as se,a as ie,b as ne}from"./DHWHTe1y.js";import{C as re,H as Q,u as xe,r as m,m as K,D as be,I as N,o as S,G as ue,w as o,b as e,v as l,a as n,t as X,c as F,x as I,d as _,J as $e,A as J,s as Y,p as ke,V as ee,K as we,F as Ce}from"./BLoPs_BL.js";import{u as E,V as w}from"./BiEQowPw.js";import{V as k}from"./q55iEzgD.js";import{V as te}from"./D7fqEEgu.js";import{V as H}from"./CTkDAExr.js";import{V as de}from"./D-7GlszZ.js";import{V as he,a as ce,b as Ae,c as Pe,d as Te}from"./r8yh9lJA.js";import{V as me}from"./BQcnqvwy.js";import{_ as Be,a as ze}from"./B9E389jr.js";import{f as L}from"./DLq8kqek.js";import{V as Oe,a as A,b as Ue,c as P}from"./DTUrZ34G.js";import"./CCnZO7pd.js";import"./h_QwJswh.js";import"./DbZ78Ock.js";import"./CdP3NN9a.js";import"./DsieEVLm.js";import"./DhtUgsKW.js";import"./drEdnvDi.js";import"./D_aZlvs0.js";import"./Dk0F11xG.js";const De={style:{width:"800px","font-weight":"500"}},Ie=["onClick"],Se=["onClick"],Me=["onClick"],Re={key:0,style:{width:"30px",height:"30px"},src:ie,alt:"Reativar",title:"Reativar"},qe={key:1,src:ne,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Ee={__name:"Bens",async setup(Z){let r,v;const C=re(),y=Q(),p=Y(),{$toast:g}=xe(),V=`${p.public.managemant}/atos_bens`,x=`${p.public.managemant}/atos_bens`,h=`${p.public.managemant}/listarBens`,T=`${p.public.managemant}/listarTipoBens`,B=m(K("user-data").value.cartorio_token),z=m(K("user-data").value.usuario_id).value,b=m([]),c=m([]),f=m(!1),R=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"vlr_alienacao"},{align:"end",value:"actions"}],d=be({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),j=async()=>{if(!d.vlr_alienacao&&!d.descricao){g.error("Os campos Descrição e Valor são Obrigatorios!");return}const{data:u,status:t}=await E(`${V}`,{method:"POST",body:{descricao:d.descricao,tipo_id:d.tipo_id,valor_mercado:"0.00",vlr_alienacao:d.vlr_alienacao,user_id:z,ato_id:Number.parseInt(y.query.ato_id),token:y.query.ato_token_edit}},"$aGIwRtPn6M");t.value==="success"&&(g.success("Bem registrado com sucesso!"),b.value.push(u.value),Object.assign(d,{vlr_alienacao:null,descricao:null,tipo_id:null}))},M=async u=>{const{status:t}=await E(`${x}/${u}`,{method:"PUT",body:{descricao:c.value.descricao,tipo_id:c.value.tipo_id,vlr_alienacao:c.value.vlr_alienacao}},"$4hUMyAQlzU");t.value==="success"&&(g.success("Bem Atualizado com sucesso!"),f.value=!1)},q=u=>{const t=b.value.find($=>$.id===u);t&&(c.value=t,f.value=!0)},{data:s}=([r,v]=N(()=>E(`${T}`,{method:"POST",body:{cartorio_token:B.value,imoveis:!1}},"$da802I2H8c")),r=await r,v(),r);d.tiposBens=s.value;const{data:a}=([r,v]=N(()=>E(`${h}`,{method:"POST",body:{ato_token:y.query.ato_token_edit}},"$iXfJJrO35d")),r=await r,v(),r);b.value=a.value&&Object.keys(a.value).length===0?[]:a.value;async function O(u){u.excluido=!u.excluido;try{await E(`${x}/${u.id}`,{method:"PUT",body:JSON.stringify({excluido:u.excluido})},"$PGKHfsa7Pl")}catch(t){console.error("Erro ao excluir pessoa:",t)}}const U=()=>{const u=y.query.origem||"criar",t=y.query.id;u==="atualizar"?C.push(`/os/atualizar/${t}`):C.push("/os/criar-registro")};return(u,t)=>{const $=ge,W=oe;return S(),ue(me,null,{default:o(()=>[e(k,{class:"mt-5",cols:"12"},{default:o(()=>[e(te,{label:"Descrição",modelValue:l(d).descricao,"onUpdate:modelValue":t[0]||(t[0]=i=>l(d).descricao=i)},null,8,["modelValue"])]),_:1}),e(w,{class:"ml-1 mb-3"},{default:o(()=>[e(k,{class:"mt-6",cols:"8"},{default:o(()=>[e(H,{label:"Selecione o Tipo",items:l(d).tiposBens,modelValue:l(d).tipo_id,"onUpdate:modelValue":t[1]||(t[1]=i=>l(d).tipo_id=i),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(k,{class:"ml-5",cols:"3"},{default:o(()=>[t[9]||(t[9]=n("label",null,"Valor",-1)),e($,{modelValue:l(d).vlr_alienacao,"onUpdate:modelValue":t[2]||(t[2]=i=>l(d).vlr_alienacao=i)},null,8,["modelValue"])]),_:1}),n("div",null,[n("img",{class:"mt-7 ml-4",src:ae,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:j})])]),_:1}),e(w,null,{default:o(()=>[e(k,null,{default:o(()=>[e(de,{style:{height:"465px"},headers:R,items:l(b)},{"item.descricao":o(({item:i})=>[n("h3",De,X(i.descricao),1)]),"item.actions":o(({item:i})=>[e(w,{style:{"margin-top":"-8px"},justify:"end"},{default:o(()=>[n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:G=>u.redirectToFicha(i),title:"Visualizar Ficha"},t[10]||(t[10]=[n("img",{style:{width:"30px",height:"30px"},src:le,alt:"Visualizar"},null,-1)]),8,Ie),n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:G=>q(i.id),title:"Alterar Papel"},t[11]||(t[11]=[n("img",{style:{width:"30px",height:"30px"},src:se,alt:"Editar"},null,-1)]),8,Se),n("div",{style:{cursor:"pointer"},class:"mr-2",onClick:G=>O(i),title:"Deletar Pessoa"},[i.excluido?(S(),F("img",Re)):(S(),F("img",qe))],8,Me)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(he,{modelValue:l(f),"onUpdate:modelValue":t[8]||(t[8]=i=>I(f)?f.value=i:null),"max-width":"600px"},{default:o(()=>[e(ce,null,{default:o(()=>[e(Ae,{style:{color:"green"}},{default:o(()=>t[12]||(t[12]=[_("Atualizar Bem")])),_:1}),e(Pe,null,{default:o(()=>[e(k,{class:"mt-1",cols:"12"},{default:o(()=>[e(te,{label:"Descrição",modelValue:l(c).descricao,"onUpdate:modelValue":t[3]||(t[3]=i=>l(c).descricao=i)},null,8,["modelValue"])]),_:1}),e(w,null,{default:o(()=>[e(k,{class:"mt-6 ml-3",cols:"8"},{default:o(()=>[e(H,{label:"Selecione o Tipo",items:l(d).tiposBens,modelValue:l(c).tipo_id,"onUpdate:modelValue":t[4]||(t[4]=i=>l(c).tipo_id=i),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(k,{class:"ml-5",cols:"3"},{default:o(()=>[t[13]||(t[13]=n("label",null,"Valor",-1)),e($,{modelValue:l(c).vlr_alienacao,"onUpdate:modelValue":t[5]||(t[5]=i=>l(c).vlr_alienacao=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(Te,null,{default:o(()=>[e($e),e(J,{color:"green",text:"",onClick:t[6]||(t[6]=i=>f.value=!1)},{default:o(()=>t[14]||(t[14]=[_("Cancelar")])),_:1}),e(J,{color:"green",text:"",onClick:t[7]||(t[7]=i=>M(l(c).id))},{default:o(()=>t[15]||(t[15]=[_("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(w,null,{default:o(()=>[e(W,{onClick:U},{default:o(()=>[e(J,{size:"large",color:"red"},{default:o(()=>t[16]||(t[16]=[_("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Le={style:{width:"200px"}},Ne={style:{width:"300px"}},Fe={style:{width:"800px","font-weight":"500"}},je=["onClick"],Ge=["onClick"],Je=["onClick"],He={key:0,style:{width:"30px",height:"30px"},src:ie,alt:"Visualizar",title:"Reativar"},We={key:1,src:ne,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Ke={__name:"Imoveis",async setup(Z){let r,v;const C=Y(),y=`${C.public.auth}/service/gerencia/atos_imoveis`,p=`${C.public.auth}/service/gerencia/atos_bens`,g=re(),V=Q(),x=m(""),h=m(""),T=m(!1),B=m(!1),z=m(null),b=[{title:"Matrícula",value:"registro_matricula"},{title:"Descrição",value:"descricao"},{value:"actions"}],{data:c,status:f}=([r,v]=N(()=>L(y,{method:"POST",body:{ato_token:V.query.ato_token_edit}})),r=await r,v(),r),R=ke(()=>{if(Object.keys(c.value).length!==0)return c.value.filter(s=>{const a=s.matricula?s.matricula.toLowerCase():"",O=s.descricao?s.descricao.toLowerCase():"",U=a.includes(h.value.toLowerCase()),u=O.includes(x.value.toLowerCase());return U&&u})});async function d(s){s.excluido=!s.excluido;try{await L(`${p}/${s.id}`,{method:"PUT",body:{excluido:s.excluido}})}catch(a){console.error("Erro ao excluir pessoa:",a)}}function j(s){z.value=s,B.value=!0}const M=async()=>{await L(y,{method:"POST",body:{ato_token:V.query.ato_token_edit}})},q=()=>{const s=V.query.origem||"criar",a=V.query.id;s==="atualizar"?g.push(`/os/atualizar/${a}`):g.push("/os/criar-registro")};return(s,a)=>{const O=oe,U=Be,u=ze;return l(f)==="success"?(S(),ue(me,{key:0,class:"mt-5"},{default:o(()=>[n("img",{onClick:a[0]||(a[0]=t=>T.value=!0),style:{cursor:"pointer"},src:ae,alt:"Cadastro"}),e(w,{style:{gap:"3rem"}},{default:o(()=>[n("div",Le,[e(ee,{class:"mt-7 mb-4",modelValue:l(h),"onUpdate:modelValue":a[1]||(a[1]=t=>I(h)?h.value=t:null),label:"Matrícula","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),n("div",Ne,[e(ee,{class:"mt-7 mb-4",modelValue:l(x),"onUpdate:modelValue":a[2]||(a[2]=t=>I(x)?x.value=t:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),e(de,{density:"compact",headers:b,items:l(R),"item-key":"id"},{"item.descricao":o(({item:t})=>[n("h3",Fe,X(t.descricao),1)]),"item.actions":o(({item:t})=>[e(w,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:o(()=>[n("div",{style:{cursor:"pointer"},onClick:$=>s.redirectToView(t.id),title:"Visualizar"},a[5]||(a[5]=[n("img",{style:{width:"30px",height:"30px"},src:le,alt:"Visualizar"},null,-1)]),8,je),n("div",{style:{cursor:"pointer"},onClick:$=>j(t.id),title:"Atualizar"},a[6]||(a[6]=[n("img",{style:{width:"30px",height:"30px"},src:se,alt:"Atualizar"},null,-1)]),8,Ge),n("div",{style:{cursor:"pointer"},onClick:$=>d(t),title:"Deletar"},[t.excluido?(S(),F("img",He)):(S(),F("img",We))],8,Je)]),_:2},1024)]),_:1},8,["items"]),e(O,{onClick:q},{default:o(()=>[e(J,{size:"large",color:"red"},{default:o(()=>a[7]||(a[7]=[_("Voltar")])),_:1})]),_:1}),e(U,{onRefresh:M,show:l(T),onClose:a[3]||(a[3]=t=>T.value=!1)},null,8,["show"]),e(u,{onRefresh:M,imovel_id:l(z),show:l(B),onClose:a[4]||(a[4]=t=>B.value=!1)},null,8,["imovel_id","show"])]),_:1})):we("",!0)}}},Qe={class:"mb-10"},Xe={style:{color:"red","margin-left":"30px"}},wt={__name:"[id]",async setup(Z){let r,v;const C=m(null),y=m(null),p=m(null),g=Y(),V=Q(),x=`${g.public.auth}/service/gerencia/listarSituacoes`,h=`${g.public.auth}/service/gerencia/getAtos`,T=m(K("user-data").value.cartorio_token),B=V.query.id?{ato_token:V.query.tipo_ato_token}:{cartorio_token:T},z=m([]),b=m([]),c=m("PROCURAÇÕES"),f=m("PROCURAÇÃO COM BENS");async function R(){try{const{data:s}=await L(`${h}/${V.query.ato_id}`,{method:"GET"});b.value=s.value}catch(s){console.log(s)}}[r,v]=N(()=>R()),await r,v();const{data:d,status:j}=([r,v]=N(()=>L(x,{method:"POST",body:B})),r=await r,v(),r);z.value=d.value;const M=s=>{C.value=s},q=s=>{y.value=s};return(s,a)=>{const O=pe,U=_e,u=Ee,t=Ke,$=ve,W=fe,i=ye,G=Ve;return S(),F(Ce,null,[n("div",Qe,[e(w,{class:"mb-5 mt-5"},{default:o(()=>[a[4]||(a[4]=n("h1",null,"Ordem de Serviço nº",-1)),n("h1",Xe,X(l(V).query.numero_os),1)]),_:1}),e(w,null,{default:o(()=>[e(k,{md:"6"},{default:o(()=>[e(H,{class:"mr-5",modelValue:l(c),"onUpdate:modelValue":a[0]||(a[0]=D=>I(c)?c.value=D:null),disabled:""},null,8,["modelValue"])]),_:1}),e(k,{md:"6"},{default:o(()=>[e(H,{modelValue:l(f),"onUpdate:modelValue":a[1]||(a[1]=D=>I(f)?f.value=D:null),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),e(ce,{width:"1300"},{default:o(()=>[e(Oe,{modelValue:l(p),"onUpdate:modelValue":a[2]||(a[2]=D=>I(p)?p.value=D:null),"bg-color":"#f5f2f2"},{default:o(()=>[e(A,{value:"dados"},{default:o(()=>a[5]||(a[5]=[_("Dados")])),_:1}),e(A,{value:"partes"},{default:o(()=>a[6]||(a[6]=[_("Partes")])),_:1}),e(A,{value:"bens"},{default:o(()=>a[7]||(a[7]=[_("Bens")])),_:1}),e(A,{value:"imoveis"},{default:o(()=>a[8]||(a[8]=[_("Imoveis")])),_:1}),e(A,{value:"minuta"},{default:o(()=>a[9]||(a[9]=[_("Minuta")])),_:1}),e(A,{value:"livro"},{default:o(()=>a[10]||(a[10]=[_("Livro")])),_:1}),e(A,{value:"observacao"},{default:o(()=>a[11]||(a[11]=[_("Observações")])),_:1}),e(A,{value:"anexo"},{default:o(()=>a[12]||(a[12]=[_("Anexos")])),_:1})]),_:1},8,["modelValue"]),e(Ue,{modelValue:l(p),"onUpdate:modelValue":a[3]||(a[3]=D=>I(p)?p.value=D:null)},{default:o(()=>[e(P,{value:"dados"},{default:o(()=>[e(O,{item_dados:l(b),item_situacoes:l(z)},null,8,["item_dados","item_situacoes"])]),_:1}),e(P,{value:"partes"},{default:o(()=>[e(U)]),_:1}),e(P,{value:"bens"},{default:o(()=>[e(u)]),_:1}),e(P,{value:"imoveis"},{default:o(()=>[e(t)]),_:1}),e(P,{value:"minuta"},{default:o(()=>[e($,{onPage:M,onDoc:q})]),_:1}),e(P,{value:"livro"},{default:o(()=>[e(W,{pages:l(C),document:l(y)},null,8,["pages","document"])]),_:1}),e(P,{value:"observacao"},{default:o(()=>[e(i)]),_:1}),e(P,{value:"anexo"},{default:o(()=>[e(G)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{wt as default};
