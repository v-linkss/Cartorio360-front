import{c as Qe,r as at,u as Ut}from"./BPPh6Rmt.js";import{c as pr}from"./hwtBqxyr.js";import{B as Pt,u as kt,m as Pe,r as _e,C as It,H as Ht,Q as Nt,o as de,c as ze,v as A,E as ke,M as Ga,t as la,K as He,w as F,b as V,V as ge,R as ut,z as Ne,d as Re,F as it,s as ht,G as zt,n as jt,a as Ae,I as bt,J as Fa,p as me,_ as Ya,bi as ba,x as Lt,g as ua,c2 as dt,cj as gr,ck as br,cl as wa,cm as Gt,by as je,br as Mt,cn as wr,L as Za,ci as Wa,co as Ft,c5 as _t,cp as kr,aR as Yt,cq as yr,cr as Ka,c9 as mt,ch as lt,cs as xr,bT as Ja,ct as Er,cu as Sr,cv as sa,cw as Vr,c3 as Ar,c7 as da,c8 as Cr,cb as ka,cx as Dr,O as wt,cy as Xa,cz as Br,cf as Rr,cA as Pr,cB as Ir,cC as qa,cD as Qa,cE as zr,cF as Mr,cG as Nr,cH as $r,cI as Or,cJ as Lr,cK as Tr,cL as Ur,cM as Hr,D as jr,cN as Gr,cO as Fr,cP as Yr,cQ as Zr,cR as Wr}from"./DNqa37ts.js";import{a as ca,u as vt}from"./t3Arjasg.js";import{$ as st,f as Ge}from"./DRDXG1_6.js";import{V as De}from"./CEW8B1s9.js";import{V as ce}from"./vhdmPbFS.js";import{V as er,m as Kr,a as ya}from"./BfstPCe7.js";import{V as Je}from"./Db-2z3gp.js";import{V as rt}from"./DiDwurZf.js";import{_ as tr}from"./SFgSy8c6.js";import{_ as Tt}from"./BVz1G1IN.js";import{_ as ar,a as fa,b as va}from"./By6a24Bq.js";import{_ as xa,f as Ea}from"./CdP3NN9a.js";import{V as ha}from"./DcJEx7kN.js";import{V as Zt,a as Wt,b as rr,c as ir,d as nr}from"./laOSfSzG.js";import{u as Jr}from"./k__Dlqjf.js";import{_ as Xr}from"./CsfA0ddk.js";const qr={key:1},Qr={__name:"Dados",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],async setup(_,{emit:B}){let I,S;const k=_,O=B,t=Pt(),{$toast:a}=kt(),r=ht(),g=`${r.public.auth}/service/gerencia/createPessoa`,h=`${r.public.auth}/service/gerencia/updatePessoa`,v=`${r.public.auth}/service/gerencia/listarEstadoCivil`,l=`${r.public.auth}/service/gerencia/listarCapacidadeCivil`,f=`${r.public.auth}/service/gerencia/listarCidades`,w=`${r.public.auth}/service/gerencia/listarSexo`,s={nome:null,nome_pai:null,nome_mae:null,profissao:null,local_trabalho:null,data_nascimento:null,doc_identificacao:null,cpf_pai:null,cpf_mae:null,tipo_pessoa:"FISICA",tabvalores_estadocivil_id:null,tabvalores_capacidadecivil_id:null,tabvalores_sexo_id:null,cidade_natural_id:null,cartorio_id:Pe("user-data").value.cartorio_id,user_id:Pe("user-data").value.usuario_id},m=_e(!1),u=Pe("pessoa-id"),n=It({...s});function i(R){if(R)return R.replace(/[.\-]/g,"");R=null}const{data:d,status:b,pending:y,error:x}=([I,S]=Ht(async()=>ca("cliente-dados",async()=>{const[R,P,j,T]=await Promise.all([st(v),st(l),st(f),st(w)]);return{estadoCivilItems:R,capacidadeCivilItems:P,cidadeNascimentoItems:j,sexoItems:T}})),I=await I,S(),I),E={nome:{required:Qe.withMessage("O campo é obrigatorio",at)},nome_mae:{required:Qe.withMessage("O campo é obrigatorio",at)},doc_identificacao:{required:Qe.withMessage("O campo é obrigatorio",at),cpf:pr}},M=Ut(E,n);async function C(){if(await M.value.$validate()){const R={...n};for(const Z in R)R[Z]===""&&(R[Z]=null);const P={...R,doc_identificacao:i(n.doc_identificacao),cpf_pai:i(n.cpf_pai),cpf_mae:i(n.cpf_mae)},{data:j,error:T,status:U}=await Ge(g,{method:"POST",body:P});if(U.value==="error"&&T.value.statusCode===500)a.error("Erro ao cadastrar pessoa,o CPF já está cadastrado.");else{a.success("Pessoa cadastrada com sucesso!");const Z=j.value.id;u.value=Z;const $=Pe("pessoa_token");$.value=j.value.token,m.value=!0,O("saved")}}else a.error("Erro ao cadastrar pessoa, preencha os campos obrigatorios.")}async function N(){const R={...n};for(const Z in R)R[Z]===""&&(R[Z]=null);const P={...R,doc_identificacao:i(n.doc_identificacao),cpf_mae:i(n.cpf_mae)},{data:j,error:T,status:U}=await Ge(`${h}/${u.value}`,{method:"PUT",body:P});if(U.value==="success"){if(k.isModal===!0){a.success("Pessoa atualizada com sucesso!"),O("close-modal");return}a.success("Pessoa atualizada com sucesso!"),t.push("/pessoas/lista")}}const L=()=>{if(k.isModal===!0){O("close-modal");return}t.push("/pessoas/lista")};return(R,P)=>{const j=Nt("mask");return de(),ze(it,null,[A(y)?(de(),ke(Ga,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):A(x)?(de(),ze("div",qr,la(A(x).message),1)):He("",!0),A(y)?He("",!0):(de(),ke(rt,{key:2},{default:F(()=>[V(De,null,{default:F(()=>[V(ce,{md:"6"},{default:F(()=>[V(ge,{modelValue:A(n).nome,"onUpdate:modelValue":P[0]||(P[0]=T=>A(n).nome=T),"error-messages":A(M).nome.$errors.map(T=>T.$message),label:"Nome",required:"",onBlur:A(M).nome.$touch,onInput:A(M).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),V(ce,{md:"4"},{default:F(()=>[ut(V(ge,{modelValue:A(n).doc_identificacao,"onUpdate:modelValue":P[1]||(P[1]=T=>A(n).doc_identificacao=T),"error-messages":A(M).doc_identificacao.$errors.map(T=>T.$message),label:"CPF",required:"",onBlur:A(M).doc_identificacao.$touch,onInput:A(M).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[j,"###.###.###-##"]])]),_:1}),V(ce,{md:"2"},{default:F(()=>[V(er,{label:"Sexo",modelValue:A(n).tabvalores_sexo_id,"onUpdate:modelValue":P[2]||(P[2]=T=>A(n).tabvalores_sexo_id=T),items:A(d).sexoItems,"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),V(De,null,{default:F(()=>[V(ce,{md:"4"},{default:F(()=>[V(Je,{modelValue:A(n).tabvalores_estadocivil_id,"onUpdate:modelValue":P[3]||(P[3]=T=>A(n).tabvalores_estadocivil_id=T),items:A(d).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),V(ce,{md:"4"},{default:F(()=>[V(ge,{modelValue:A(n).profissao,"onUpdate:modelValue":P[4]||(P[4]=T=>A(n).profissao=T),label:"Profissão"},null,8,["modelValue"])]),_:1}),V(ce,{md:"4"},{default:F(()=>[V(ge,{modelValue:A(n).local_trabalho,"onUpdate:modelValue":P[5]||(P[5]=T=>A(n).local_trabalho=T),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),V(De,null,{default:F(()=>[V(ce,{md:"4"},{default:F(()=>[V(ge,{modelValue:A(n).data_nascimento,"onUpdate:modelValue":P[6]||(P[6]=T=>A(n).data_nascimento=T),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),V(ce,{md:"4"},{default:F(()=>[V(Je,{modelValue:A(n).tabvalores_capacidadecivil_id,"onUpdate:modelValue":P[7]||(P[7]=T=>A(n).tabvalores_capacidadecivil_id=T),items:A(d).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),V(ce,{md:"4"},{default:F(()=>[V(Je,{modelValue:A(n).cidade_natural_id,"onUpdate:modelValue":P[8]||(P[8]=T=>A(n).cidade_natural_id=T),items:A(d).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),V(De,null,{default:F(()=>[V(ce,{md:"4"},{default:F(()=>[ut(V(ge,{modelValue:A(n).cpf_pai,"onUpdate:modelValue":P[9]||(P[9]=T=>A(n).cpf_pai=T),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[j,"###.###.###-##"]])]),_:1}),V(ce,{md:"4"},{default:F(()=>[V(ge,{modelValue:A(n).nome_pai,"onUpdate:modelValue":P[10]||(P[10]=T=>A(n).nome_pai=T),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),V(De,null,{default:F(()=>[V(ce,{md:"4"},{default:F(()=>[ut(V(ge,{modelValue:A(n).cpf_mae,"onUpdate:modelValue":P[11]||(P[11]=T=>A(n).cpf_mae=T),modelModifiers:{date:!0},label:"CPF da Mãe"},null,8,["modelValue"]),[[j,"###.###.###-##"]])]),_:1}),V(ce,{md:"4"},{default:F(()=>[V(ge,{modelValue:A(n).nome_mae,"onUpdate:modelValue":P[12]||(P[12]=T=>A(n).nome_mae=T),modelModifiers:{date:!0},"error-messages":A(M).nome_mae.$errors.map(T=>T.$message),label:"Nome da Mãe",required:"",onBlur:A(M).nome_mae.$touch,onInput:A(M).nome_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),V(De,{class:"mb-3"},{default:F(()=>[V(Ne,{onClick:L,size:"large",color:"red"},{default:F(()=>P[14]||(P[14]=[Re("Voltar")])),_:1}),V(Ne,{onClick:P[13]||(P[13]=T=>A(m)?N():C()),class:"ml-4",size:"large",color:"green"},{default:F(()=>P[15]||(P[15]=[Re("Salvar")])),_:1})]),_:1})]),_:1}))],64)}}},ei=Qe.withMessage("CNPJ inválido",_=>{if(!_)return!1;const B=_.replace(/[^\d]+/g,"");if(B.length!==14||/^(\d)\1+$/.test(B))return!1;let I=B.length-2,S=B.substring(0,I);const k=B.substring(I);let O=0,t=I-7;for(let r=I;r>=1;r--)O+=parseInt(S.charAt(I-r),10)*t--,t<2&&(t=9);let a=O%11<2?0:11-O%11;if(a!==parseInt(k.charAt(0),10))return!1;I+=1,S=B.substring(0,I),O=0,t=I-7;for(let r=I;r>=1;r--)O+=parseInt(S.charAt(I-r),10)*t--,t<2&&(t=9);return a=O%11<2?0:11-O%11,a===parseInt(k.charAt(1),10)}),ti={__name:"DadosJuridica",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],setup(_,{emit:B}){const I=_,S=B,k=Pt(),O=zt(),{$toast:t}=kt(),a=ht(),r=`${a.public.auth}/service/gerencia/getPessoaById`,g=`${a.public.auth}/service/gerencia/createPessoa`,h=`${a.public.auth}/service/gerencia/updatePessoa`,{id:v}=O.params,l={nome:null,nome_fantasia:null,inscricao_estadual:null,observacao:null,doc_identificacao:null,tipo_pessoa:"JURIDICA",cartorio_id:Pe("user-data").value.cartorio_id,user_id:Pe("user-data").value.usuario_id},f=_e(!1),w=Pe("pessoa-id"),s=It({...l});function m(x){return x?x.replace(/[.\-/]/g,""):null}const u={nome:{required:Qe.withMessage("O campo é obrigatorio",at)},doc_identificacao:{required:Qe.withMessage("O campo é obrigatorio",at),cnpj:ei}},n=Ut(u,s);async function i(){if(await n.value.$validate()){const x={...s};for(const L in x)x[L]===""&&(x[L]=null);const E={...x,doc_identificacao:m(s.doc_identificacao)},{data:M,error:C,status:N}=await Ge(g,{method:"POST",body:E});if(N.value==="error"&&C.value.statusCode===500)t.error("Erro ao cadastrar Pessoa Juridica,o CNPJ já está cadastrado.");else{t.success("Pessoa Juridica cadastrada com sucesso!");const L=M.value.id;w.value=L;const R=Pe("pessoa_token");R.value=M.value.token,f.value=!0,S("saved")}}else t.error("Erro ao cadastrar pessoa juridica, preencha os campos obrigatorios.")}async function d(){const x={...s};for(const L in x)x[L]===""&&(x[L]=null);const E={...x,doc_identificacao:m(s.doc_identificacao)},{data:M,error:C,status:N}=await Ge(`${h}/${v||w.value}`,{method:"PUT",body:E});if(N.value==="success"){if(I.isModal===!0){t.success("Pessoa Juridica atualizada com sucesso!"),S("close-modal");return}t.success("Pessoa Juridica atualizada com sucesso!"),k.push("/pessoas/lista")}}async function b(){const{data:x,error:E}=await Ge(`${r}/${v}`,{method:"GET"});Object.assign(s,x.value)}const y=()=>{if(I.isModal===!0){S("close-modal");return}k.push("/pessoas/lista")};return jt(()=>{v&&(b(),f.value=!0)}),(x,E)=>{const M=Nt("mask");return de(),ke(rt,{class:"mt-3",style:{height:"425px"}},{default:F(()=>[V(De,null,{default:F(()=>[V(ce,{md:"8"},{default:F(()=>[V(ge,{modelValue:A(s).nome,"onUpdate:modelValue":E[0]||(E[0]=C=>A(s).nome=C),"error-messages":A(n).nome.$errors.map(C=>C.$message),label:"Razão Social",required:"",onBlur:A(n).nome.$touch,onInput:A(n).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),V(ce,{md:"4"},{default:F(()=>[ut(V(ge,{modelValue:A(s).doc_identificacao,"onUpdate:modelValue":E[1]||(E[1]=C=>A(s).doc_identificacao=C),"error-messages":A(n).doc_identificacao.$errors.map(C=>C.$message),label:"CNPJ",required:"",onBlur:A(n).doc_identificacao.$touch,onInput:A(n).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[M,"##.###.###/####-##"]])]),_:1})]),_:1}),V(De,null,{default:F(()=>[V(ce,{md:"8"},{default:F(()=>[V(ge,{modelValue:A(s).nome_fantasia,"onUpdate:modelValue":E[2]||(E[2]=C=>A(s).nome_fantasia=C),label:"Nome Fantasia"},null,8,["modelValue"])]),_:1}),V(ce,{md:"4"},{default:F(()=>[V(ge,{modelValue:A(s).inscricao_estadual,"onUpdate:modelValue":E[3]||(E[3]=C=>A(s).inscricao_estadual=C),label:"Inscrição Estadual"},null,8,["modelValue"])]),_:1})]),_:1}),V(De,null,{default:F(()=>[V(ce,{md:"12"},{default:F(()=>[V(ge,{modelValue:A(s).observacao,"onUpdate:modelValue":E[4]||(E[4]=C=>A(s).observacao=C),label:"Observação"},null,8,["modelValue"])]),_:1})]),_:1}),V(De,{class:"mb-3"},{default:F(()=>[V(Ne,{onClick:y,size:"large",color:"red"},{default:F(()=>E[6]||(E[6]=[Re("Voltar")])),_:1}),V(Ne,{onClick:E[5]||(E[5]=C=>A(f)?d():i()),class:"ml-4",size:"large",color:"green"},{default:F(()=>E[7]||(E[7]=[Re("Salvar")])),_:1})]),_:1})]),_:1})}}},ai=["onClick"],ri=["onClick"],ii={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:fa,alt:"deletar",title:"Reativar"},ni={key:1,src:va,alt:"reativar",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"reativar"},oi={__name:"Documentos",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(_,{emit:B}){let I,S;const k=B,O=_,{$toast:t}=kt(),a=zt(),r=Pt(),{id:g}=a.params,h=ht(),v=`${h.public.auth}/service/gerencia/listarTipoDocumento`,l=`${h.public.auth}/service/gerencia/listarUF`,f=`${h.public.auth}/service/gerencia/getPessoaDocById`,w=`${h.public.auth}/service/gerencia/createPessoaDoc`,s=`${h.public.auth}/service/gerencia/updatePessoaDoc`,m=_e(!1),u=_e(null),n=_e(Pe("user-data").value.usuario_id).value,i=Number(g||Pe("pessoa-id").value),d=It({tabvalores_tipodoc_id:null,emissor:null,numero:null,data_emissao:null,data_vencimento:null,tabvalores_ufemissor_id:null}),b=[{title:"Tipo",value:"tipoDocumento.descricao"},{title:"Número",value:"numero"},{title:"Emissor",value:"emissor"},{title:"UF",value:"ufEmissor.descricao"},{title:"Emissão",value:"data_emissao"},{title:"Validade",value:"data_vencimento"},{value:"actions"}],y={numero:{required:Qe.withMessage("O campo é obrigatorio",at)},emissor:{required:Qe.withMessage("O campo é obrigatorio",at)}},x=Ut(y,d),{data:E,pending:M,refresh:C}=([I,S]=Ht(async()=>ca("cliente-documentos",async()=>{const[T,U,Z]=await Promise.all([st(v),st(l),st(`${f}/${i}`)]),$=Z.map(H=>({...H,data_emissao:xa(H.data_emissao),data_vencimento:xa(H.data_vencimento)}));return{tipoDocumentoItems:T,ufItems:U,pessoasDocsItems:$}})),I=await I,S(),I);async function N(){if(await x.value.$validate()){const T={...d};for(const J in T)T[J]===""&&(T[J]=null);const U={...T,user_id:n,pessoa_id:i},{data:Z,error:$,status:H}=await Ge(w,{method:"POST",body:U});if(H.value==="error"&&$.value.statusCode===500)t.error("Erro ao cadastrar documento,erro no sistema.");else{t.success("Documento cadastrado com sucesso!"),C();for(const J in d)d[J]="";x.value.$reset()}}else t.error("Erro ao cadastrar documento, preencha os campos obrigatorios.")}function L(T){T&&(u.value={...T,data_emissao:Ea(T.data_emissao),data_vencimento:Ea(T.data_vencimento)},m.value=!0)}async function R(T){const U={tabvalores_tipodoc_id:u.value.tabvalores_tipodoc_id,numero:u.value.numero,emissor:u.value.emissor,tabvalores_ufemissor_id:u.value.tabvalores_ufemissor_id,data_vencimento:u.value.data_vencimento,data_emissao:u.value.data_emissao},{status:Z}=await Ge(`${s}/${T}`,{method:"PUT",body:U});Z.value==="success"&&(m.value=!1,t.success("Pessoa atualizada com sucesso!"),C())}async function P(T){T.excluido=!T.excluido;try{await Ge(`${s}/${T.id}`,{method:"PUT",body:JSON.stringify({excluido:T.excluido})})}catch(U){console.error("Erro ao excluir pessoa:",U)}}const j=()=>{if(O.isModal===!0){k("close-modal");return}r.push("/pessoas/lista")};return(T,U)=>{const Z=tr;return de(),ze(it,null,[A(M)?He("",!0):(de(),ke(rt,{key:0,class:"mt-3",style:{height:"425px"}},{default:F(()=>[V(De,null,{default:F(()=>[V(ce,{md:"2"},{default:F(()=>[V(Je,{modelValue:A(d).tabvalores_tipodoc_id,"onUpdate:modelValue":U[0]||(U[0]=$=>A(d).tabvalores_tipodoc_id=$),items:A(E).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),V(ce,null,{default:F(()=>[V(ge,{modelValue:A(d).numero,"onUpdate:modelValue":U[1]||(U[1]=$=>A(d).numero=$),"error-messages":A(x).numero.$errors.map($=>$.$message),label:"Numero",required:"",onBlur:A(x).numero.$touch,onInput:A(x).numero.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),V(ce,{md:"2"},{default:F(()=>[V(ge,{modelValue:A(d).emissor,"onUpdate:modelValue":U[2]||(U[2]=$=>A(d).emissor=$),"error-messages":A(x).emissor.$errors.map($=>$.$message),required:"",onBlur:A(x).emissor.$touch,onInput:A(x).emissor.$touch,label:"Emissor"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),V(ce,null,{default:F(()=>[V(Je,{modelValue:A(d).tabvalores_ufemissor_id,"onUpdate:modelValue":U[3]||(U[3]=$=>A(d).tabvalores_ufemissor_id=$),items:A(E).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),V(ce,{md:"2"},{default:F(()=>[V(ge,{modelValue:A(d).data_emissao,"onUpdate:modelValue":U[4]||(U[4]=$=>A(d).data_emissao=$),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),V(ce,{md:"2"},{default:F(()=>[V(ge,{modelValue:A(d).data_vencimento,"onUpdate:modelValue":U[5]||(U[5]=$=>A(d).data_vencimento=$),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1}),Ae("div",{class:"mt-1"},[Ae("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Tt,alt:"novo",onClick:N})])]),_:1}),V(ha,{style:{"max-height":"330px"},headers:b,items:A(E).pessoasDocsItems,"item-key":"id"},{"item.actions":F(({item:$})=>[V(De,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:F(()=>[Ae("div",{onClick:H=>L($),title:"editar"},U[15]||(U[15]=[Ae("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:ar,alt:"editar"},null,-1)]),8,ai),Ae("div",{onClick:H=>P($),title:"deletar"},[$.excluido?(de(),ze("img",ii)):(de(),ze("img",ni))],8,ri)]),_:2},1024)]),_:1},8,["items"]),V(Zt,{modelValue:A(m),"onUpdate:modelValue":U[14]||(U[14]=$=>bt(m)?m.value=$:null),"max-width":"600px"},{default:F(()=>[V(Wt,null,{default:F(()=>[V(rr,{style:{color:"green"}},{default:F(()=>U[16]||(U[16]=[Re("Atualizar Endereço")])),_:1}),V(ir,null,{default:F(()=>[V(De,null,{default:F(()=>[V(ce,{cols:"12",md:"6"},{default:F(()=>[V(Je,{modelValue:A(u).tabvalores_tipodoc_id,"onUpdate:modelValue":U[6]||(U[6]=$=>A(u).tabvalores_tipodoc_id=$),items:A(E).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),V(ce,{cols:"12",md:"6"},{default:F(()=>[V(ge,{modelValue:A(u).numero,"onUpdate:modelValue":U[7]||(U[7]=$=>A(u).numero=$),label:"Número"},null,8,["modelValue"])]),_:1}),V(ce,{cols:"12",md:"6"},{default:F(()=>[V(ge,{modelValue:A(u).emissor,"onUpdate:modelValue":U[8]||(U[8]=$=>A(u).emissor=$),label:"Número"},null,8,["modelValue"])]),_:1}),V(ce,{cols:"12",md:"6"},{default:F(()=>[V(Je,{modelValue:A(u).tabvalores_ufemissor_id,"onUpdate:modelValue":U[9]||(U[9]=$=>A(u).tabvalores_ufemissor_id=$),items:A(E).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),V(ce,{cols:"12",md:"6"},{default:F(()=>[V(ge,{modelValue:A(u).data_emissao,"onUpdate:modelValue":U[10]||(U[10]=$=>A(u).data_emissao=$),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),V(ce,{cols:"12",md:"6"},{default:F(()=>[V(ge,{modelValue:A(u).data_vencimento,"onUpdate:modelValue":U[11]||(U[11]=$=>A(u).data_vencimento=$),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),V(nr,null,{default:F(()=>[V(Fa),V(Ne,{color:"green",text:"",onClick:U[12]||(U[12]=$=>m.value=!1)},{default:F(()=>U[17]||(U[17]=[Re("Cancelar")])),_:1}),V(Ne,{color:"green",text:"",onClick:U[13]||(U[13]=$=>R(A(u).id))},{default:F(()=>U[18]||(U[18]=[Re("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),V(Z,{onClick:j},{default:F(()=>[V(Ne,{size:"large",class:"ml-10 mb-5",color:"red"},{default:F(()=>U[19]||(U[19]=[Re("Voltar")])),_:1})]),_:1})],64)}}},li=["onClick"],si={key:0,style:{width:"30px",height:"30px"},src:fa,alt:"Visualizar",title:"Reativar"},ui={key:1,src:va,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},di={__name:"Representantes",props:{isModal:{type:Boolean,default:!1}},async setup(_){let B,I;const S=_,k=ht(),{$toast:O}=kt(),t=zt(),a=Pt(),r=`${k.public.auth}/service/gerencia/pesquisarPessoas`,g=`${k.public.auth}/service/gerencia/listarPapeis`,h=`${k.public.auth}/service/gerencia/representante`,v=`${k.public.auth}/service/gerencia/representante`,l=`${k.public.auth}/service/gerencia/representante`,f=_e(Pe("user-data").value.cartorio_token),{id:w}=t.params,s=Number(w||Pe("pessoa-id").value),m=_e([]),u=_e([]),n=_e([]),i=_e(!1),d=[{title:"Documento",align:"start",key:"representante",value:R=>{var P,j;return((P=R.representante)==null?void 0:P.doc_identificacao)||((j=R.representante)==null?void 0:j.documento)}},{title:"Pessoa",align:"start",key:"representante.nome"},{title:"Papel",align:"start",key:"papel.descricao"},{value:"actions"}],b=It({papeis:null,nome:null,pessoa:null,documento:null}),{data:y}=([B,I]=Ht(()=>Ge(g,{method:"POST",body:{rotina:"CADASTRO_PJ"}})),B=await B,I(),B);n.value=y.value;async function x(){try{const{data:R,error:P}=await Ge(r,{method:"POST",body:{cartorio_token:f.value,documento:b.documento,nome:b.nome}});R.value.length>0?(m.value=R.value,b.pessoa=m.value[0]):m.value=[]}catch(R){console.error("Erro na requisição",R)}}const E=()=>{i.value=!0},M=async()=>{const R={representante:b.pessoa,papel:n.value.find(P=>P.id===b.papeis)};try{const{data:P,error:j,status:T}=await Ge(h,{method:"POST",body:{ato_id:null,representante_id:b.pessoa.id,pessoa_id:s||w,papel_id:b.papeis,user_id:Pe("user-data").value.usuario_id}});T.value==="success"?(R.id=P.value.id,O.success("Pessoa Registrada com Sucesso!"),u.value.push(R)):O.error("Erro ao registrar a pessoa!")}catch{O.error("Erro no servidor. Tente novamente.")}};async function C(){const{data:R,error:P}=await Ge(`${v}/${w}`,{method:"GET"});u.value=R.value}async function N(R){R.excluido=!R.excluido;try{await Ge(`${l}/${R.id}`,{method:"PUT",body:JSON.stringify({excluido:R.excluido})})}catch(P){console.error("Erro ao excluir pessoa:",P)}}const L=()=>{if(S.isModal===!0){emit("close-modal");return}a.push("/pessoas/lista")};return jt(()=>{w&&C()}),(R,P)=>{const j=yn,T=tr;return de(),ze(it,null,[V(rt,{style:{height:"425px"}},{default:F(()=>[V(De,{class:"mt-1"},{default:F(()=>[V(ce,{cols:"3"},{default:F(()=>[V(ge,{label:"Documento",modelValue:A(b).documento,"onUpdate:modelValue":P[0]||(P[0]=U=>A(b).documento=U)},null,8,["modelValue"])]),_:1}),V(ce,{cols:"4"},{default:F(()=>[V(ge,{label:"Pessoa",modelValue:A(b).nome,"onUpdate:modelValue":P[1]||(P[1]=U=>A(b).nome=U)},null,8,["modelValue"])]),_:1}),Ae("div",null,[Ae("img",{class:"mt-1",src:Xr,style:{width:"40px",cursor:"pointer"},title:"Pesquisar Pessoa",onClick:x})]),Ae("div",null,[Ae("img",{class:"mt-1 ml-2",src:Tt,style:{width:"40px",cursor:"pointer"},title:"Criar Pessoa",onClick:E})])]),_:1}),V(De,null,{default:F(()=>[V(ce,{cols:"4"},{default:F(()=>[V(Je,{label:"Selecione a Pessoa",modelValue:A(b).pessoa,"onUpdate:modelValue":P[2]||(P[2]=U=>A(b).pessoa=U),items:A(m),"item-title":"nome","item-value":"id","return-object":"",required:""},null,8,["modelValue","items"])]),_:1}),V(ce,{cols:"3"},{default:F(()=>[V(Je,{label:"Papel",modelValue:A(b).papeis,"onUpdate:modelValue":P[3]||(P[3]=U=>A(b).papeis=U),items:A(n),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),Ae("div",null,[Ae("img",{class:"mt-1",src:Tt,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:M})])]),_:1}),V(De,null,{default:F(()=>[V(ce,null,{default:F(()=>[V(ha,{style:{"max-height":"330px"},headers:d,items:A(u)},{"item.actions":F(({item:U})=>[V(De,null,{default:F(()=>[Ae("div",{class:"mr-2",style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:Z=>N(U),title:"Deletar Pessoa"},[U.excluido?(de(),ze("img",si)):(de(),ze("img",ui))],8,li)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),V(j,{show:A(i),onClose:P[4]||(P[4]=U=>i.value=!1)},null,8,["show"])]),_:1}),V(T,{onClick:L},{default:F(()=>[V(Ne,{size:"large",class:"ml-10 mb-5",color:"red"},{default:F(()=>P[5]||(P[5]=[Re("Voltar")])),_:1})]),_:1})],64)}}},ci={class:"mt-1"},fi={style:{width:"150px","font-weight":"500"}},vi={style:{width:"200px","font-weight":"500"}},hi=["onClick"],_i=["onClick"],mi={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:fa,alt:"Visualizar",title:"Reativar"},pi={key:1,src:va,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},gi={__name:"Endereco",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(_,{emit:B}){let I,S;const k=B,O=_,{$toast:t}=kt(),a=zt(),{id:r}=a.params,g=Pt(),h=ht(),v=`${h.public.auth}/service/gerencia/listarPais`,l=`${h.public.auth}/service/gerencia/getPessoaEnderecoById`,f=`${h.public.auth}/service/gerencia/createPessoaEndereco`,w=`${h.public.auth}/service/gerencia/updatePessoaEndereco`,s=_e(Pe("user-data").value.usuario_id).value,m=Number(r||Pe("pessoa-id").value),u=It({tabvalores_pais_id:null,cidade_id:null,codcep:null,logradouro:null,numero:null,bairro:null,complemento:null,cidade_estrangeira:null}),n=[{title:"País",value:"pais.descricao"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro"},{title:"N*",value:"numero"},{title:"Complemento",value:"complemento"},{title:"Bairro",value:"bairro"},{title:"Cidade",value:"cidade"},{value:"actions"}],i=_e(!1),d=_e(null),b=me(()=>{const $=M.value.paisItems.find(H=>H.id===u.tabvalores_pais_id);return $?$.estrangeiro:!1}),y=$=>{var H;return((H=$.cidades)==null?void 0:H.nome)||$.cidade_estrangeira},x={numero:{required:Qe.withMessage("O campo é obrigatorio",at)},bairro:{required:Qe.withMessage("O campo é obrigatorio",at)},logradouro:{required:Qe.withMessage("O campo é obrigatorio",at)},codcep:{required:Qe.withMessage("O campo é obrigatorio e precisa de 8 digitos",at)}},E=Ut(x,u),{data:M,status:C,pending:N,refresh:L}=([I,S]=Ht(async()=>ca("cliente-enderecos",async()=>{const[$,H,J]=await Promise.all([st(v),st(`${l}/${m}`),st(`${h.public.auth}/service/gerencia/listarCidades`)]);return{paisItems:$,enderecosItems:H,cidadesItems:J}})),I=await I,S(),I);async function R(){if(await E.value.$validate()){const H={...{...u},user_id:s,pessoa_id:m},{data:J,error:W,status:ae}=await Ge(f,{method:"POST",body:H});if(ae.value==="error"&&W.value.statusCode===500)t.error("Erro ao cadastrar endereço,erro no sistema.");else{t.success("Endereço cadastrado com sucesso!"),L();for(const he in u)u[he]=null;E.value.$reset()}}else t.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}async function P(){if(!u.cidade_estrangeira||!u.logradouro){t.error("Os Campos Cidade Estrangeira e Endereço são obrigatorios!");return}const H={...{...u},user_id:s,pessoa_id:m},{data:J,error:W,status:ae}=await Ge(f,{method:"POST",body:H});if(ae.value==="error"&&W.value.statusCode===500)t.error("Erro ao cadastrar endereço,erro no sistema.");else{t.success("Endereço cadastrado com sucesso!"),L();for(const he in u)u[he]=null;E.value.$reset()}}function j($){const H=M.value.enderecosItems.find(J=>J.id===$);H&&(d.value=H,i.value=!0)}async function T($){const H={tabvalores_pais_id:d.value.tabvalores_pais_id,cidade_id:d.value.cidade_id,codcep:d.value.codcep,logradouro:d.value.logradouro,numero:d.value.numero,bairro:d.value.bairro,complemento:d.value.complemento},{status:J}=await Ge(`${w}/${$}`,{method:"PUT",body:H});J.value==="success"&&(i.value=!1,t.success("Endereço atualizado com sucesso!"),L())}async function U($){$.excluido=!$.excluido;try{await Ge(`${w}/${$.id}`,{method:"PUT",body:{excluido:$.excluido}})}catch(H){console.error("Erro ao excluir pessoa:",H)}}const Z=()=>{if(O.isModal===!0){k("close-modal");return}g.push("/pessoas/lista")};return($,H)=>{const J=Nt("mask");return de(),ze(it,null,[A(N)?He("",!0):(de(),ke(rt,{key:0,class:"mt-3",style:{height:"425px"}},{default:F(()=>[V(De,null,{default:F(()=>[V(ce,{md:"2"},{default:F(()=>[V(Je,{modelValue:A(u).tabvalores_pais_id,"onUpdate:modelValue":H[0]||(H[0]=W=>A(u).tabvalores_pais_id=W),items:A(M).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),V(ce,{md:"2"},{default:F(()=>[A(b)?ut((de(),ke(ge,{key:1,modelValue:A(u).codcep,"onUpdate:modelValue":H[2]||(H[2]=W=>A(u).codcep=W),label:"CEP"},null,8,["modelValue"])),[[J,"########"]]):ut((de(),ke(ge,{key:0,modelValue:A(u).codcep,"onUpdate:modelValue":H[1]||(H[1]=W=>A(u).codcep=W),"error-messages":A(E).codcep.$errors.map(W=>W.$message),required:"",onBlur:A(E).codcep.$touch,onInput:A(E).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"])),[[J,"########"]])]),_:1}),V(ce,{md:"6"},{default:F(()=>[A(b)?(de(),ke(ge,{key:1,modelValue:A(u).logradouro,"onUpdate:modelValue":H[4]||(H[4]=W=>A(u).logradouro=W),label:"Endereço"},null,8,["modelValue"])):(de(),ke(ge,{key:0,modelValue:A(u).logradouro,"onUpdate:modelValue":H[3]||(H[3]=W=>A(u).logradouro=W),label:"Endereço","error-messages":A(E).logradouro.$errors.map(W=>W.$message),required:"",onBlur:A(E).logradouro.$touch,onInput:A(E).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),V(ce,{md:"1"},{default:F(()=>[A(b)?(de(),ke(ge,{key:1,modelValue:A(u).numero,"onUpdate:modelValue":H[6]||(H[6]=W=>A(u).numero=W),label:"N*"},null,8,["modelValue"])):(de(),ke(ge,{key:0,modelValue:A(u).numero,"onUpdate:modelValue":H[5]||(H[5]=W=>A(u).numero=W),required:"","error-messages":A(E).numero.$errors.map(W=>W.$message),onBlur:A(E).numero.$touch,onInput:A(E).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),Ae("div",ci,[Ae("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Tt,alt:"novo",onClick:H[7]||(H[7]=W=>A(b)?P():R())})]),V(ce,{md:"5"},{default:F(()=>[V(ge,{modelValue:A(u).complemento,"onUpdate:modelValue":H[8]||(H[8]=W=>A(u).complemento=W),label:"Complemento"},null,8,["modelValue"])]),_:1}),V(ce,{md:"3"},{default:F(()=>[A(b)?(de(),ke(ge,{key:1,modelValue:A(u).bairro,"onUpdate:modelValue":H[10]||(H[10]=W=>A(u).bairro=W),label:"Bairro"},null,8,["modelValue"])):(de(),ke(ge,{key:0,modelValue:A(u).bairro,"onUpdate:modelValue":H[9]||(H[9]=W=>A(u).bairro=W),"error-messages":A(E).bairro.$errors.map(W=>W.$message),required:"",onBlur:A(E).bairro.$touch,onInput:A(E).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),V(ce,{md:"3"},{default:F(()=>[A(b)?(de(),ke(ge,{key:1,modelValue:A(u).cidade_estrangeira,"onUpdate:modelValue":H[12]||(H[12]=W=>A(u).cidade_estrangeira=W),label:"Cidade Estrangeira"},null,8,["modelValue"])):(de(),ke(Je,{key:0,modelValue:A(u).cidade_id,"onUpdate:modelValue":H[11]||(H[11]=W=>A(u).cidade_id=W),items:A(M).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"]))]),_:1})]),_:1}),V(ha,{style:{"max-height":"330px"},headers:n,items:A(M).enderecosItems,"item-key":"id"},{"item.cidade":F(({item:W})=>[Ae("h4",fi,la(y(W)),1)]),"item.logradouro":F(({item:W})=>[Ae("h4",vi,la(W.logradouro),1)]),"item.actions":F(({item:W})=>[V(De,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:F(()=>[Ae("div",{onClick:ae=>j(W.id),title:"Visualizar"},H[24]||(H[24]=[Ae("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:ar,alt:"Visualizar"},null,-1)]),8,hi),Ae("div",{onClick:ae=>U(W),title:"Visualizar"},[W.excluido?(de(),ze("img",mi)):(de(),ze("img",pi))],8,_i)]),_:2},1024)]),_:1},8,["items"]),V(Zt,{modelValue:A(i),"onUpdate:modelValue":H[23]||(H[23]=W=>bt(i)?i.value=W:null),"max-width":"600px"},{default:F(()=>[V(Wt,null,{default:F(()=>[V(rr,{style:{color:"green"}},{default:F(()=>H[25]||(H[25]=[Re("Atualizar Endereço")])),_:1}),V(ir,null,{default:F(()=>[V(De,null,{default:F(()=>[V(ce,{cols:"12",md:"6"},{default:F(()=>[V(Je,{modelValue:A(d).tabvalores_pais_id,"onUpdate:modelValue":H[13]||(H[13]=W=>A(d).tabvalores_pais_id=W),items:A(M).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),V(ce,{cols:"12",md:"6"},{default:F(()=>[V(ge,{modelValue:A(d).logradouro,"onUpdate:modelValue":H[14]||(H[14]=W=>A(d).logradouro=W),label:"Logradouro"},null,8,["modelValue"])]),_:1}),V(ce,{cols:"12",md:"6"},{default:F(()=>[V(ge,{modelValue:A(d).complemento,"onUpdate:modelValue":H[15]||(H[15]=W=>A(d).complemento=W),label:"Complemento"},null,8,["modelValue"])]),_:1}),V(ce,{cols:"12",md:"6"},{default:F(()=>[V(ge,{modelValue:A(d).numero,"onUpdate:modelValue":H[16]||(H[16]=W=>A(d).numero=W),label:"Número"},null,8,["modelValue"])]),_:1}),V(ce,{cols:"12",md:"6"},{default:F(()=>[V(ge,{modelValue:A(d).bairro,"onUpdate:modelValue":H[17]||(H[17]=W=>A(d).bairro=W),label:"Bairro"},null,8,["modelValue"])]),_:1}),V(ce,{cols:"12",md:"6"},{default:F(()=>[V(ge,{modelValue:A(d).codcep,"onUpdate:modelValue":H[18]||(H[18]=W=>A(d).codcep=W),label:"CEP"},null,8,["modelValue"])]),_:1}),V(ce,{cols:"12",md:"6"},{default:F(()=>[A(d).cidade_estrangeira?(de(),ke(Je,{key:0,modelValue:A(d).cidade_id,"onUpdate:modelValue":H[19]||(H[19]=W=>A(d).cidade_id=W),items:A(M).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])):(de(),ke(ge,{key:1,modelValue:A(d).cidade_estrangeira,"onUpdate:modelValue":H[20]||(H[20]=W=>A(d).cidade_estrangeira=W),label:"Cidade Estrangeira"},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),V(nr,null,{default:F(()=>[V(Fa),V(Ne,{color:"green",text:"",onClick:H[21]||(H[21]=W=>i.value=!1)},{default:F(()=>H[26]||(H[26]=[Re("Cancelar")])),_:1}),V(Ne,{color:"green",text:"",onClick:H[22]||(H[22]=W=>T(A(d).id))},{default:F(()=>H[27]||(H[27]=[Re("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),V(Ne,{onClick:Z,class:"ml-10 mb-5",size:"large",color:"red"},{default:F(()=>H[28]||(H[28]=[Re("Voltar")])),_:1})],64)}}},bi={class:"finger-container"},wi=["onClick"],ki=["onClick"],yi={__name:"Digital",setup(_){const B=_e(["E1","E2","E3","E4","E5"]);var I=_e(["red","red","red","red","red"]);const S=_e(["D1","D2","D3","D4","D5"]);var k=_e(["red","red","red","red","red"]);const O=zt(),{$toast:t}=kt(),a=ht(),{id:r}=O.params,g=_e(Pe("pessoa-id").value).value,h=`${a.public.biometria}/capture-finger`,v=`${a.public.managemant}/createPessoaBiometria`,l=`${a.public.managemant}/getPessoaBiometriaById`;async function f(){const{status:u,data:n}=await vt(`${l}/${r||g}`,{method:"GET"},"$wrCckM1pY4");u.value==="success"&&n.value&&n.value.forEach(i=>{(B.value.includes(i.dedo)||S.value.includes(i.dedo))&&s(i.dedo,"green")})}jt(()=>{f()});async function w(u){const{status:n,data:i}=await vt(h,{method:"GET"},"$b5yqRnLFV9");if(n.value==="success"){const d=i.value.hash,b={user_id:Pe("user-data").value.usuario_id,pessoa_id:Number(r)||g,dedo:u,hash:d},{status:y}=await vt(v,{method:"POST",body:b},"$cWP9jlCX2Z");y.value==="success"?(t.success("Biometria enviada com sucesso!"),s(u,"green")):t.error("Falha ao enviar a biometria.")}else t.error("Erro ao Capturar biometria para o sistema.")}function s(u,n){const i=B.value.findIndex(d=>d===u);if(i!==-1)I.value[i]=n;else{const d=S.value.findIndex(b=>b===u);d!==-1&&(k.value[d]=n)}}function m(u,n){const d={E1:{top:82,left:-10},E2:{top:35,left:4},E3:{top:0,left:30},E4:{top:15,left:75},E5:{top:50,left:170},D1:{top:50,left:210},D2:{top:18,left:300},D3:{top:5,left:350},D4:{top:35,left:375},D5:{top:80,left:390}}[u];let b="red";if(n==="left"){const y=B.value.indexOf(u);y!==-1&&(b=I.value[y])}else if(n==="right"){const y=S.value.indexOf(u);y!==-1&&(b=k.value[y])}return{backgroundColor:b,top:`${d.top}px`,left:`${d.left}px`}}return(u,n)=>(de(),ke(ce,{style:{"margin-top":"20px"},cols:"auto",class:"biometria-container"},{default:F(()=>[Ae("div",bi,[(de(!0),ze(it,null,ba(A(B),(i,d)=>(de(),ze("div",{key:d,class:"finger",style:Lt(m(i,"left")),onClick:b=>w(i)},null,12,wi))),128)),(de(!0),ze(it,null,ba(A(S),(i,d)=>(de(),ze("div",{key:d,class:"finger",style:Lt(m(i,"right")),onClick:b=>w(i)},null,12,ki))),128))])]),_:1}))}},xi=Ya(yi,[["__scopeId","data-v-02650459"]]);function Ei(_){throw new Error('Could not dynamically require "'+_+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Kt={exports:{}},Jt={},Sa;function yt(){return Sa||(Sa=1,function(_){var B=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function I(O,t){return Object.prototype.hasOwnProperty.call(O,t)}_.assign=function(O){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var a=t.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var r in a)I(a,r)&&(O[r]=a[r])}}return O},_.shrinkBuf=function(O,t){return O.length===t?O:O.subarray?O.subarray(0,t):(O.length=t,O)};var S={arraySet:function(O,t,a,r,g){if(t.subarray&&O.subarray){O.set(t.subarray(a,a+r),g);return}for(var h=0;h<r;h++)O[g+h]=t[a+h]},flattenChunks:function(O){var t,a,r,g,h,v;for(r=0,t=0,a=O.length;t<a;t++)r+=O[t].length;for(v=new Uint8Array(r),g=0,t=0,a=O.length;t<a;t++)h=O[t],v.set(h,g),g+=h.length;return v}},k={arraySet:function(O,t,a,r,g){for(var h=0;h<r;h++)O[g+h]=t[a+h]},flattenChunks:function(O){return[].concat.apply([],O)}};_.setTyped=function(O){O?(_.Buf8=Uint8Array,_.Buf16=Uint16Array,_.Buf32=Int32Array,_.assign(_,S)):(_.Buf8=Array,_.Buf16=Array,_.Buf32=Array,_.assign(_,k))},_.setTyped(B)}(Jt)),Jt}var Bt={},tt={},xt={},Va;function Si(){if(Va)return xt;Va=1;var _=yt(),B=4,I=0,S=1,k=2;function O(p){for(var q=p.length;--q>=0;)p[q]=0}var t=0,a=1,r=2,g=3,h=258,v=29,l=256,f=l+1+v,w=30,s=19,m=2*f+1,u=15,n=16,i=7,d=256,b=16,y=17,x=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=512,R=new Array((f+2)*2);O(R);var P=new Array(w*2);O(P);var j=new Array(L);O(j);var T=new Array(h-g+1);O(T);var U=new Array(v);O(U);var Z=new Array(w);O(Z);function $(p,q,ee,oe,z){this.static_tree=p,this.extra_bits=q,this.extra_base=ee,this.elems=oe,this.max_length=z,this.has_stree=p&&p.length}var H,J,W;function ae(p,q){this.dyn_tree=p,this.max_code=0,this.stat_desc=q}function he(p){return p<256?j[p]:j[256+(p>>>7)]}function fe(p,q){p.pending_buf[p.pending++]=q&255,p.pending_buf[p.pending++]=q>>>8&255}function te(p,q,ee){p.bi_valid>n-ee?(p.bi_buf|=q<<p.bi_valid&65535,fe(p,p.bi_buf),p.bi_buf=q>>n-p.bi_valid,p.bi_valid+=ee-n):(p.bi_buf|=q<<p.bi_valid&65535,p.bi_valid+=ee)}function se(p,q,ee){te(p,ee[q*2],ee[q*2+1])}function we(p,q){var ee=0;do ee|=p&1,p>>>=1,ee<<=1;while(--q>0);return ee>>>1}function Ce(p){p.bi_valid===16?(fe(p,p.bi_buf),p.bi_buf=0,p.bi_valid=0):p.bi_valid>=8&&(p.pending_buf[p.pending++]=p.bi_buf&255,p.bi_buf>>=8,p.bi_valid-=8)}function Te(p,q){var ee=q.dyn_tree,oe=q.max_code,z=q.stat_desc.static_tree,X=q.stat_desc.has_stree,o=q.stat_desc.extra_bits,Q=q.stat_desc.extra_base,ve=q.stat_desc.max_length,e,Y,K,c,D,G,ue=0;for(c=0;c<=u;c++)p.bl_count[c]=0;for(ee[p.heap[p.heap_max]*2+1]=0,e=p.heap_max+1;e<m;e++)Y=p.heap[e],c=ee[ee[Y*2+1]*2+1]+1,c>ve&&(c=ve,ue++),ee[Y*2+1]=c,!(Y>oe)&&(p.bl_count[c]++,D=0,Y>=Q&&(D=o[Y-Q]),G=ee[Y*2],p.opt_len+=G*(c+D),X&&(p.static_len+=G*(z[Y*2+1]+D)));if(ue!==0){do{for(c=ve-1;p.bl_count[c]===0;)c--;p.bl_count[c]--,p.bl_count[c+1]+=2,p.bl_count[ve]--,ue-=2}while(ue>0);for(c=ve;c!==0;c--)for(Y=p.bl_count[c];Y!==0;)K=p.heap[--e],!(K>oe)&&(ee[K*2+1]!==c&&(p.opt_len+=(c-ee[K*2+1])*ee[K*2],ee[K*2+1]=c),Y--)}}function Be(p,q,ee){var oe=new Array(u+1),z=0,X,o;for(X=1;X<=u;X++)oe[X]=z=z+ee[X-1]<<1;for(o=0;o<=q;o++){var Q=p[o*2+1];Q!==0&&(p[o*2]=we(oe[Q]++,Q))}}function ye(){var p,q,ee,oe,z,X=new Array(u+1);for(ee=0,oe=0;oe<v-1;oe++)for(U[oe]=ee,p=0;p<1<<E[oe];p++)T[ee++]=oe;for(T[ee-1]=oe,z=0,oe=0;oe<16;oe++)for(Z[oe]=z,p=0;p<1<<M[oe];p++)j[z++]=oe;for(z>>=7;oe<w;oe++)for(Z[oe]=z<<7,p=0;p<1<<M[oe]-7;p++)j[256+z++]=oe;for(q=0;q<=u;q++)X[q]=0;for(p=0;p<=143;)R[p*2+1]=8,p++,X[8]++;for(;p<=255;)R[p*2+1]=9,p++,X[9]++;for(;p<=279;)R[p*2+1]=7,p++,X[7]++;for(;p<=287;)R[p*2+1]=8,p++,X[8]++;for(Be(R,f+1,X),p=0;p<w;p++)P[p*2+1]=5,P[p*2]=we(p,5);H=new $(R,E,l+1,f,u),J=new $(P,M,0,w,u),W=new $(new Array(0),C,0,s,i)}function $e(p){var q;for(q=0;q<f;q++)p.dyn_ltree[q*2]=0;for(q=0;q<w;q++)p.dyn_dtree[q*2]=0;for(q=0;q<s;q++)p.bl_tree[q*2]=0;p.dyn_ltree[d*2]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function We(p){p.bi_valid>8?fe(p,p.bi_buf):p.bi_valid>0&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function Le(p,q,ee,oe){We(p),fe(p,ee),fe(p,~ee),_.arraySet(p.pending_buf,p.window,q,ee,p.pending),p.pending+=ee}function pe(p,q,ee,oe){var z=q*2,X=ee*2;return p[z]<p[X]||p[z]===p[X]&&oe[q]<=oe[ee]}function ie(p,q,ee){for(var oe=p.heap[ee],z=ee<<1;z<=p.heap_len&&(z<p.heap_len&&pe(q,p.heap[z+1],p.heap[z],p.depth)&&z++,!pe(q,oe,p.heap[z],p.depth));)p.heap[ee]=p.heap[z],ee=z,z<<=1;p.heap[ee]=oe}function le(p,q,ee){var oe,z,X=0,o,Q;if(p.last_lit!==0)do oe=p.pending_buf[p.d_buf+X*2]<<8|p.pending_buf[p.d_buf+X*2+1],z=p.pending_buf[p.l_buf+X],X++,oe===0?se(p,z,q):(o=T[z],se(p,o+l+1,q),Q=E[o],Q!==0&&(z-=U[o],te(p,z,Q)),oe--,o=he(oe),se(p,o,ee),Q=M[o],Q!==0&&(oe-=Z[o],te(p,oe,Q)));while(X<p.last_lit);se(p,d,q)}function be(p,q){var ee=q.dyn_tree,oe=q.stat_desc.static_tree,z=q.stat_desc.has_stree,X=q.stat_desc.elems,o,Q,ve=-1,e;for(p.heap_len=0,p.heap_max=m,o=0;o<X;o++)ee[o*2]!==0?(p.heap[++p.heap_len]=ve=o,p.depth[o]=0):ee[o*2+1]=0;for(;p.heap_len<2;)e=p.heap[++p.heap_len]=ve<2?++ve:0,ee[e*2]=1,p.depth[e]=0,p.opt_len--,z&&(p.static_len-=oe[e*2+1]);for(q.max_code=ve,o=p.heap_len>>1;o>=1;o--)ie(p,ee,o);e=X;do o=p.heap[1],p.heap[1]=p.heap[p.heap_len--],ie(p,ee,1),Q=p.heap[1],p.heap[--p.heap_max]=o,p.heap[--p.heap_max]=Q,ee[e*2]=ee[o*2]+ee[Q*2],p.depth[e]=(p.depth[o]>=p.depth[Q]?p.depth[o]:p.depth[Q])+1,ee[o*2+1]=ee[Q*2+1]=e,p.heap[1]=e++,ie(p,ee,1);while(p.heap_len>=2);p.heap[--p.heap_max]=p.heap[1],Te(p,q),Be(ee,ve,p.bl_count)}function Se(p,q,ee){var oe,z=-1,X,o=q[0*2+1],Q=0,ve=7,e=4;for(o===0&&(ve=138,e=3),q[(ee+1)*2+1]=65535,oe=0;oe<=ee;oe++)X=o,o=q[(oe+1)*2+1],!(++Q<ve&&X===o)&&(Q<e?p.bl_tree[X*2]+=Q:X!==0?(X!==z&&p.bl_tree[X*2]++,p.bl_tree[b*2]++):Q<=10?p.bl_tree[y*2]++:p.bl_tree[x*2]++,Q=0,z=X,o===0?(ve=138,e=3):X===o?(ve=6,e=3):(ve=7,e=4))}function Ve(p,q,ee){var oe,z=-1,X,o=q[0*2+1],Q=0,ve=7,e=4;for(o===0&&(ve=138,e=3),oe=0;oe<=ee;oe++)if(X=o,o=q[(oe+1)*2+1],!(++Q<ve&&X===o)){if(Q<e)do se(p,X,p.bl_tree);while(--Q!==0);else X!==0?(X!==z&&(se(p,X,p.bl_tree),Q--),se(p,b,p.bl_tree),te(p,Q-3,2)):Q<=10?(se(p,y,p.bl_tree),te(p,Q-3,3)):(se(p,x,p.bl_tree),te(p,Q-11,7));Q=0,z=X,o===0?(ve=138,e=3):X===o?(ve=6,e=3):(ve=7,e=4)}}function Fe(p){var q;for(Se(p,p.dyn_ltree,p.l_desc.max_code),Se(p,p.dyn_dtree,p.d_desc.max_code),be(p,p.bl_desc),q=s-1;q>=3&&p.bl_tree[N[q]*2+1]===0;q--);return p.opt_len+=3*(q+1)+5+5+4,q}function At(p,q,ee,oe){var z;for(te(p,q-257,5),te(p,ee-1,5),te(p,oe-4,4),z=0;z<oe;z++)te(p,p.bl_tree[N[z]*2+1],3);Ve(p,p.dyn_ltree,q-1),Ve(p,p.dyn_dtree,ee-1)}function pt(p){var q=4093624447,ee;for(ee=0;ee<=31;ee++,q>>>=1)if(q&1&&p.dyn_ltree[ee*2]!==0)return I;if(p.dyn_ltree[9*2]!==0||p.dyn_ltree[10*2]!==0||p.dyn_ltree[13*2]!==0)return S;for(ee=32;ee<l;ee++)if(p.dyn_ltree[ee*2]!==0)return S;return I}var et=!1;function Ct(p){et||(ye(),et=!0),p.l_desc=new ae(p.dyn_ltree,H),p.d_desc=new ae(p.dyn_dtree,J),p.bl_desc=new ae(p.bl_tree,W),p.bi_buf=0,p.bi_valid=0,$e(p)}function gt(p,q,ee,oe){te(p,(t<<1)+(oe?1:0),3),Le(p,q,ee)}function Ye(p){te(p,a<<1,3),se(p,d,R),Ce(p)}function nt(p,q,ee,oe){var z,X,o=0;p.level>0?(p.strm.data_type===k&&(p.strm.data_type=pt(p)),be(p,p.l_desc),be(p,p.d_desc),o=Fe(p),z=p.opt_len+3+7>>>3,X=p.static_len+3+7>>>3,X<=z&&(z=X)):z=X=ee+5,ee+4<=z&&q!==-1?gt(p,q,ee,oe):p.strategy===B||X===z?(te(p,(a<<1)+(oe?1:0),3),le(p,R,P)):(te(p,(r<<1)+(oe?1:0),3),At(p,p.l_desc.max_code+1,p.d_desc.max_code+1,o+1),le(p,p.dyn_ltree,p.dyn_dtree)),$e(p),oe&&We(p)}function Dt(p,q,ee){return p.pending_buf[p.d_buf+p.last_lit*2]=q>>>8&255,p.pending_buf[p.d_buf+p.last_lit*2+1]=q&255,p.pending_buf[p.l_buf+p.last_lit]=ee&255,p.last_lit++,q===0?p.dyn_ltree[ee*2]++:(p.matches++,q--,p.dyn_ltree[(T[ee]+l+1)*2]++,p.dyn_dtree[he(q)*2]++),p.last_lit===p.lit_bufsize-1}return xt._tr_init=Ct,xt._tr_stored_block=gt,xt._tr_flush_block=nt,xt._tr_tally=Dt,xt._tr_align=Ye,xt}var Xt,Aa;function or(){if(Aa)return Xt;Aa=1;function _(B,I,S,k){for(var O=B&65535|0,t=B>>>16&65535|0,a=0;S!==0;){a=S>2e3?2e3:S,S-=a;do O=O+I[k++]|0,t=t+O|0;while(--a);O%=65521,t%=65521}return O|t<<16|0}return Xt=_,Xt}var qt,Ca;function lr(){if(Ca)return qt;Ca=1;function _(){for(var S,k=[],O=0;O<256;O++){S=O;for(var t=0;t<8;t++)S=S&1?3988292384^S>>>1:S>>>1;k[O]=S}return k}var B=_();function I(S,k,O,t){var a=B,r=t+O;S^=-1;for(var g=t;g<r;g++)S=S>>>8^a[(S^k[g])&255];return S^-1}return qt=I,qt}var Qt,Da;function _a(){return Da||(Da=1,Qt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),Qt}var Ba;function Vi(){if(Ba)return tt;Ba=1;var _=yt(),B=Si(),I=or(),S=lr(),k=_a(),O=0,t=1,a=3,r=4,g=5,h=0,v=1,l=-2,f=-3,w=-5,s=-1,m=1,u=2,n=3,i=4,d=0,b=2,y=8,x=9,E=15,M=8,C=29,N=256,L=N+1+C,R=30,P=19,j=2*L+1,T=15,U=3,Z=258,$=Z+U+1,H=32,J=42,W=69,ae=73,he=91,fe=103,te=113,se=666,we=1,Ce=2,Te=3,Be=4,ye=3;function $e(e,Y){return e.msg=k[Y],Y}function We(e){return(e<<1)-(e>4?9:0)}function Le(e){for(var Y=e.length;--Y>=0;)e[Y]=0}function pe(e){var Y=e.state,K=Y.pending;K>e.avail_out&&(K=e.avail_out),K!==0&&(_.arraySet(e.output,Y.pending_buf,Y.pending_out,K,e.next_out),e.next_out+=K,Y.pending_out+=K,e.total_out+=K,e.avail_out-=K,Y.pending-=K,Y.pending===0&&(Y.pending_out=0))}function ie(e,Y){B._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,Y),e.block_start=e.strstart,pe(e.strm)}function le(e,Y){e.pending_buf[e.pending++]=Y}function be(e,Y){e.pending_buf[e.pending++]=Y>>>8&255,e.pending_buf[e.pending++]=Y&255}function Se(e,Y,K,c){var D=e.avail_in;return D>c&&(D=c),D===0?0:(e.avail_in-=D,_.arraySet(Y,e.input,e.next_in,D,K),e.state.wrap===1?e.adler=I(e.adler,Y,D,K):e.state.wrap===2&&(e.adler=S(e.adler,Y,D,K)),e.next_in+=D,e.total_in+=D,D)}function Ve(e,Y){var K=e.max_chain_length,c=e.strstart,D,G,ue=e.prev_length,re=e.nice_match,ne=e.strstart>e.w_size-$?e.strstart-(e.w_size-$):0,xe=e.window,ct=e.w_mask,Ie=e.prev,Ee=e.strstart+Z,Oe=xe[c+ue-1],Ze=xe[c+ue];e.prev_length>=e.good_match&&(K>>=2),re>e.lookahead&&(re=e.lookahead);do if(D=Y,!(xe[D+ue]!==Ze||xe[D+ue-1]!==Oe||xe[D]!==xe[c]||xe[++D]!==xe[c+1])){c+=2,D++;do;while(xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&xe[++c]===xe[++D]&&c<Ee);if(G=Z-(Ee-c),c=Ee-Z,G>ue){if(e.match_start=Y,ue=G,G>=re)break;Oe=xe[c+ue-1],Ze=xe[c+ue]}}while((Y=Ie[Y&ct])>ne&&--K!==0);return ue<=e.lookahead?ue:e.lookahead}function Fe(e){var Y=e.w_size,K,c,D,G,ue;do{if(G=e.window_size-e.lookahead-e.strstart,e.strstart>=Y+(Y-$)){_.arraySet(e.window,e.window,Y,Y,0),e.match_start-=Y,e.strstart-=Y,e.block_start-=Y,c=e.hash_size,K=c;do D=e.head[--K],e.head[K]=D>=Y?D-Y:0;while(--c);c=Y,K=c;do D=e.prev[--K],e.prev[K]=D>=Y?D-Y:0;while(--c);G+=Y}if(e.strm.avail_in===0)break;if(c=Se(e.strm,e.window,e.strstart+e.lookahead,G),e.lookahead+=c,e.lookahead+e.insert>=U)for(ue=e.strstart-e.insert,e.ins_h=e.window[ue],e.ins_h=(e.ins_h<<e.hash_shift^e.window[ue+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[ue+U-1])&e.hash_mask,e.prev[ue&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=ue,ue++,e.insert--,!(e.lookahead+e.insert<U)););}while(e.lookahead<$&&e.strm.avail_in!==0)}function At(e,Y){var K=65535;for(K>e.pending_buf_size-5&&(K=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Fe(e),e.lookahead===0&&Y===O)return we;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var c=e.block_start+K;if((e.strstart===0||e.strstart>=c)&&(e.lookahead=e.strstart-c,e.strstart=c,ie(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-$&&(ie(e,!1),e.strm.avail_out===0))return we}return e.insert=0,Y===r?(ie(e,!0),e.strm.avail_out===0?Te:Be):(e.strstart>e.block_start&&(ie(e,!1),e.strm.avail_out===0),we)}function pt(e,Y){for(var K,c;;){if(e.lookahead<$){if(Fe(e),e.lookahead<$&&Y===O)return we;if(e.lookahead===0)break}if(K=0,e.lookahead>=U&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,K=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),K!==0&&e.strstart-K<=e.w_size-$&&(e.match_length=Ve(e,K)),e.match_length>=U)if(c=B._tr_tally(e,e.strstart-e.match_start,e.match_length-U),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=U){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,K=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else c=B._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(c&&(ie(e,!1),e.strm.avail_out===0))return we}return e.insert=e.strstart<U-1?e.strstart:U-1,Y===r?(ie(e,!0),e.strm.avail_out===0?Te:Be):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?we:Ce}function et(e,Y){for(var K,c,D;;){if(e.lookahead<$){if(Fe(e),e.lookahead<$&&Y===O)return we;if(e.lookahead===0)break}if(K=0,e.lookahead>=U&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,K=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=U-1,K!==0&&e.prev_length<e.max_lazy_match&&e.strstart-K<=e.w_size-$&&(e.match_length=Ve(e,K),e.match_length<=5&&(e.strategy===m||e.match_length===U&&e.strstart-e.match_start>4096)&&(e.match_length=U-1)),e.prev_length>=U&&e.match_length<=e.prev_length){D=e.strstart+e.lookahead-U,c=B._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-U),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+U-1])&e.hash_mask,K=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=U-1,e.strstart++,c&&(ie(e,!1),e.strm.avail_out===0))return we}else if(e.match_available){if(c=B._tr_tally(e,0,e.window[e.strstart-1]),c&&ie(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return we}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(c=B._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<U-1?e.strstart:U-1,Y===r?(ie(e,!0),e.strm.avail_out===0?Te:Be):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?we:Ce}function Ct(e,Y){for(var K,c,D,G,ue=e.window;;){if(e.lookahead<=Z){if(Fe(e),e.lookahead<=Z&&Y===O)return we;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=U&&e.strstart>0&&(D=e.strstart-1,c=ue[D],c===ue[++D]&&c===ue[++D]&&c===ue[++D])){G=e.strstart+Z;do;while(c===ue[++D]&&c===ue[++D]&&c===ue[++D]&&c===ue[++D]&&c===ue[++D]&&c===ue[++D]&&c===ue[++D]&&c===ue[++D]&&D<G);e.match_length=Z-(G-D),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=U?(K=B._tr_tally(e,1,e.match_length-U),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(K=B._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),K&&(ie(e,!1),e.strm.avail_out===0))return we}return e.insert=0,Y===r?(ie(e,!0),e.strm.avail_out===0?Te:Be):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?we:Ce}function gt(e,Y){for(var K;;){if(e.lookahead===0&&(Fe(e),e.lookahead===0)){if(Y===O)return we;break}if(e.match_length=0,K=B._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,K&&(ie(e,!1),e.strm.avail_out===0))return we}return e.insert=0,Y===r?(ie(e,!0),e.strm.avail_out===0?Te:Be):e.last_lit&&(ie(e,!1),e.strm.avail_out===0)?we:Ce}function Ye(e,Y,K,c,D){this.good_length=e,this.max_lazy=Y,this.nice_length=K,this.max_chain=c,this.func=D}var nt;nt=[new Ye(0,0,0,0,At),new Ye(4,4,8,4,pt),new Ye(4,5,16,8,pt),new Ye(4,6,32,32,pt),new Ye(4,4,16,16,et),new Ye(8,16,32,32,et),new Ye(8,16,128,128,et),new Ye(8,32,128,256,et),new Ye(32,128,258,1024,et),new Ye(32,258,258,4096,et)];function Dt(e){e.window_size=2*e.w_size,Le(e.head),e.max_lazy_match=nt[e.level].max_lazy,e.good_match=nt[e.level].good_length,e.nice_match=nt[e.level].nice_length,e.max_chain_length=nt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=U-1,e.match_available=0,e.ins_h=0}function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new _.Buf16(j*2),this.dyn_dtree=new _.Buf16((2*R+1)*2),this.bl_tree=new _.Buf16((2*P+1)*2),Le(this.dyn_ltree),Le(this.dyn_dtree),Le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new _.Buf16(T+1),this.heap=new _.Buf16(2*L+1),Le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new _.Buf16(2*L+1),Le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(e){var Y;return!e||!e.state?$e(e,l):(e.total_in=e.total_out=0,e.data_type=b,Y=e.state,Y.pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?J:te,e.adler=Y.wrap===2?0:1,Y.last_flush=O,B._tr_init(Y),h)}function ee(e){var Y=q(e);return Y===h&&Dt(e.state),Y}function oe(e,Y){return!e||!e.state||e.state.wrap!==2?l:(e.state.gzhead=Y,h)}function z(e,Y,K,c,D,G){if(!e)return l;var ue=1;if(Y===s&&(Y=6),c<0?(ue=0,c=-c):c>15&&(ue=2,c-=16),D<1||D>x||K!==y||c<8||c>15||Y<0||Y>9||G<0||G>i)return $e(e,l);c===8&&(c=9);var re=new p;return e.state=re,re.strm=e,re.wrap=ue,re.gzhead=null,re.w_bits=c,re.w_size=1<<re.w_bits,re.w_mask=re.w_size-1,re.hash_bits=D+7,re.hash_size=1<<re.hash_bits,re.hash_mask=re.hash_size-1,re.hash_shift=~~((re.hash_bits+U-1)/U),re.window=new _.Buf8(re.w_size*2),re.head=new _.Buf16(re.hash_size),re.prev=new _.Buf16(re.w_size),re.lit_bufsize=1<<D+6,re.pending_buf_size=re.lit_bufsize*4,re.pending_buf=new _.Buf8(re.pending_buf_size),re.d_buf=1*re.lit_bufsize,re.l_buf=3*re.lit_bufsize,re.level=Y,re.strategy=G,re.method=K,ee(e)}function X(e,Y){return z(e,Y,y,E,M,d)}function o(e,Y){var K,c,D,G;if(!e||!e.state||Y>g||Y<0)return e?$e(e,l):l;if(c=e.state,!e.output||!e.input&&e.avail_in!==0||c.status===se&&Y!==r)return $e(e,e.avail_out===0?w:l);if(c.strm=e,K=c.last_flush,c.last_flush=Y,c.status===J)if(c.wrap===2)e.adler=0,le(c,31),le(c,139),le(c,8),c.gzhead?(le(c,(c.gzhead.text?1:0)+(c.gzhead.hcrc?2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0)),le(c,c.gzhead.time&255),le(c,c.gzhead.time>>8&255),le(c,c.gzhead.time>>16&255),le(c,c.gzhead.time>>24&255),le(c,c.level===9?2:c.strategy>=u||c.level<2?4:0),le(c,c.gzhead.os&255),c.gzhead.extra&&c.gzhead.extra.length&&(le(c,c.gzhead.extra.length&255),le(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(e.adler=S(e.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=W):(le(c,0),le(c,0),le(c,0),le(c,0),le(c,0),le(c,c.level===9?2:c.strategy>=u||c.level<2?4:0),le(c,ye),c.status=te);else{var ue=y+(c.w_bits-8<<4)<<8,re=-1;c.strategy>=u||c.level<2?re=0:c.level<6?re=1:c.level===6?re=2:re=3,ue|=re<<6,c.strstart!==0&&(ue|=H),ue+=31-ue%31,c.status=te,be(c,ue),c.strstart!==0&&(be(c,e.adler>>>16),be(c,e.adler&65535)),e.adler=1}if(c.status===W)if(c.gzhead.extra){for(D=c.pending;c.gzindex<(c.gzhead.extra.length&65535)&&!(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>D&&(e.adler=S(e.adler,c.pending_buf,c.pending-D,D)),pe(e),D=c.pending,c.pending===c.pending_buf_size));)le(c,c.gzhead.extra[c.gzindex]&255),c.gzindex++;c.gzhead.hcrc&&c.pending>D&&(e.adler=S(e.adler,c.pending_buf,c.pending-D,D)),c.gzindex===c.gzhead.extra.length&&(c.gzindex=0,c.status=ae)}else c.status=ae;if(c.status===ae)if(c.gzhead.name){D=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>D&&(e.adler=S(e.adler,c.pending_buf,c.pending-D,D)),pe(e),D=c.pending,c.pending===c.pending_buf_size)){G=1;break}c.gzindex<c.gzhead.name.length?G=c.gzhead.name.charCodeAt(c.gzindex++)&255:G=0,le(c,G)}while(G!==0);c.gzhead.hcrc&&c.pending>D&&(e.adler=S(e.adler,c.pending_buf,c.pending-D,D)),G===0&&(c.gzindex=0,c.status=he)}else c.status=he;if(c.status===he)if(c.gzhead.comment){D=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>D&&(e.adler=S(e.adler,c.pending_buf,c.pending-D,D)),pe(e),D=c.pending,c.pending===c.pending_buf_size)){G=1;break}c.gzindex<c.gzhead.comment.length?G=c.gzhead.comment.charCodeAt(c.gzindex++)&255:G=0,le(c,G)}while(G!==0);c.gzhead.hcrc&&c.pending>D&&(e.adler=S(e.adler,c.pending_buf,c.pending-D,D)),G===0&&(c.status=fe)}else c.status=fe;if(c.status===fe&&(c.gzhead.hcrc?(c.pending+2>c.pending_buf_size&&pe(e),c.pending+2<=c.pending_buf_size&&(le(c,e.adler&255),le(c,e.adler>>8&255),e.adler=0,c.status=te)):c.status=te),c.pending!==0){if(pe(e),e.avail_out===0)return c.last_flush=-1,h}else if(e.avail_in===0&&We(Y)<=We(K)&&Y!==r)return $e(e,w);if(c.status===se&&e.avail_in!==0)return $e(e,w);if(e.avail_in!==0||c.lookahead!==0||Y!==O&&c.status!==se){var ne=c.strategy===u?gt(c,Y):c.strategy===n?Ct(c,Y):nt[c.level].func(c,Y);if((ne===Te||ne===Be)&&(c.status=se),ne===we||ne===Te)return e.avail_out===0&&(c.last_flush=-1),h;if(ne===Ce&&(Y===t?B._tr_align(c):Y!==g&&(B._tr_stored_block(c,0,0,!1),Y===a&&(Le(c.head),c.lookahead===0&&(c.strstart=0,c.block_start=0,c.insert=0))),pe(e),e.avail_out===0))return c.last_flush=-1,h}return Y!==r?h:c.wrap<=0?v:(c.wrap===2?(le(c,e.adler&255),le(c,e.adler>>8&255),le(c,e.adler>>16&255),le(c,e.adler>>24&255),le(c,e.total_in&255),le(c,e.total_in>>8&255),le(c,e.total_in>>16&255),le(c,e.total_in>>24&255)):(be(c,e.adler>>>16),be(c,e.adler&65535)),pe(e),c.wrap>0&&(c.wrap=-c.wrap),c.pending!==0?h:v)}function Q(e){var Y;return!e||!e.state?l:(Y=e.state.status,Y!==J&&Y!==W&&Y!==ae&&Y!==he&&Y!==fe&&Y!==te&&Y!==se?$e(e,l):(e.state=null,Y===te?$e(e,f):h))}function ve(e,Y){var K=Y.length,c,D,G,ue,re,ne,xe,ct;if(!e||!e.state||(c=e.state,ue=c.wrap,ue===2||ue===1&&c.status!==J||c.lookahead))return l;for(ue===1&&(e.adler=I(e.adler,Y,K,0)),c.wrap=0,K>=c.w_size&&(ue===0&&(Le(c.head),c.strstart=0,c.block_start=0,c.insert=0),ct=new _.Buf8(c.w_size),_.arraySet(ct,Y,K-c.w_size,c.w_size,0),Y=ct,K=c.w_size),re=e.avail_in,ne=e.next_in,xe=e.input,e.avail_in=K,e.next_in=0,e.input=Y,Fe(c);c.lookahead>=U;){D=c.strstart,G=c.lookahead-(U-1);do c.ins_h=(c.ins_h<<c.hash_shift^c.window[D+U-1])&c.hash_mask,c.prev[D&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=D,D++;while(--G);c.strstart=D,c.lookahead=U-1,Fe(c)}return c.strstart+=c.lookahead,c.block_start=c.strstart,c.insert=c.lookahead,c.lookahead=0,c.match_length=c.prev_length=U-1,c.match_available=0,e.next_in=ne,e.input=xe,e.avail_in=re,c.wrap=ue,h}return tt.deflateInit=X,tt.deflateInit2=z,tt.deflateReset=ee,tt.deflateResetKeep=q,tt.deflateSetHeader=oe,tt.deflate=o,tt.deflateEnd=Q,tt.deflateSetDictionary=ve,tt.deflateInfo="pako deflate (from Nodeca project)",tt}var Et={},Ra;function sr(){if(Ra)return Et;Ra=1;var _=yt(),B=!0,I=!0;try{String.fromCharCode.apply(null,[0])}catch{B=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{I=!1}for(var S=new _.Buf8(256),k=0;k<256;k++)S[k]=k>=252?6:k>=248?5:k>=240?4:k>=224?3:k>=192?2:1;S[254]=S[254]=1,Et.string2buf=function(t){var a,r,g,h,v,l=t.length,f=0;for(h=0;h<l;h++)r=t.charCodeAt(h),(r&64512)===55296&&h+1<l&&(g=t.charCodeAt(h+1),(g&64512)===56320&&(r=65536+(r-55296<<10)+(g-56320),h++)),f+=r<128?1:r<2048?2:r<65536?3:4;for(a=new _.Buf8(f),v=0,h=0;v<f;h++)r=t.charCodeAt(h),(r&64512)===55296&&h+1<l&&(g=t.charCodeAt(h+1),(g&64512)===56320&&(r=65536+(r-55296<<10)+(g-56320),h++)),r<128?a[v++]=r:r<2048?(a[v++]=192|r>>>6,a[v++]=128|r&63):r<65536?(a[v++]=224|r>>>12,a[v++]=128|r>>>6&63,a[v++]=128|r&63):(a[v++]=240|r>>>18,a[v++]=128|r>>>12&63,a[v++]=128|r>>>6&63,a[v++]=128|r&63);return a};function O(t,a){if(a<65534&&(t.subarray&&I||!t.subarray&&B))return String.fromCharCode.apply(null,_.shrinkBuf(t,a));for(var r="",g=0;g<a;g++)r+=String.fromCharCode(t[g]);return r}return Et.buf2binstring=function(t){return O(t,t.length)},Et.binstring2buf=function(t){for(var a=new _.Buf8(t.length),r=0,g=a.length;r<g;r++)a[r]=t.charCodeAt(r);return a},Et.buf2string=function(t,a){var r,g,h,v,l=a||t.length,f=new Array(l*2);for(g=0,r=0;r<l;){if(h=t[r++],h<128){f[g++]=h;continue}if(v=S[h],v>4){f[g++]=65533,r+=v-1;continue}for(h&=v===2?31:v===3?15:7;v>1&&r<l;)h=h<<6|t[r++]&63,v--;if(v>1){f[g++]=65533;continue}h<65536?f[g++]=h:(h-=65536,f[g++]=55296|h>>10&1023,f[g++]=56320|h&1023)}return O(f,g)},Et.utf8border=function(t,a){var r;for(a=a||t.length,a>t.length&&(a=t.length),r=a-1;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?a:r+S[t[r]]>a?r:a},Et}var ea,Pa;function ur(){if(Pa)return ea;Pa=1;function _(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return ea=_,ea}var Ia;function Ai(){if(Ia)return Bt;Ia=1;var _=Vi(),B=yt(),I=sr(),S=_a(),k=ur(),O=Object.prototype.toString,t=0,a=4,r=0,g=1,h=2,v=-1,l=0,f=8;function w(n){if(!(this instanceof w))return new w(n);this.options=B.assign({level:v,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},n||{});var i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var d=_.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(d!==r)throw new Error(S[d]);if(i.header&&_.deflateSetHeader(this.strm,i.header),i.dictionary){var b;if(typeof i.dictionary=="string"?b=I.string2buf(i.dictionary):O.call(i.dictionary)==="[object ArrayBuffer]"?b=new Uint8Array(i.dictionary):b=i.dictionary,d=_.deflateSetDictionary(this.strm,b),d!==r)throw new Error(S[d]);this._dict_set=!0}}w.prototype.push=function(n,i){var d=this.strm,b=this.options.chunkSize,y,x;if(this.ended)return!1;x=i===~~i?i:i===!0?a:t,typeof n=="string"?d.input=I.string2buf(n):O.call(n)==="[object ArrayBuffer]"?d.input=new Uint8Array(n):d.input=n,d.next_in=0,d.avail_in=d.input.length;do{if(d.avail_out===0&&(d.output=new B.Buf8(b),d.next_out=0,d.avail_out=b),y=_.deflate(d,x),y!==g&&y!==r)return this.onEnd(y),this.ended=!0,!1;(d.avail_out===0||d.avail_in===0&&(x===a||x===h))&&(this.options.to==="string"?this.onData(I.buf2binstring(B.shrinkBuf(d.output,d.next_out))):this.onData(B.shrinkBuf(d.output,d.next_out)))}while((d.avail_in>0||d.avail_out===0)&&y!==g);return x===a?(y=_.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===r):(x===h&&(this.onEnd(r),d.avail_out=0),!0)},w.prototype.onData=function(n){this.chunks.push(n)},w.prototype.onEnd=function(n){n===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=B.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function s(n,i){var d=new w(i);if(d.push(n,!0),d.err)throw d.msg||S[d.err];return d.result}function m(n,i){return i=i||{},i.raw=!0,s(n,i)}function u(n,i){return i=i||{},i.gzip=!0,s(n,i)}return Bt.Deflate=w,Bt.deflate=s,Bt.deflateRaw=m,Bt.gzip=u,Bt}var Rt={},qe={},ta,za;function Ci(){if(za)return ta;za=1;var _=30,B=12;return ta=function(S,k){var O,t,a,r,g,h,v,l,f,w,s,m,u,n,i,d,b,y,x,E,M,C,N,L,R;O=S.state,t=S.next_in,L=S.input,a=t+(S.avail_in-5),r=S.next_out,R=S.output,g=r-(k-S.avail_out),h=r+(S.avail_out-257),v=O.dmax,l=O.wsize,f=O.whave,w=O.wnext,s=O.window,m=O.hold,u=O.bits,n=O.lencode,i=O.distcode,d=(1<<O.lenbits)-1,b=(1<<O.distbits)-1;e:do{u<15&&(m+=L[t++]<<u,u+=8,m+=L[t++]<<u,u+=8),y=n[m&d];t:for(;;){if(x=y>>>24,m>>>=x,u-=x,x=y>>>16&255,x===0)R[r++]=y&65535;else if(x&16){E=y&65535,x&=15,x&&(u<x&&(m+=L[t++]<<u,u+=8),E+=m&(1<<x)-1,m>>>=x,u-=x),u<15&&(m+=L[t++]<<u,u+=8,m+=L[t++]<<u,u+=8),y=i[m&b];a:for(;;){if(x=y>>>24,m>>>=x,u-=x,x=y>>>16&255,x&16){if(M=y&65535,x&=15,u<x&&(m+=L[t++]<<u,u+=8,u<x&&(m+=L[t++]<<u,u+=8)),M+=m&(1<<x)-1,M>v){S.msg="invalid distance too far back",O.mode=_;break e}if(m>>>=x,u-=x,x=r-g,M>x){if(x=M-x,x>f&&O.sane){S.msg="invalid distance too far back",O.mode=_;break e}if(C=0,N=s,w===0){if(C+=l-x,x<E){E-=x;do R[r++]=s[C++];while(--x);C=r-M,N=R}}else if(w<x){if(C+=l+w-x,x-=w,x<E){E-=x;do R[r++]=s[C++];while(--x);if(C=0,w<E){x=w,E-=x;do R[r++]=s[C++];while(--x);C=r-M,N=R}}}else if(C+=w-x,x<E){E-=x;do R[r++]=s[C++];while(--x);C=r-M,N=R}for(;E>2;)R[r++]=N[C++],R[r++]=N[C++],R[r++]=N[C++],E-=3;E&&(R[r++]=N[C++],E>1&&(R[r++]=N[C++]))}else{C=r-M;do R[r++]=R[C++],R[r++]=R[C++],R[r++]=R[C++],E-=3;while(E>2);E&&(R[r++]=R[C++],E>1&&(R[r++]=R[C++]))}}else if(x&64){S.msg="invalid distance code",O.mode=_;break e}else{y=i[(y&65535)+(m&(1<<x)-1)];continue a}break}}else if(x&64)if(x&32){O.mode=B;break e}else{S.msg="invalid literal/length code",O.mode=_;break e}else{y=n[(y&65535)+(m&(1<<x)-1)];continue t}break}}while(t<a&&r<h);E=u>>3,t-=E,u-=E<<3,m&=(1<<u)-1,S.next_in=t,S.next_out=r,S.avail_in=t<a?5+(a-t):5-(t-a),S.avail_out=r<h?257+(h-r):257-(r-h),O.hold=m,O.bits=u},ta}var aa,Ma;function Di(){if(Ma)return aa;Ma=1;var _=yt(),B=15,I=852,S=592,k=0,O=1,t=2,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return aa=function(l,f,w,s,m,u,n,i){var d=i.bits,b=0,y=0,x=0,E=0,M=0,C=0,N=0,L=0,R=0,P=0,j,T,U,Z,$,H=null,J=0,W,ae=new _.Buf16(B+1),he=new _.Buf16(B+1),fe=null,te=0,se,we,Ce;for(b=0;b<=B;b++)ae[b]=0;for(y=0;y<s;y++)ae[f[w+y]]++;for(M=d,E=B;E>=1&&ae[E]===0;E--);if(M>E&&(M=E),E===0)return m[u++]=1<<24|64<<16|0,m[u++]=1<<24|64<<16|0,i.bits=1,0;for(x=1;x<E&&ae[x]===0;x++);for(M<x&&(M=x),L=1,b=1;b<=B;b++)if(L<<=1,L-=ae[b],L<0)return-1;if(L>0&&(l===k||E!==1))return-1;for(he[1]=0,b=1;b<B;b++)he[b+1]=he[b]+ae[b];for(y=0;y<s;y++)f[w+y]!==0&&(n[he[f[w+y]]++]=y);if(l===k?(H=fe=n,W=19):l===O?(H=a,J-=257,fe=r,te-=257,W=256):(H=g,fe=h,W=-1),P=0,y=0,b=x,$=u,C=M,N=0,U=-1,R=1<<M,Z=R-1,l===O&&R>I||l===t&&R>S)return 1;for(;;){se=b-N,n[y]<W?(we=0,Ce=n[y]):n[y]>W?(we=fe[te+n[y]],Ce=H[J+n[y]]):(we=96,Ce=0),j=1<<b-N,T=1<<C,x=T;do T-=j,m[$+(P>>N)+T]=se<<24|we<<16|Ce|0;while(T!==0);for(j=1<<b-1;P&j;)j>>=1;if(j!==0?(P&=j-1,P+=j):P=0,y++,--ae[b]===0){if(b===E)break;b=f[w+n[y]]}if(b>M&&(P&Z)!==U){for(N===0&&(N=M),$+=x,C=b-N,L=1<<C;C+N<E&&(L-=ae[C+N],!(L<=0));)C++,L<<=1;if(R+=1<<C,l===O&&R>I||l===t&&R>S)return 1;U=P&Z,m[U]=M<<24|C<<16|$-u|0}}return P!==0&&(m[$+P]=b-N<<24|64<<16|0),i.bits=M,0},aa}var Na;function Bi(){if(Na)return qe;Na=1;var _=yt(),B=or(),I=lr(),S=Ci(),k=Di(),O=0,t=1,a=2,r=4,g=5,h=6,v=0,l=1,f=2,w=-2,s=-3,m=-4,u=-5,n=8,i=1,d=2,b=3,y=4,x=5,E=6,M=7,C=8,N=9,L=10,R=11,P=12,j=13,T=14,U=15,Z=16,$=17,H=18,J=19,W=20,ae=21,he=22,fe=23,te=24,se=25,we=26,Ce=27,Te=28,Be=29,ye=30,$e=31,We=32,Le=852,pe=592,ie=15,le=ie;function be(z){return(z>>>24&255)+(z>>>8&65280)+((z&65280)<<8)+((z&255)<<24)}function Se(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new _.Buf16(320),this.work=new _.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ve(z){var X;return!z||!z.state?w:(X=z.state,z.total_in=z.total_out=X.total=0,z.msg="",X.wrap&&(z.adler=X.wrap&1),X.mode=i,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new _.Buf32(Le),X.distcode=X.distdyn=new _.Buf32(pe),X.sane=1,X.back=-1,v)}function Fe(z){var X;return!z||!z.state?w:(X=z.state,X.wsize=0,X.whave=0,X.wnext=0,Ve(z))}function At(z,X){var o,Q;return!z||!z.state||(Q=z.state,X<0?(o=0,X=-X):(o=(X>>4)+1,X<48&&(X&=15)),X&&(X<8||X>15))?w:(Q.window!==null&&Q.wbits!==X&&(Q.window=null),Q.wrap=o,Q.wbits=X,Fe(z))}function pt(z,X){var o,Q;return z?(Q=new Se,z.state=Q,Q.window=null,o=At(z,X),o!==v&&(z.state=null),o):w}function et(z){return pt(z,le)}var Ct=!0,gt,Ye;function nt(z){if(Ct){var X;for(gt=new _.Buf32(512),Ye=new _.Buf32(32),X=0;X<144;)z.lens[X++]=8;for(;X<256;)z.lens[X++]=9;for(;X<280;)z.lens[X++]=7;for(;X<288;)z.lens[X++]=8;for(k(t,z.lens,0,288,gt,0,z.work,{bits:9}),X=0;X<32;)z.lens[X++]=5;k(a,z.lens,0,32,Ye,0,z.work,{bits:5}),Ct=!1}z.lencode=gt,z.lenbits=9,z.distcode=Ye,z.distbits=5}function Dt(z,X,o,Q){var ve,e=z.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new _.Buf8(e.wsize)),Q>=e.wsize?(_.arraySet(e.window,X,o-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(ve=e.wsize-e.wnext,ve>Q&&(ve=Q),_.arraySet(e.window,X,o-Q,ve,e.wnext),Q-=ve,Q?(_.arraySet(e.window,X,o-Q,Q,0),e.wnext=Q,e.whave=e.wsize):(e.wnext+=ve,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=ve))),0}function p(z,X){var o,Q,ve,e,Y,K,c,D,G,ue,re,ne,xe,ct,Ie=0,Ee,Oe,Ze,Ke,$t,Ot,Me,Xe,Ue=new _.Buf8(4),ft,ot,ga=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return w;o=z.state,o.mode===P&&(o.mode=j),Y=z.next_out,ve=z.output,c=z.avail_out,e=z.next_in,Q=z.input,K=z.avail_in,D=o.hold,G=o.bits,ue=K,re=c,Xe=v;e:for(;;)switch(o.mode){case i:if(o.wrap===0){o.mode=j;break}for(;G<16;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}if(o.wrap&2&&D===35615){o.check=0,Ue[0]=D&255,Ue[1]=D>>>8&255,o.check=I(o.check,Ue,2,0),D=0,G=0,o.mode=d;break}if(o.flags=0,o.head&&(o.head.done=!1),!(o.wrap&1)||(((D&255)<<8)+(D>>8))%31){z.msg="incorrect header check",o.mode=ye;break}if((D&15)!==n){z.msg="unknown compression method",o.mode=ye;break}if(D>>>=4,G-=4,Me=(D&15)+8,o.wbits===0)o.wbits=Me;else if(Me>o.wbits){z.msg="invalid window size",o.mode=ye;break}o.dmax=1<<Me,z.adler=o.check=1,o.mode=D&512?L:P,D=0,G=0;break;case d:for(;G<16;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}if(o.flags=D,(o.flags&255)!==n){z.msg="unknown compression method",o.mode=ye;break}if(o.flags&57344){z.msg="unknown header flags set",o.mode=ye;break}o.head&&(o.head.text=D>>8&1),o.flags&512&&(Ue[0]=D&255,Ue[1]=D>>>8&255,o.check=I(o.check,Ue,2,0)),D=0,G=0,o.mode=b;case b:for(;G<32;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}o.head&&(o.head.time=D),o.flags&512&&(Ue[0]=D&255,Ue[1]=D>>>8&255,Ue[2]=D>>>16&255,Ue[3]=D>>>24&255,o.check=I(o.check,Ue,4,0)),D=0,G=0,o.mode=y;case y:for(;G<16;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}o.head&&(o.head.xflags=D&255,o.head.os=D>>8),o.flags&512&&(Ue[0]=D&255,Ue[1]=D>>>8&255,o.check=I(o.check,Ue,2,0)),D=0,G=0,o.mode=x;case x:if(o.flags&1024){for(;G<16;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}o.length=D,o.head&&(o.head.extra_len=D),o.flags&512&&(Ue[0]=D&255,Ue[1]=D>>>8&255,o.check=I(o.check,Ue,2,0)),D=0,G=0}else o.head&&(o.head.extra=null);o.mode=E;case E:if(o.flags&1024&&(ne=o.length,ne>K&&(ne=K),ne&&(o.head&&(Me=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),_.arraySet(o.head.extra,Q,e,ne,Me)),o.flags&512&&(o.check=I(o.check,Q,ne,e)),K-=ne,e+=ne,o.length-=ne),o.length))break e;o.length=0,o.mode=M;case M:if(o.flags&2048){if(K===0)break e;ne=0;do Me=Q[e+ne++],o.head&&Me&&o.length<65536&&(o.head.name+=String.fromCharCode(Me));while(Me&&ne<K);if(o.flags&512&&(o.check=I(o.check,Q,ne,e)),K-=ne,e+=ne,Me)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=C;case C:if(o.flags&4096){if(K===0)break e;ne=0;do Me=Q[e+ne++],o.head&&Me&&o.length<65536&&(o.head.comment+=String.fromCharCode(Me));while(Me&&ne<K);if(o.flags&512&&(o.check=I(o.check,Q,ne,e)),K-=ne,e+=ne,Me)break e}else o.head&&(o.head.comment=null);o.mode=N;case N:if(o.flags&512){for(;G<16;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}if(D!==(o.check&65535)){z.msg="header crc mismatch",o.mode=ye;break}D=0,G=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),z.adler=o.check=0,o.mode=P;break;case L:for(;G<32;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}z.adler=o.check=be(D),D=0,G=0,o.mode=R;case R:if(o.havedict===0)return z.next_out=Y,z.avail_out=c,z.next_in=e,z.avail_in=K,o.hold=D,o.bits=G,f;z.adler=o.check=1,o.mode=P;case P:if(X===g||X===h)break e;case j:if(o.last){D>>>=G&7,G-=G&7,o.mode=Ce;break}for(;G<3;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}switch(o.last=D&1,D>>>=1,G-=1,D&3){case 0:o.mode=T;break;case 1:if(nt(o),o.mode=W,X===h){D>>>=2,G-=2;break e}break;case 2:o.mode=$;break;case 3:z.msg="invalid block type",o.mode=ye}D>>>=2,G-=2;break;case T:for(D>>>=G&7,G-=G&7;G<32;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}if((D&65535)!==(D>>>16^65535)){z.msg="invalid stored block lengths",o.mode=ye;break}if(o.length=D&65535,D=0,G=0,o.mode=U,X===h)break e;case U:o.mode=Z;case Z:if(ne=o.length,ne){if(ne>K&&(ne=K),ne>c&&(ne=c),ne===0)break e;_.arraySet(ve,Q,e,ne,Y),K-=ne,e+=ne,c-=ne,Y+=ne,o.length-=ne;break}o.mode=P;break;case $:for(;G<14;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}if(o.nlen=(D&31)+257,D>>>=5,G-=5,o.ndist=(D&31)+1,D>>>=5,G-=5,o.ncode=(D&15)+4,D>>>=4,G-=4,o.nlen>286||o.ndist>30){z.msg="too many length or distance symbols",o.mode=ye;break}o.have=0,o.mode=H;case H:for(;o.have<o.ncode;){for(;G<3;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}o.lens[ga[o.have++]]=D&7,D>>>=3,G-=3}for(;o.have<19;)o.lens[ga[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,ft={bits:o.lenbits},Xe=k(O,o.lens,0,19,o.lencode,0,o.work,ft),o.lenbits=ft.bits,Xe){z.msg="invalid code lengths set",o.mode=ye;break}o.have=0,o.mode=J;case J:for(;o.have<o.nlen+o.ndist;){for(;Ie=o.lencode[D&(1<<o.lenbits)-1],Ee=Ie>>>24,Oe=Ie>>>16&255,Ze=Ie&65535,!(Ee<=G);){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}if(Ze<16)D>>>=Ee,G-=Ee,o.lens[o.have++]=Ze;else{if(Ze===16){for(ot=Ee+2;G<ot;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}if(D>>>=Ee,G-=Ee,o.have===0){z.msg="invalid bit length repeat",o.mode=ye;break}Me=o.lens[o.have-1],ne=3+(D&3),D>>>=2,G-=2}else if(Ze===17){for(ot=Ee+3;G<ot;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}D>>>=Ee,G-=Ee,Me=0,ne=3+(D&7),D>>>=3,G-=3}else{for(ot=Ee+7;G<ot;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}D>>>=Ee,G-=Ee,Me=0,ne=11+(D&127),D>>>=7,G-=7}if(o.have+ne>o.nlen+o.ndist){z.msg="invalid bit length repeat",o.mode=ye;break}for(;ne--;)o.lens[o.have++]=Me}}if(o.mode===ye)break;if(o.lens[256]===0){z.msg="invalid code -- missing end-of-block",o.mode=ye;break}if(o.lenbits=9,ft={bits:o.lenbits},Xe=k(t,o.lens,0,o.nlen,o.lencode,0,o.work,ft),o.lenbits=ft.bits,Xe){z.msg="invalid literal/lengths set",o.mode=ye;break}if(o.distbits=6,o.distcode=o.distdyn,ft={bits:o.distbits},Xe=k(a,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,ft),o.distbits=ft.bits,Xe){z.msg="invalid distances set",o.mode=ye;break}if(o.mode=W,X===h)break e;case W:o.mode=ae;case ae:if(K>=6&&c>=258){z.next_out=Y,z.avail_out=c,z.next_in=e,z.avail_in=K,o.hold=D,o.bits=G,S(z,re),Y=z.next_out,ve=z.output,c=z.avail_out,e=z.next_in,Q=z.input,K=z.avail_in,D=o.hold,G=o.bits,o.mode===P&&(o.back=-1);break}for(o.back=0;Ie=o.lencode[D&(1<<o.lenbits)-1],Ee=Ie>>>24,Oe=Ie>>>16&255,Ze=Ie&65535,!(Ee<=G);){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}if(Oe&&!(Oe&240)){for(Ke=Ee,$t=Oe,Ot=Ze;Ie=o.lencode[Ot+((D&(1<<Ke+$t)-1)>>Ke)],Ee=Ie>>>24,Oe=Ie>>>16&255,Ze=Ie&65535,!(Ke+Ee<=G);){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}D>>>=Ke,G-=Ke,o.back+=Ke}if(D>>>=Ee,G-=Ee,o.back+=Ee,o.length=Ze,Oe===0){o.mode=we;break}if(Oe&32){o.back=-1,o.mode=P;break}if(Oe&64){z.msg="invalid literal/length code",o.mode=ye;break}o.extra=Oe&15,o.mode=he;case he:if(o.extra){for(ot=o.extra;G<ot;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}o.length+=D&(1<<o.extra)-1,D>>>=o.extra,G-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=fe;case fe:for(;Ie=o.distcode[D&(1<<o.distbits)-1],Ee=Ie>>>24,Oe=Ie>>>16&255,Ze=Ie&65535,!(Ee<=G);){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}if(!(Oe&240)){for(Ke=Ee,$t=Oe,Ot=Ze;Ie=o.distcode[Ot+((D&(1<<Ke+$t)-1)>>Ke)],Ee=Ie>>>24,Oe=Ie>>>16&255,Ze=Ie&65535,!(Ke+Ee<=G);){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}D>>>=Ke,G-=Ke,o.back+=Ke}if(D>>>=Ee,G-=Ee,o.back+=Ee,Oe&64){z.msg="invalid distance code",o.mode=ye;break}o.offset=Ze,o.extra=Oe&15,o.mode=te;case te:if(o.extra){for(ot=o.extra;G<ot;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}o.offset+=D&(1<<o.extra)-1,D>>>=o.extra,G-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){z.msg="invalid distance too far back",o.mode=ye;break}o.mode=se;case se:if(c===0)break e;if(ne=re-c,o.offset>ne){if(ne=o.offset-ne,ne>o.whave&&o.sane){z.msg="invalid distance too far back",o.mode=ye;break}ne>o.wnext?(ne-=o.wnext,xe=o.wsize-ne):xe=o.wnext-ne,ne>o.length&&(ne=o.length),ct=o.window}else ct=ve,xe=Y-o.offset,ne=o.length;ne>c&&(ne=c),c-=ne,o.length-=ne;do ve[Y++]=ct[xe++];while(--ne);o.length===0&&(o.mode=ae);break;case we:if(c===0)break e;ve[Y++]=o.length,c--,o.mode=ae;break;case Ce:if(o.wrap){for(;G<32;){if(K===0)break e;K--,D|=Q[e++]<<G,G+=8}if(re-=c,z.total_out+=re,o.total+=re,re&&(z.adler=o.check=o.flags?I(o.check,ve,re,Y-re):B(o.check,ve,re,Y-re)),re=c,(o.flags?D:be(D))!==o.check){z.msg="incorrect data check",o.mode=ye;break}D=0,G=0}o.mode=Te;case Te:if(o.wrap&&o.flags){for(;G<32;){if(K===0)break e;K--,D+=Q[e++]<<G,G+=8}if(D!==(o.total&4294967295)){z.msg="incorrect length check",o.mode=ye;break}D=0,G=0}o.mode=Be;case Be:Xe=l;break e;case ye:Xe=s;break e;case $e:return m;case We:default:return w}return z.next_out=Y,z.avail_out=c,z.next_in=e,z.avail_in=K,o.hold=D,o.bits=G,(o.wsize||re!==z.avail_out&&o.mode<ye&&(o.mode<Ce||X!==r))&&Dt(z,z.output,z.next_out,re-z.avail_out),ue-=z.avail_in,re-=z.avail_out,z.total_in+=ue,z.total_out+=re,o.total+=re,o.wrap&&re&&(z.adler=o.check=o.flags?I(o.check,ve,re,z.next_out-re):B(o.check,ve,re,z.next_out-re)),z.data_type=o.bits+(o.last?64:0)+(o.mode===P?128:0)+(o.mode===W||o.mode===U?256:0),(ue===0&&re===0||X===r)&&Xe===v&&(Xe=u),Xe}function q(z){if(!z||!z.state)return w;var X=z.state;return X.window&&(X.window=null),z.state=null,v}function ee(z,X){var o;return!z||!z.state||(o=z.state,!(o.wrap&2))?w:(o.head=X,X.done=!1,v)}function oe(z,X){var o=X.length,Q,ve,e;return!z||!z.state||(Q=z.state,Q.wrap!==0&&Q.mode!==R)?w:Q.mode===R&&(ve=1,ve=B(ve,X,o,0),ve!==Q.check)?s:(e=Dt(z,X,o,o),e?(Q.mode=$e,m):(Q.havedict=1,v))}return qe.inflateReset=Fe,qe.inflateReset2=At,qe.inflateResetKeep=Ve,qe.inflateInit=et,qe.inflateInit2=pt,qe.inflate=p,qe.inflateEnd=q,qe.inflateGetHeader=ee,qe.inflateSetDictionary=oe,qe.inflateInfo="pako inflate (from Nodeca project)",qe}var ra,$a;function dr(){return $a||($a=1,ra={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),ra}var ia,Oa;function Ri(){if(Oa)return ia;Oa=1;function _(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return ia=_,ia}var La;function Pi(){if(La)return Rt;La=1;var _=Bi(),B=yt(),I=sr(),S=dr(),k=_a(),O=ur(),t=Ri(),a=Object.prototype.toString;function r(v){if(!(this instanceof r))return new r(v);this.options=B.assign({chunkSize:16384,windowBits:0,to:""},v||{});var l=this.options;l.raw&&l.windowBits>=0&&l.windowBits<16&&(l.windowBits=-l.windowBits,l.windowBits===0&&(l.windowBits=-15)),l.windowBits>=0&&l.windowBits<16&&!(v&&v.windowBits)&&(l.windowBits+=32),l.windowBits>15&&l.windowBits<48&&(l.windowBits&15||(l.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O,this.strm.avail_out=0;var f=_.inflateInit2(this.strm,l.windowBits);if(f!==S.Z_OK)throw new Error(k[f]);if(this.header=new t,_.inflateGetHeader(this.strm,this.header),l.dictionary&&(typeof l.dictionary=="string"?l.dictionary=I.string2buf(l.dictionary):a.call(l.dictionary)==="[object ArrayBuffer]"&&(l.dictionary=new Uint8Array(l.dictionary)),l.raw&&(f=_.inflateSetDictionary(this.strm,l.dictionary),f!==S.Z_OK)))throw new Error(k[f])}r.prototype.push=function(v,l){var f=this.strm,w=this.options.chunkSize,s=this.options.dictionary,m,u,n,i,d,b=!1;if(this.ended)return!1;u=l===~~l?l:l===!0?S.Z_FINISH:S.Z_NO_FLUSH,typeof v=="string"?f.input=I.binstring2buf(v):a.call(v)==="[object ArrayBuffer]"?f.input=new Uint8Array(v):f.input=v,f.next_in=0,f.avail_in=f.input.length;do{if(f.avail_out===0&&(f.output=new B.Buf8(w),f.next_out=0,f.avail_out=w),m=_.inflate(f,S.Z_NO_FLUSH),m===S.Z_NEED_DICT&&s&&(m=_.inflateSetDictionary(this.strm,s)),m===S.Z_BUF_ERROR&&b===!0&&(m=S.Z_OK,b=!1),m!==S.Z_STREAM_END&&m!==S.Z_OK)return this.onEnd(m),this.ended=!0,!1;f.next_out&&(f.avail_out===0||m===S.Z_STREAM_END||f.avail_in===0&&(u===S.Z_FINISH||u===S.Z_SYNC_FLUSH))&&(this.options.to==="string"?(n=I.utf8border(f.output,f.next_out),i=f.next_out-n,d=I.buf2string(f.output,n),f.next_out=i,f.avail_out=w-i,i&&B.arraySet(f.output,f.output,n,i,0),this.onData(d)):this.onData(B.shrinkBuf(f.output,f.next_out))),f.avail_in===0&&f.avail_out===0&&(b=!0)}while((f.avail_in>0||f.avail_out===0)&&m!==S.Z_STREAM_END);return m===S.Z_STREAM_END&&(u=S.Z_FINISH),u===S.Z_FINISH?(m=_.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===S.Z_OK):(u===S.Z_SYNC_FLUSH&&(this.onEnd(S.Z_OK),f.avail_out=0),!0)},r.prototype.onData=function(v){this.chunks.push(v)},r.prototype.onEnd=function(v){v===S.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=B.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg};function g(v,l){var f=new r(l);if(f.push(v,!0),f.err)throw f.msg||k[f.err];return f.result}function h(v,l){return l=l||{},l.raw=!0,g(v,l)}return Rt.Inflate=r,Rt.inflate=g,Rt.inflateRaw=h,Rt.ungzip=g,Rt}var na,Ta;function Ii(){if(Ta)return na;Ta=1;var _=yt().assign,B=Ai(),I=Pi(),S=dr(),k={};return _(k,B,I,S),na=k,na}var Ua;function zi(){return Ua||(Ua=1,function(_){(function(){var B={};_.exports=B;var I;typeof Ei=="function"?I=Ii():I=self.pako;function S(){typeof process>"u"&&console.log.apply(console,arguments)}(function(k,O){(function(){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a=function(){function g(h){this.message="JPEG error: "+h}return g.prototype=Error(),g.prototype.name="JpegError",g.constructor=g}(),r=function(){function g(h,v){this.message=h,this.g=v}return g.prototype=Error(),g.prototype.name="DNLMarkerError",g.constructor=g}();(function(){function g(){this.M=null,this.B=-1}function h(s,m){for(var u=0,n=[],i,d,b=16;0<b&&!s[b-1];)b--;n.push({children:[],index:0});var y=n[0],x;for(i=0;i<b;i++){for(d=0;d<s[i];d++){for(y=n.pop(),y.children[y.index]=m[u];0<y.index;)y=n.pop();for(y.index++,n.push(y);n.length<=i;)n.push(x={children:[],index:0}),y.children[y.index]=x.children,y=x;u++}i+1<b&&(n.push(x={children:[],index:0}),y.children[y.index]=x.children,y=x)}return n[0].children}function v(s,m,u,n,i,d,b,y,x){function E(){if(0<J)return J--,H>>J&1;if(H=s[m++],H===255){var ie=s[m++];if(ie){if(ie===220&&U){m+=2;var le=s[m++]<<8|s[m++];if(0<le&&le!==u.g)throw new r("Found DNL marker (0xFFDC) while parsing scan data",le)}throw new a("unexpected marker "+(H<<8|ie).toString(16))}}return J=7,H>>>7}function M(ie){for(;;){if(ie=ie[E()],typeof ie=="number")return ie;if((typeof ie>"u"?"undefined":t(ie))!=="object")throw new a("invalid huffman sequence")}}function C(ie){for(var le=0;0<ie;)le=le<<1|E(),ie--;return le}function N(ie){if(ie===1)return E()===1?1:-1;var le=C(ie);return le>=1<<ie-1?le:le+(-1<<ie)+1}function L(ie,le){var be=M(ie.D);for(be=be===0?0:N(be),ie.a[le]=ie.m+=be,be=1;64>be;){var Se=M(ie.o),Ve=Se&15;if(Se>>=4,Ve===0){if(15>Se)break;be+=16}else be+=Se,ie.a[le+w[be]]=N(Ve),be++}}function R(ie,le){var be=M(ie.D);be=be===0?0:N(be)<<x,ie.a[le]=ie.m+=be}function P(ie,le){ie.a[le]|=E()<<x}function j(ie,le){if(0<W)W--;else for(var be=d;be<=b;){var Se=M(ie.o),Ve=Se&15;if(Se>>=4,Ve===0){if(15>Se){W=C(Se)+(1<<Se)-1;break}be+=16}else be+=Se,ie.a[le+w[be]]=N(Ve)*(1<<x),be++}}function T(ie,le){for(var be=d,Se=0,Ve;be<=b;){Ve=le+w[be];var Fe=0>ie.a[Ve]?-1:1;switch(ae){case 0:if(Se=M(ie.o),Ve=Se&15,Se>>=4,Ve===0)15>Se?(W=C(Se)+(1<<Se),ae=4):(Se=16,ae=1);else{if(Ve!==1)throw new a("invalid ACn encoding");he=N(Ve),ae=Se?2:3}continue;case 1:case 2:ie.a[Ve]?ie.a[Ve]+=Fe*(E()<<x):(Se--,Se===0&&(ae=ae===2?3:0));break;case 3:ie.a[Ve]?ie.a[Ve]+=Fe*(E()<<x):(ie.a[Ve]=he<<x,ae=0);break;case 4:ie.a[Ve]&&(ie.a[Ve]+=Fe*(E()<<x))}be++}ae===4&&(W--,W===0&&(ae=0))}for(var U=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,Z=u.P,$=m,H=0,J=0,W=0,ae=0,he,fe=n.length,te,se,we,Ce,Te=u.S?d===0?y===0?R:P:y===0?j:T:L,Be=0,ye=fe===1?n[0].c*n[0].l:Z*u.O,$e,We;Be<ye;){var Le=i?Math.min(ye-Be,i):ye;for(te=0;te<fe;te++)n[te].m=0;if(W=0,fe===1){var pe=n[0];for(Ce=0;Ce<Le;Ce++)Te(pe,64*((pe.c+1)*(Be/pe.c|0)+Be%pe.c)),Be++}else for(Ce=0;Ce<Le;Ce++){for(te=0;te<fe;te++)for(pe=n[te],$e=pe.h,We=pe.j,se=0;se<We;se++)for(we=0;we<$e;we++)Te(pe,64*((pe.c+1)*((Be/Z|0)*pe.j+se)+(Be%Z*pe.h+we)));Be++}if(J=0,(pe=f(s,m))&&pe.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+pe.f),m=pe.offset),pe=pe&&pe.F,!pe||65280>=pe)throw new a("marker was not found");if(65488<=pe&&65495>=pe)m+=2;else break}return(pe=f(s,m))&&pe.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+pe.f),m=pe.offset),m-$}function l(s,m){for(var u=m.c,n=m.l,i=new Int16Array(64),d=0;d<n;d++)for(var b=0;b<u;b++){var y=64*((m.c+1)*d+b),x=i,E=m.G,M=m.a;if(!E)throw new a("missing required Quantization Table.");for(var C=0;64>C;C+=8){var N=M[y+C],L=M[y+C+1],R=M[y+C+2],P=M[y+C+3],j=M[y+C+4],T=M[y+C+5],U=M[y+C+6],Z=M[y+C+7];if(N*=E[C],!(L|R|P|j|T|U|Z))N=5793*N+512>>10,x[C]=N,x[C+1]=N,x[C+2]=N,x[C+3]=N,x[C+4]=N,x[C+5]=N,x[C+6]=N,x[C+7]=N;else{L*=E[C+1],R*=E[C+2],P*=E[C+3],j*=E[C+4],T*=E[C+5],U*=E[C+6],Z*=E[C+7];var $=5793*N+128>>8,H=5793*j+128>>8,J=R,W=U;j=2896*(L-Z)+128>>8,Z=2896*(L+Z)+128>>8,P<<=4,T<<=4,$=$+H+1>>1,H=$-H,N=3784*J+1567*W+128>>8,J=1567*J-3784*W+128>>8,W=N,j=j+T+1>>1,T=j-T,Z=Z+P+1>>1,P=Z-P,$=$+W+1>>1,W=$-W,H=H+J+1>>1,J=H-J,N=2276*j+3406*Z+2048>>12,j=3406*j-2276*Z+2048>>12,Z=N,N=799*P+4017*T+2048>>12,P=4017*P-799*T+2048>>12,T=N,x[C]=$+Z,x[C+7]=$-Z,x[C+1]=H+T,x[C+6]=H-T,x[C+2]=J+P,x[C+5]=J-P,x[C+3]=W+j,x[C+4]=W-j}}for(E=0;8>E;++E)N=x[E],L=x[E+8],R=x[E+16],P=x[E+24],j=x[E+32],T=x[E+40],U=x[E+48],Z=x[E+56],L|R|P|j|T|U|Z?($=5793*N+2048>>12,H=5793*j+2048>>12,J=R,W=U,j=2896*(L-Z)+2048>>12,Z=2896*(L+Z)+2048>>12,$=($+H+1>>1)+4112,H=$-H,N=3784*J+1567*W+2048>>12,J=1567*J-3784*W+2048>>12,W=N,j=j+T+1>>1,T=j-T,Z=Z+P+1>>1,P=Z-P,$=$+W+1>>1,W=$-W,H=H+J+1>>1,J=H-J,N=2276*j+3406*Z+2048>>12,j=3406*j-2276*Z+2048>>12,Z=N,N=799*P+4017*T+2048>>12,P=4017*P-799*T+2048>>12,T=N,N=$+Z,Z=$-Z,L=H+T,U=H-T,R=J+P,T=J-P,P=W+j,j=W-j,N=16>N?0:4080<=N?255:N>>4,L=16>L?0:4080<=L?255:L>>4,R=16>R?0:4080<=R?255:R>>4,P=16>P?0:4080<=P?255:P>>4,j=16>j?0:4080<=j?255:j>>4,T=16>T?0:4080<=T?255:T>>4,U=16>U?0:4080<=U?255:U>>4,Z=16>Z?0:4080<=Z?255:Z>>4,M[y+E]=N,M[y+E+8]=L,M[y+E+16]=R,M[y+E+24]=P,M[y+E+32]=j,M[y+E+40]=T,M[y+E+48]=U,M[y+E+56]=Z):(N=5793*N+8192>>14,N=-2040>N?0:2024<=N?255:N+2056>>4,M[y+E]=N,M[y+E+8]=N,M[y+E+16]=N,M[y+E+24]=N,M[y+E+32]=N,M[y+E+40]=N,M[y+E+48]=N,M[y+E+56]=N)}return m.a}function f(s,m){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:m,n=s.length-1;if(u=u<m?u:m,m>=n)return null;var i=s[m]<<8|s[m+1];if(65472<=i&&65534>=i)return{f:null,F:i,offset:m};for(var d=s[u]<<8|s[u+1];!(65472<=d&&65534>=d);){if(++u>=n)return null;d=s[u]<<8|s[u+1]}return{f:i.toString(16),F:d,offset:u}}var w=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);g.prototype={parse:function(s){function m(){var J=s[b]<<8|s[b+1];return b+=2,J}function u(){var J=m();J=b+J-2;var W=f(s,J,b);return W&&W.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+W.f),J=W.offset),J=s.subarray(b,J),b+=J.length,J}function n(J){for(var W=Math.ceil(J.v/8/J.s),ae=Math.ceil(J.g/8/J.u),he=0;he<J.b.length;he++){$=J.b[he];var fe=Math.ceil(Math.ceil(J.v/8)*$.h/J.s),te=Math.ceil(Math.ceil(J.g/8)*$.j/J.u);$.a=new Int16Array(64*ae*$.j*(W*$.h+1)),$.c=fe,$.l=te}J.P=W,J.O=ae}var i=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,d=i===void 0?null:i,b=0,y=null,x=0;i=[];var E=[],M=[],C=m();if(C!==65496)throw new a("SOI not found");for(C=m();C!==65497;){switch(C){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var N=u();C===65518&&N[0]===65&&N[1]===100&&N[2]===111&&N[3]===98&&N[4]===101&&(y={version:N[5]<<8|N[6],Y:N[7]<<8|N[8],Z:N[9]<<8|N[10],W:N[11]});break;case 65499:C=m()+b-2;for(var L;b<C;){var R=s[b++],P=new Uint16Array(64);if(R>>4)if(R>>4===1)for(N=0;64>N;N++)L=w[N],P[L]=m();else throw new a("DQT - invalid table spec");else for(N=0;64>N;N++)L=w[N],P[L]=s[b++];i[R&15]=P}break;case 65472:case 65473:case 65474:if(j)throw new a("Only single frame JPEGs supported");m();var j={};for(j.X=C===65473,j.S=C===65474,j.precision=s[b++],C=m(),j.g=d||C,j.v=m(),j.b=[],j.C={},N=s[b++],C=P=R=0;C<N;C++){L=s[b];var T=s[b+1]>>4,U=s[b+1]&15;R<T&&(R=T),P<U&&(P=U),T=j.b.push({h:T,j:U,T:s[b+2],G:null}),j.C[L]=T-1,b+=3}j.s=R,j.u=P,n(j);break;case 65476:for(L=m(),C=2;C<L;){for(R=s[b++],P=new Uint8Array(16),N=T=0;16>N;N++,b++)T+=P[N]=s[b];for(U=new Uint8Array(T),N=0;N<T;N++,b++)U[N]=s[b];C+=17+T,(R>>4?E:M)[R&15]=h(P,U)}break;case 65501:m();var Z=m();break;case 65498:for(N=++x===1&&!d,m(),R=s[b++],L=[],C=0;C<R;C++){P=j.C[s[b++]];var $=j.b[P];P=s[b++],$.D=M[P>>4],$.o=E[P&15],L.push($)}C=s[b++],R=s[b++],P=s[b++];try{var H=v(s,b,j,L,Z,C,R,P>>4,P&15,N);b+=H}catch(J){if(J instanceof r)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(s,{N:J.g});throw J}break;case 65500:b+=4;break;case 65535:s[b]!==255&&b--;break;default:if(s[b-3]===255&&192<=s[b-2]&&254>=s[b-2])b-=3;else if((N=f(s,b-2))&&N.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+N.f),b=N.offset;else throw new a("unknown marker "+C.toString(16))}C=m()}for(this.width=j.v,this.height=j.g,this.A=y,this.b=[],C=0;C<j.b.length;C++)$=j.b[C],(Z=i[$.T])&&($.G=Z),this.b.push({R:l(j,$),U:$.h/j.s,V:$.j/j.u,c:$.c,l:$.l});this.i=this.b.length},L:function(s,m){var u=this.width/s,n=this.height/m,i,d,b=this.b.length,y=s*m*b,x=new Uint8ClampedArray(y),E=new Uint32Array(s);for(d=0;d<b;d++){var M=this.b[d],C=M.U*u,N=M.V*n,L=d,R=M.R,P=M.c+1<<3;for(i=0;i<s;i++)M=0|i*C,E[i]=(M&4294967288)<<3|M&7;for(C=0;C<m;C++)for(M=0|C*N,M=P*(M&4294967288)|(M&7)<<3,i=0;i<s;i++)x[L]=R[M+E[i]],L+=b}if(n=this.M)for(d=0;d<y;)for(u=M=0;M<b;M++,d++,u+=2)x[d]=(x[d]*n[u]>>8)+n[u+1];return x},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(s){for(var m,u,n,i=0,d=s.length;i<d;i+=3)m=s[i],u=s[i+1],n=s[i+2],s[i]=m-179.456+1.402*n,s[i+1]=m+135.459-.344*u-.714*n,s[i+2]=m-226.816+1.772*u;return s},K:function(s){for(var m,u,n,i,d=0,b=0,y=s.length;b<y;b+=4)m=s[b],u=s[b+1],n=s[b+2],i=s[b+3],s[d++]=-122.67195406894+u*(-660635669420364e-19*u+.000437130475926232*n-54080610064599e-18*m+.00048449797120281*i-.154362151871126)+n*(-.000957964378445773*n+.000817076911346625*m-.00477271405408747*i+1.53380253221734)+m*(.000961250184130688*m-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),s[d++]=107.268039397724+u*(219927104525741e-19*u-.000640992018297945*n+.000659397001245577*m+.000426105652938837*i-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*m+.000770482631801132*i-.151051492775562)+m*(.00126935368114843*m-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),s[d++]=-20.810012546947+u*(-.000570115196973677*u-263409051004589e-19*n+.0020741088115012*m-.00288260236853442*i+.814272968359295)+n*(-153496057440975e-19*n-.000132689043961446*m+.000560833691242812*i-.195152027534049)+m*(.00174418132927582*m-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return s.subarray(0,d)},J:function(s){for(var m,u,n,i=0,d=s.length;i<d;i+=4)m=s[i],u=s[i+1],n=s[i+2],s[i]=434.456-m-1.402*n,s[i+1]=119.541-m+.344*u+.714*n,s[i+2]=481.816-m-1.772*u;return s},H:function(s){for(var m,u,n,i,d=0,b=1/255,y=0,x=s.length;y<x;y+=4)m=s[y]*b,u=s[y+1]*b,n=s[y+2]*b,i=s[y+3]*b,s[d++]=255+m*(-4.387332384609988*m+54.48615194189176*u+18.82290502165302*n+212.25662451639585*i-285.2331026137004)+u*(1.7149763477362134*u-5.6096736904047315*n-17.873870861415444*i-5.497006427196366)+n*(-2.5217340131683033*n-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),s[d++]=255+m*(8.841041422036149*m+60.118027045597366*u+6.871425592049007*n+31.159100130055922*i-79.2970844816548)+u*(-15.310361306967817*u+17.575251261109482*n+131.35250912493976*i-190.9453302588951)+n*(4.444339102852739*n+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),s[d++]=255+m*(.8842522430003296*m+8.078677503112928*u+30.89978309703729*n-.23883238689178934*i-14.183576799673286)+u*(10.49593273432072*u+63.02378494754052*n+50.606957656360734*i-112.23884253719248)+n*(.03296041114873217*n+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return s.subarray(0,d)},getData:function(s,m,u){if(4<this.i)throw new a("Unsupported color mode");if(s=this.L(s,m),this.i===1&&u){u=s.length,m=new Uint8ClampedArray(3*u);for(var n=0,i=0;i<u;i++){var d=s[i];m[n++]=d,m[n++]=d,m[n++]=d}return m}if(this.i===3&&this.w())return this.I(s);if(this.i===4){if(this.w())return u?this.K(s):this.J(s);if(u)return this.H(s)}return s}},k.JpegDecoder=g})()})(),k.encodeImage=function(t,a,r,g){var h={t256:[a],t257:[r],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[r],t279:[a*r*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(g)for(var v in g)h[v]=g[v];for(var l=new Uint8Array(k.encode([h])),f=new Uint8Array(t),w=new Uint8Array(1e3+a*r*4),v=0;v<l.length;v++)w[v]=l[v];for(var v=0;v<f.length;v++)w[1e3+v]=f[v];return w.buffer},k.encode=function(t){var a=new Uint8Array(2e4),r=4,g=k._binBE;a[0]=77,a[1]=77,a[3]=42;var h=8;g.writeUint(a,r,h),r+=4;for(var v=0;v<t.length;v++){var l=k._writeIFD(g,a,h,t[v]);h=l[1],v<t.length-1&&g.writeUint(a,l[0],h)}return a.slice(0,h).buffer},k.decode=function(t){k.decode._decodeG3.allow2D=null;var a=new Uint8Array(t),r=0,g=k._binBE.readASCII(a,r,2);r+=2;var h=g=="II"?k._binLE:k._binBE;h.readUshort(a,r),r+=2;var v=h.readUint(a,r);r+=4;for(var l=[];;){var f=k._readIFD(h,a,v,l,0,!1);if(v=h.readUint(a,f),v==0)break}return l},k.decodeImage=function(t,a,r){var g=new Uint8Array(t),h=k._binBE.readASCII(g,0,2);if(a.t256!=null){a.isLE=h=="II",a.width=a.t256[0],a.height=a.t257[0];var v=a.t259?a.t259[0]:1,l=a.t266?a.t266[0]:1;a.t284&&a.t284[0]==2&&S("PlanarConfiguration 2 should not be used!");var f;a.t258?f=Math.min(32,a.t258[0])*a.t258.length:f=a.t277?a.t277[0]:1,v==1&&a.t279!=null&&a.t278&&a.t262[0]==32803&&(f=Math.round(a.t279[0]*8/(a.width*a.t278[0])));var w=Math.ceil(a.width*f/8)*8,s=a.t273;s==null&&(s=a.t324);var m=a.t279;v==1&&s.length==1&&(m=[a.height*(w>>>3)]),m==null&&(m=a.t325);var u=new Uint8Array(a.height*(w>>>3)),n=0;if(a.t322!=null){for(var i=a.t322[0],d=a.t323[0],b=Math.floor((a.width+i-1)/i),y=Math.floor((a.height+d-1)/d),x=new Uint8Array(Math.ceil(i*d*f/8)|0),E=0;E<y;E++)for(var M=0;M<b;M++){for(var C=E*b+M,N=0;N<x.length;N++)x[N]=0;k.decode._decompress(a,r,g,s[C],m[C],v,x,0,l),v==6?u=x:k._copyTile(x,Math.ceil(i*f/8)|0,d,u,Math.ceil(a.width*f/8)|0,a.height,Math.ceil(M*i*f/8)|0,E*d)}n=u.length*8}else{var L=a.t278?a.t278[0]:a.height;L=Math.min(L,a.height);for(var C=0;C<s.length;C++)k.decode._decompress(a,r,g,s[C],m[C],v,u,Math.ceil(n/8)|0,l),n+=w*L;n=Math.min(n,u.length*8)}a.data=new Uint8Array(u.buffer,0,Math.ceil(n/8)|0)}},k.decode._decompress=function(t,a,r,g,h,v,l,f,w){if(v==1||h==l.length&&v!=32767)for(var s=0;s<h;s++)l[f+s]=r[g+s];else if(v==3)k.decode._decodeG3(r,g,h,l,f,t.width,w);else if(v==4)k.decode._decodeG4(r,g,h,l,f,t.width,w);else if(v==5)k.decode._decodeLZW(r,g,l,f);else if(v==6)k.decode._decodeOldJPEG(t,r,g,h,l,f);else if(v==7)k.decode._decodeNewJPEG(t,r,g,h,l,f);else if(v==8)for(var m=new Uint8Array(r.buffer,g,h),u=O.inflate(m),n=0;n<u.length;n++)l[f+n]=u[n];else v==32767?k.decode._decodeARW(t,r,g,h,l,f):v==32773?k.decode._decodePackBits(r,g,h,l,f):v==32809?k.decode._decodeThunder(r,g,h,l,f):v==34713?k.decode._decodeNikon(t,a,r,g,h,l,f):S("Unknown compression",v);var i=t.t258?Math.min(32,t.t258[0]):1,d=t.t277?t.t277[0]:1,b=i*d>>>3,y=t.t278?t.t278[0]:t.height,x=Math.ceil(i*d*t.width/8);if(i==16&&!t.isLE&&t.t33422==null)for(var E=0;E<y;E++)for(var M=f+E*x,C=1;C<x;C+=2){var N=l[M+C];l[M+C]=l[M+C-1],l[M+C-1]=N}if(t.t317&&t.t317[0]==2)for(var E=0;E<y;E++){var L=f+E*x;if(i==16)for(var s=b;s<x;s+=2){var R=(l[L+s+1]<<8|l[L+s])+(l[L+s-b+1]<<8|l[L+s-b]);l[L+s]=R&255,l[L+s+1]=R>>>8&255}else if(d==3)for(var s=3;s<x;s+=3)l[L+s]=l[L+s]+l[L+s-3]&255,l[L+s+1]=l[L+s+1]+l[L+s-2]&255,l[L+s+2]=l[L+s+2]+l[L+s-1]&255;else for(var s=b;s<x;s++)l[L+s]=l[L+s]+l[L+s-b]&255}},k.decode._ljpeg_diff=function(t,a,r){var g=k.decode._getbithuff,h,v;return h=g(t,a,r[0],r),v=g(t,a,h,0),v&1<<h-1||(v-=(1<<h)-1),v},k.decode._decodeARW=function(t,a,r,g,h,v){var l=t.t256[0],f=t.t257[0],w=t.t258[0],s=t.isLE?k._binLE:k._binBE,m=l*f==g||l*f*1.5==g;if(!m){f+=8;var u=[r,0,0,0],n=new Uint16Array(32770),i=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],ae,d,b,j,P,y=0,x=k.decode._ljpeg_diff;for(n[0]=15,b=ae=0;ae<18;ae++)for(var E=32768>>>(i[ae]>>>8),d=0;d<E;d++)n[++b]=i[ae];for(j=l;j--;)for(P=0;P<f+1;P+=2)if(P==f&&(P=1),y+=x(a,u,n),P<f){var M=y&4095;k.decode._putsF(h,(P*l+j)*w,M<<16-w)}return}if(l*f*1.5==g){for(var ae=0;ae<g;ae+=3){var C=a[r+ae+0],N=a[r+ae+1],L=a[r+ae+2];h[v+ae]=N<<4|C>>>4,h[v+ae+1]=C<<4|L>>>4,h[v+ae+2]=L<<4|N>>>4}return}var R=new Uint16Array(16),P,j,T,U,Z,$,H,J,W,ae,he,fe=new Uint8Array(l+1);for(P=0;P<f;P++){for(var te=0;te<l;te++)fe[te]=a[r++];for(he=0,j=0;j<l-30;he+=16){for(U=2047&(T=s.readUint(fe,he)),Z=2047&T>>>11,$=15&T>>>22,H=15&T>>>26,J=0;J<4&&128<<J<=U-Z;J++);for(W=30,ae=0;ae<16;ae++)ae==$?R[ae]=U:ae==H?R[ae]=Z:(R[ae]=((s.readUshort(fe,he+(W>>3))>>>(W&7)&127)<<J)+Z,R[ae]>2047&&(R[ae]=2047),W+=7);for(ae=0;ae<16;ae++,j+=2){var M=R[ae]<<1;k.decode._putsF(h,(P*l+j)*w,M<<16-w)}j-=j&1?1:31}}},k.decode._decodeNikon=function(t,a,r,g,h,v,l){var f=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],w=t.t256[0],s=t.t257[0],m=t.t258[0],u=0,n=0,i=k.decode._make_decoder,d=k.decode._getbithuff,b=a[0].exifIFD.makerNote,y=b.t150?b.t150:b.t140,x=0,E=y[x++],M=y[x++];(E==73||M==88)&&(x+=2110),E==70&&(u=2),m==14&&(u+=3);for(var C=[[0,0],[0,0]],N=t.isLE?k._binLE:k._binBE,T=0;T<2;T++)for(var L=0;L<2;L++)C[T][L]=N.readShort(y,x),x+=2;var R=1<<m&32767,P=0,j=N.readShort(y,x);x+=2,j>1&&(P=Math.floor(R/(j-1))),E==68&&M==32&&P>0&&(n=N.readShort(y,562));var T,U,Z,$,H,J,W=[0,0],ae=i(f[u]),he=[g,0,0,0];for(U=0;U<s;U++)for(n&&U==n&&(ae=i(f[u+1])),Z=0;Z<w;Z++){T=d(r,he,ae[0],ae),$=T&15,H=T>>>4,J=(d(r,he,$-H,0)<<1)+1<<H>>>1,J&1<<$-1||(J-=(1<<$)-(H==0?1:0)),Z<2?W[Z]=C[U&1][Z]+=J:W[Z&1]+=J;var fe=Math.min(Math.max(W[Z&1],0),(1<<m)-1),te=(U*w+Z)*m;k.decode._putsF(v,te,fe<<16-m)}},k.decode._putsF=function(t,a,r){r=r<<8-(a&7);var g=a>>>3;t[g]|=r>>>16,t[g+1]|=r>>>8,t[g+2]|=r},k.decode._getbithuff=function(t,a,r,g){var h=0;k.decode._get_byte;var v,l=a[0],f=a[1],w=a[2],s=a[3];if(r==0||w<0)return 0;for(;!s&&w<r&&(v=t[l++])!=-1&&!(s=h);)f=(f<<8)+v,w+=8;if(v=f<<32-w>>>32-r,g?(w-=g[v+1]>>>8,v=g[v+1]&255):w-=r,w<0)throw"e";return a[0]=l,a[1]=f,a[2]=w,a[3]=s,v},k.decode._make_decoder=function(t){var a,r,g,h,v,l=[];for(a=16;a!=0&&!t[a];a--);var f=17;for(l[0]=a,g=r=1;r<=a;r++)for(h=0;h<t[r];h++,++f)for(v=0;v<1<<a-r;v++)g<=1<<a&&(l[g++]=r<<8|t[f]);return l},k.decode._decodeNewJPEG=function(t,a,r,g,h,v){var l=t.t347,f=l?l.length:0,w=new Uint8Array(f+g);if(l){for(var s=216,m=217,u=0,n=0;n<f-1&&!(l[n]==255&&l[n+1]==m);n++)w[u++]=l[n];var i=a[r],d=a[r+1];(i!=255||d!=s)&&(w[u++]=i,w[u++]=d);for(var n=2;n<g;n++)w[u++]=a[r+n]}else for(var n=0;n<g;n++)w[n]=a[r+n];if(t.t262[0]==32803||t.t262[0]==34892){var b=t.t258[0],y=k.LosslessJpegDecode(w),x=y.length;if(b==16)if(t.isLE)for(var n=0;n<x;n++)h[v+(n<<1)]=y[n]&255,h[v+(n<<1)+1]=y[n]>>>8;else for(var n=0;n<x;n++)h[v+(n<<1)]=y[n]>>>8,h[v+(n<<1)+1]=y[n]&255;else if(b==14||b==12)for(var E=16-b,n=0;n<x;n++)k.decode._putsF(h,n*b,y[n]<<E);else throw new Error("unsupported bit depth "+b)}else{var M=new k.JpegDecoder;M.parse(w);for(var C=M.getData(M.width,M.height),n=0;n<C.length;n++)h[v+n]=C[n]}t.t262[0]==6&&(t.t262[0]=2)},k.decode._decodeOldJPEGInit=function(t,a,r,g){var h=216,v=219,l=196,f=221,w=192,s=218,m=0,u=0,n,i,d=!1,b,y,x,E=t.t513,M=E?E[0]:0,C=t.t514,N=C?C[0]:0,L=t.t324||t.t273||E,R=t.t530,P=0,j=0,T=t.t277?t.t277[0]:1,U=t.t515;if(L&&(u=L[0],d=L.length>1),!d){if(a[r]==255&&a[r+1]==h)return{jpegOffset:r};if(E!=null&&(a[r+M]==255&&a[r+M+1]==h?m=r+M:S("JPEGInterchangeFormat does not point to SOI"),C==null?S("JPEGInterchangeFormatLength field is missing"):(M>=u||M+N<=u)&&S("JPEGInterchangeFormatLength field value is invalid"),m!=null))return{jpegOffset:m}}if(R!=null&&(P=R[0],j=R[1]),E!=null&&C!=null)if(N>=2&&M+N<=u){for(a[r+M+N-2]==255&&a[r+M+N-1]==h?n=new Uint8Array(N-2):n=new Uint8Array(N),b=0;b<n.length;b++)n[b]=a[r+M+b];S("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else S("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(n==null){var Z=0,$=[];$[Z++]=255,$[Z++]=h;var H=t.t519;if(H==null)throw new Error("JPEGQTables tag is missing");for(b=0;b<H.length;b++)for($[Z++]=255,$[Z++]=v,$[Z++]=0,$[Z++]=67,$[Z++]=b,y=0;y<64;y++)$[Z++]=a[r+H[b]+y];for(x=0;x<2;x++){var J=t[x==0?"t520":"t521"];if(J==null)throw new Error((x==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(b=0;b<J.length;b++){$[Z++]=255,$[Z++]=l;var W=19;for(y=0;y<16;y++)W+=a[r+J[b]+y];for($[Z++]=W>>>8,$[Z++]=W&255,$[Z++]=b|x<<4,y=0;y<16;y++)$[Z++]=a[r+J[b]+y];for(y=0;y<W;y++)$[Z++]=a[r+J[b]+16+y]}}if($[Z++]=255,$[Z++]=w,$[Z++]=0,$[Z++]=8+3*T,$[Z++]=8,$[Z++]=t.height>>>8&255,$[Z++]=t.height&255,$[Z++]=t.width>>>8&255,$[Z++]=t.width&255,$[Z++]=T,T==1)$[Z++]=1,$[Z++]=17,$[Z++]=0;else for(b=0;b<3;b++)$[Z++]=b+1,$[Z++]=b!=0?17:(P&15)<<4|j&15,$[Z++]=b;U!=null&&U[0]!=0&&($[Z++]=255,$[Z++]=f,$[Z++]=0,$[Z++]=4,$[Z++]=U[0]>>>8&255,$[Z++]=U[0]&255),n=new Uint8Array($)}var ae=-1;for(b=0;b<n.length-1;){if(n[b]==255&&n[b+1]==w){ae=b;break}b++}if(ae==-1){var he=new Uint8Array(n.length+10+3*T);he.set(n);var fe=n.length;if(ae=n.length,n=he,n[fe++]=255,n[fe++]=w,n[fe++]=0,n[fe++]=8+3*T,n[fe++]=8,n[fe++]=t.height>>>8&255,n[fe++]=t.height&255,n[fe++]=t.width>>>8&255,n[fe++]=t.width&255,n[fe++]=T,T==1)n[fe++]=1,n[fe++]=17,n[fe++]=0;else for(b=0;b<3;b++)n[fe++]=b+1,n[fe++]=b!=0?17:(P&15)<<4|j&15,n[fe++]=b}if(a[u]==255&&a[u+1]==s){var te=a[u+2]<<8|a[u+3];for(i=new Uint8Array(te+2),i[0]=a[u],i[1]=a[u+1],i[2]=a[u+2],i[3]=a[u+3],b=0;b<te-2;b++)i[b+4]=a[u+b+4]}else{i=new Uint8Array(8+2*T);var se=0;if(i[se++]=255,i[se++]=s,i[se++]=0,i[se++]=6+2*T,i[se++]=T,T==1)i[se++]=1,i[se++]=0;else for(b=0;b<3;b++)i[se++]=b+1,i[se++]=b<<4|b;i[se++]=0,i[se++]=63,i[se++]=0}return{jpegOffset:r,tables:n,sosMarker:i,sofPosition:ae}},k.decode._decodeOldJPEG=function(t,a,r,g,h,v){var l,f,w,s,m,u=k.decode._decodeOldJPEGInit(t,a,r,g);if(u.jpegOffset!=null)for(f=r+g-u.jpegOffset,s=new Uint8Array(f),l=0;l<f;l++)s[l]=a[u.jpegOffset+l];else{for(w=u.tables.length,s=new Uint8Array(w+u.sosMarker.length+g+2),s.set(u.tables),m=w,s[u.sofPosition+5]=t.height>>>8&255,s[u.sofPosition+6]=t.height&255,s[u.sofPosition+7]=t.width>>>8&255,s[u.sofPosition+8]=t.width&255,(a[r]!=255||a[r+1]!=SOS)&&(s.set(u.sosMarker,m),m+=sosMarker.length),l=0;l<g;l++)s[m++]=a[r+l];s[m++]=255,s[m++]=EOI}var n=new k.JpegDecoder;n.parse(s);for(var i=n.getData(n.width,n.height),l=0;l<i.length;l++)h[v+l]=i[l];t.t262&&t.t262[0]==6&&(t.t262[0]=2)},k.decode._decodePackBits=function(t,a,r,g,h){for(var v=new Int8Array(t.buffer),l=new Int8Array(g.buffer),f=a+r;a<f;){var w=v[a];if(a++,w>=0&&w<128)for(var s=0;s<w+1;s++)l[h]=v[a],h++,a++;if(w>=-127&&w<0){for(var s=0;s<-w+1;s++)l[h]=v[a],h++;a++}}},k.decode._decodeThunder=function(t,a,r,g,h){for(var v=[0,1,0,-1],l=[0,1,2,3,0,-3,-2,-1],f=a+r,w=h*2,s=0;a<f;){var m=t[a],u=m>>>6,n=m&63;if(a++,u==3&&(s=n&15,g[w>>>1]|=s<<4*(1-w&1),w++),u==0)for(var i=0;i<n;i++)g[w>>>1]|=s<<4*(1-w&1),w++;if(u==2)for(var i=0;i<2;i++){var d=n>>>3*(1-i)&7;d!=4&&(s+=l[d],g[w>>>1]|=s<<4*(1-w&1),w++)}if(u==1)for(var i=0;i<3;i++){var d=n>>>2*(2-i)&3;d!=2&&(s+=v[d],g[w>>>1]|=s<<4*(1-w&1),w++)}}},k.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},k.decode._lens=function(){var t=function(w,s,m,u){for(var n=0;n<s.length;n++)w[s[n]]=m+n*u},a="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",r="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",g="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",h="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",v="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";a=a.split(","),r=r.split(","),g=g.split(","),h=h.split(","),v=v.split(",");var l={},f={};return t(l,a,0,1),t(l,g,64,64),t(l,v,1792,64),t(f,r,0,1),t(f,h,64,64),t(f,v,1792,64),[l,f]}(),k.decode._decodeG4=function(t,a,r,g,h,v,l){for(var f=k.decode,w=a<<3,s=0,m="",u=[],n=[],i=0;i<v;i++)n.push(0);n=f._makeDiff(n);for(var d=0,b=0,y=0,x=0,E=0,M=0,C="",N=0,L=Math.ceil(v/8)*8;w>>>3<a+r;){y=f._findDiff(n,d+(d==0?0:1),1-E),x=f._findDiff(n,y,E);var R=0;if(l==1&&(R=t[w>>>3]>>>7-(w&7)&1),l==2&&(R=t[w>>>3]>>>(w&7)&1),w++,m+=R,C=="H"){if(f._lens[E][m]!=null){var P=f._lens[E][m];m="",s+=P,P<64&&(f._addNtimes(u,s,E),d+=s,E=1-E,s=0,N--,N==0&&(C=""))}}else m=="0001"&&(m="",f._addNtimes(u,x-d,E),d=x),m=="001"&&(m="",C="H",N=2),f._dmap[m]!=null&&(b=y+f._dmap[m],f._addNtimes(u,b-d,E),d=b,m="",E=1-E);u.length==v&&C==""&&(f._writeBits(u,g,h*8+M*L),E=0,M++,d=0,n=f._makeDiff(u),u=[])}},k.decode._findDiff=function(t,a,r){for(var g=0;g<t.length;g+=2)if(t[g]>=a&&t[g+1]==r)return t[g]},k.decode._makeDiff=function(t){var a=[];t[0]==1&&a.push(0,1);for(var r=1;r<t.length;r++)t[r-1]!=t[r]&&a.push(r,t[r]);return a.push(t.length,0,t.length,1),a},k.decode._decodeG3=function(t,a,r,g,h,v,l){for(var f=k.decode,w=a<<3,s=0,m="",u=[],n=[],i=0;i<v;i++)u.push(0);for(var d=0,b=0,y=0,x=0,E=0,M=-1,C="",N=0,L=!1,R=Math.ceil(v/8)*8;w>>>3<a+r;){y=f._findDiff(n,d+(d==0?0:1),1-E),x=f._findDiff(n,y,E);var P=0;if(l==1&&(P=t[w>>>3]>>>7-(w&7)&1),l==2&&(P=t[w>>>3]>>>(w&7)&1),w++,m+=P,L){if(f._lens[E][m]!=null){var j=f._lens[E][m];m="",s+=j,j<64&&(f._addNtimes(u,s,E),E=1-E,s=0)}}else if(C=="H"){if(f._lens[E][m]!=null){var j=f._lens[E][m];m="",s+=j,j<64&&(f._addNtimes(u,s,E),d+=s,E=1-E,s=0,N--,N==0&&(C=""))}}else m=="0001"&&(m="",f._addNtimes(u,x-d,E),d=x),m=="001"&&(m="",C="H",N=2),f._dmap[m]!=null&&(b=y+f._dmap[m],f._addNtimes(u,b-d,E),d=b,m="",E=1-E);m.endsWith("000000000001")&&(M>=0&&f._writeBits(u,g,h*8+M*R),l==1&&(L=(t[w>>>3]>>>7-(w&7)&1)==1),l==2&&(L=(t[w>>>3]>>>(w&7)&1)==1),w++,f._decodeG3.allow2D==null&&(f._decodeG3.allow2D=L),f._decodeG3.allow2D||(L=!0,w--),m="",E=0,M++,d=0,n=f._makeDiff(u),u=[])}u.length==v&&f._writeBits(u,g,h*8+M*R)},k.decode._addNtimes=function(t,a,r){for(var g=0;g<a;g++)t.push(r)},k.decode._writeBits=function(t,a,r){for(var g=0;g<t.length;g++)a[r+g>>>3]|=t[g]<<7-(r+g&7)},k.decode._decodeLZW=function(t,a,r,g){if(k.decode._lzwTab==null){for(var h=new Uint32Array(65535),v=new Uint16Array(65535),m=new Uint8Array(2e6),l=0;l<256;l++)m[l<<2]=l,h[l]=l<<2,v[l]=1;k.decode._lzwTab=[h,v,m]}for(var f=k.decode._copyData,w=k.decode._lzwTab[0],s=k.decode._lzwTab[1],m=k.decode._lzwTab[2],u=258,n=1032,i=9,d=a<<3,b=256,y=257,x=0,E=0,M=0;x=t[d>>>3]<<16|t[d+8>>>3]<<8|t[d+16>>>3],E=x>>24-(d&7)-i&(1<<i)-1,d+=i,E!=y;){if(E==b){if(i=9,u=258,n=1032,x=t[d>>>3]<<16|t[d+8>>>3]<<8|t[d+16>>>3],E=x>>24-(d&7)-i&(1<<i)-1,d+=i,E==y)break;r[g]=E,g++}else if(E<u){var C=w[E],N=s[E];if(f(m,C,r,g,N),g+=N,M>=u)w[u]=n,m[w[u]]=C[0],s[u]=1,n=n+1+3&-4,u++;else{w[u]=n;var L=w[M],R=s[M];f(m,L,m,n,R),m[n+R]=m[C],R++,s[u]=R,u++,n=n+R+3&-4}u+1==1<<i&&i++}else{if(M>=u)w[u]=n,s[u]=0,u++;else{w[u]=n;var L=w[M],R=s[M];f(m,L,m,n,R),m[n+R]=m[n],R++,s[u]=R,u++,f(m,n,r,g,R),g+=R,n=n+R+3&-4}u+1==1<<i&&i++}M=E}},k.decode._copyData=function(t,a,r,g,h){for(var v=0;v<h;v+=4)r[g+v]=t[a+v],r[g+v+1]=t[a+v+1],r[g+v+2]=t[a+v+2],r[g+v+3]=t[a+v+3]},k.tags={},k.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},k._readIFD=function(t,a,r,g,h,v){var l=t.readUshort(a,r);r+=2;var f={};g.push(f),v&&S("   ".repeat(h),g.length-1,">>>----------------");for(var w=0;w<l;w++){var s=t.readUshort(a,r);r+=2;var m=t.readUshort(a,r);r+=2;var u=t.readUint(a,r);r+=4;var n=t.readUint(a,r);r+=4;var i=[];if((m==1||m==7)&&(i=new Uint8Array(a.buffer,u<5?r-4:n,u)),m==2){var d=u<5?r-4:n,b=a[d];b<128?i.push(t.readASCII(a,d,u-1)):i=new Uint8Array(a.buffer,d,u-1)}if(m==3)for(var y=0;y<u;y++)i.push(t.readUshort(a,(u<3?r-4:n)+2*y));if(m==4)for(var y=0;y<u;y++)i.push(t.readUint(a,(u<2?r-4:n)+4*y));if(m==5)for(var y=0;y<u;y++)i.push(t.readUint(a,n+y*8)/t.readUint(a,n+y*8+4));if(m==8)for(var y=0;y<u;y++)i.push(t.readShort(a,(u<3?r-4:n)+2*y));if(m==9)for(var y=0;y<u;y++)i.push(t.readInt(a,(u<2?r-4:n)+4*y));if(m==10)for(var y=0;y<u;y++)i.push(t.readInt(a,n+y*8)/t.readInt(a,n+y*8+4));if(m==11)for(var y=0;y<u;y++)i.push(t.readFloat(a,n+y*4));if(m==12)for(var y=0;y<u;y++)i.push(t.readDouble(a,n+y*8));if(f["t"+s]=i,u!=0&&i.length==0&&S("unknown TIFF tag type: ",m,"num:",u),v&&S("   ".repeat(h),s,m,k.tags[s],i),!(s==330&&f.t272&&f.t272[0]=="DSLR-A100")){if(s==330||s==34665||s==50740&&t.readUshort(a,t.readUint(i,0))<300){for(var x=s==50740?[t.readUint(i,0)]:i,E=[],y=0;y<x.length;y++)k._readIFD(t,a,x[y],E,h+1,v);s==330&&(f.subIFD=E),s==34665&&(f.exifIFD=E[0]),s==50740&&(f.dngPrvt=E[0])}}if(s==37500){var M=i;if(t.readASCII(M,0,5)=="Nikon")f.makerNote=k.decode(M.slice(10).buffer)[0];else if(t.readUshort(a,n)<300){var C=[];k._readIFD(t,a,n,C,h+1,v),f.makerNote=C[0]}}}return v&&S("   ".repeat(h),"<<<---------------"),r},k._writeIFD=function(t,a,r,g){var h=Object.keys(g);t.writeUshort(a,r,h.length),r+=2;for(var v=r+h.length*12+4,l=0;l<h.length;l++){var f=h[l],w=parseInt(f.slice(1)),s=k.ttypes[w];if(s==null)throw new Error("unknown type of tag: "+w);var m=g[f];s==2&&(m=m[0]+"\0");var u=m.length;t.writeUshort(a,r,w),r+=2,t.writeUshort(a,r,s),r+=2,t.writeUint(a,r,u),r+=4;var n=[-1,1,1,2,4,8,0,0,0,0,0,0,8][s]*u,i=r;if(n>4&&(t.writeUint(a,r,v),i=v),s==2&&t.writeASCII(a,i,m),s==3)for(var d=0;d<u;d++)t.writeUshort(a,i+2*d,m[d]);if(s==4)for(var d=0;d<u;d++)t.writeUint(a,i+4*d,m[d]);if(s==5)for(var d=0;d<u;d++)t.writeUint(a,i+8*d,Math.round(m[d]*1e4)),t.writeUint(a,i+8*d+4,1e4);if(s==12)for(var d=0;d<u;d++)t.writeDouble(a,i+8*d,m[d]);n>4&&(n+=n&1,v+=n),r+=4}return[r,v]},k.toRGBA8=function(t){var a=t.width,r=t.height,g=a*r,h=g*4,v=t.data,l=new Uint8Array(g*4),f=t.t262?t.t262[0]:2,w=t.t258?Math.min(32,t.t258[0]):1;if(f==0)for(var s=Math.ceil(w*a/8),m=0;m<r;m++){var u=m*s,n=m*a;if(w==1)for(var i=0;i<a;i++){var d=n+i<<2,b=v[u+(i>>3)]>>7-(i&7)&1;l[d]=l[d+1]=l[d+2]=(1-b)*255,l[d+3]=255}if(w==4)for(var i=0;i<a;i++){var d=n+i<<2,b=v[u+(i>>1)]>>4-4*(i&1)&15;l[d]=l[d+1]=l[d+2]=(15-b)*17,l[d+3]=255}if(w==8)for(var i=0;i<a;i++){var d=n+i<<2,b=v[u+i];l[d]=l[d+1]=l[d+2]=255-b,l[d+3]=255}}else if(f==1)for(var s=Math.ceil(w*a/8),m=0;m<r;m++){var u=m*s,n=m*a;if(w==1)for(var i=0;i<a;i++){var d=n+i<<2,b=v[u+(i>>3)]>>7-(i&7)&1;l[d]=l[d+1]=l[d+2]=b*255,l[d+3]=255}if(w==2)for(var i=0;i<a;i++){var d=n+i<<2,b=v[u+(i>>2)]>>6-2*(i&3)&3;l[d]=l[d+1]=l[d+2]=b*85,l[d+3]=255}if(w==8)for(var i=0;i<a;i++){var d=n+i<<2,b=v[u+i];l[d]=l[d+1]=l[d+2]=b,l[d+3]=255}if(w==16)for(var i=0;i<a;i++){var d=n+i<<2,b=v[u+(2*i+1)];l[d]=l[d+1]=l[d+2]=Math.min(255,b),l[d+3]=255}}else if(f==2){var y=t.t258?t.t258.length:3;if(w==8){if(y==4)for(var i=0;i<h;i++)l[i]=v[i];if(y==3)for(var i=0;i<g;i++){var d=i<<2,x=i*3;l[d]=v[x],l[d+1]=v[x+1],l[d+2]=v[x+2],l[d+3]=255}}else{if(y==4)for(var i=0;i<g;i++){var d=i<<2,x=i*8+1;l[d]=v[x],l[d+1]=v[x+2],l[d+2]=v[x+4],l[d+3]=v[x+6]}if(y==3)for(var i=0;i<g;i++){var d=i<<2,x=i*6+1;l[d]=v[x],l[d+1]=v[x+2],l[d+2]=v[x+4],l[d+3]=255}}}else if(f==3)for(var E=t.t320,i=0;i<g;i++){var d=i<<2,M=v[i];l[d]=E[M]>>8,l[d+1]=E[256+M]>>8,l[d+2]=E[512+M]>>8,l[d+3]=255}else if(f==5)for(var y=t.t258?t.t258.length:4,C=y>4?1:0,i=0;i<g;i++){var d=i<<2,N=i*y,L=255-v[N],R=255-v[N+1],P=255-v[N+2],j=(255-v[N+3])*(1/255);l[d]=~~(L*j+.5),l[d+1]=~~(R*j+.5),l[d+2]=~~(P*j+.5),l[d+3]=255*(1-C)+v[N+4]*C}else S("Unknown Photometric interpretation: "+f);return l},k.replaceIMG=function(t){t==null&&(t=document.getElementsByTagName("img"));for(var a=["tif","tiff","dng","cr2","nef"],r=0;r<t.length;r++){var g=t[r],h=g.getAttribute("src");if(h!=null){var v=h.split(".").pop().toLowerCase();if(a.indexOf(v)!=-1){var l=new XMLHttpRequest;k._xhrs.push(l),k._imgs.push(g),l.open("GET",h),l.responseType="arraybuffer",l.onload=k._imgLoaded,l.send()}}}},k._xhrs=[],k._imgs=[],k._imgLoaded=function(t){var a=t.target.response,r=k.decode(a),g=r,h=0,v=g[0];r[0].subIFD&&(g=g.concat(r[0].subIFD));for(var l=0;l<g.length;l++){var n=g[l];if(!(n.t258==null||n.t258.length<3)){var f=n.t256*n.t257;f>h&&(h=f,v=n)}}k.decodeImage(a,v,r);var w=k.toRGBA8(v),s=v.width,m=v.height,u=k._xhrs.indexOf(t.target),n=k._imgs[u];k._xhrs.splice(u,1),k._imgs.splice(u,1);var i=document.createElement("canvas");i.width=s,i.height=m;for(var d=i.getContext("2d"),b=d.createImageData(s,m),l=0;l<w.length;l++)b.data[l]=w[l];d.putImageData(b,0,0),n.setAttribute("src",i.toDataURL())},k._binBE={nextZero:function(t,a){for(;t[a]!=0;)a++;return a},readUshort:function(t,a){return t[a]<<8|t[a+1]},readShort:function(t,a){var r=k._binBE.ui8;return r[0]=t[a+1],r[1]=t[a+0],k._binBE.i16[0]},readInt:function(t,a){var r=k._binBE.ui8;return r[0]=t[a+3],r[1]=t[a+2],r[2]=t[a+1],r[3]=t[a+0],k._binBE.i32[0]},readUint:function(t,a){var r=k._binBE.ui8;return r[0]=t[a+3],r[1]=t[a+2],r[2]=t[a+1],r[3]=t[a+0],k._binBE.ui32[0]},readASCII:function(t,a,r){for(var g="",h=0;h<r;h++)g+=String.fromCharCode(t[a+h]);return g},readFloat:function(t,a){for(var r=k._binBE.ui8,g=0;g<4;g++)r[g]=t[a+3-g];return k._binBE.fl32[0]},readDouble:function(t,a){for(var r=k._binBE.ui8,g=0;g<8;g++)r[g]=t[a+7-g];return k._binBE.fl64[0]},writeUshort:function(t,a,r){t[a]=r>>8&255,t[a+1]=r&255},writeUint:function(t,a,r){t[a]=r>>24&255,t[a+1]=r>>16&255,t[a+2]=r>>8&255,t[a+3]=r>>0&255},writeASCII:function(t,a,r){for(var g=0;g<r.length;g++)t[a+g]=r.charCodeAt(g)},writeDouble:function(t,a,r){k._binBE.fl64[0]=r;for(var g=0;g<8;g++)t[a+g]=k._binBE.ui8[7-g]}},k._binBE.ui8=new Uint8Array(8),k._binBE.i16=new Int16Array(k._binBE.ui8.buffer),k._binBE.i32=new Int32Array(k._binBE.ui8.buffer),k._binBE.ui32=new Uint32Array(k._binBE.ui8.buffer),k._binBE.fl32=new Float32Array(k._binBE.ui8.buffer),k._binBE.fl64=new Float64Array(k._binBE.ui8.buffer),k._binLE={nextZero:k._binBE.nextZero,readUshort:function(t,a){return t[a+1]<<8|t[a]},readShort:function(t,a){var r=k._binBE.ui8;return r[0]=t[a+0],r[1]=t[a+1],k._binBE.i16[0]},readInt:function(t,a){var r=k._binBE.ui8;return r[0]=t[a+0],r[1]=t[a+1],r[2]=t[a+2],r[3]=t[a+3],k._binBE.i32[0]},readUint:function(t,a){var r=k._binBE.ui8;return r[0]=t[a+0],r[1]=t[a+1],r[2]=t[a+2],r[3]=t[a+3],k._binBE.ui32[0]},readASCII:k._binBE.readASCII,readFloat:function(t,a){for(var r=k._binBE.ui8,g=0;g<4;g++)r[g]=t[a+g];return k._binBE.fl32[0]},readDouble:function(t,a){for(var r=k._binBE.ui8,g=0;g<8;g++)r[g]=t[a+g];return k._binBE.fl64[0]}},k._copyTile=function(t,a,r,g,h,v,l,f){for(var w=Math.min(a,h-l),s=Math.min(r,v-f),m=0;m<s;m++)for(var u=(f+m)*h+l,n=m*a,i=0;i<w;i++)g[u+i]=t[n+i]},k.LosslessJpegDecode=function(){function t(h){this.w=h,this.N=0,this._=0,this.G=0}t.prototype={t:function(h){this.N=Math.max(0,Math.min(this.w.length,h))},i:function(){return this.w[this.N++]},l:function(){var h=this.N;return this.N+=2,this.w[h]<<8|this.w[h+1]},J:function(){return this._==0&&(this.G=this.w[this.N],this.N+=1+(this.G+1>>>8),this._=8),this.G>>>--this._&1},Z:function(h){var v=this._,l=this.G,f=Math.min(v,h);h-=f,v-=f;for(var w=l>>>v&(1<<f)-1;h>0;)l=this.w[this.N],this.N+=1+(l+1>>>8),f=Math.min(8,h),h-=f,v=8-f,w<<=f,w|=l>>>v&(1<<f)-1;return this._=v,this.G=l,w}};var a={};a.X=function(){return[0,0,-1]},a.s=function(h,v,l){h[a.Y(h,0,l)+2]=v},a.Y=function(h,v,l){if(h[v+2]!=-1)return 0;if(l==0)return v;for(var f=0;f<2;f++){h[v+f]==0&&(h[v+f]=h.length,h.push(0),h.push(0),h.push(-1));var w=a.Y(h,h[v+f],l-1);if(w!=0)return w}return 0},a.B=function(h,v){for(var l=0,f=0,w=0,s=v._,m=v.G,u=v.N;;)if(s==0&&(m=v.w[u],u+=1+(m+1>>>8),s=8),w=m>>>--s&1,l=h[l+w],f=h[l+2],f!=-1)return v._=s,v.G=m,v.N=u,f;return-1};function r(h){this.z=new t(h),this.D(this.z)}r.prototype={$:function(h,v){this.Q=h.i(),this.F=h.l(),this.o=h.l();var l=this.O=h.i();this.L=[];for(var f=0;f<l;f++){var w=h.i();h.i(),h.i(),this.L[w]=f}h.t(h.N+v-(6+l*3))},e:function(){var h=0,v=this.z.i();this.H==null&&(this.H={});for(var l=this.H[v]=a.X(),f=[],w=0;w<16;w++)f[w]=this.z.i(),h+=f[w];for(var w=0;w<16;w++)for(var s=0;s<f[w];s++)a.s(l,this.z.i(),w+1);return h+17},W:function(h){for(;h>0;)h-=this.e()},p:function(h,v){var l=h.i();this.U||(this.U=[]);for(var f=0;f<l;f++){var w=h.i(),s=h.i();this.U[this.L[w]]=this.H[s>>>4]}this.g=h.i(),h.t(h.N+v-(2+l*2))},D:function(h){var v=!1,l=h.l();if(l===r.q)do{var l=h.l(),f=h.l()-2;switch(l){case r.m:this.$(h,f);break;case r.K:this.W(f);break;case r.V:this.p(h,f),v=!0;break;default:h.t(h.N+f);break}}while(!v)},I:function(h,v){var l=a.B(v,h);if(l==16)return-32768;var f=h.Z(l);return f&1<<l-1||(f-=(1<<l)-1),f},B:function(h,v){for(var l=this.z,f=this.O,w=this.F,s=this.I,m=this.g,u=this.o*f,n=this.U,i=0;i<f;i++)h[i]=s(l,n[i])+(1<<this.Q-1);for(var d=f;d<u;d+=f)for(var i=0;i<f;i++)h[d+i]=s(l,n[i])+h[d+i-f];for(var b=v,y=1;y<w;y++){for(var i=0;i<f;i++)h[b+i]=s(l,n[i])+h[b+i-v];for(var d=f;d<u;d+=f)for(var i=0;i<f;i++){var x=b+d+i,E=h[x-f];m==6&&(E=h[x-v]+(E-h[x-f-v]>>>1)),h[x]=E+s(l,n[i])}b+=v}}},r.m=65475,r.K=65476,r.q=65496,r.V=65498;function g(h){var v=new r(h),l=v.Q>8?Uint16Array:Uint8Array,f=new l(v.o*v.F*v.O),w=v.o*v.O;return v.B(f,w),f}return g}()})(B,I)})()}(Kt)),Kt.exports}var oa=zi();const Mi={__name:"TiffViewer",props:{tiffUrl:String,isModal:{type:Boolean,default:!1},zoomLevel:{type:Number,default:1},rotationDegree:{type:Number,default:0},translateX:{type:Number,default:0}},emits:["error"],setup(_,{emit:B}){const I=_,S=_e(null),k=_e(!1),O=_e(!1),t=B,a=me(()=>({width:I.isModal?"100%":`${250*I.zoomLevel}px`,height:I.isModal?"100%":`${250*I.zoomLevel}px`,transform:`scale(${I.zoomLevel}) rotate(${I.rotationDegree}deg)  translateX(${I.translateX}px)`,objectFit:"contain",transformOrigin:"left"}));return ua(()=>[I.tiffUrl,I.rotationDegree],async()=>{if(I.tiffUrl){O.value=!0;try{const h=await(await fetch(I.tiffUrl)).arrayBuffer(),v=oa.decode(h);oa.decodeImage(h,v[0]);const l=oa.toRGBA8(v[0]);if(S.value){const f=S.value,w=f.getContext("2d");f.width=v[0].width,f.height=v[0].height;const s=new ImageData(new Uint8ClampedArray(l),v[0].width,v[0].height);w.clearRect(0,0,f.width,f.height),w.save(),w.translate(f.width/2,f.height/2),w.rotate(I.rotationDegree*Math.PI/180),w.drawImage(f,-f.width/2,-f.height/2),w.restore(),w.putImageData(s,0,0)}O.value=!1}catch(g){O.value=!1,k.value=!0,t("error"),console.error("Erro ao carregar TIFF:",g)}}},{immediate:!0}),(g,h)=>(de(),ze(it,null,[A(O)?(de(),ke(Ga,{key:0,style:{"margin-left":"200px"},class:"loading-spinner",indeterminate:"",size:"64"})):He("",!0),A(k)?He("",!0):(de(),ze("canvas",{key:1,ref_key:"tiffCanvas",ref:S,style:Lt(A(a))},null,4))],64))}},Ni="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAlmSURBVHic7Z1rjF1VFcd/zLSlUqYzLfJohxlKIBJTFAmmMcpjLNUAAY0JBIMxtISPimKCWm2V1wc/QpRHFCEYjSmvKtgXA8jDWkWKtFFMEGKlkKD2QaudaTvtjB/WvWFyufesfR57n33OXb9kfbkn9+z/3nudffZj7X3AMAzDMAzDMAzDMAzDMAzDMIw6c0zZAnIwH/g8cCHwceBE4ARghud0jwC7gf8ALwHPAY8DezynazQ4E3gAGAOmIrEx4H7gDI/57npmAKuBccqv8CRHWI3/Vqjr6AOeoPwKdrUngQEvJdGFzAVeofxKTWt/bmg3cjAD2ET5lZnVNmKvg1x8m/IrMa99s/BS6RJOBw5QfgXmtQPAomKLpju4C7cCfgm4FhgCegPo6gWGG2luddT4owC6asVcYD/JhToJfAfoKUkjjbRXNbQkad2PdQhTsRz9qVpVlrg2fA9d74rS1FWQdSQX5jbCNPeu9ALbSda8vjR1FWMecIjkwry+NHWduZ5kzYeR9QtD4TqqWZAD6I5rrwEHNpBciOvKk6ayHnsN5MKl+V9eljgHVlCx1itrPEA/cClwBfAxYLDxm28mgFOId+19PvAOMNNzOhPAv4G3gNeRhbINyHDTK8PIWrz2lPqyKjSh2mvAlx0Efgqc6iNTvcDtlL8WX4VOlNaJ9W1jwC0UOEyOZS0+uvdnB1xGAyFsIwXEJAwAf4kgM1PIO64qaCOZULadHFPQvYgXlZ2Jpl2ZNSMlcBXll1fT1pHxdXB7BOKbtp5qRTD3ENfDc3PaDAxTfofvKDLE+T4wO20GImA2UvCvI3kpsyzHkKG6Mw843nj6Wrzvsa/xHjNJH5Nwn+vN+9F7sUeBb1GtZrmu9AAr0VuZg8iITuWLyo2mkMo34mIler1d5XKjXyg32Yo9+THSA7xMct39rPVP7UKWz1USurNxs6rQB5yP5OujyLtzGDgOmeeYQAI39yL7/f4GvIb0bzYjHagqMAn8ENmi1olzXG6kxeIN55IZhkHgRuAFpIKz9p4PIZs/vwacFDQH2VhEcn72utxE60zEvNFhGTJt7WPYdRj4NdKaxMpM9M67ilYQMbIU2ELxld7JnkW2pcdI7vqrkgMsQDo2oSq+1R4CTvaQryHgEeR1vB9YC5zl+N+ucYBrgHcpr/Kbtgf4QoH5GkIOoGiXzpDD/2vvAMciPd2yK366TSKjo1kF5O+RhHQecvh/rR3gBKRnX3aFd7IngeNz5jFpFLbP4f+p6q/dhI5WyWVNAp0MjAIfyfDfw0gncRQZ5+9o2CHee2oXAIuBs4ElSMcyyxP9J+AyYFeG/4I4QKcp233oQR656y/GFmA+8FcHba32PDL9meWpnIcstoxmSPfFjGmCdPg63XeNw/9r9wqYjVRkmgpYi5wcVhSfIP36/iaytSBnIR2+1vvtwi3gs3YO8GMHTU17E/icRy3LgJ0p9NyRMZ0hpMO3r2FrcI/2rZUDfNlBz/Tm0Wm5MyfzgYcdNU1S7BDRhdo4wEJk7tqloH9A+M7pzY7a9uBnsqgTtXGAxxy0TAFfDaiplZsSdE23BwNqqoUDXOSgo/nkl81q3F4FoRaRauEAf3DQsYY4AlOOQc4K1vQ+E0hP5R1gxEHDm4Tp8LkyALyBrvtTAbRU3gFcniafQ72sXI6ue20AHZV2gFPQI3hCFGJWtFnDw8AHPWuotAN8wyH9Imf4iuYcdP1f8ayh0g7wrJL2857TLwJttfJpz+lX1gH6kSYyKe0qbBBdTnIexoEPeEy/sg7wWSXdQ+Rfaw/BHPQzji/2mH6q+ivzmNVWlijXtwD/CyEkJweQmIAkzgshxIWYHGCxcv2pICqK4ffKddcAT+/E5ACnK9dfDaKiGLYo180B2qDtX98RQkRB7FSuLwiiwoGYHECLddsRQkRB7FauR3N0fEwOMEe5Ph5ERTFoDhDNOkZMDjCpXK/SCSTaHrxoyj0aIcg4P4ljg6goBq2Jj2bLeUwOoMXRnxhERTFoWt8NosKBmBzgX8p1bZ4gJj6kXH8riAoHYnKAvyvXzw6iohg0rf8MosKBmBxAm+jRpopjYkS5vj2EiKzEvBg0z2P6RTEH/dP2n/GYfmVXA/uAI0ra13pMvyi+RLmrmpV1AND3AI56Tr8ItLCw5zynX2kHuNEh/ZgPaToX/SuiN3jWUGkHGEQPCt3oWUMetA9rHEECX31SaQcAOYpN07AsgI60uISFPxZAR+UdYKmDhp3E9fmYAWS1UtM9EkBL5R0A3M4BejSQFhceRdf7u0BaauEAFznomCLDlzA8cCtuWi8IpKcWDgByQoZLwd4UUFMrNyTomm6/DKipNg6wkPZn5bSz1YTfKXyLo7a9hA0Bq40DgJwG6lLIU8im0tzfyXNgALd3ftOcPtJQILVyAIB7HDQ17Q1kOOaLy4F/pNBzt0ctnaidA8wi/TFxozh+HMGR80j/9dSnKSeMrXYOANLsvuKgrdVeQPbqaQGn7TgOWdjJclDkVsK8jtqRqv6qdlTsJrI92WPIdq3NwB+RE0Z2N+woshJ5ErJhYzEyYfNJsm3i3Ibs/dMig32Ru/5ibAGaDBD3YdHPILucy6SWr4DpzALupfzKbrW7iCNyufYO0OQa3OcJfNou4GrPeU1D1zgAyGSR64yhD1tD2FNAXegqB2gygnTwQlX8ZsIc+ZaFrnSAJkuBX5HvW4GdbAKJVYj1a2FNutoBmiwEvg78lvwfjnwK+XBkbE19J1LVX5XmAbJyPPLBhyXAh4EzkbCs/ob1IAs2+4G3kenkV5GvfrxINY6lmU6q+usGB+g2UtVfu51Bddqm3W1odTPR+kM7B9CavGiONzHeh3bMzjutP7RzAO18m087yzFCs1S5/rbLTX5Oci9yK3FtKjWEHvQVU6cvl1yt3GQKWFmsdqMAVqHXm9NRu3OBg8qNjiJOYC1B+fQA30XfkjZOisOpXD/O/DKwAjgNGx2EZCawCLgO90CZn7S7Uacx/SDwGhIVY1SfceTYmvcdTdPb4Q//RdbdR/xpMgJyG/CbtH/qIX0gpFl8toHOD7pKP3KeTdmZMMtm2yjgWNo+3LZsm8Vl6ykwPrEX2YipHX5kVr4dQLbKeRmiDwL3oc8TmIW3cWSot7Bj7bUh69JuH3AJcAWyvj6EBEzYXEA49iLrNtuQfZEbqV7sgmEYhmEYhmEYhmEYhmEYhmEYnvk/IOetxTmdx/8AAAAASUVORK5CYII=",ma=Symbol.for("vuetify:v-slider");function $i(_,B,I){const S=I==="vertical",k=B.getBoundingClientRect(),O="touches"in _?_.touches[0]:_;return S?O.clientY-(k.top+k.height/2):O.clientX-(k.left+k.width/2)}function Oi(_,B){return"touches"in _&&_.touches.length?_.touches[0][B]:"changedTouches"in _&&_.changedTouches.length?_.changedTouches[0][B]:_[B]}const Li=dt({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:_=>typeof _=="boolean"||_==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:_=>typeof _=="boolean"||_==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:_=>["vertical","horizontal"].includes(_)},reverse:Boolean,...gr(),...br({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Ti=_=>{const B=me(()=>parseFloat(_.min)),I=me(()=>parseFloat(_.max)),S=me(()=>+_.step>0?parseFloat(_.step):0),k=me(()=>Math.max(wa(S.value),wa(B.value)));function O(t){if(t=parseFloat(t),S.value<=0)return t;const a=Wa(t,B.value,I.value),r=B.value%S.value,g=Math.round((a-r)/S.value)*S.value+r;return parseFloat(Math.min(g,I.value).toFixed(k.value))}return{min:B,max:I,step:S,decimals:k,roundValue:O}},Ui=_=>{let{props:B,steps:I,onSliderStart:S,onSliderMove:k,onSliderEnd:O,getActiveThumb:t}=_;const{isRtl:a}=Gt(),r=je(B,"reverse"),g=me(()=>B.direction==="vertical"),h=me(()=>g.value!==r.value),{min:v,max:l,step:f,decimals:w,roundValue:s}=I,m=me(()=>parseInt(B.thumbSize,10)),u=me(()=>parseInt(B.tickSize,10)),n=me(()=>parseInt(B.trackSize,10)),i=me(()=>(l.value-v.value)/f.value),d=je(B,"disabled"),b=me(()=>B.error||B.disabled?void 0:B.thumbColor??B.color),y=me(()=>B.error||B.disabled?void 0:B.trackColor??B.color),x=me(()=>B.error||B.disabled?void 0:B.trackFillColor??B.color),E=Mt(!1),M=Mt(0),C=_e(),N=_e();function L(te){var Le;const se=B.direction==="vertical",we=se?"top":"left",Ce=se?"height":"width",Te=se?"clientY":"clientX",{[we]:Be,[Ce]:ye}=(Le=C.value)==null?void 0:Le.$el.getBoundingClientRect(),$e=Oi(te,Te);let We=Math.min(Math.max(($e-Be-M.value)/ye,0),1)||0;return(se?h.value:h.value!==a.value)&&(We=1-We),s(v.value+We*(l.value-v.value))}const R=te=>{O({value:L(te)}),E.value=!1,M.value=0},P=te=>{N.value=t(te),N.value&&(N.value.focus(),E.value=!0,N.value.contains(te.target)?M.value=$i(te,N.value,B.direction):(M.value=0,k({value:L(te)})),S({value:L(te)}))},j={passive:!0,capture:!0};function T(te){k({value:L(te)})}function U(te){te.stopPropagation(),te.preventDefault(),R(te),window.removeEventListener("mousemove",T,j),window.removeEventListener("mouseup",U)}function Z(te){var se;R(te),window.removeEventListener("touchmove",T,j),(se=te.target)==null||se.removeEventListener("touchend",Z)}function $(te){var se;P(te),window.addEventListener("touchmove",T,j),(se=te.target)==null||se.addEventListener("touchend",Z,{passive:!1})}function H(te){te.preventDefault(),P(te),window.addEventListener("mousemove",T,j),window.addEventListener("mouseup",U,{passive:!1})}const J=te=>{const se=(te-v.value)/(l.value-v.value)*100;return Wa(isNaN(se)?0:se,0,100)},W=je(B,"showTicks"),ae=me(()=>W.value?B.ticks?Array.isArray(B.ticks)?B.ticks.map(te=>({value:te,position:J(te),label:te.toString()})):Object.keys(B.ticks).map(te=>({value:parseFloat(te),position:J(parseFloat(te)),label:B.ticks[te]})):i.value!==1/0?wr(i.value+1).map(te=>{const se=v.value+te*f.value;return{value:se,position:J(se)}}):[]:[]),he=me(()=>ae.value.some(te=>{let{label:se}=te;return!!se})),fe={activeThumbRef:N,color:je(B,"color"),decimals:w,disabled:d,direction:je(B,"direction"),elevation:je(B,"elevation"),hasLabels:he,isReversed:r,indexFromEnd:h,min:v,max:l,mousePressed:E,numTicks:i,onSliderMousedown:H,onSliderTouchstart:$,parsedTicks:ae,parseMouseMove:L,position:J,readonly:je(B,"readonly"),rounded:je(B,"rounded"),roundValue:s,showTicks:W,startOffset:M,step:f,thumbSize:m,thumbColor:b,thumbLabel:je(B,"thumbLabel"),ticks:je(B,"ticks"),tickSize:u,trackColor:y,trackContainerRef:C,trackFillColor:x,trackSize:n,vertical:g};return Za(ma,fe),fe},Hi=dt({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Ft()},"VSliderThumb"),ji=_t()({name:"VSliderThumb",directives:{Ripple:kr},props:Hi(),emits:{"update:modelValue":_=>!0},setup(_,B){let{slots:I,emit:S}=B;const k=Yt(ma),{isRtl:O,rtlClasses:t}=Gt();if(!k)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:r,disabled:g,thumbSize:h,thumbLabel:v,direction:l,isReversed:f,vertical:w,readonly:s,elevation:m,mousePressed:u,decimals:n,indexFromEnd:i}=k,d=me(()=>g.value?void 0:m.value),{elevationClasses:b}=yr(d),{textColorClasses:y,textColorStyles:x}=Ka(a),{pageup:E,pagedown:M,end:C,home:N,left:L,right:R,down:P,up:j}=Er,T=[E,M,C,N,L,R,P,j],U=me(()=>r.value?[1,2,3]:[1,5,10]);function Z(H,J){if(!T.includes(H.key))return;H.preventDefault();const W=r.value||.1,ae=(_.max-_.min)/W;if([L,R,P,j].includes(H.key)){const fe=(w.value?[O.value?L:R,f.value?P:j]:i.value!==O.value?[L,j]:[R,j]).includes(H.key)?1:-1,te=H.shiftKey?2:H.ctrlKey?1:0;J=J+fe*W*U.value[te]}else if(H.key===N)J=_.min;else if(H.key===C)J=_.max;else{const he=H.key===M?1:-1;J=J-he*W*(ae>100?ae/10:10)}return Math.max(_.min,Math.min(_.max,J))}function $(H){const J=Z(H,_.modelValue);J!=null&&S("update:modelValue",J)}return mt(()=>{const H=lt(i.value?100-_.position:_.position,"%");return V("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":_.focused,"v-slider-thumb--pressed":_.focused&&u.value},_.class,t.value],style:[{"--v-slider-thumb-position":H,"--v-slider-thumb-size":lt(h.value)},_.style],role:"slider",tabindex:g.value?-1:0,"aria-label":_.name,"aria-valuemin":_.min,"aria-valuemax":_.max,"aria-valuenow":_.modelValue,"aria-readonly":!!s.value,"aria-orientation":l.value,onKeydown:s.value?void 0:$},[V("div",{class:["v-slider-thumb__surface",y.value,b.value],style:{...x.value}},null),ut(V("div",{class:["v-slider-thumb__ripple",y.value],style:x.value},null),[[Nt("ripple"),_.ripple,null,{circle:!0,center:!0}]]),V(xr,{origin:"bottom center"},{default:()=>{var J;return[ut(V("div",{class:"v-slider-thumb__label-container"},[V("div",{class:["v-slider-thumb__label"]},[V("div",null,[((J=I["thumb-label"])==null?void 0:J.call(I,{modelValue:_.modelValue}))??_.modelValue.toFixed(r.value?n.value:1)])])]),[[Ja,v.value&&_.focused||v.value==="always"]])]}})])}),{}}}),Gi=dt({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Ft()},"VSliderTrack"),Fi=_t()({name:"VSliderTrack",props:Gi(),emits:{},setup(_,B){let{slots:I}=B;const S=Yt(ma);if(!S)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:k,parsedTicks:O,rounded:t,showTicks:a,tickSize:r,trackColor:g,trackFillColor:h,trackSize:v,vertical:l,min:f,max:w,indexFromEnd:s}=S,{roundedClasses:m}=Sr(t),{backgroundColorClasses:u,backgroundColorStyles:n}=sa(h),{backgroundColorClasses:i,backgroundColorStyles:d}=sa(g),b=me(()=>`inset-${l.value?"block":"inline"}-${s.value?"end":"start"}`),y=me(()=>l.value?"height":"width"),x=me(()=>({[b.value]:"0%",[y.value]:"100%"})),E=me(()=>_.stop-_.start),M=me(()=>({[b.value]:lt(_.start,"%"),[y.value]:lt(E.value,"%")})),C=me(()=>a.value?(l.value?O.value.slice().reverse():O.value).map((L,R)=>{var j;const P=L.value!==f.value&&L.value!==w.value?lt(L.position,"%"):void 0;return V("div",{key:L.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":L.position>=_.start&&L.position<=_.stop,"v-slider-track__tick--first":L.value===f.value,"v-slider-track__tick--last":L.value===w.value}],style:{[b.value]:P}},[(L.label||I["tick-label"])&&V("div",{class:"v-slider-track__tick-label"},[((j=I["tick-label"])==null?void 0:j.call(I,{tick:L,index:R}))??L.label])])}):[]);return mt(()=>V("div",{class:["v-slider-track",m.value,_.class],style:[{"--v-slider-track-size":lt(v.value),"--v-slider-tick-size":lt(r.value)},_.style]},[V("div",{class:["v-slider-track__background",i.value,{"v-slider-track__background--opacity":!!k.value||!h.value}],style:{...x.value,...d.value}},null),V("div",{class:["v-slider-track__fill",u.value],style:{...M.value,...n.value}},null),a.value&&V("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[C.value])])),{}}}),Yi=dt({...Vr(),...Li(),...Ar(),modelValue:{type:[Number,String],default:0}},"VSlider"),Zi=_t()({name:"VSlider",props:Yi(),emits:{"update:focused":_=>!0,"update:modelValue":_=>!0,start:_=>!0,end:_=>!0},setup(_,B){let{slots:I,emit:S}=B;const k=_e(),{rtlClasses:O}=Gt(),t=Ti(_),a=da(_,"modelValue",void 0,y=>t.roundValue(y??t.min.value)),{min:r,max:g,mousePressed:h,roundValue:v,onSliderMousedown:l,onSliderTouchstart:f,trackContainerRef:w,position:s,hasLabels:m,readonly:u}=Ui({props:_,steps:t,onSliderStart:()=>{S("start",a.value)},onSliderEnd:y=>{let{value:x}=y;const E=v(x);a.value=E,S("end",E)},onSliderMove:y=>{let{value:x}=y;return a.value=v(x)},getActiveThumb:()=>{var y;return(y=k.value)==null?void 0:y.$el}}),{isFocused:n,focus:i,blur:d}=Cr(_),b=me(()=>s(a.value));return mt(()=>{const y=ka.filterProps(_),x=!!(_.label||I.label||I.prepend);return V(ka,wt({class:["v-slider",{"v-slider--has-labels":!!I["tick-label"]||m.value,"v-slider--focused":n.value,"v-slider--pressed":h.value,"v-slider--disabled":_.disabled},O.value,_.class],style:_.style},y,{focused:n.value}),{...I,prepend:x?E=>{var M,C;return V(it,null,[((M=I.label)==null?void 0:M.call(I,E))??(_.label?V(Dr,{id:E.id.value,class:"v-slider__label",text:_.label},null):void 0),(C=I.prepend)==null?void 0:C.call(I,E)])}:void 0,default:E=>{let{id:M,messagesId:C}=E;return V("div",{class:"v-slider__container",onMousedown:u.value?void 0:l,onTouchstartPassive:u.value?void 0:f},[V("input",{id:M.value,name:_.name||M.value,disabled:!!_.disabled,readonly:!!_.readonly,tabindex:"-1",value:a.value},null),V(Fi,{ref:w,start:0,stop:b.value},{"tick-label":I["tick-label"]}),V(ji,{ref:k,"aria-describedby":C.value,focused:n.value,min:r.value,max:g.value,modelValue:a.value,"onUpdate:modelValue":N=>a.value=N,position:b.value,elevation:_.elevation,onFocus:i,onBlur:d,ripple:_.ripple,name:_.name},{"thumb-label":I["thumb-label"]})])}})}),{}}}),Wi=["src"],Ki={key:2,src:Ni},Ji={__name:"ReconhecimentoFacial",setup(_){const B=_e(null),I=_e([]),S=_e(""),k=_e(!1),O=_e(null),t=_e(null),a=zt(),{id:r}=a.params,g=_e(1),v=Pe("pessoa_token").value,f=Pe("user-data").value.nome,w=ht(),s=`${w.public.managemant}/upload`,m=`${w.public.managemant}/getLinkTipo`,u=`${w.public.managemant}/download`,{$toast:n}=kt(),i=me(()=>!!t.value),d=me(()=>!!O.value),b=_e(!1),y=async()=>{const L=await navigator.mediaDevices.enumerateDevices();I.value=L.filter(R=>R.kind==="videoinput").map(R=>({deviceId:R.deviceId,label:R.label||`Camera ${I.value.length+1}`}))},x=async()=>{k.value=!0;try{await navigator.mediaDevices.getUserMedia({video:!0}),await y()}catch(L){console.error("Erro ao acessar dispositivos de mídia:",L)}},E=()=>{k.value=!1;const L=B.value.srcObject;L&&L.getTracks().forEach(P=>P.stop())},M=async()=>{if(S.value){const L=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:S.value}}});B.value.srcObject=L}},C=async()=>{const L=document.createElement("canvas"),R=L.getContext("2d"),P=B.value.videoWidth,j=B.value.videoHeight,T=P*g.value,U=j*g.value,Z=(P-T)/2,$=(j-U)/2;L.width=P,L.height=j,R.drawImage(B.value,Z,$,T,U),L.toBlob(async H=>{const J=new FormData;J.append("file",H,`${f}.jpg`),J.append("cartorio_token",Pe("user-data").value.cartorio_token),J.append("token",v),J.append("tipo","foto");const{status:W}=await vt(s,{method:"POST",body:J},"$fRRPU47ULS");if(W.value==="success"){n.success("Imagem enviada!");const ae=URL.createObjectURL(H);O.value=ae,E()}else n.error("Erro ao enviar imagem para o sistema.")},"image/jpeg")};return r&&(async L=>{var U;if(!L)return;const{data:R}=await vt(m,{method:"POST",body:{tipo:"foto",id:L}},"$N16ZtKMkSh");if(!((U=R.value)!=null&&U.link))return;const{data:P}=await vt(u,{method:"POST",body:{bucket:"qvgjz",path:R.value.link}},"$mC9TAMOeqI"),j=R.value.link,T=P.value;/\.(tr7|tiff)$/i.test(j)?(t.value=T,b.value=!1):O.value=T})(r),jt(async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await y()}catch(L){console.error("Erro ao acessar dispositivos de mídia:",L)}}),(L,R)=>{const P=Mi;return de(),ke(ce,{cols:"auto"},{default:F(()=>[V(Zt,{"max-width":"700",modelValue:A(k),"onUpdate:modelValue":R[3]||(R[3]=j=>bt(k)?k.value=j:null)},{activator:F(({props:j})=>[V(Ne,wt(j,{variant:"outlined",style:{width:"300px",height:"300px"},onClick:x}),{default:F(()=>[A(i)&&!A(b)?(de(),ke(P,{key:0,"tiff-url":A(t),onError:R[0]||(R[0]=T=>b.value=!0)},null,8,["tiff-url"])):A(d)?(de(),ze("img",{key:1,src:A(O),style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,Wi)):(de(),ze("img",Ki))]),_:2},1040)]),default:F(({isActive:j})=>[V(Wt,{title:"Biometria"},{default:F(()=>[V(De,null,{default:F(()=>[V(ce,null,{default:F(()=>[V(rt,null,{default:F(()=>[V(er,{items:A(I),modelValue:A(S),"onUpdate:modelValue":R[1]||(R[1]=T=>bt(S)?S.value=T:null),"item-title":"label","item-value":"deviceId",label:"Selecionar Webcam"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),V(De,null,{default:F(()=>[V(ce,null,{default:F(()=>[V(Ne,{size:"large",class:"ml-5",onClick:M},{default:F(()=>R[4]||(R[4]=[Re("Exibir")])),_:1})]),_:1})]),_:1}),V(rt,null,{default:F(()=>[V(Zi,{modelValue:A(g),"onUpdate:modelValue":R[2]||(R[2]=T=>bt(g)?g.value=T:null),min:1,max:3,step:"0.1",label:"Zoom"},null,8,["modelValue"])]),_:1}),V(De,null,{default:F(()=>[V(rt,{style:{overflow:"hidden"}},{default:F(()=>[V(ce,{class:"d-flex justify-center align-center"},{default:F(()=>[Ae("video",{ref_key:"video",ref:B,width:"360",height:"300",autoplay:"",style:Lt({transform:`scale(${A(g)})`,transformOrigin:"center center"})},null,4)]),_:1})]),_:1})]),_:1}),V(De,{class:"mt-10 mb-5 ml-5"},{default:F(()=>[V(Ne,{color:"red",size:"large",onClick:E},{default:F(()=>R[5]||(R[5]=[Re("Fechar")])),_:1}),V(Ne,{color:"green",size:"large",class:"ml-5",onClick:C},{default:F(()=>R[6]||(R[6]=[Re("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Xi=""+new URL("escanearFicha.CgD8l9Wn.png",import.meta.url).href,qi={__name:"Scanner",setup(_){const B=ht(),{$toast:I}=kt(),S=`${B.public.envioDoc}`,k=`${B.public.biometria}/run-scanner`,t=Pe("pessoa_token").value;async function a(){try{await r(),await g()}catch(h){console.error("Erro ao executar scanner ou listar arquivos:",h)}}async function r(){try{const{data:h}=await vt(k,{method:"GET"},"$qlTK399Ixo")}catch(h){I.error("Erro ao acionar o scanner:",h)}}async function g(){try{const{status:h,data:v}=await vt(S,{method:"POST",body:{tipo:"ficha",token:t,cartorio_token:Pe("user-data").value.cartorio_token}},"$JkvEThvk9m")}catch(h){I.error(h),console.error("Erro ao enviar o arquivo:",h)}}return(h,v)=>(de(),ze("div",null,[Ae("img",{onClick:a,src:Xi,style:{width:"280px",height:"120px",cursor:"pointer","margin-top":"30px"}})]))}},Qi=""+new URL("imprimirFicha.BlhLZ85F.png",import.meta.url).href,en={style:{display:"flex","flex-direction":"column"}},tn={__name:"Impressao",setup(_){const B=_e(""),S=`${ht().public.managemant}/gerarRelatorioPessoa`,k=async()=>{const t=await vt(S,{method:"POST",body:{consulta:"FICHA ASSINATURA",pessoa_token:Pe("pessoa_token").value}},"$LOyFO5WGQE");B.value=t.data.value},O=async()=>{await k();const t=document.createElement("iframe");t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.style.border="none",document.body.appendChild(t);const a=t.contentWindow.document;a.open(),a.write(B.value),a.close(),t.contentWindow.focus(),t.contentWindow.print(),document.body.removeChild(t)};return(t,a)=>{const r=qi;return de(),ke(ce,{cols:"auto"},{default:F(()=>[Ae("div",en,[Ae("img",{onClick:a[0]||(a[0]=g=>O()),src:Qi,style:{width:"280px",height:"120px",cursor:"pointer"}}),V(r)])]),_:1})}}},an={__name:"Index",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],setup(_,{emit:B}){const I=Pt(),S=B,k=_,O=()=>{if(k.isModal===!0){S("close-modal");return}I.push("/pessoas/lista")};return(t,a)=>{const r=xi,g=Ji,h=tn;return de(),ze(it,null,[V(rt,null,{default:F(()=>[V(De,{class:"d-flex align-items-center"},{default:F(()=>[V(r),V(g,{class:"ml-5 mr-5"}),V(h)]),_:1})]),_:1}),V(Ne,{onClick:O,class:"mt-10",size:"large",color:"red"},{default:F(()=>a[0]||(a[0]=[Re("Voltar")])),_:1})],64)}}},rn={},nn={style:{height:"425px"}};function on(_,B){return de(),ze("div",nn,B[0]||(B[0]=[Ae("h1",null,"Restrições",-1)]))}const ln=Ya(rn,[["render",on]]),pa=Symbol.for("vuetify:v-tabs"),sn=dt({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Xa(Br({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),St=_t()({name:"VTab",props:sn(),setup(_,B){let{slots:I,attrs:S}=B;const{textColorClasses:k,textColorStyles:O}=Ka(_,"sliderColor"),t=_e(),a=_e(),r=me(()=>_.direction==="horizontal"),g=me(()=>{var v,l;return((l=(v=t.value)==null?void 0:v.group)==null?void 0:l.isSelected.value)??!1});function h(v){var f,w;let{value:l}=v;if(l){const s=(w=(f=t.value)==null?void 0:f.$el.parentElement)==null?void 0:w.querySelector(".v-tab--selected .v-tab__slider"),m=a.value;if(!s||!m)return;const u=getComputedStyle(s).color,n=s.getBoundingClientRect(),i=m.getBoundingClientRect(),d=r.value?"x":"y",b=r.value?"X":"Y",y=r.value?"right":"bottom",x=r.value?"width":"height",E=n[d],M=i[d],C=E>M?n[y]-i[y]:n[d]-i[d],N=Math.sign(C)>0?r.value?"right":"bottom":Math.sign(C)<0?r.value?"left":"top":"center",R=(Math.abs(C)+(Math.sign(C)<0?n[x]:i[x]))/Math.max(n[x],i[x])||0,P=n[x]/i[x]||0,j=1.5;Pr(m,{backgroundColor:[u,"currentcolor"],transform:[`translate${b}(${C}px) scale${b}(${P})`,`translate${b}(${C/j}px) scale${b}(${(R-1)/j+1})`,"none"],transformOrigin:Array(3).fill(N)},{duration:225,easing:Ir})}}return mt(()=>{const v=Ne.filterProps(_);return V(Ne,wt({symbol:pa,ref:t,class:["v-tab",_.class],style:_.style,tabindex:g.value?0:-1,role:"tab","aria-selected":String(g.value),active:!1},v,S,{block:_.fixed,maxWidth:_.fixed?300:void 0,"onGroup:selected":h}),{...I,default:()=>{var l;return V(it,null,[((l=I.default)==null?void 0:l.call(I))??_.text,!_.hideSlider&&V("div",{ref:a,class:["v-tab__slider",k.value],style:O.value},null)])}})}),Rr({},t)}}),un=_=>{const{touchstartX:B,touchendX:I,touchstartY:S,touchendY:k}=_,O=.5,t=16;_.offsetX=I-B,_.offsetY=k-S,Math.abs(_.offsetY)<O*Math.abs(_.offsetX)&&(_.left&&I<B-t&&_.left(_),_.right&&I>B+t&&_.right(_)),Math.abs(_.offsetX)<O*Math.abs(_.offsetY)&&(_.up&&k<S-t&&_.up(_),_.down&&k>S+t&&_.down(_))};function dn(_,B){var S;const I=_.changedTouches[0];B.touchstartX=I.clientX,B.touchstartY=I.clientY,(S=B.start)==null||S.call(B,{originalEvent:_,...B})}function cn(_,B){var S;const I=_.changedTouches[0];B.touchendX=I.clientX,B.touchendY=I.clientY,(S=B.end)==null||S.call(B,{originalEvent:_,...B}),un(B)}function fn(_,B){var S;const I=_.changedTouches[0];B.touchmoveX=I.clientX,B.touchmoveY=I.clientY,(S=B.move)==null||S.call(B,{originalEvent:_,...B})}function vn(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const B={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:_.left,right:_.right,up:_.up,down:_.down,start:_.start,move:_.move,end:_.end};return{touchstart:I=>dn(I,B),touchend:I=>cn(I,B),touchmove:I=>fn(I,B)}}function hn(_,B){var a;const I=B.value,S=I!=null&&I.parent?_.parentElement:_,k=(I==null?void 0:I.options)??{passive:!0},O=(a=B.instance)==null?void 0:a.$.uid;if(!S||!O)return;const t=vn(B.value);S._touchHandlers=S._touchHandlers??Object.create(null),S._touchHandlers[O]=t,qa(t).forEach(r=>{S.addEventListener(r,t[r],k)})}function _n(_,B){var O,t;const I=(O=B.value)!=null&&O.parent?_.parentElement:_,S=(t=B.instance)==null?void 0:t.$.uid;if(!(I!=null&&I._touchHandlers)||!S)return;const k=I._touchHandlers[S];qa(k).forEach(a=>{I.removeEventListener(a,k[a])}),delete I._touchHandlers[S]}const cr={mounted:hn,unmounted:_n},fr=Symbol.for("vuetify:v-window"),vr=Symbol.for("vuetify:v-window-group"),hr=dt({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:_=>typeof _=="boolean"||_==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Ft(),...Qa(),...zr()},"VWindow"),Ha=_t()({name:"VWindow",directives:{Touch:cr},props:hr(),emits:{"update:modelValue":_=>!0},setup(_,B){let{slots:I}=B;const{themeClasses:S}=Mr(_),{isRtl:k}=Gt(),{t:O}=Nr(),t=$r(_,vr),a=_e(),r=me(()=>k.value?!_.reverse:_.reverse),g=Mt(!1),h=me(()=>{const d=_.direction==="vertical"?"y":"x",y=(r.value?!g.value:g.value)?"-reverse":"";return`v-window-${d}${y}-transition`}),v=Mt(0),l=_e(void 0),f=me(()=>t.items.value.findIndex(d=>t.selected.value.includes(d.id)));ua(f,(d,b)=>{const y=t.items.value.length,x=y-1;y<=2?g.value=d<b:d===x&&b===0?g.value=!0:d===0&&b===x?g.value=!1:g.value=d<b}),Za(fr,{transition:h,isReversed:g,transitionCount:v,transitionHeight:l,rootRef:a});const w=me(()=>_.continuous||f.value!==0),s=me(()=>_.continuous||f.value!==t.items.value.length-1);function m(){w.value&&t.prev()}function u(){s.value&&t.next()}const n=me(()=>{const d=[],b={icon:k.value?_.nextIcon:_.prevIcon,class:`v-window__${r.value?"right":"left"}`,onClick:t.prev,"aria-label":O("$vuetify.carousel.prev")};d.push(w.value?I.prev?I.prev({props:b}):V(Ne,b,null):V("div",null,null));const y={icon:k.value?_.prevIcon:_.nextIcon,class:`v-window__${r.value?"left":"right"}`,onClick:t.next,"aria-label":O("$vuetify.carousel.next")};return d.push(s.value?I.next?I.next({props:y}):V(Ne,y,null):V("div",null,null)),d}),i=me(()=>_.touch===!1?_.touch:{...{left:()=>{r.value?m():u()},right:()=>{r.value?u():m()},start:b=>{let{originalEvent:y}=b;y.stopPropagation()}},..._.touch===!0?{}:_.touch});return mt(()=>ut(V(_.tag,{ref:a,class:["v-window",{"v-window--show-arrows-on-hover":_.showArrows==="hover"},S.value,_.class],style:_.style},{default:()=>{var d,b;return[V("div",{class:"v-window__container",style:{height:l.value}},[(d=I.default)==null?void 0:d.call(I,{group:t}),_.showArrows!==!1&&V("div",{class:"v-window__controls"},[n.value])]),(b=I.additional)==null?void 0:b.call(I,{group:t})]}}),[[Nt("touch"),i.value]])),{group:t}}}),mn=dt({...Xa(hr(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),_r=_t()({name:"VTabsWindow",props:mn(),emits:{"update:modelValue":_=>!0},setup(_,B){let{slots:I}=B;const S=Yt(pa,null),k=da(_,"modelValue"),O=me({get(){var t;return k.value!=null||!S?k.value:(t=S.items.value.find(a=>S.selected.value.includes(a.id)))==null?void 0:t.value},set(t){k.value=t}});return mt(()=>{const t=Ha.filterProps(_);return V(Ha,wt({_as:"VTabsWindow"},t,{modelValue:O.value,"onUpdate:modelValue":a=>O.value=a,class:["v-tabs-window",_.class],style:_.style,mandatory:!1,touch:!1}),I)}),{}}}),mr=dt({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Ft(),...Or(),...Lr()},"VWindowItem"),ja=_t()({name:"VWindowItem",directives:{Touch:cr},props:mr(),emits:{"group:selected":_=>!0},setup(_,B){let{slots:I}=B;const S=Yt(fr),k=Tr(_,vr),{isBooted:O}=Jr();if(!S||!k)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const t=Mt(!1),a=me(()=>O.value&&(S.isReversed.value?_.reverseTransition!==!1:_.transition!==!1));function r(){!t.value||!S||(t.value=!1,S.transitionCount.value>0&&(S.transitionCount.value-=1,S.transitionCount.value===0&&(S.transitionHeight.value=void 0)))}function g(){var w;t.value||!S||(t.value=!0,S.transitionCount.value===0&&(S.transitionHeight.value=lt((w=S.rootRef.value)==null?void 0:w.clientHeight)),S.transitionCount.value+=1)}function h(){r()}function v(w){t.value&&jr(()=>{!a.value||!t.value||!S||(S.transitionHeight.value=lt(w.clientHeight))})}const l=me(()=>{const w=S.isReversed.value?_.reverseTransition:_.transition;return a.value?{name:typeof w!="string"?S.transition.value:w,onBeforeEnter:g,onAfterEnter:r,onEnterCancelled:h,onBeforeLeave:g,onAfterLeave:r,onLeaveCancelled:h,onEnter:v}:!1}),{hasContent:f}=Ur(_,k.isSelected);return mt(()=>V(Hr,{transition:l.value,disabled:!O.value},{default:()=>{var w;return[ut(V("div",{class:["v-window-item",k.selectedClass.value,_.class],style:_.style},[f.value&&((w=I.default)==null?void 0:w.call(I))]),[[Ja,k.isSelected.value]])]}})),{groupItem:k}}}),pn=dt({...mr()},"VTabsWindowItem"),Vt=_t()({name:"VTabsWindowItem",props:pn(),setup(_,B){let{slots:I}=B;return mt(()=>{const S=ja.filterProps(_);return V(ja,wt({_as:"VTabsWindowItem"},S,{class:["v-tabs-window-item",_.class],style:_.style}),I)}),{}}});function gn(_){return _?_.map(B=>Wr(B)?B:{text:B,value:B}):[]}const bn=dt({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Kr({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Gr(),...Qa()},"VTabs"),wn=_t()({name:"VTabs",props:bn(),emits:{"update:modelValue":_=>!0},setup(_,B){let{attrs:I,slots:S}=B;const k=da(_,"modelValue"),O=me(()=>gn(_.items)),{densityClasses:t}=Fr(_),{backgroundColorClasses:a,backgroundColorStyles:r}=sa(je(_,"bgColor")),{scopeId:g}=Yr();return Zr({VTab:{color:je(_,"color"),direction:je(_,"direction"),stacked:je(_,"stacked"),fixed:je(_,"fixedTabs"),sliderColor:je(_,"sliderColor"),hideSlider:je(_,"hideSlider")}}),mt(()=>{const h=ya.filterProps(_),v=!!(S.window||_.items.length>0);return V(it,null,[V(ya,wt(h,{modelValue:k.value,"onUpdate:modelValue":l=>k.value=l,class:["v-tabs",`v-tabs--${_.direction}`,`v-tabs--align-tabs-${_.alignTabs}`,{"v-tabs--fixed-tabs":_.fixedTabs,"v-tabs--grow":_.grow,"v-tabs--stacked":_.stacked},t.value,a.value,_.class],style:[{"--v-tabs-height":lt(_.height)},r.value,_.style],role:"tablist",symbol:pa},g,I),{default:()=>{var l;return[((l=S.default)==null?void 0:l.call(S))??O.value.map(f=>{var w;return((w=S.tab)==null?void 0:w.call(S,{item:f}))??V(St,wt(f,{key:f.text,value:f.value}),{default:S[`tab.${f.value}`]?()=>{var s;return(s=S[`tab.${f.value}`])==null?void 0:s.call(S,{item:f})}:void 0})})]}}),v&&V(_r,wt({modelValue:k.value,"onUpdate:modelValue":l=>k.value=l,key:"tabs-window"},g),{default:()=>{var l;return[O.value.map(f=>{var w;return((w=S.item)==null?void 0:w.call(S,{item:f}))??V(Vt,{value:f.value},{default:()=>{var s;return(s=S[`item.${f.value}`])==null?void 0:s.call(S,{item:f})}})}),(l=S.window)==null?void 0:l.call(S)]}})])}),{}}}),kn={style:{"background-color":"#f5f2f2",padding:"5px 0px 0px 20px"}},yn={__name:"RegistroPessoas",props:{show:Boolean},emits:["close"],setup(_,{emit:B}){const I=_,S=_e(I.show),k=B,O=_e("dados"),t=_e(!1),a=_e(!1),r=_e(!1),g=It({tipo_pessoa:"fisica"}),h=[{label:"FÍSICA",value:"FISICA"},{label:"JURÍDICA",value:"JURIDICA"},{label:"ESTRANGEIRA",value:"ESTRANGEIRA"}],v=()=>{t.value=!0,r.value=!0},l=()=>{a.value=!0,r.value=!0};ua(()=>I.show,w=>{S.value=w});const f=()=>{S.value=!1,k("close")};return(w,s)=>{const m=Qr,u=ti,n=oi,i=di,d=gi,b=an,y=ln;return de(),ke(Zt,{persistent:"",modelValue:A(S),"onUpdate:modelValue":s[3]||(s[3]=x=>bt(S)?S.value=x:null),"max-width":"900"},{default:F(()=>[V(Wt,null,{default:F(()=>[V(rt,null,{default:F(()=>[s[10]||(s[10]=Ae("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Cadastramento de pessoas ",-1)),Ae("div",kn,[V(Je,{modelValue:A(g).tipo_pessoa,"onUpdate:modelValue":s[0]||(s[0]=x=>A(g).tipo_pessoa=x),style:{width:"200px"},items:h,"item-title":"label","item-value":"value",label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:A(r)},null,8,["modelValue","disabled"])]),V(wn,{modelValue:A(O),"onUpdate:modelValue":s[1]||(s[1]=x=>bt(O)?O.value=x:null),"bg-color":"#f5f2f2"},{default:F(()=>[V(St,{value:"dados"},{default:F(()=>s[4]||(s[4]=[Re("Dados")])),_:1}),A(t)?(de(),ke(St,{key:0,value:"documento"},{default:F(()=>s[5]||(s[5]=[Re("Documentos")])),_:1})):He("",!0),A(a)?(de(),ke(St,{key:1,value:"representante"},{default:F(()=>s[6]||(s[6]=[Re("Representantes")])),_:1})):He("",!0),A(a)||A(t)?(de(),ke(St,{key:2,value:"endereco"},{default:F(()=>s[7]||(s[7]=[Re("Endereços")])),_:1})):He("",!0),A(t)?(de(),ke(St,{key:3,value:"biometria"},{default:F(()=>s[8]||(s[8]=[Re("Biometria")])),_:1})):He("",!0),A(a)||A(t)?(de(),ke(St,{key:4,value:"restricao"},{default:F(()=>s[9]||(s[9]=[Re("Restrições")])),_:1})):He("",!0)]),_:1},8,["modelValue"]),V(_r,{modelValue:A(O),"onUpdate:modelValue":s[2]||(s[2]=x=>bt(O)?O.value=x:null)},{default:F(()=>[V(Vt,{value:"dados"},{default:F(()=>[A(g).tipo_pessoa==="fisica"?(de(),ke(m,{key:0,onSaved:v,onCloseModal:f,isModal:!0})):A(g).tipo_pessoa==="juridica"?(de(),ke(u,{key:1,onSaved:l,onCloseModal:f,isModal:!0})):He("",!0)]),_:1}),w.showTabs?(de(),ke(Vt,{key:0,value:"documento"},{default:F(()=>[V(n,{onCloseModal:f,isModal:!0})]),_:1})):He("",!0),A(a)?(de(),ke(Vt,{key:1,value:"representante"},{default:F(()=>[V(i,{onCloseModal:f,isModal:!0})]),_:1})):He("",!0),A(a)||A(t)?(de(),ke(Vt,{key:2,value:"endereco"},{default:F(()=>[V(d,{onCloseModal:f,isModal:!0})]),_:1})):He("",!0),w.showTabs?(de(),ke(Vt,{key:3,value:"biometria"},{default:F(()=>[V(rt,null,{default:F(()=>[V(b,{onCloseModal:f,isModal:!0})]),_:1})]),_:1})):He("",!0),w.showTabs?(de(),ke(Vt,{key:4,value:"restricao"},{default:F(()=>[V(y,{onCloseModal:f,isModal:!0})]),_:1})):He("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{wn as V,yn as _,St as a,_r as b,Vt as c,Mi as d,Zi as e,ti as f,oi as g,di as h,gi as i,an as j,ln as k,Qr as l};
