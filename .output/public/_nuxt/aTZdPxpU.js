import{_ as P}from"./5U5WrFi4.js";import{_ as R,n as A,r as y,B,S,x as u,o as _,v as T,w as i,I as U,z as E,b as a,a as o,V as v,D as g,c as V,C as F,p as J,e as j}from"./ROS-x8Zp.js";import{a as G,u as X}from"./DSY8y1MM.js";import{_ as q,c as H,a as K,b as M}from"./CAvNGR-6.js";import{_ as O}from"./d8YYmnXu.js";import{V as Q}from"./VSU0usK_.js";import{V as w}from"./DiYZvNkl.js";const m=n=>(J("data-v-a73331dd"),n=n(),j(),n),W=m(()=>o("img",{class:"btn-pointer",src:q,alt:"Cadastro"},null,-1)),Y={style:{width:"200px"}},Z={style:{width:"300px"}},ee=["onClick"],te=m(()=>o("img",{style:{width:"30px",height:"30px"},src:O,alt:"Visualizar"},null,-1)),se=[te],oe=["onClick"],ae=m(()=>o("img",{style:{width:"30px",height:"30px"},src:H,alt:"Atualizar"},null,-1)),ie=[ae],ne=["onClick"],le={key:0,style:{width:"30px",height:"30px"},src:K,alt:"Visualizar",title:"Reativar"},ce={key:1,src:M,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},de={__name:"index",async setup(n){let l,h;const f=E(),C=`${f.public.managemant}/getAllPessoa`,b=`${f.public.managemant}/updatePessoa`,x=A(),c=y(""),d=y(""),k=[{title:"Documento",value:"doc_identificacao"},{title:"Nome/RazÃ£o Social",value:"nome"},{value:"actions"}],{data:$,pending:z}=([l,h]=B(()=>G(C,"$Jxa9V4cJXG")),l=await l,h(),l),D=S(()=>$.value.filter(e=>{const s=e.doc_identificacao?e.doc_identificacao.toLowerCase():"",p=e.nome?e.nome.toLowerCase():"",t=s.includes(d.value.toLowerCase()),r=p.includes(c.value.toLowerCase());return t&&r}));async function I(e){e.excluido=!e.excluido;try{await X(`${b}/${e.id}`,{method:"PUT",body:{excluido:e.excluido}},"$yehyeyA3ii")}catch(s){console.error("Erro ao excluir pessoa:",s)}}function L(e){x.push({path:`/pessoas/vizualizar/${e}`})}function N(e){x.push({path:`/pessoas/atualizar/${e}`})}return(e,s)=>{const p=P;return u(z)?U("",!0):(_(),T(Q,{key:0,class:"mt-5"},{default:i(()=>[a(p,{to:"/pessoas/cadastro"},{default:i(()=>[W]),_:1}),a(w,{style:{gap:"10rem"}},{default:i(()=>[o("div",Y,[a(v,{class:"mt-7 mb-4",modelValue:u(d),"onUpdate:modelValue":s[0]||(s[0]=t=>g(d)?d.value=t:null),label:"Documento","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),o("div",Z,[a(v,{class:"mt-7 mb-4",modelValue:u(c),"onUpdate:modelValue":s[1]||(s[1]=t=>g(c)?c.value=t:null),label:"Pessoa","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])])]),_:1}),a(F,{density:"compact",headers:k,items:u(D),"item-key":"id"},{"item.actions":i(({item:t})=>[a(w,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:i(()=>[o("div",{class:"btn-pointer",onClick:r=>L(t.id),title:"Visualizar"},se,8,ee),o("div",{class:"btn-pointer",onClick:r=>N(t.id),title:"Atualizar"},ie,8,oe),o("div",{class:"btn-pointer",onClick:r=>I(t),title:"Deletar"},[t.excluido?(_(),V("img",le)):(_(),V("img",ce))],8,ne)]),_:2},1024)]),_:1},8,["items"])]),_:1}))}}},xe=R(de,[["__scopeId","data-v-a73331dd"]]);export{xe as default};
