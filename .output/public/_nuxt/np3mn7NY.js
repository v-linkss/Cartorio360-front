import{_ as I}from"./C9IsX22s.js";import{R as M,r as _,n as v,u as L,H as p,L as G,y as J,w as e,A as X,o as K,a as Q,b as o,x as l,V as w,I as j,d as h,J as W,N as Y}from"./DwiyjMKx.js";import{u as c}from"./DBOwjdtA.js";import{V as Z}from"./kW9N5Jw_.js";import{V as r}from"./LtqheudH.js";import{V as n}from"./D6yXW1UL.js";import{V as f}from"./DKQT_MXB.js";import{V as oo}from"./B_FFhzD3.js";import{V as ao}from"./CQp_fiSX.js";import"./C150Qoyr.js";import"./DbRHsPyq.js";import"./CYpUbJZR.js";import"./Bjvp4bXd.js";import"./BsMgoInF.js";const bo={__name:"[id]",async setup(to){let s,u;const m=X(),C=`${m.public.managemant}/tipo-atos`,S=`${m.public.managemant}/tipo-atos`,U=`${m.public.managemant}/listar_tipo_atos_tj`,k=`${m.public.managemant}/listar_tipo_atos`,D=`${m.public.managemant}/listar_livros`,E=M(),{id:V}=E.params,a=_({pai_id:null,ato_tipo_tj_id:null,descricao:null,livro_id:null,usa_imoveis:!1,qtd_limite_folhas:0,vlr_adicional_folhas:0,texto_padrao_etiqueta:null}),b=_([]),q=_([]),T=_([]),x=_(v("user-data").value||{}),O=_(v("user-data").value.cartorio_id||null),y=_(v("user-data").value.cartorio_token)||null,{$toast:g}=L();async function A(){try{const{data:i}=await c(`${S}/${V}`,{method:"GET"},"$a1pqXxCHnm");i.value&&(a.value={pai_id:i.value.pai_id,ato_tipo_tj_id:i.value.ato_tipo_tj_id,descricao:i.value.descricao,livro_id:i.value.livro_id,usa_imoveis:i.value.usa_imoveis,qtd_limite_folhas:i.value.qtd_limite_folhas,vlr_adicional_folhas:i.value.vlr_adicional_folhas,texto_padrao_etiqueta:i.value.texto_padrao_etiqueta})}catch(i){console.error("Erro ao carregar os dados do tipo de ato:",i)}}[s,u]=p(()=>A()),await s,u();const P={cartorio_token:y.value,tipo:"SERVIÇO"},{data:R}=([s,u]=p(()=>c(`${k}`,{method:"POST",body:P},"$6Hf5yCDh5z")),s=await s,u(),s);b.value=R.value;const $={cartorio_token:y.value},{data:z}=([s,u]=p(()=>c(U,{method:"POST",body:$},"$cDTObqJ4KT")),s=await s,u(),s);q.value=z.value;const{data:F}=([s,u]=p(()=>c(D,{method:"POST",body:$},"$AtblwnOroM")),s=await s,u(),s);T.value=F.value,[s,u]=p(()=>A()),await s,u();async function N(){try{const i={pai_id:a.value.pai_id,ato_tipo_tj_id:a.value.ato_tipo_tj_id,descricao:a.value.descricao,livro_id:a.value.livro_id,usa_imoveis:a.value.usa_imoveis,qtd_limite_folhas:a.value.qtd_limite_folhas,vlr_adicional_folhas:a.value.vlr_adicional_folhas,texto_padrao_etiqueta:a.value.texto_padrao_etiqueta,user_id:x.value.usuario_id,user_alteracao_id:x.value.usuario_id,cartorio_id:O.value,tabvalores_tipotelaato_id:1};await c(`${C}/${V}`,{method:"PUT",body:i},"$thRDX9GOoW"),g.success("Tipo de ato atualizado com sucesso"),Y("/tipoAtos/lista")}catch(i){console.error("Erro ao atualizar o tipo ato:",i),g.error(i.message||"Erro ao cadastrar tipo de ato")}}return(i,t)=>{const B=I,H=G("v-text-fild");return K(),J(Z,null,{default:e(()=>[t[10]||(t[10]=Q("h1",{class:"mb-5"},"Edição de Tipo Ato",-1)),o(ao,{onSubmit:W(N,["prevent"])},{default:e(()=>[o(r,null,{default:e(()=>[o(n,{cols:"6"},{default:e(()=>[o(f,{modelValue:l(a).pai_id,"onUpdate:modelValue":t[0]||(t[0]=d=>l(a).pai_id=d),items:l(b),"item-title":"descricao","item-value":"id",label:"Serviço",required:"",outlined:""},null,8,["modelValue","items"])]),_:1})]),_:1}),o(r,null,{default:e(()=>[o(n,{cols:"6"},{default:e(()=>[o(f,{class:"mr-5",modelValue:l(a).ato_tipo_tj_id,"onUpdate:modelValue":t[1]||(t[1]=d=>l(a).ato_tipo_tj_id=d),items:l(q),"item-title":"descricao","item-value":"id",label:"Ato tj",required:"",outlined:""},null,8,["modelValue","items"])]),_:1})]),_:1}),o(r,null,{default:e(()=>[o(n,{cols:"6"},{default:e(()=>[o(w,{modelValue:l(a).descricao,"onUpdate:modelValue":t[2]||(t[2]=d=>l(a).descricao=d),label:"Descrição",required:"",outlined:""},null,8,["modelValue"])]),_:1})]),_:1}),o(r,null,{default:e(()=>[o(n,{cols:"6"},{default:e(()=>[o(f,{modelValue:l(a).livro_id,"onUpdate:modelValue":t[3]||(t[3]=d=>l(a).livro_id=d),items:l(T),"item-title":"descricao","item-value":"id",label:"Livro",required:"",outlined:""},null,8,["modelValue","items"])]),_:1})]),_:1}),o(r,null,{default:e(()=>[o(n,{cols:"6"},{default:e(()=>[o(oo,{modelValue:l(a).usa_imoveis,"onUpdate:modelValue":t[4]||(t[4]=d=>l(a).usa_imoveis=d),label:"Usa Imóveis"},null,8,["modelValue"])]),_:1})]),_:1}),o(r,null,{default:e(()=>[o(n,{cols:"6"},{default:e(()=>[o(w,{modelValue:l(a).qtd_limite_folhas,"onUpdate:modelValue":t[5]||(t[5]=d=>l(a).qtd_limite_folhas=d),modelModifiers:{number:!0},type:"number",label:"Quantidade Limite de Folhas",required:"",outlined:""},null,8,["modelValue"])]),_:1})]),_:1}),o(r,null,{default:e(()=>[o(n,{cols:"6"},{default:e(()=>[o(B,{required:"",modelValue:l(a).vlr_adicional_folhas,"onUpdate:modelValue":t[6]||(t[6]=d=>l(a).vlr_adicional_folhas=d),label:"Valor Adicional por Folha"},null,8,["modelValue"])]),_:1})]),_:1}),o(r,null,{default:e(()=>[o(n,{cols:"6"},{default:e(()=>[o(H,{modelValue:l(a).texto_padrao_etiqueta,"onUpdate:modelValue":t[7]||(t[7]=d=>l(a).texto_padrao_etiqueta=d),label:"Texto Padrão da Etiqueta",outlined:""},null,8,["modelValue"])]),_:1})]),_:1}),o(r,null,{default:e(()=>[o(n,null,{default:e(()=>[o(j,{size:"large",color:"red",to:"/tiposSelos/lista"},{default:e(()=>t[8]||(t[8]=[h("Voltar")])),_:1}),o(j,{type:"submit",class:"ml-4",size:"large",color:"green"},{default:e(()=>t[9]||(t[9]=[h("Salvar")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{bo as default};
