import{c as j,r as J,u as xe}from"./b9RSr7Gq.js";import{c as He}from"./DBP6xXsa.js";import{C as $e,u as we,m as oe,r as D,D as ke,I as Ie,Q as Ve,o as T,c as ce,v as o,G as R,M as Xe,t as fe,K as ge,w as u,b as a,V as $,R as Z,A as q,d as ae,F as me,s as Pe,H as Ye,p as O,a as L,x as qe,J as De,c2 as se,cy as Ee,cz as Le,c5 as ne,cr as Ge,c9 as ie,O as le,cf as je,cA as Je,cB as Ke,cC as Te,co as Se,cD as Be,cE as Qe,cF as Ze,cm as eo,cG as oo,cH as ao,br as pe,g as to,L as lo,aR as Ue,c7 as Me,cI as so,cJ as no,cK as io,cL as ro,bT as uo,cM as co,ch as be,E as mo,cN as vo,cO as fo,cv as go,by as G,cP as po,cQ as bo,cR as Vo}from"./Cokzuwzt.js";import{a as We,V as Y}from"./B-VM5pXc.js";import{$ as K,f as te}from"./BJWjZbqh.js";import{V as _}from"./Bs6SOBv7.js";import{V as yo,m as _o,a as _e}from"./D663BEgi.js";import{V as Q}from"./DLR9R274.js";import{V as Re}from"./D1UEJG3p.js";import{_ as ho,a as Co,b as xo}from"./BP1uhy__.js";import{_ as $o}from"./Cc5qRDao.js";import{V as wo}from"./CZMmUZrJ.js";import{V as ko,a as Io,b as Po,c as Eo,d as To}from"./BsdYkLvL.js";import{u as So}from"./CitRsHXM.js";const Bo={key:1},ga={__name:"Dados",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],async setup(e,{emit:i}){let s,t;const g=e,b=i,r=$e(),{$toast:V}=we(),p=Pe(),I=`${p.public.auth}/service/gerencia/createPessoa`,M=`${p.public.auth}/service/gerencia/updatePessoa`,W=`${p.public.auth}/service/gerencia/listarEstadoCivil`,h=`${p.public.auth}/service/gerencia/listarCapacidadeCivil`,C=`${p.public.auth}/service/gerencia/listarCidades`,y=`${p.public.auth}/service/gerencia/listarSexo`,B={nome:null,nome_pai:null,nome_mae:null,profissao:null,local_trabalho:null,data_nascimento:null,doc_identificacao:null,cpf_pai:null,cpf_mae:null,tipo_pessoa:"FISICA",tabvalores_estadocivil_id:null,tabvalores_capacidadecivil_id:null,tabvalores_sexo_id:null,cidade_natural_id:null,cartorio_id:oe("user-data").value.cartorio_id,user_id:oe("user-data").value.usuario_id},A=D(!1),m=oe("pessoa-id"),c=ke({...B});function w(E){if(E)return E.replace(/[.\-]/g,"");E=null}const{data:d,status:x,pending:U,error:z}=([s,t]=Ie(async()=>We("cliente-dados",async()=>{const[E,v,F,f]=await Promise.all([K(W),K(h),K(C),K(y)]);return{estadoCivilItems:E,capacidadeCivilItems:v,cidadeNascimentoItems:F,sexoItems:f}})),s=await s,t(),s),S={nome:{required:j.withMessage("O campo é obrigatorio",J)},nome_mae:{required:j.withMessage("O campo é obrigatorio",J)},doc_identificacao:{required:j.withMessage("O campo é obrigatorio",J),cpf:He}},P=xe(S,c);async function H(){if(await P.value.$validate()){const E={...c};for(const X in E)E[X]===""&&(E[X]=null);const v={...E,doc_identificacao:w(c.doc_identificacao),cpf_pai:w(c.cpf_pai),cpf_mae:w(c.cpf_mae)},{data:F,error:f,status:de}=await te(I,{method:"POST",body:v});if(de.value==="error"&&f.value.statusCode===500)V.error("Erro ao cadastrar pessoa,o CPF já está cadastrado.");else{V.success("Pessoa cadastrada com sucesso!");const X=F.value.id;m.value=X;const k=oe("pessoa_token");k.value=F.value.token,A.value=!0,b("saved")}}else V.error("Erro ao cadastrar pessoa, preencha os campos obrigatorios.")}async function re(){const E={...c};for(const X in E)E[X]===""&&(E[X]=null);const v={...E,doc_identificacao:w(c.doc_identificacao),cpf_mae:w(c.cpf_mae)},{data:F,error:f,status:de}=await te(`${M}/${m.value}`,{method:"PUT",body:v});if(de.value==="success"){if(g.isModal===!0){V.success("Pessoa atualizada com sucesso!"),b("close-modal");return}V.success("Pessoa atualizada com sucesso!"),r.push("/pessoas/lista")}}const ee=()=>{if(g.isModal===!0){b("close-modal");return}r.push("/pessoas/lista")};return(E,v)=>{const F=Ve("mask");return T(),ce(me,null,[o(U)?(T(),R(Xe,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):o(z)?(T(),ce("div",Bo,fe(o(z).message),1)):ge("",!0),o(U)?ge("",!0):(T(),R(Re,{key:2},{default:u(()=>[a(Y,null,{default:u(()=>[a(_,{md:"6"},{default:u(()=>[a($,{modelValue:o(c).nome,"onUpdate:modelValue":v[0]||(v[0]=f=>o(c).nome=f),"error-messages":o(P).nome.$errors.map(f=>f.$message),label:"Nome",required:"",onBlur:o(P).nome.$touch,onInput:o(P).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),a(_,{md:"4"},{default:u(()=>[Z(a($,{modelValue:o(c).doc_identificacao,"onUpdate:modelValue":v[1]||(v[1]=f=>o(c).doc_identificacao=f),"error-messages":o(P).doc_identificacao.$errors.map(f=>f.$message),label:"CPF",required:"",onBlur:o(P).doc_identificacao.$touch,onInput:o(P).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[F,"###.###.###-##"]])]),_:1}),a(_,{md:"2"},{default:u(()=>[a(yo,{label:"Sexo",modelValue:o(c).tabvalores_sexo_id,"onUpdate:modelValue":v[2]||(v[2]=f=>o(c).tabvalores_sexo_id=f),items:o(d).sexoItems,"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),a(Y,null,{default:u(()=>[a(_,{md:"4"},{default:u(()=>[a(Q,{modelValue:o(c).tabvalores_estadocivil_id,"onUpdate:modelValue":v[3]||(v[3]=f=>o(c).tabvalores_estadocivil_id=f),items:o(d).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),a(_,{md:"4"},{default:u(()=>[a($,{modelValue:o(c).profissao,"onUpdate:modelValue":v[4]||(v[4]=f=>o(c).profissao=f),label:"Profissão"},null,8,["modelValue"])]),_:1}),a(_,{md:"4"},{default:u(()=>[a($,{modelValue:o(c).local_trabalho,"onUpdate:modelValue":v[5]||(v[5]=f=>o(c).local_trabalho=f),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),a(Y,null,{default:u(()=>[a(_,{md:"4"},{default:u(()=>[a($,{modelValue:o(c).data_nascimento,"onUpdate:modelValue":v[6]||(v[6]=f=>o(c).data_nascimento=f),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),a(_,{md:"4"},{default:u(()=>[a(Q,{modelValue:o(c).tabvalores_capacidadecivil_id,"onUpdate:modelValue":v[7]||(v[7]=f=>o(c).tabvalores_capacidadecivil_id=f),items:o(d).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),a(_,{md:"4"},{default:u(()=>[a(Q,{modelValue:o(c).cidade_natural_id,"onUpdate:modelValue":v[8]||(v[8]=f=>o(c).cidade_natural_id=f),items:o(d).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),a(Y,null,{default:u(()=>[a(_,{md:"4"},{default:u(()=>[Z(a($,{modelValue:o(c).cpf_pai,"onUpdate:modelValue":v[9]||(v[9]=f=>o(c).cpf_pai=f),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[F,"###.###.###-##"]])]),_:1}),a(_,{md:"4"},{default:u(()=>[a($,{modelValue:o(c).nome_pai,"onUpdate:modelValue":v[10]||(v[10]=f=>o(c).nome_pai=f),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),a(Y,null,{default:u(()=>[a(_,{md:"4"},{default:u(()=>[Z(a($,{modelValue:o(c).cpf_mae,"onUpdate:modelValue":v[11]||(v[11]=f=>o(c).cpf_mae=f),modelModifiers:{date:!0},label:"CPF da Mãe"},null,8,["modelValue"]),[[F,"###.###.###-##"]])]),_:1}),a(_,{md:"4"},{default:u(()=>[a($,{modelValue:o(c).nome_mae,"onUpdate:modelValue":v[12]||(v[12]=f=>o(c).nome_mae=f),modelModifiers:{date:!0},"error-messages":o(P).nome_mae.$errors.map(f=>f.$message),label:"Nome da Mãe",required:"",onBlur:o(P).nome_mae.$touch,onInput:o(P).nome_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),a(Y,{class:"mb-3"},{default:u(()=>[a(q,{onClick:ee,size:"large",color:"red"},{default:u(()=>v[14]||(v[14]=[ae("Voltar")])),_:1}),a(q,{onClick:v[13]||(v[13]=f=>o(A)?re():H()),class:"ml-4",size:"large",color:"green"},{default:u(()=>v[15]||(v[15]=[ae("Salvar")])),_:1})]),_:1})]),_:1}))],64)}}},Uo={class:"mt-1"},Mo={style:{width:"150px","font-weight":"500"}},Wo={style:{width:"200px","font-weight":"500"}},Ro=["onClick"],zo=["onClick"],Fo={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:Co,alt:"Visualizar",title:"Reativar"},Oo={key:1,src:xo,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},pa={__name:"Endereco",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(e,{emit:i}){let s,t;const g=i,b=e,{$toast:r}=we(),V=Ye(),{id:p}=V.params,I=$e(),M=Pe(),W=`${M.public.auth}/service/gerencia/listarPais`,h=`${M.public.auth}/service/gerencia/getPessoaEnderecoById`,C=`${M.public.auth}/service/gerencia/createPessoaEndereco`,y=`${M.public.auth}/service/gerencia/updatePessoaEndereco`,B=D(oe("user-data").value.usuario_id).value,A=Number(p||oe("pessoa-id").value),m=ke({tabvalores_pais_id:null,cidade_id:null,codcep:null,logradouro:null,numero:null,bairro:null,complemento:null,cidade_estrangeira:null}),c=[{title:"País",value:"pais.descricao"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro"},{title:"N*",value:"numero"},{title:"Complemento",value:"complemento"},{title:"Bairro",value:"bairro"},{title:"Cidade",value:"cidade"},{value:"actions"}],w=D(!1),d=D(null),x=O(()=>{const k=P.value.paisItems.find(l=>l.id===m.tabvalores_pais_id);return k?k.estrangeiro:!1}),U=k=>{var l;return((l=k.cidades)==null?void 0:l.nome)||k.cidade_estrangeira},z={numero:{required:j.withMessage("O campo é obrigatorio",J)},bairro:{required:j.withMessage("O campo é obrigatorio",J)},logradouro:{required:j.withMessage("O campo é obrigatorio",J)},codcep:{required:j.withMessage("O campo é obrigatorio e precisa de 8 digitos",J)}},S=xe(z,m),{data:P,status:H,pending:re,refresh:ee}=([s,t]=Ie(async()=>We("cliente-enderecos",async()=>{const[k,l,N]=await Promise.all([K(W),K(`${h}/${A}`),K(`${M.public.auth}/service/gerencia/listarCidades`)]);return{paisItems:k,enderecosItems:l,cidadesItems:N}})),s=await s,t(),s);async function E(){if(await S.value.$validate()){const l={...{...m},user_id:B,pessoa_id:A},{data:N,error:n,status:ue}=await te(C,{method:"POST",body:l});if(ue.value==="error"&&n.value.statusCode===500)r.error("Erro ao cadastrar endereço,erro no sistema.");else{r.success("Endereço cadastrado com sucesso!"),ee();for(const ve in m)m[ve]=null;S.value.$reset()}}else r.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}async function v(){if(!m.cidade_estrangeira||!m.logradouro){r.error("Os Campos Cidade Estrangeira e Endereço são obrigatorios!");return}const l={...{...m},user_id:B,pessoa_id:A},{data:N,error:n,status:ue}=await te(C,{method:"POST",body:l});if(ue.value==="error"&&n.value.statusCode===500)r.error("Erro ao cadastrar endereço,erro no sistema.");else{r.success("Endereço cadastrado com sucesso!"),ee();for(const ve in m)m[ve]=null;S.value.$reset()}}function F(k){const l=P.value.enderecosItems.find(N=>N.id===k);l&&(d.value=l,w.value=!0)}async function f(k){const l={tabvalores_pais_id:d.value.tabvalores_pais_id,cidade_id:d.value.cidade_id,codcep:d.value.codcep,logradouro:d.value.logradouro,numero:d.value.numero,bairro:d.value.bairro,complemento:d.value.complemento},{status:N}=await te(`${y}/${k}`,{method:"PUT",body:l});N.value==="success"&&(w.value=!1,r.success("Endereço atualizado com sucesso!"),ee())}async function de(k){k.excluido=!k.excluido;try{await te(`${y}/${k.id}`,{method:"PUT",body:{excluido:k.excluido}})}catch(l){console.error("Erro ao excluir pessoa:",l)}}const X=()=>{if(b.isModal===!0){g("close-modal");return}I.push("/pessoas/lista")};return(k,l)=>{const N=Ve("mask");return T(),ce(me,null,[o(re)?ge("",!0):(T(),R(Re,{key:0,class:"mt-3",style:{height:"425px"}},{default:u(()=>[a(Y,null,{default:u(()=>[a(_,{md:"2"},{default:u(()=>[a(Q,{modelValue:o(m).tabvalores_pais_id,"onUpdate:modelValue":l[0]||(l[0]=n=>o(m).tabvalores_pais_id=n),items:o(P).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),a(_,{md:"2"},{default:u(()=>[o(x)?Z((T(),R($,{key:1,modelValue:o(m).codcep,"onUpdate:modelValue":l[2]||(l[2]=n=>o(m).codcep=n),label:"CEP"},null,8,["modelValue"])),[[N,"########"]]):Z((T(),R($,{key:0,modelValue:o(m).codcep,"onUpdate:modelValue":l[1]||(l[1]=n=>o(m).codcep=n),"error-messages":o(S).codcep.$errors.map(n=>n.$message),required:"",onBlur:o(S).codcep.$touch,onInput:o(S).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"])),[[N,"########"]])]),_:1}),a(_,{md:"6"},{default:u(()=>[o(x)?(T(),R($,{key:1,modelValue:o(m).logradouro,"onUpdate:modelValue":l[4]||(l[4]=n=>o(m).logradouro=n),label:"Endereço"},null,8,["modelValue"])):(T(),R($,{key:0,modelValue:o(m).logradouro,"onUpdate:modelValue":l[3]||(l[3]=n=>o(m).logradouro=n),label:"Endereço","error-messages":o(S).logradouro.$errors.map(n=>n.$message),required:"",onBlur:o(S).logradouro.$touch,onInput:o(S).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),a(_,{md:"1"},{default:u(()=>[o(x)?(T(),R($,{key:1,modelValue:o(m).numero,"onUpdate:modelValue":l[6]||(l[6]=n=>o(m).numero=n),label:"N*"},null,8,["modelValue"])):(T(),R($,{key:0,modelValue:o(m).numero,"onUpdate:modelValue":l[5]||(l[5]=n=>o(m).numero=n),required:"","error-messages":o(S).numero.$errors.map(n=>n.$message),onBlur:o(S).numero.$touch,onInput:o(S).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),L("div",Uo,[L("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:ho,alt:"novo",onClick:l[7]||(l[7]=n=>o(x)?v():E())})]),a(_,{md:"5"},{default:u(()=>[a($,{modelValue:o(m).complemento,"onUpdate:modelValue":l[8]||(l[8]=n=>o(m).complemento=n),label:"Complemento"},null,8,["modelValue"])]),_:1}),a(_,{md:"3"},{default:u(()=>[o(x)?(T(),R($,{key:1,modelValue:o(m).bairro,"onUpdate:modelValue":l[10]||(l[10]=n=>o(m).bairro=n),label:"Bairro"},null,8,["modelValue"])):(T(),R($,{key:0,modelValue:o(m).bairro,"onUpdate:modelValue":l[9]||(l[9]=n=>o(m).bairro=n),"error-messages":o(S).bairro.$errors.map(n=>n.$message),required:"",onBlur:o(S).bairro.$touch,onInput:o(S).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),a(_,{md:"3"},{default:u(()=>[o(x)?(T(),R($,{key:1,modelValue:o(m).cidade_estrangeira,"onUpdate:modelValue":l[12]||(l[12]=n=>o(m).cidade_estrangeira=n),label:"Cidade Estrangeira"},null,8,["modelValue"])):(T(),R(Q,{key:0,modelValue:o(m).cidade_id,"onUpdate:modelValue":l[11]||(l[11]=n=>o(m).cidade_id=n),items:o(P).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"]))]),_:1})]),_:1}),a(wo,{style:{"max-height":"330px"},headers:c,items:o(P).enderecosItems,"item-key":"id"},{"item.cidade":u(({item:n})=>[L("h4",Mo,fe(U(n)),1)]),"item.logradouro":u(({item:n})=>[L("h4",Wo,fe(n.logradouro),1)]),"item.actions":u(({item:n})=>[a(Y,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:u(()=>[L("div",{onClick:ue=>F(n.id),title:"Visualizar"},l[24]||(l[24]=[L("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:$o,alt:"Visualizar"},null,-1)]),8,Ro),L("div",{onClick:ue=>de(n),title:"Visualizar"},[n.excluido?(T(),ce("img",Fo)):(T(),ce("img",Oo))],8,zo)]),_:2},1024)]),_:1},8,["items"]),a(ko,{modelValue:o(w),"onUpdate:modelValue":l[23]||(l[23]=n=>qe(w)?w.value=n:null),"max-width":"600px"},{default:u(()=>[a(Io,null,{default:u(()=>[a(Po,{style:{color:"green"}},{default:u(()=>l[25]||(l[25]=[ae("Atualizar Endereço")])),_:1}),a(Eo,null,{default:u(()=>[a(Y,null,{default:u(()=>[a(_,{cols:"12",md:"6"},{default:u(()=>[a(Q,{modelValue:o(d).tabvalores_pais_id,"onUpdate:modelValue":l[13]||(l[13]=n=>o(d).tabvalores_pais_id=n),items:o(P).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),a(_,{cols:"12",md:"6"},{default:u(()=>[a($,{modelValue:o(d).logradouro,"onUpdate:modelValue":l[14]||(l[14]=n=>o(d).logradouro=n),label:"Logradouro"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12",md:"6"},{default:u(()=>[a($,{modelValue:o(d).complemento,"onUpdate:modelValue":l[15]||(l[15]=n=>o(d).complemento=n),label:"Complemento"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12",md:"6"},{default:u(()=>[a($,{modelValue:o(d).numero,"onUpdate:modelValue":l[16]||(l[16]=n=>o(d).numero=n),label:"Número"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12",md:"6"},{default:u(()=>[a($,{modelValue:o(d).bairro,"onUpdate:modelValue":l[17]||(l[17]=n=>o(d).bairro=n),label:"Bairro"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12",md:"6"},{default:u(()=>[a($,{modelValue:o(d).codcep,"onUpdate:modelValue":l[18]||(l[18]=n=>o(d).codcep=n),label:"CEP"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12",md:"6"},{default:u(()=>[o(d).cidade_estrangeira?(T(),R(Q,{key:0,modelValue:o(d).cidade_id,"onUpdate:modelValue":l[19]||(l[19]=n=>o(d).cidade_id=n),items:o(P).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])):(T(),R($,{key:1,modelValue:o(d).cidade_estrangeira,"onUpdate:modelValue":l[20]||(l[20]=n=>o(d).cidade_estrangeira=n),label:"Cidade Estrangeira"},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),a(To,null,{default:u(()=>[a(De),a(q,{color:"green",text:"",onClick:l[21]||(l[21]=n=>w.value=!1)},{default:u(()=>l[26]||(l[26]=[ae("Cancelar")])),_:1}),a(q,{color:"green",text:"",onClick:l[22]||(l[22]=n=>f(o(d).id))},{default:u(()=>l[27]||(l[27]=[ae("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),a(q,{onClick:X,class:"ml-10 mb-5",size:"large",color:"red"},{default:u(()=>l[28]||(l[28]=[ae("Voltar")])),_:1})],64)}}},ye=Symbol.for("vuetify:v-tabs"),Ao=se({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ee(Le({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),No=ne()({name:"VTab",props:Ao(),setup(e,i){let{slots:s,attrs:t}=i;const{textColorClasses:g,textColorStyles:b}=Ge(e,"sliderColor"),r=D(),V=D(),p=O(()=>e.direction==="horizontal"),I=O(()=>{var W,h;return((h=(W=r.value)==null?void 0:W.group)==null?void 0:h.isSelected.value)??!1});function M(W){var C,y;let{value:h}=W;if(h){const B=(y=(C=r.value)==null?void 0:C.$el.parentElement)==null?void 0:y.querySelector(".v-tab--selected .v-tab__slider"),A=V.value;if(!B||!A)return;const m=getComputedStyle(B).color,c=B.getBoundingClientRect(),w=A.getBoundingClientRect(),d=p.value?"x":"y",x=p.value?"X":"Y",U=p.value?"right":"bottom",z=p.value?"width":"height",S=c[d],P=w[d],H=S>P?c[U]-w[U]:c[d]-w[d],re=Math.sign(H)>0?p.value?"right":"bottom":Math.sign(H)<0?p.value?"left":"top":"center",E=(Math.abs(H)+(Math.sign(H)<0?c[z]:w[z]))/Math.max(c[z],w[z])||0,v=c[z]/w[z]||0,F=1.5;Je(A,{backgroundColor:[m,"currentcolor"],transform:[`translate${x}(${H}px) scale${x}(${v})`,`translate${x}(${H/F}px) scale${x}(${(E-1)/F+1})`,"none"],transformOrigin:Array(3).fill(re)},{duration:225,easing:Ke})}}return ie(()=>{const W=q.filterProps(e);return a(q,le({symbol:ye,ref:r,class:["v-tab",e.class],style:e.style,tabindex:I.value?0:-1,role:"tab","aria-selected":String(I.value),active:!1},W,t,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":M}),{...s,default:()=>{var h;return a(me,null,[((h=s.default)==null?void 0:h.call(s))??e.text,!e.hideSlider&&a("div",{ref:V,class:["v-tab__slider",g.value],style:b.value},null)])}})}),je({},r)}}),Ho=e=>{const{touchstartX:i,touchendX:s,touchstartY:t,touchendY:g}=e,b=.5,r=16;e.offsetX=s-i,e.offsetY=g-t,Math.abs(e.offsetY)<b*Math.abs(e.offsetX)&&(e.left&&s<i-r&&e.left(e),e.right&&s>i+r&&e.right(e)),Math.abs(e.offsetX)<b*Math.abs(e.offsetY)&&(e.up&&g<t-r&&e.up(e),e.down&&g>t+r&&e.down(e))};function Xo(e,i){var t;const s=e.changedTouches[0];i.touchstartX=s.clientX,i.touchstartY=s.clientY,(t=i.start)==null||t.call(i,{originalEvent:e,...i})}function Yo(e,i){var t;const s=e.changedTouches[0];i.touchendX=s.clientX,i.touchendY=s.clientY,(t=i.end)==null||t.call(i,{originalEvent:e,...i}),Ho(i)}function qo(e,i){var t;const s=e.changedTouches[0];i.touchmoveX=s.clientX,i.touchmoveY=s.clientY,(t=i.move)==null||t.call(i,{originalEvent:e,...i})}function Do(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:s=>Xo(s,i),touchend:s=>Yo(s,i),touchmove:s=>qo(s,i)}}function Lo(e,i){var V;const s=i.value,t=s!=null&&s.parent?e.parentElement:e,g=(s==null?void 0:s.options)??{passive:!0},b=(V=i.instance)==null?void 0:V.$.uid;if(!t||!b)return;const r=Do(i.value);t._touchHandlers=t._touchHandlers??Object.create(null),t._touchHandlers[b]=r,Te(r).forEach(p=>{t.addEventListener(p,r[p],g)})}function Go(e,i){var b,r;const s=(b=i.value)!=null&&b.parent?e.parentElement:e,t=(r=i.instance)==null?void 0:r.$.uid;if(!(s!=null&&s._touchHandlers)||!t)return;const g=s._touchHandlers[t];Te(g).forEach(V=>{s.removeEventListener(V,g[V])}),delete s._touchHandlers[t]}const ze={mounted:Lo,unmounted:Go},Fe=Symbol.for("vuetify:v-window"),Oe=Symbol.for("vuetify:v-window-group"),Ae=se({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Se(),...Be(),...Qe()},"VWindow"),he=ne()({name:"VWindow",directives:{Touch:ze},props:Ae(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:s}=i;const{themeClasses:t}=Ze(e),{isRtl:g}=eo(),{t:b}=oo(),r=ao(e,Oe),V=D(),p=O(()=>g.value?!e.reverse:e.reverse),I=pe(!1),M=O(()=>{const d=e.direction==="vertical"?"y":"x",U=(p.value?!I.value:I.value)?"-reverse":"";return`v-window-${d}${U}-transition`}),W=pe(0),h=D(void 0),C=O(()=>r.items.value.findIndex(d=>r.selected.value.includes(d.id)));to(C,(d,x)=>{const U=r.items.value.length,z=U-1;U<=2?I.value=d<x:d===z&&x===0?I.value=!0:d===0&&x===z?I.value=!1:I.value=d<x}),lo(Fe,{transition:M,isReversed:I,transitionCount:W,transitionHeight:h,rootRef:V});const y=O(()=>e.continuous||C.value!==0),B=O(()=>e.continuous||C.value!==r.items.value.length-1);function A(){y.value&&r.prev()}function m(){B.value&&r.next()}const c=O(()=>{const d=[],x={icon:g.value?e.nextIcon:e.prevIcon,class:`v-window__${p.value?"right":"left"}`,onClick:r.prev,"aria-label":b("$vuetify.carousel.prev")};d.push(y.value?s.prev?s.prev({props:x}):a(q,x,null):a("div",null,null));const U={icon:g.value?e.prevIcon:e.nextIcon,class:`v-window__${p.value?"left":"right"}`,onClick:r.next,"aria-label":b("$vuetify.carousel.next")};return d.push(B.value?s.next?s.next({props:U}):a(q,U,null):a("div",null,null)),d}),w=O(()=>e.touch===!1?e.touch:{...{left:()=>{p.value?A():m()},right:()=>{p.value?m():A()},start:x=>{let{originalEvent:U}=x;U.stopPropagation()}},...e.touch===!0?{}:e.touch});return ie(()=>Z(a(e.tag,{ref:V,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},t.value,e.class],style:e.style},{default:()=>{var d,x;return[a("div",{class:"v-window__container",style:{height:h.value}},[(d=s.default)==null?void 0:d.call(s,{group:r}),e.showArrows!==!1&&a("div",{class:"v-window__controls"},[c.value])]),(x=s.additional)==null?void 0:x.call(s,{group:r})]}}),[[Ve("touch"),w.value]])),{group:r}}}),jo=se({...Ee(Ae(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Jo=ne()({name:"VTabsWindow",props:jo(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:s}=i;const t=Ue(ye,null),g=Me(e,"modelValue"),b=O({get(){var r;return g.value!=null||!t?g.value:(r=t.items.value.find(V=>t.selected.value.includes(V.id)))==null?void 0:r.value},set(r){g.value=r}});return ie(()=>{const r=he.filterProps(e);return a(he,le({_as:"VTabsWindow"},r,{modelValue:b.value,"onUpdate:modelValue":V=>b.value=V,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),s)}),{}}}),Ne=se({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Se(),...so(),...no()},"VWindowItem"),Ce=ne()({name:"VWindowItem",directives:{Touch:ze},props:Ne(),emits:{"group:selected":e=>!0},setup(e,i){let{slots:s}=i;const t=Ue(Fe),g=io(e,Oe),{isBooted:b}=So();if(!t||!g)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const r=pe(!1),V=O(()=>b.value&&(t.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function p(){!r.value||!t||(r.value=!1,t.transitionCount.value>0&&(t.transitionCount.value-=1,t.transitionCount.value===0&&(t.transitionHeight.value=void 0)))}function I(){var y;r.value||!t||(r.value=!0,t.transitionCount.value===0&&(t.transitionHeight.value=be((y=t.rootRef.value)==null?void 0:y.clientHeight)),t.transitionCount.value+=1)}function M(){p()}function W(y){r.value&&mo(()=>{!V.value||!r.value||!t||(t.transitionHeight.value=be(y.clientHeight))})}const h=O(()=>{const y=t.isReversed.value?e.reverseTransition:e.transition;return V.value?{name:typeof y!="string"?t.transition.value:y,onBeforeEnter:I,onAfterEnter:p,onEnterCancelled:M,onBeforeLeave:I,onAfterLeave:p,onLeaveCancelled:M,onEnter:W}:!1}),{hasContent:C}=ro(e,g.isSelected);return ie(()=>a(co,{transition:h.value,disabled:!b.value},{default:()=>{var y;return[Z(a("div",{class:["v-window-item",g.selectedClass.value,e.class],style:e.style},[C.value&&((y=s.default)==null?void 0:y.call(s))]),[[uo,g.isSelected.value]])]}})),{groupItem:g}}}),Ko=se({...Ne()},"VTabsWindowItem"),Qo=ne()({name:"VTabsWindowItem",props:Ko(),setup(e,i){let{slots:s}=i;return ie(()=>{const t=Ce.filterProps(e);return a(Ce,le({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),s)}),{}}});function Zo(e){return e?e.map(i=>Vo(i)?i:{text:i,value:i}):[]}const ea=se({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,..._o({mandatory:"force",selectedClass:"v-tab-item--selected"}),...vo(),...Be()},"VTabs"),ba=ne()({name:"VTabs",props:ea(),emits:{"update:modelValue":e=>!0},setup(e,i){let{attrs:s,slots:t}=i;const g=Me(e,"modelValue"),b=O(()=>Zo(e.items)),{densityClasses:r}=fo(e),{backgroundColorClasses:V,backgroundColorStyles:p}=go(G(e,"bgColor")),{scopeId:I}=po();return bo({VTab:{color:G(e,"color"),direction:G(e,"direction"),stacked:G(e,"stacked"),fixed:G(e,"fixedTabs"),sliderColor:G(e,"sliderColor"),hideSlider:G(e,"hideSlider")}}),ie(()=>{const M=_e.filterProps(e),W=!!(t.window||e.items.length>0);return a(me,null,[a(_e,le(M,{modelValue:g.value,"onUpdate:modelValue":h=>g.value=h,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},r.value,V.value,e.class],style:[{"--v-tabs-height":be(e.height)},p.value,e.style],role:"tablist",symbol:ye},I,s),{default:()=>{var h;return[((h=t.default)==null?void 0:h.call(t))??b.value.map(C=>{var y;return((y=t.tab)==null?void 0:y.call(t,{item:C}))??a(No,le(C,{key:C.text,value:C.value}),{default:t[`tab.${C.value}`]?()=>{var B;return(B=t[`tab.${C.value}`])==null?void 0:B.call(t,{item:C})}:void 0})})]}}),W&&a(Jo,le({modelValue:g.value,"onUpdate:modelValue":h=>g.value=h,key:"tabs-window"},I),{default:()=>{var h;return[b.value.map(C=>{var y;return((y=t.item)==null?void 0:y.call(t,{item:C}))??a(Qo,{value:C.value},{default:()=>{var B;return(B=t[`item.${C.value}`])==null?void 0:B.call(t,{item:C})}})}),(h=t.window)==null?void 0:h.call(t)]}})])}),{}}});export{ba as V,ga as _,No as a,Jo as b,Qo as c,pa as d};
