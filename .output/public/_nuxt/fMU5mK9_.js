import{_ as I}from"./DEnbuNJQ.js";import{_ as P,u as A,r as y,G as B,M as E,q as u,o as _,A as S,w as i,C as T,x as U,b as a,a as o,s as g,v,c as C,J as F,p as J,e as G}from"./DXq1RCv8.js";import{b as O,u as j}from"./CkDNeakM.js";import{a as q,_ as M,b as Q,c as W}from"./CBYd86re.js";import{_ as X}from"./DCsXQasW.js";import{V as Y}from"./Clrg6PPk.js";import{V}from"./HL_xHFx0.js";const m=n=>(J("data-v-10ccdacb"),n=n(),G(),n),H=m(()=>o("img",{class:"btn-pointer",src:q,alt:"Cadastro"},null,-1)),K={style:{width:"200px"}},Z={style:{width:"300px"}},ee=["onClick"],te=m(()=>o("img",{style:{width:"30px",height:"30px"},src:X,alt:"Visualizar"},null,-1)),se=[te],oe=["onClick"],ae=m(()=>o("img",{style:{width:"30px",height:"30px"},src:M,alt:"Atualizar"},null,-1)),ie=[ae],ne=["onClick"],ce={key:0,style:{width:"30px",height:"30px"},src:Q,alt:"Visualizar",title:"Reativar"},le={key:1,src:W,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},re={__name:"index",async setup(n){let c,h;const f=U(),w=`${f.public.managemant}/getAllPessoa`,b=`${f.public.managemant}/deletePessoa`,x=A(),l=y(""),r=y(""),k=[{title:"Documento",value:"doc_identificacao"},{title:"Nome/RazÃ£o Social",value:"nome"},{value:"actions"}],{data:z,pending:$}=([c,h]=B(()=>O(w,"$Y8azOgWBC8")),c=await c,h(),c),R=E(()=>z.value.filter(e=>{const s=e.doc_identificacao?e.doc_identificacao.toLowerCase():"",p=e.nome?e.nome.toLowerCase():"",t=s.includes(r.value.toLowerCase()),d=p.includes(l.value.toLowerCase());return t&&d}));async function L(e){e.excluido=!e.excluido;try{await j(`${b}/${e.id}`,{method:"PUT",body:JSON.stringify({excluido:e.excluido})},"$R09XREGJQC")}catch(s){console.error("Erro ao excluir pessoa:",s)}}function N(e){x.push({path:`/pessoas/vizualizar/${e}`})}function D(e){x.push({path:`/pessoas/atualizar/${e}`})}return(e,s)=>{const p=I;return u($)?T("",!0):(_(),S(Y,{key:0,class:"mt-5"},{default:i(()=>[a(p,{to:"/pessoas/cadastro"},{default:i(()=>[H]),_:1}),a(V,{style:{gap:"10rem"}},{default:i(()=>[o("div",K,[a(g,{class:"mt-7 mb-4",modelValue:u(r),"onUpdate:modelValue":s[0]||(s[0]=t=>v(r)?r.value=t:null),label:"Documento","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),o("div",Z,[a(g,{class:"mt-7 mb-4",modelValue:u(l),"onUpdate:modelValue":s[1]||(s[1]=t=>v(l)?l.value=t:null),label:"Pessoa","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])])]),_:1}),a(F,{density:"compact",headers:k,items:u(R),"item-key":"id"},{"item.actions":i(({item:t})=>[a(V,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:i(()=>[o("div",{class:"btn-pointer",onClick:d=>N(t.id),title:"Visualizar"},se,8,ee),o("div",{class:"btn-pointer",onClick:d=>D(t.id),title:"Atualizar"},ie,8,oe),o("div",{class:"btn-pointer",onClick:d=>L(t),title:"Deletar"},[t.excluido?(_(),C("img",ce)):(_(),C("img",le))],8,ne)]),_:2},1024)]),_:1},8,["items"])]),_:1}))}}},xe=P(re,[["__scopeId","data-v-10ccdacb"]]);export{xe as default};
