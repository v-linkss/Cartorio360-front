import{_ as b}from"./eWdL-p5y.js";import{_ as N}from"./BOUTo4A_.js";import{r as p,x as h,o as _,c as f,b as e,w as l,A as a,D as A,F as B,C as q,M as L,a as n,bP as M,V as C,B as y,d as $}from"./kel_KTqI.js";import{a as V}from"./Ctxw8aW4.js";import{_ as R,a as H}from"./HBU26js5.js";import{_ as I,a as G}from"./DdFOrgXD.js";import{V as O}from"./rIIY4oBm.js";import{V as P}from"./CsQWLb_f.js";import{V as x}from"./BBtjS20Y.js";import{V as j,c as J,b as Z}from"./CKvifnFf.js";import{V as K}from"./D32NFOid.js";import{V as Q}from"./qVX3ECkv.js";const W=n("img",{class:"btn-pointer",src:R,alt:"Cadastro"},null,-1),X=n("h1",{class:"mt-3 ml-3"},"Tipos de Selos",-1),Y=n("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:I,alt:"Atualizar"},null,-1),ee=["onClick"],te={key:0,style:{width:"30px",height:"30px",cursor:"pointer","margin-left":"7px"},src:G,alt:"Visualizar",title:"Reativar"},oe={key:1,src:H,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer","margin-left":"7px"},title:"Excluir"},le=n("span",{class:"text-h6"},"Editar Selo",-1),ge={__name:"lista",async setup(ae){let s,d;const u=q(),w=`${u.public.managemant}/tipo-selos`;`${u.public.managemant}`,`${u.public.managemant}`;const S=`${u.public.managemant}/tipo-selos-delete`,F=`${u.public.managemant}/uf`,k=p([]),m=p(!1),g=p([]),i=p({id:null,uf:"",cor:"",descricao:"",vlr_compra:null}),{data:E}=([s,d]=h(()=>V(F,{method:"GET"},"$7yCH3mLdj9")),s=await s,d(),s);g.value=E.value;const{data:v}=([s,d]=h(()=>V(w,{method:"GET"},"$sAxng7NVFv")),s=await s,d(),s);k.value=v.value;const T=[{title:"ID",value:"id"},{title:"UF",value:"uf"},{title:"Cor",value:"cor"},{title:"Descrição",value:"descricao"},{title:"Valor",value:"vlr_compra"},{title:"Ações",value:"actions",sortable:!1}];async function U(r){r.excluido=!r.excluido;const t=JSON.stringify({excluido:r.excluido});try{const{error:c}=await V(`${S}/${r.id}`,{method:"PUT",body:t},"$fzpNhzhZeF")}catch(c){console.error("Erro ao excluir selo:",c)}}return(r,t)=>{const c=b,D=b,z=N;return _(),f(B,null,[e(O,null,{default:l(()=>[e(x,{class:"mb-5 mt-5"},{default:l(()=>[e(c,{to:"/tiposSelos/cadastro"},{default:l(()=>[W]),_:1}),X]),_:1}),e(L,{items:a(v),headers:T,"item-value":"id"},{"item.actions":l(({item:o})=>[e(x,{style:{"margin-top":"-6px"}},{default:l(()=>[n("div",null,[e(D,{to:`/tiposSelos/atualizar/${o.id}`},{default:l(()=>[Y]),_:2},1032,["to"])]),n("div",{onClick:se=>U(o),title:"Deletar"},[o.excluido?(_(),f("img",te)):(_(),f("img",oe))],8,ee)]),_:2},1024)]),_:1},8,["items"])]),_:1}),e(P,{modelValue:a(m),"onUpdate:modelValue":t[5]||(t[5]=o=>A(m)?m.value=o:null),"max-width":"500"},{default:l(()=>[e(j,null,{default:l(()=>[e(J,null,{default:l(()=>[le]),_:1}),e(Z,null,{default:l(()=>[e(K,{onSubmit:M(r.HandleSubmitEdit,["prevent"])},{default:l(()=>[e(Q,{modelValue:a(i).uf,"onUpdate:modelValue":t[0]||(t[0]=o=>a(i).uf=o),items:a(g),class:"mb-5","item-title":"descricao","item-value":"sigla",label:"UF",required:"",outlined:""},null,8,["modelValue","items"]),e(C,{modelValue:a(i).cor,"onUpdate:modelValue":t[1]||(t[1]=o=>a(i).cor=o),label:"Cor",required:"",outlined:""},null,8,["modelValue"]),e(C,{modelValue:a(i).descricao,"onUpdate:modelValue":t[2]||(t[2]=o=>a(i).descricao=o),label:"Descrição",required:"",outlined:""},null,8,["modelValue"]),e(z,{required:"",modelValue:a(i).vlr_compra,"onUpdate:modelValue":t[3]||(t[3]=o=>a(i).vlr_compra=o)},null,8,["modelValue"]),e(x,null,{default:l(()=>[e(y,{type:"submit",color:"green",size:"large"},{default:l(()=>[$("Salvar")]),_:1}),e(y,{color:"red",size:"large",onClick:t[4]||(t[4]=o=>m.value=!1)},{default:l(()=>[$("Cancelar")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{ge as default};
