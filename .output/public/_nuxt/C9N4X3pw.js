import{_ as N}from"./DM0x_3z8.js";import{n as P,r as f,B as R,S as A,x as d,o as p,v as B,w as i,I as T,z as U,b as a,a as o,V as x,D as y,c as g,C as E}from"./DgXrkF5u.js";import{a as F,u as I}from"./D7zvLIPz.js";import{_ as J,c as S,a as j,b as G}from"./MQ3lPPOi.js";import{_ as X}from"./Bgy-olGj.js";import{V as q}from"./DDeICuK_.js";import{V as v}from"./tfQVPjDb.js";const H=o("img",{style:{cursor:"pointer"},src:J,alt:"Cadastro"},null,-1),K={style:{width:"200px"}},M={style:{width:"300px"}},O=["onClick"],Q=o("img",{style:{width:"30px",height:"30px"},src:X,alt:"Visualizar"},null,-1),W=[Q],Y=["onClick"],Z=o("img",{style:{width:"30px",height:"30px"},src:S,alt:"Atualizar"},null,-1),ee=[Z],te=["onClick"],se={key:0,style:{width:"30px",height:"30px"},src:j,alt:"Visualizar",title:"Reativar"},oe={key:1,src:G,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},pe={__name:"index",async setup(ae){let n,m;const _=U(),V=`${_.public.managemant}/getAllPessoa`,w=`${_.public.managemant}/updatePessoa`,h=P(),l=f(""),c=f(""),C=[{title:"Documento",value:"doc_identificacao"},{title:"Nome/RazÃ£o Social",value:"nome"},{value:"actions"}],{data:k,pending:$}=([n,m]=R(()=>F(V,"$Jxa9V4cJXG")),n=await n,m(),n),z=A(()=>k.value.filter(e=>{const s=e.doc_identificacao?e.doc_identificacao.toLowerCase():"",u=e.nome?e.nome.toLowerCase():"",t=s.includes(c.value.toLowerCase()),r=u.includes(l.value.toLowerCase());return t&&r}));async function b(e){e.excluido=!e.excluido;try{await I(`${w}/${e.id}`,{method:"PUT",body:{excluido:e.excluido}},"$yehyeyA3ii")}catch(s){console.error("Erro ao excluir pessoa:",s)}}function D(e){h.push({path:`/pessoas/vizualizar/${e}`})}function L(e){h.push({path:`/pessoas/atualizar/${e}`})}return(e,s)=>{const u=N;return d($)?T("",!0):(p(),B(q,{key:0,class:"mt-5"},{default:i(()=>[a(u,{to:"/pessoas/cadastro"},{default:i(()=>[H]),_:1}),a(v,{style:{gap:"10rem"}},{default:i(()=>[o("div",K,[a(x,{class:"mt-7 mb-4",modelValue:d(c),"onUpdate:modelValue":s[0]||(s[0]=t=>y(c)?c.value=t:null),label:"Documento","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),o("div",M,[a(x,{class:"mt-7 mb-4",modelValue:d(l),"onUpdate:modelValue":s[1]||(s[1]=t=>y(l)?l.value=t:null),label:"Pessoa","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])])]),_:1}),a(E,{density:"compact",headers:C,items:d(z),"item-key":"id"},{"item.actions":i(({item:t})=>[a(v,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:i(()=>[o("div",{style:{cursor:"pointer"},onClick:r=>D(t.id),title:"Visualizar"},W,8,O),o("div",{style:{cursor:"pointer"},onClick:r=>L(t.id),title:"Atualizar"},ee,8,Y),o("div",{style:{cursor:"pointer"},onClick:r=>b(t),title:"Deletar"},[t.excluido?(p(),g("img",se)):(p(),g("img",oe))],8,te)]),_:2},1024)]),_:1},8,["items"])]),_:1}))}}};export{pe as default};
