import{r as u,H as L,u as P,D as F,g as T,o as k,G as x,w as a,b as t,a as d,V as S,A as v,d as w,v as m,x as A,s as I,p as N,t as U}from"./D_ZxgpzX.js";import{u as R}from"./WTgqlIvF.js";import{V as E,c as O}from"./CwKvaOAa.js";import{V as $}from"./51vJKa_h.js";import{V as h}from"./KLuj5-fA.js";import{V as z}from"./DpYwyn9W.js";import{V as M}from"./D-2W7eDI.js";import{V as Z}from"./DjaAS4PF.js";import"./C7M7JQQW.js";import"./C90Zo2Ng.js";import"./CUaUtMKM.js";import"./GPP_n8QO.js";const G={__name:"ImportaSelos",props:{show:Boolean,ato_token:String,ato_id:Number,representante_nome:String},emits:["close","update-papel"],setup(C,{emit:n}){const s=C,l=u(s.show),f=L(),p=I(),{$toast:r}=P(),o=`${p.public.managemant}/updateAtosPessoa`,_=`${p.public.managemant}/listarPapeis`,i=u([]),b=F({tipo_parte_id:null}),g=n;T(()=>s.show,async c=>{l.value=c,c&&await B()});const y=()=>{l.value=!1,g("close")},B=async()=>{const{data:c}=await R(_,{method:"POST",body:{tipo_ato_token:f.query.tipo_ato_token||s.ato_token}},"$Z1bKGPif1c");i.value=c.value},D=async()=>{const{data:c,error:e,status:V}=await R(`${o}/${s.ato_id}`,{method:"PUT",body:{tipo_parte_id:b.tipo_parte_id.id}},"$Kr3yBtlYBF");V.value==="success"&&(r.success("Papel Atualizado com Sucesso!"),g("update-papel",b.tipo_parte_id.descricao),y())};return(c,e)=>(k(),x(M,{persistent:"",modelValue:m(l),"onUpdate:modelValue":e[0]||(e[0]=V=>A(l)?l.value=V:null),"max-width":"800"},{default:a(()=>[t(E,null,{default:a(()=>[t($,null,{default:a(()=>[t(h,{class:"mt-1 mb-3",style:{"justify-content":"space-between"}},{default:a(()=>[t(z,null,{default:a(()=>e[1]||(e[1]=[d("h1",{class:"ml-4"}," Importar selos do lote ",-1),d("p",{class:"ml-4 mt-3"}," Informe o codigo do lote para realizar a importação ",-1)])),_:1})]),_:1}),e[2]||(e[2]=d("hr",{class:"mb-5"},null,-1)),t(S,{label:"Lote"})]),_:1}),t(O,null,{default:a(()=>[t(v,{style:{"background-color":"red",color:"white"},onClick:y},{default:a(()=>e[3]||(e[3]=[w("Voltar")])),_:1}),t(v,{style:{"background-color":"green",color:"white"},onClick:D},{default:a(()=>e[4]||(e[4]=[w("Importar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},H={class:"d-flex flex-column"},so={__name:"index",setup(C){const n=u(""),s=u(!1),l=[{title:"Selo",value:"selo"},{title:"Cor",value:"cor"},{title:"Situação",value:"situacao"},{title:"Protocolo",value:"protocolo"},{title:"Certificado NT",value:"certificado_nt"},{title:"Data cadastro",value:"data_cadastro"}],f=u([{selo:"AFR39581-762Q",cor:"VERMELHO",situacao:"Disponível",protocolo:"",certificado_nt:!1,data_cadastro:"17/03/2025 16:54"},{selo:"BFR12345-678X",cor:"AZUL",situacao:"Utilizado",protocolo:"123456",certificado_nt:!0,data_cadastro:"15/02/2025 10:30"},{selo:"CFR98765-432Y",cor:"VERDE",situacao:"Cancelado",protocolo:"789012",certificado_nt:!1,data_cadastro:"20/01/2025 14:20"},{selo:"DFR54321-098Z",cor:"AMARELO",situacao:"Disponível",protocolo:"",certificado_nt:!0,data_cadastro:"10/03/2025 09:15"},{selo:"EFR11223-445W",cor:"ROXO",situacao:"Utilizado",protocolo:"456789",certificado_nt:!1,data_cadastro:"05/04/2025 11:45"}]),p=N(()=>f.value.filter(r=>{const o=n.value.toLowerCase();return r.selo.toLowerCase().includes(o)||r.cor.toLowerCase().includes(o)||r.situacao.toLowerCase().includes(o)||r.protocolo.toLowerCase().includes(o)}));return(r,o)=>{const _=G;return k(),x($,{class:"mt-5"},{default:a(()=>[d("div",H,[t(v,{class:"mb-10 mt-auto align-self-end",color:"green",size:"large",onClick:o[0]||(o[0]=i=>s.value=!0)},{default:a(()=>o[3]||(o[3]=[w(" Importar Selos TJ ")])),_:1})]),t(S,{modelValue:m(n),"onUpdate:modelValue":o[1]||(o[1]=i=>A(n)?n.value=i:null),label:"Buscar selo, cor, situação ou protocolo","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"",class:"mb-4"},null,8,["modelValue"]),t(Z,{density:"compact",headers:l,items:m(p),"item-key":"selo"},{"item.certificado_nt":a(({item:i})=>[d("span",null,U(i.certificado_nt?"Sim":"Não"),1)]),_:1},8,["items"]),t(_,{show:m(s),onClose:o[2]||(o[2]=i=>s.value=!1)},null,8,["show"])]),_:1})}}};export{so as default};
