import{_ as q}from"./B_T4Qyex.js";import{P as F,r as V,G as v,p as R,w as a,v as A,o as B,a as _,b as e,q as r,C as b,V as g,d as $,H as D,K as M}from"./C9ogMamj.js";import{u as c}from"./CBfFXMw1.js";import{V as N}from"./PmF3dxS_.js";import{V as d}from"./DfYMH07K.js";import{V as i}from"./HBcZJLAI.js";import{V as z}from"./B5yQux_G.js";import{V as G}from"./ByGZqZyP.js";import"./DcMCOue_.js";import"./964t5_t0.js";import"./D_Z_f3Yr.js";import"./T9X08-fp.js";import"./ChEh_lVi.js";import"./CjLDbld9.js";import"./I-0FXk5_.js";import"./BwRKLwOl.js";const lo={__name:"[id]",async setup(k){let s,n;const m=A(),w=`${m.public.managemant}/tipo-selos`,y=`${m.public.managemant}/tipo-selos`,C=`${m.public.managemant}/listarUF`,S=F(),{id:p}=S.params,l=V({uf:null,cor:null,descricao:null,vlr_compra:null}),f=V([]);async function U(){try{const{data:t}=await c(`${y}/${p}`,{method:"GET"},"$6TZfMfcZ97");t.value&&(l.value={uf:t.value.uf,cor:t.value.cor,descricao:t.value.descricao,vlr_compra:t.value.vlr_compra})}catch(t){console.error("Erro ao carregar os dados do selo:",t)}}const{data:T}=([s,n]=v(()=>c(C,{method:"GET"},"$AcfCaA9uDU")),s=await s,n(),s);f.value=T.value,[s,n]=v(()=>U()),await s,n();async function x(){try{const t={uf:l.value.uf,cor:l.value.cor,descricao:l.value.descricao,vlr_compra:l.value.vlr_compra.replace(/,/g,"")};await c(`${w}/${p}`,{method:"PUT",body:t},"$R6RXNupMbC"),M("/tiposSelos/lista")}catch(t){console.error("Erro ao atualizar o selo:",t)}}return(t,o)=>{const E=q;return B(),R(N,null,{default:a(()=>[o[7]||(o[7]=_("h1",{class:"mb-5"},"Edição de Tipo de Selo",-1)),e(G,{onSubmit:D(x,["prevent"])},{default:a(()=>[e(d,null,{default:a(()=>[e(i,{cols:"3"},{default:a(()=>[e(z,{modelValue:r(l).uf,"onUpdate:modelValue":o[0]||(o[0]=u=>r(l).uf=u),items:r(f),"item-title":"descricao","item-value":"sigla",label:"UF",required:"",outlined:""},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"3"},{default:a(()=>[e(b,{modelValue:r(l).cor,"onUpdate:modelValue":o[1]||(o[1]=u=>r(l).cor=u),label:"Cor",required:"",outlined:""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,null,{default:a(()=>[e(i,{cols:"6"},{default:a(()=>[e(b,{modelValue:r(l).descricao,"onUpdate:modelValue":o[2]||(o[2]=u=>r(l).descricao=u),label:"Descrição",required:"",outlined:""},null,8,["modelValue"])]),_:1})]),_:1}),e(d,null,{default:a(()=>[e(i,{cols:"3"},{default:a(()=>[o[4]||(o[4]=_("label",null,"Valor",-1)),e(E,{required:"",modelValue:r(l).vlr_compra,"onUpdate:modelValue":o[3]||(o[3]=u=>r(l).vlr_compra=u)},null,8,["modelValue"])]),_:1})]),_:1}),e(d,null,{default:a(()=>[e(i,null,{default:a(()=>[e(g,{size:"large",color:"red",to:"/tiposSelos/lista"},{default:a(()=>o[5]||(o[5]=[$("Voltar")])),_:1}),e(g,{type:"submit",class:"ml-4",size:"large",color:"green"},{default:a(()=>o[6]||(o[6]=[$(" Salvar ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{lo as default};
