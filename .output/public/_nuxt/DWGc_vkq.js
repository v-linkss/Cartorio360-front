import{r as i,D as b,p as g,c as C,v as r,G as w,J as z,b as a,w as s,F as k,s as x,m as D,o as f,O as h,V as c,A as L,d as p,t as S}from"./BKMT-gtt.js";import{u as N}from"./iSDLqWyU.js";import{f as B}from"./B0IxRygJ.js";import{V as F}from"./CxBXzofJ.js";import{V as T}from"./CgJ_31Ic.js";import{V as u}from"./e6S-cvc7.js";import{V as A}from"./Bd87LPBU.js";import{b as E}from"./uAcMA8ZJ.js";import"./CkkmhvE5.js";import"./D4pIVEvm.js";import"./BAWsoWXR.js";const I={__name:"index",setup(U){const V=`${x().public.managemant}/lista_selos_transmitir`;i(""),i(""),i("");const m=i([]),n=i(!1),e=b({data_utilizacao:"",descricao:"",numero:""}),_=[{title:"Data",value:"data_utilizacao"},{title:"Descrição",value:"descricao"},{title:"Número",value:"numero"}],v=async()=>{n.value=!0;try{const{data:o,error:t,status:l}=await N(V,{method:"POST",body:{cartorio_token:D("user-data").value.cartorio_token}},"$Xe0bfknJZY");console.log("Data:",o.value),l.value==="success"?m.value=Array.isArray(o.value)?o.value.map(d=>({...d,data_utilizacao:d.data_utilizacao?B(d.data_utilizacao,"dd/mm/yyyy hh:mm"):null})):[]:console.error(t)}catch(o){console.error("Erro ao buscar selos:",o)}finally{n.value=!1}},y=g(()=>m.value.filter(o=>(!e.data_utilizacao||o.data_utilizacao.toLowerCase().includes(e.data_utilizacao.toLowerCase()))&&(!e.numero||o.numero.toLowerCase().includes(e.numero.toLowerCase()))&&(!e.descricao||o.descricao.toLowerCase().includes(e.descricao.toLowerCase()))));return v(),(o,t)=>(f(),C(k,null,[r(n)?(f(),w(h,{key:0,class:"d-flex justify-center align-center",indeterminate:"",size:"64",style:{position:"absolute",top:"40%",left:"50%"}})):z("",!0),a(F,{class:"mt-5"},{default:s(()=>[a(T,{class:"d-flex align-center"},{default:s(()=>[a(u,{cols:"12",md:"2"},{default:s(()=>[a(c,{modelValue:r(e).data_utilizacao,"onUpdate:modelValue":t[0]||(t[0]=l=>r(e).data_utilizacao=l),label:"Data",variant:"outlined","hide-details":"",class:"mb-4"},null,8,["modelValue"])]),_:1}),a(u,{cols:"12",md:"3"},{default:s(()=>[a(c,{modelValue:r(e).descricao,"onUpdate:modelValue":t[1]||(t[1]=l=>r(e).descricao=l),label:"Descrição",variant:"outlined","hide-details":"",class:"mb-4"},null,8,["modelValue"])]),_:1}),a(u,{cols:"12",md:"2"},{default:s(()=>[a(c,{modelValue:r(e).numero,"onUpdate:modelValue":t[2]||(t[2]=l=>r(e).numero=l),label:"Número",variant:"outlined","hide-details":"",class:"mb-4"},null,8,["modelValue"])]),_:1}),a(u,{cols:"12",md:"5",class:"d-flex justify-end mb-2"},{default:s(()=>[a(L,{color:"green",size:"large"},{default:s(()=>t[3]||(t[3]=[p("Enviar Selos")])),_:1})]),_:1})]),_:1}),a(A,{"show-select":"",density:"compact",headers:_,items:r(y),"item-key":"token"},{"item.situacao":s(({item:l})=>[a(E,{color:"green","text-color":"white",outlined:""},{default:s(()=>[p(S(l.situacao),1)]),_:2},1024)]),_:1},8,["items"])]),_:1})],64))}};export{I as default};
