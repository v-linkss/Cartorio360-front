import{_ as b}from"./B3l8N2CA.js";import{_ as N}from"./Bbh0omBr.js";import{r as p,B as h,o as _,c as f,b as e,w as o,x as a,D as A,J as B,z as R,C as q,a as n,bR as L,V as y,y as C,d as $}from"./BdsXM0rV.js";import{u as V}from"./D4jIaOYQ.js";import{_ as H,c as I,a as M,b as G}from"./DN3fAWrC.js";import{V as J}from"./CdGSzGMv.js";import{V as O,a as j,d as P,c as Z}from"./CUM_wS0K.js";import{V as x}from"./CELWtY7F.js";import{V as K}from"./ByJlcUVK.js";import{V as Q}from"./BI7QHU8P.js";const W=n("img",{class:"btn-pointer",src:H,alt:"Cadastro"},null,-1),X=n("h1",{class:"mt-3 ml-3"},"Tipos de Selos",-1),Y=n("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:I,alt:"Atualizar"},null,-1),ee=["onClick"],te={key:0,style:{width:"30px",height:"30px",cursor:"pointer","margin-left":"7px"},src:M,alt:"Visualizar",title:"Reativar"},le={key:1,src:G,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer","margin-left":"7px"},title:"Excluir"},oe=n("span",{class:"text-h6"},"Editar Selo",-1),Ve={__name:"lista",async setup(ae){let s,d;const u=R(),w=`${u.public.managemant}/tipo-selos`;`${u.public.managemant}`,`${u.public.managemant}`;const S=`${u.public.managemant}/tipo-selos-delete`,k=`${u.public.managemant}/uf`,E=p([]),m=p(!1),g=p([]),i=p({id:null,uf:"",cor:"",descricao:"",vlr_compra:null}),{data:F}=([s,d]=h(()=>V(k,{method:"GET"},"$7yCH3mLdj9")),s=await s,d(),s);g.value=F.value;const{data:v}=([s,d]=h(()=>V(w,{method:"GET"},"$sAxng7NVFv")),s=await s,d(),s);E.value=v.value;const T=[{title:"ID",value:"id"},{title:"UF",value:"uf"},{title:"Cor",value:"cor"},{title:"Descrição",value:"descricao"},{title:"Valor",value:"vlr_compra"},{title:"Ações",value:"actions",sortable:!1}];async function U(r){r.excluido=!r.excluido;const t=JSON.stringify({excluido:r.excluido});try{const{error:c}=await V(`${S}/${r.id}`,{method:"PUT",body:t},"$fzpNhzhZeF")}catch(c){console.error("Erro ao excluir selo:",c)}}return(r,t)=>{const c=b,z=b,D=N;return _(),f(B,null,[e(J,null,{default:o(()=>[e(x,{class:"mb-5 mt-5"},{default:o(()=>[e(c,{to:"/tiposSelos/cadastro"},{default:o(()=>[W]),_:1}),X]),_:1}),e(q,{items:a(v),headers:T,"item-value":"id"},{"item.actions":o(({item:l})=>[e(x,{style:{"margin-top":"-6px"}},{default:o(()=>[n("div",null,[e(z,{to:`/tiposSelos/atualizar/${l.id}`},{default:o(()=>[Y]),_:2},1032,["to"])]),n("div",{onClick:se=>U(l),title:"Deletar"},[l.excluido?(_(),f("img",te)):(_(),f("img",le))],8,ee)]),_:2},1024)]),_:1},8,["items"])]),_:1}),e(O,{modelValue:a(m),"onUpdate:modelValue":t[5]||(t[5]=l=>A(m)?m.value=l:null),"max-width":"500"},{default:o(()=>[e(j,null,{default:o(()=>[e(P,null,{default:o(()=>[oe]),_:1}),e(Z,null,{default:o(()=>[e(K,{onSubmit:L(r.HandleSubmitEdit,["prevent"])},{default:o(()=>[e(Q,{modelValue:a(i).uf,"onUpdate:modelValue":t[0]||(t[0]=l=>a(i).uf=l),items:a(g),class:"mb-5","item-title":"descricao","item-value":"sigla",label:"UF",required:"",outlined:""},null,8,["modelValue","items"]),e(y,{modelValue:a(i).cor,"onUpdate:modelValue":t[1]||(t[1]=l=>a(i).cor=l),label:"Cor",required:"",outlined:""},null,8,["modelValue"]),e(y,{modelValue:a(i).descricao,"onUpdate:modelValue":t[2]||(t[2]=l=>a(i).descricao=l),label:"Descrição",required:"",outlined:""},null,8,["modelValue"]),e(D,{required:"",modelValue:a(i).vlr_compra,"onUpdate:modelValue":t[3]||(t[3]=l=>a(i).vlr_compra=l)},null,8,["modelValue"]),e(x,null,{default:o(()=>[e(C,{type:"submit",color:"green",size:"large"},{default:o(()=>[$("Salvar")]),_:1}),e(C,{color:"red",size:"large",onClick:t[4]||(t[4]=l=>m.value=!1)},{default:o(()=>[$("Cancelar")]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{Ve as default};
