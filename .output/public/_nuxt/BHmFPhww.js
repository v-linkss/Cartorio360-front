import{_ as N}from"./BwUEpsib.js";import{n as P,r as f,B as R,Q as A,x as d,o as p,v as B,w as i,G as T,z as U,b as a,a as s,V as x,C as y,c as V}from"./BEd1cr51.js";import{a as E,u as F}from"./D8N2zCOm.js";import{V as G,_ as I,c as J,a as j,b as Q}from"./BaWtNHOH.js";import{_ as S}from"./Cbd4pulh.js";import{V as X}from"./RSWOkkjW.js";import{V as g}from"./CrN9gLBw.js";import"./DUNWT362.js";import"./D4y7GR1l.js";import"./qGN1dptX.js";import"./C2ikpqBy.js";const q=s("img",{style:{cursor:"pointer"},src:I,alt:"Cadastro"},null,-1),H={style:{width:"200px"}},K={style:{width:"300px"}},M=["onClick"],O=s("img",{style:{width:"30px",height:"30px"},src:S,alt:"Visualizar"},null,-1),W=[O],Y=["onClick"],Z=s("img",{style:{width:"30px",height:"30px"},src:J,alt:"Atualizar"},null,-1),ee=[Z],te=["onClick"],oe={key:0,style:{width:"30px",height:"30px"},src:j,alt:"Visualizar",title:"Reativar"},se={key:1,src:Q,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},fe={__name:"index",async setup(ae){let n,m;const _=U(),v=`${_.public.managemant}/getAllPessoa`,w=`${_.public.managemant}/updatePessoa`,h=P(),l=f(""),c=f(""),C=[{title:"Documento",value:"doc_identificacao"},{title:"Nome/RazÃ£o Social",value:"nome"},{value:"actions"}],{data:k,pending:$}=([n,m]=R(()=>E(v,"$Jxa9V4cJXG")),n=await n,m(),n),z=A(()=>k.value.filter(e=>{const o=e.doc_identificacao?e.doc_identificacao.toLowerCase():"",u=e.nome?e.nome.toLowerCase():"",t=o.includes(c.value.toLowerCase()),r=u.includes(l.value.toLowerCase());return t&&r}));async function b(e){e.excluido=!e.excluido;try{await F(`${w}/${e.id}`,{method:"PUT",body:{excluido:e.excluido}},"$yehyeyA3ii")}catch(o){console.error("Erro ao excluir pessoa:",o)}}function L(e){h.push({path:`/pessoas/vizualizar/${e}`})}function D(e){h.push({path:`/pessoas/atualizar/${e}`})}return(e,o)=>{const u=N;return d($)?T("",!0):(p(),B(X,{key:0,class:"mt-5"},{default:i(()=>[a(u,{to:"/pessoas/cadastro"},{default:i(()=>[q]),_:1}),a(g,{style:{gap:"10rem"}},{default:i(()=>[s("div",H,[a(x,{class:"mt-7 mb-4",modelValue:d(c),"onUpdate:modelValue":o[0]||(o[0]=t=>y(c)?c.value=t:null),label:"Documento","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])]),s("div",K,[a(x,{class:"mt-7 mb-4",modelValue:d(l),"onUpdate:modelValue":o[1]||(o[1]=t=>y(l)?l.value=t:null),label:"Pessoa","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":"","single-line":""},null,8,["modelValue"])])]),_:1}),a(G,{density:"compact",headers:C,items:d(z),"item-key":"id"},{"item.actions":i(({item:t})=>[a(g,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:i(()=>[s("div",{style:{cursor:"pointer"},onClick:r=>L(t.id),title:"Visualizar"},W,8,M),s("div",{style:{cursor:"pointer"},onClick:r=>D(t.id),title:"Atualizar"},ee,8,Y),s("div",{style:{cursor:"pointer"},onClick:r=>b(t),title:"Deletar"},[t.excluido?(p(),V("img",oe)):(p(),V("img",se))],8,te)]),_:2},1024)]),_:1},8,["items"])]),_:1}))}}};export{fe as default};
