import{d as x}from"./Cm0eVwjU.js";import{r as p,g as B,o as C,q as T,w as t,b as o,d as c,a as $,v as b,H as g,F,s as R}from"./DaneSYc1.js";import{u as V}from"./DJoYMKY3.js";import{a as j,b as q,d as O,V as P}from"./DwKQgpcP.js";const M={class:"d-flex justify-center align-center"},z={__name:"FichaCard",props:{show:Boolean,item:Object},emits:["close","confirmar"],setup(k,{emit:v}){const s=k,u=R(),w=`${u.public.managemant}/getLinkTipo`,h=`${u.public.managemant}/download`,i=p(s.show),n=p(),d=v;B(()=>s.show,async a=>{i.value=a,n.value=null,await y()});const _=()=>{d("confirmar"),m()},y=async()=>{var f;if(!s.item.id)return;const{data:a}=await V(w,{method:"POST",body:{tipo:"ficha",id:s.item.id}},"$4omB3S9Tg3");if(!((f=a.value)!=null&&f.link))return;const{data:e}=await V(h,{method:"POST",body:{bucket:"qvgjz",path:a.value.link}},"$yanMHqBuqW"),r=a.value.link,l=e.value;/\.(tr7|tiff)$/i.test(r)?n.value=l:fotoRender.value=`data:image/jpeg;base64,${l}`},m=()=>{i.value=!1,n.value=null,d("close")};return(a,e)=>{const r=x;return C(),T(P,{persistent:"",modelValue:b(i),"onUpdate:modelValue":e[0]||(e[0]=l=>F(i)?i.value=l:null),"max-width":"550"},{default:t(()=>[o(j,null,{default:t(()=>[o(q,{class:"text-h5"},{default:t(()=>e[1]||(e[1]=[c("Ficha de Firma")])),_:1}),$("div",M,[o(r,{"tiff-url":b(n),"is-modal":!0},null,8,["tiff-url"])]),o(O,null,{default:t(()=>[o(g,{style:{"background-color":"#429946",color:"white"},onClick:_},{default:t(()=>e[2]||(e[2]=[c("Reconhecer")])),_:1}),o(g,{style:{"background-color":"red",color:"white"},onClick:m},{default:t(()=>e[3]||(e[3]=[c("Voltar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{z as _};
