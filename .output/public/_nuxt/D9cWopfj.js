import{_ as de}from"./BZbDmwhG.js";import{L as ue,a3 as Ee,a4 as Re,N as ce,a5 as We,r as j,E as le,Q as me,z as ie,b as a,F as pe,A as Y,a6 as Le,a7 as Ge,a8 as He,a9 as Je,O as Oe,aa as Ye,ab as Ze,ac as Xe,ad as Ke,ae as Qe,af as J,ag as ea,ah as aa,ai as Ce,T as ta,aj as oa,x as t,_ as De,Y as sa,n as fe,u as F,$ as _e,I as $e,a0 as Te,o as E,c as G,G as B,a1 as ra,t as la,J as z,w as l,K as D,a2 as re,a as k,s as ve,p as ia,e as na,ak as Ue,q as da,V as ua,v as ca,y as te,B as ma,d as X,C as pa}from"./mojXBOLn.js";import{b as Ve,u as Z}from"./CyECj4U3.js";import{V as U,_ as se}from"./D2reQQng.js";import{_ as Be}from"./37abXc2X.js";import{u as he}from"./Bj37bKZC.js";import{V as h}from"./Cawe7E8A.js";import{V as L}from"./RpsO_yR7.js";import{V as ee}from"./DUqVQbic.js";import{_ as ze,a as je,b as Ae}from"./BEyxUtmI.js";import{_ as ye}from"./L4ZI-Rra.js";import{_ as fa,V as _a,a as va}from"./DNz7WqVn.js";import{V as ga}from"./Dso8kxDh.js";import{V as Fe}from"./IXGbn4ON.js";import{m as ba,V as ke,a as $a,b as Ie}from"./bCGMTdJ-.js";const xe=Symbol.for("vuetify:v-tabs"),Va=ue({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Ee(Re({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),K=ce()({name:"VTab",props:Va(),setup(e,s){let{slots:r,attrs:o}=s;const{textColorClasses:n,textColorStyles:V}=We(e,"sliderColor"),y=j(),I=j(),O=le(()=>e.direction==="horizontal"),w=le(()=>{var S,$;return(($=(S=y.value)==null?void 0:S.group)==null?void 0:$.isSelected.value)??!1});function _(S){var m,x;let{value:$}=S;if($){const b=(x=(m=y.value)==null?void 0:m.$el.parentElement)==null?void 0:x.querySelector(".v-tab--selected .v-tab__slider"),f=I.value;if(!b||!f)return;const T=getComputedStyle(b).color,c=b.getBoundingClientRect(),i=f.getBoundingClientRect(),p=O.value?"x":"y",u=O.value?"X":"Y",P=O.value?"right":"bottom",d=O.value?"width":"height",M=c[p],ae=i[p],C=M>ae?c[P]-i[P]:c[p]-i[p],v=Math.sign(C)>0?O.value?"right":"bottom":Math.sign(C)<0?O.value?"left":"top":"center",W=(Math.abs(C)+(Math.sign(C)<0?c[d]:i[d]))/Math.max(c[d],i[d])||0,g=c[d]/i[d]||0,N=1.5;Ge(f,{backgroundColor:[T,"currentcolor"],transform:[`translate${u}(${C}px) scale${u}(${g})`,`translate${u}(${C/N}px) scale${u}(${(W-1)/N+1})`,"none"],transformOrigin:Array(3).fill(v)},{duration:225,easing:He})}}return me(()=>{const S=ie.filterProps(e);return a(ie,Y({symbol:xe,ref:y,class:["v-tab",e.class],style:e.style,tabindex:w.value?0:-1,role:"tab","aria-selected":String(w.value),active:!1},S,o,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":_}),{...r,default:()=>{var $;return a(pe,null,[(($=r.default)==null?void 0:$.call(r))??e.text,!e.hideSlider&&a("div",{ref:I,class:["v-tab__slider",n.value],style:V.value},null)])}})}),Le({},y)}}),ha=ue({...Ee(ba(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Me=ce()({name:"VTabsWindow",props:ha(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:r}=s;const o=Je(xe,null),n=Oe(e,"modelValue"),V=le({get(){var y;return n.value!=null||!o?n.value:(y=o.items.value.find(I=>o.selected.value.includes(I.id)))==null?void 0:y.value},set(y){n.value=y}});return me(()=>{const y=ke.filterProps(e);return a(ke,Y({_as:"VTabsWindow"},y,{modelValue:V.value,"onUpdate:modelValue":I=>V.value=I,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),r)}),{}}}),ya=ue({...$a()},"VTabsWindowItem"),Q=ce()({name:"VTabsWindowItem",props:ya(),setup(e,s){let{slots:r}=s;return me(()=>{const o=Ie.filterProps(e);return a(Ie,Y({_as:"VTabsWindowItem"},o,{class:["v-tabs-window-item",e.class],style:e.style}),r)}),{}}});function xa(e){return e?e.map(s=>oa(s)?s:{text:s,value:s}):[]}const wa=ue({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ye({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Ze(),...Xe()},"VTabs"),Ca=ce()({name:"VTabs",props:wa(),emits:{"update:modelValue":e=>!0},setup(e,s){let{attrs:r,slots:o}=s;const n=Oe(e,"modelValue"),V=le(()=>xa(e.items)),{densityClasses:y}=Ke(e),{backgroundColorClasses:I,backgroundColorStyles:O}=Qe(J(e,"bgColor")),{scopeId:w}=ea();return aa({VTab:{color:J(e,"color"),direction:J(e,"direction"),stacked:J(e,"stacked"),fixed:J(e,"fixedTabs"),sliderColor:J(e,"sliderColor"),hideSlider:J(e,"hideSlider")}}),me(()=>{const _=Ce.filterProps(e),S=!!(o.window||e.items.length>0);return a(pe,null,[a(Ce,Y(_,{modelValue:n.value,"onUpdate:modelValue":$=>n.value=$,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},y.value,I.value,e.class],style:[{"--v-tabs-height":ta(e.height)},O.value,e.style],role:"tablist",symbol:xe},w,r),{default:()=>{var $;return[(($=o.default)==null?void 0:$.call(o))??V.value.map(m=>{var x;return((x=o.tab)==null?void 0:x.call(o,{item:m}))??a(K,Y(m,{key:m.text,value:m.value}),{default:o[`tab.${m.value}`]?()=>{var b;return(b=o[`tab.${m.value}`])==null?void 0:b.call(o,{item:m})}:void 0})})]}}),S&&a(Me,Y({modelValue:n.value,"onUpdate:modelValue":$=>n.value=$,key:"tabs-window"},w),{default:()=>{var $;return[V.value.map(m=>{var x;return((x=o.item)==null?void 0:x.call(o,{item:m}))??a(Q,{value:m.value},{default:()=>{var b;return(b=o[`item.${m.value}`])==null?void 0:b.call(o,{item:m})}})}),($=o.window)==null?void 0:$.call(o)]}})])}),{}}});function Pe(e,s){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);s&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function oe(e){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?Pe(Object(r),!0).forEach(function(o){ka(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function ka(e,s,r){return s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r,e}function ne(e){return typeof e=="function"}function be(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function ge(e){return ne(e.$validator)?oe({},e):{$validator:e}}function Ne(e){return typeof e=="object"?e.$valid:e}function qe(e){return e.$validator||e}function Ia(e,s){if(!be(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!be(s)&&!ne(s))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const r=ge(s);return r.$params=oe(oe({},r.$params||{}),e),r}function Pa(e,s){if(!ne(e)&&typeof t(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!be(s)&&!ne(s))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const r=ge(s);return r.$message=e,r}function Sa(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=ge(e);return oe(oe({},r),{},{$async:!0,$watchTargets:s})}function Ea(e){return{$validator(s){for(var r=arguments.length,o=new Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];return t(s).reduce((V,y,I)=>{const O=Object.entries(y).reduce((w,_)=>{let[S,$]=_;const m=e[S]||{},x=Object.entries(m).reduce((b,f)=>{let[T,c]=f;const p=qe(c).call(this,$,y,I,...o),u=Ne(p);if(b.$data[T]=p,b.$data.$invalid=!u||!!b.$data.$invalid,b.$data.$error=b.$data.$invalid,!u){let P=c.$message||"";const d=c.$params||{};typeof P=="function"&&(P=P({$pending:!1,$invalid:!u,$params:d,$model:$,$response:p})),b.$errors.push({$property:S,$message:P,$params:d,$response:p,$model:$,$pending:!1,$validator:T})}return{$valid:b.$valid&&u,$data:b.$data,$errors:b.$errors}},{$valid:!0,$data:{},$errors:[]});return w.$data[S]=x.$data,w.$errors[S]=x.$errors,{$valid:w.$valid&&x.$valid,$data:w.$data,$errors:w.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:V.$valid&&O.$valid,$data:V.$data.concat(O.$data),$errors:V.$errors.concat(O.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:s=>{let{$response:r}=s;return r?r.$errors.map(o=>Object.values(o).map(n=>n.map(V=>V.$message)).reduce((n,V)=>n.concat(V),[])):[]}}}const we=e=>{if(e=t(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let s in e)return!0;return!1}return!!String(e).length},Oa=e=>(e=t(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function H(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=>(o=t(o),!we(o)||s.every(n=>(n.lastIndex=0,n.test(o))))}var A=Object.freeze({__proto__:null,forEach:Ea,len:Oa,normalizeValidatorObject:ge,regex:H,req:we,unwrap:t,unwrapNormalizedValidator:qe,unwrapValidatorResponse:Ne,withAsync:Sa,withMessage:Pa,withParams:Ia});H(/^[a-zA-Z]*$/);H(/^[a-zA-Z0-9]*$/);H(/^\d*(\.\d+)?$/);const Da=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;H(Da);function Ta(e){return typeof e=="string"&&(e=e.trim()),we(e)}var q={$validator:Ta,$message:"Value is required",$params:{type:"required"}};const Ua=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;H(Ua);H(/(^[0-9]*$)|(^-[0-9]+$)/);H(/^[-]?\d*(\.\d+)?$/);const Se=A.withMessage("CPF inválido",e=>{if(!e)return!1;const s=e.replace(/[^\d]+/g,"");if(s.length!==11||/^(\d)\1+$/.test(s))return!1;let r=0;for(let n=0;n<9;n++)r+=parseInt(s.charAt(n))*(10-n);let o=11-r%11;if((o===10||o===11)&&(o=0),o!==parseInt(s.charAt(9)))return!1;r=0;for(let n=0;n<10;n++)r+=parseInt(s.charAt(n))*(11-n);return o=11-r%11,(o===10||o===11)&&(o=0),o===parseInt(s.charAt(10))}),Ba=e=>(ia("data-v-431eaa1b"),e=e(),na(),e),za={key:1},ja=Ba(()=>k("img",{class:"btn-pointer",src:se,alt:"Sair"},null,-1)),Aa={__name:"Dados",emits:["saved"],async setup(e,{emit:s}){let r,o;const n=s,V=sa(),{$toast:y}=fe(),I=ve(),O=`${I.public.managemant}/createPessoa`,w=`${I.public.managemant}/updatePessoa`,_=`${I.public.managemant}/listarEstadoCivil`,S=`${I.public.managemant}/listarCapacidadeCivil`,$=`${I.public.managemant}/listarCidades`,m={nome:"",nome_pai:"",nome_mae:"",profissao:"",local_trabalho:"",data_nascimento:"",doc_identificacao:"",cpf_pai:"",cpf_mae:"",local_trabalho:"",tipo_pessoa:"FISICA",tabvalores_estadocivil_id:"",tabvalores_capacidadecivil_id:"",cidade_natural_id:"",cartorio_id:F("user-data").value.cartorio_id,user_id:F("user-data").value.usuario_id},x=j(!1),b=F("pessoa-id"),f=_e({...m});function T(C){if(C)return C.replace(/[.\-]/g,"");C=null}const{data:c,status:i,pending:p,error:u}=([r,o]=$e(async()=>Ve("cliente-dados",async()=>{const[C,v,R]=await Promise.all([$fetch(_),$fetch(S),$fetch($)]);return{estadoCivilItems:C,capacidadeCivilItems:v,cidadeNascimentoItems:R}})),r=await r,o(),r),P={nome:{required:A.withMessage("O campo é obrigatorio",q)},nome_mae:{required:A.withMessage("O campo é obrigatorio",q)},doc_identificacao:{required:A.withMessage("O campo é obrigatorio",q),cpf:Se},cpf_mae:{required:A.withMessage("O campo é obrigatorio",q),cpf:Se}},d=he(P,f);async function M(){if(await d.value.$validate()){const C={...f};for(const N in C)C[N]===""&&(C[N]=null);const v={...C,doc_identificacao:T(f.doc_identificacao),cpf_pai:T(f.cpf_pai),cpf_mae:T(f.cpf_mae)},{data:R,error:W,status:g}=await Z(O,{method:"POST",body:v},"$fcbWHpl5XR");if(g.value==="error"&&W.value.statusCode===500)y.error("Erro ao cadastrar documento,o CPF já existe no banco");else{y.success("Pessoa cadastrada com sucesso!");const N=R.value.id;b.value=N,n("saved"),x.value=!0}}else y.error("Erro ao cadastrar pessoa, preencha os campos obrigatorios.")}async function ae(){const C={...f};for(const N in C)C[N]===""&&(C[N]=null);const v={...C,doc_identificacao:T(f.doc_identificacao),cpf_mae:T(f.cpf_mae)},{data:R,error:W,status:g}=await Z(`${w}/${b.value}`,{method:"PUT",body:v},"$S30ZRYxneo");g.value==="error"&&W.value.statusCode===500?y.error("Erro ao cadastrar documento,o CPF já existe no banco"):(y.success("Pessoa atualizada com sucesso!"),V.push("/pessoas/registros"))}return(C,v)=>{const R=de,W=Te("mask");return E(),G(pe,null,[t(p)?(E(),B(ra,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):t(u)?(E(),G("div",za,la(t(u).message),1)):z("",!0),t(p)?z("",!0):(E(),B(ee,{key:2,class:"mt-5"},{default:l(()=>[a(U,null,{default:l(()=>[a(h,{cols:"12",md:"8"},{default:l(()=>[a(D,{modelValue:f.nome,"onUpdate:modelValue":v[0]||(v[0]=g=>f.nome=g),"error-messages":t(d).nome.$errors.map(g=>g.$message),label:"Nome",required:"",onBlur:t(d).nome.$touch,onInput:t(d).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),a(h,{cols:"12",md:"4"},{default:l(()=>[re(a(D,{modelValue:f.doc_identificacao,"onUpdate:modelValue":v[1]||(v[1]=g=>f.doc_identificacao=g),"error-messages":t(d).doc_identificacao.$errors.map(g=>g.$message),label:"CPF",required:"",onBlur:t(d).doc_identificacao.$touch,onInput:t(d).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[W,"###.###.###-##"]])]),_:1})]),_:1}),a(U,null,{default:l(()=>[a(h,{cols:"12",md:"4"},{default:l(()=>[a(L,{modelValue:f.tabvalores_estadocivil_id,"onUpdate:modelValue":v[2]||(v[2]=g=>f.tabvalores_estadocivil_id=g),items:t(c).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),a(h,{cols:"12",md:"4"},{default:l(()=>[a(D,{modelValue:f.profissao,"onUpdate:modelValue":v[3]||(v[3]=g=>f.profissao=g),label:"Profissão"},null,8,["modelValue"])]),_:1}),a(h,{cols:"12",md:"4"},{default:l(()=>[a(D,{modelValue:f.local_trabalho,"onUpdate:modelValue":v[4]||(v[4]=g=>f.local_trabalho=g),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),a(U,null,{default:l(()=>[a(h,{cols:"12",md:"4"},{default:l(()=>[a(D,{modelValue:f.data_nascimento,"onUpdate:modelValue":v[5]||(v[5]=g=>f.data_nascimento=g),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),a(h,{cols:"12",md:"4"},{default:l(()=>[a(L,{modelValue:f.tabvalores_capacidadecivil_id,"onUpdate:modelValue":v[6]||(v[6]=g=>f.tabvalores_capacidadecivil_id=g),items:t(c).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),a(h,{cols:"12",md:"4"},{default:l(()=>[a(L,{modelValue:f.cidade_natural_id,"onUpdate:modelValue":v[7]||(v[7]=g=>f.cidade_natural_id=g),items:t(c).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),a(U,null,{default:l(()=>[a(h,{cols:"12",md:"4"},{default:l(()=>[re(a(D,{modelValue:f.cpf_pai,"onUpdate:modelValue":v[8]||(v[8]=g=>f.cpf_pai=g),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[W,"###.###.###-##"]])]),_:1}),a(h,{cols:"12",md:"4"},{default:l(()=>[a(D,{modelValue:f.nome_pai,"onUpdate:modelValue":v[9]||(v[9]=g=>f.nome_pai=g),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),a(U,null,{default:l(()=>[a(h,{cols:"12",md:"4"},{default:l(()=>[re(a(D,{modelValue:f.cpf_mae,"onUpdate:modelValue":v[10]||(v[10]=g=>f.cpf_mae=g),modelModifiers:{date:!0},"error-messages":t(d).cpf_mae.$errors.map(g=>g.$message),label:"CPF da Mãe",required:"",onBlur:t(d).cpf_mae.$touch,onInput:t(d).cpf_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[W,"###.###.###-##"]])]),_:1}),a(h,{cols:"12",md:"4"},{default:l(()=>[a(D,{modelValue:f.nome_mae,"onUpdate:modelValue":v[11]||(v[11]=g=>f.nome_mae=g),modelModifiers:{date:!0},"error-messages":t(d).nome_mae.$errors.map(g=>g.$message),label:"Nome da Mãe",required:"",onBlur:t(d).nome_mae.$touch,onInput:t(d).nome_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),a(U,null,{default:l(()=>[a(R,{to:"/pessoas/registros"},{default:l(()=>[ja]),_:1}),k("img",{class:"btn-pointer",src:Be,onClick:v[12]||(v[12]=g=>x.value?ae():M())})]),_:1})]),_:1}))],64)}}},Fa=De(Aa,[["__scopeId","data-v-431eaa1b"]]),Ma=["onClick"],Na=k("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ae,alt:"Visualizar"},null,-1),qa=[Na],Ra=["onClick"],Wa={key:0,style:{width:"40px",height:"40px",cursor:"pointer"},src:je,alt:"Visualizar",title:"Reativar"},La={key:1,src:ye,alt:"Excluir",class:"trash-icon",style:{width:"40px",height:"40px",cursor:"pointer"},title:"Excluir"},Ga=k("img",{class:"btn-pointer",src:se,alt:"Sair"},null,-1),Ha={__name:"Documentos",async setup(e){let s,r;const{$toast:o}=fe(),n=ve(),V=`${n.public.managemant}/listarTipoDocumento`,y=`${n.public.managemant}/listarUF`,I=`${n.public.managemant}/getPessoaDocById`,O=`${n.public.managemant}/createPessoaDoc`,w=`${n.public.managemant}/updatePessoaDoc`,_=_e({tabvalores_tipodoc_id:"",emissor:"",validade:"",numero:"",data_emissao:"",data_vencimento:"",tabvalores_ufemissor_id:"",user_id:F("user-data").value.usuario_id,pessoa_id:F("pessoa-id").value}),S=[{title:"Tipo",value:"tipoDocumento.descricao"},{title:"Número",value:"numero"},{title:"Emissor",value:"emissor"},{title:"UF",value:"ufEmissor.descricao"},{title:"Emissão",value:"data_emissao"},{title:"Validade",value:"data_vencimento"},{value:"actions"}],$={numero:{required:A.withMessage("O campo é obrigatorio",q)},emissor:{required:A.withMessage("O campo é obrigatorio",q)}},m=he($,_),{data:x,pending:b}=([s,r]=$e(async()=>Ve("cliente-documentos",async()=>{const[c,i,p]=await Promise.all([$fetch(V),$fetch(y),$fetch(`${I}/${F("pessoa-id").value}`)]);return{tipoDocumentoItems:c,ufItems:i,pessoasDocsItems:p}})),s=await s,r(),s);async function f(){if(await m.value.$validate()){const c={..._};for(const d in c)c[d]===""&&(c[d]=null);const i={...c},{data:p,error:u,status:P}=await Z(O,{method:"POST",body:i},"$cLGZtMLuJD");P.value==="error"&&u.value.statusCode===500?o.error("Erro ao cadastrar documento,falta de id obrigatorios."):(x.value.pessoasDocsItems.push(p.value),o.success("Documento cadastrado com sucesso!"),Object.assign(_,{tabvalores_tipodoc_id:"",emissor:"",validade:"",numero:"",data_emissao:"",data_vencimento:"",tabvalores_ufemissor_id:""}))}else o.error("Erro ao cadastrar documento, preencha os campos obrigatorios.")}async function T(c){c.excluido=!c.excluido;try{await Z(`${w}/${c.id}`,{method:"PUT",body:JSON.stringify({excluido:c.excluido})},"$2fkU5kgcxs")}catch(i){console.error("Erro ao excluir pessoa:",i)}}return(c,i)=>{const p=de;return t(b)?z("",!0):(E(),B(ee,{key:0,class:"mt-5"},{default:l(()=>[a(U,null,{default:l(()=>[a(h,{md:"2"},{default:l(()=>[a(L,{modelValue:t(_).tabvalores_tipodoc_id,"onUpdate:modelValue":i[0]||(i[0]=u=>t(_).tabvalores_tipodoc_id=u),items:t(x).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),a(h,null,{default:l(()=>[a(D,{modelValue:t(_).numero,"onUpdate:modelValue":i[1]||(i[1]=u=>t(_).numero=u),"error-messages":t(m).numero.$errors.map(u=>u.$message),label:"Numero",required:"",onBlur:t(m).numero.$touch,onInput:t(m).numero.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),a(h,{md:"2"},{default:l(()=>[a(D,{modelValue:t(_).emissor,"onUpdate:modelValue":i[2]||(i[2]=u=>t(_).emissor=u),"error-messages":t(m).emissor.$errors.map(u=>u.$message),required:"",onBlur:t(m).emissor.$touch,onInput:t(m).emissor.$touch,label:"Emissor"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),a(h,null,{default:l(()=>[a(L,{modelValue:t(_).tabvalores_ufemissor_id,"onUpdate:modelValue":i[3]||(i[3]=u=>t(_).tabvalores_ufemissor_id=u),items:t(x).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),a(h,{md:"2"},{default:l(()=>[a(D,{modelValue:t(_).data_emissao,"onUpdate:modelValue":i[4]||(i[4]=u=>t(_).data_emissao=u),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),a(h,{md:"2"},{default:l(()=>[a(D,{modelValue:t(_).data_vencimento,"onUpdate:modelValue":i[5]||(i[5]=u=>t(_).data_vencimento=u),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1}),k("div",{class:"mt-3"},[k("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:ze,alt:"novo",onClick:f})])]),_:1}),a(Ue,{headers:S,items:t(x).pessoasDocsItems,"item-key":"name"},{"item.actions":l(({item:u})=>[a(U,null,{default:l(()=>[k("div",{onClick:P=>c.redirectToUpdate(u.id),title:"Visualizar"},qa,8,Ma),k("div",{onClick:P=>T(u),title:"Visualizar"},[u.excluido?(E(),G("img",Wa)):(E(),G("img",La))],8,Ra)]),_:2},1024)]),_:1},8,["items"]),a(p,{to:"/pessoas/registros"},{default:l(()=>[Ga]),_:1})]),_:1}))}}},Ja=["onClick"],Ya=k("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ae,alt:"Visualizar"},null,-1),Za=[Ya],Xa=["onClick"],Ka={key:0,style:{width:"40px",height:"40px",cursor:"pointer"},src:je,alt:"Visualizar",title:"Reativar"},Qa={key:1,src:ye,alt:"Excluir",class:"trash-icon",style:{width:"40px",height:"40px",cursor:"pointer"},title:"Excluir"},et=k("img",{class:"btn-pointer",src:se,alt:"Sair"},null,-1),at={__name:"Endereco",async setup(e){let s,r;const{$toast:o}=fe(),n=ve(),V=`${n.public.managemant}/listarPais`,y=`${n.public.managemant}/getPessoaEnderecoById`,I=`${n.public.managemant}/listarCidades`,O=`${n.public.managemant}/createPessoaEndereco`,w=`${n.public.managemant}/updatePessoaEndereco`,_=_e({tabvalores_pais_id:"",cidade_id:"",codcep:"",logradouro:"",numero:"",bairro:"",user_id:F("user-data").value.usuario_id,pessoa_id:F("pessoa-id").value}),S=[{title:"País",value:"pais.descricao"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro"},{title:"N*",value:"numero"},{title:"Bairro",value:"bairro"},{title:"Cidade",value:"cidades.nome"},{value:"actions"}],$={numero:{required:A.withMessage("O campo é obrigatorio",q)},bairro:{required:A.withMessage("O campo é obrigatorio",q)},logradouro:{required:A.withMessage("O campo é obrigatorio",q)},codcep:{required:A.withMessage("O campo é obrigatorio e precisa de 8 digitos",q)}},m=he($,_),{data:x,status:b,pending:f}=([s,r]=$e(async()=>Ve("cliente-enderecos",async()=>{const[i,p,u]=await Promise.all([$fetch(V),$fetch(`${y}/${F("pessoa-id").value}`),$fetch(I)]);return{paisItems:i,enderecosItems:p,cidadesItems:u}})),s=await s,r(),s);async function T(){if(await m.value.$validate()){const i={..._};for(const M in i)i[M]===""&&(i[M]=null);const p={...i},{data:u,error:P,status:d}=await Z(O,{method:"POST",body:p},"$xTfPNGciav");d.value==="error"&&P.value.statusCode===500?(o.error("Erro ao cadastrar endereço,falta de id obrigatorios."),console.log(p)):(x.value.enderecosItems.push(u.value),o.success("Endereço cadastrado com sucesso!"),Object.assign(_,{tabvalores_pais_id:"",cidade_id:"",codcep:"",logradouro:"",numero:"",bairro:"",data_vencimento:"",tabvalores_ufemissor_id:""}))}else o.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}async function c(i){i.excluido=!i.excluido;try{await Z(`${w}/${i.id}`,{method:"PUT",body:JSON.stringify({excluido:i.excluido})},"$DfOGkJVB8l")}catch(p){console.error("Erro ao excluir pessoa:",p)}}return(i,p)=>{const u=de,P=Te("mask");return t(f)?z("",!0):(E(),B(ee,{key:0,class:"mt-5"},{default:l(()=>[a(U,null,{default:l(()=>[a(h,{md:"2"},{default:l(()=>[a(L,{modelValue:t(_).tabvalores_pais_id,"onUpdate:modelValue":p[0]||(p[0]=d=>t(_).tabvalores_pais_id=d),items:t(x).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),a(h,null,{default:l(()=>[re(a(D,{modelValue:t(_).codcep,"onUpdate:modelValue":p[1]||(p[1]=d=>t(_).codcep=d),"error-messages":t(m).codcep.$errors.map(d=>d.$message),required:"",onBlur:t(m).codcep.$touch,onInput:t(m).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"]),[[P,"########"]])]),_:1}),a(h,{md:"2"},{default:l(()=>[a(D,{modelValue:t(_).logradouro,"onUpdate:modelValue":p[2]||(p[2]=d=>t(_).logradouro=d),label:"Endereço","error-messages":t(m).logradouro.$errors.map(d=>d.$message),required:"",onBlur:t(m).logradouro.$touch,onInput:t(m).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),a(h,{md:"1"},{default:l(()=>[a(D,{modelValue:t(_).numero,"onUpdate:modelValue":p[3]||(p[3]=d=>t(_).numero=d),"error-messages":t(m).numero.$errors.map(d=>d.$message),required:"",onBlur:t(m).numero.$touch,onInput:t(m).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),a(h,{md:"2"},{default:l(()=>[a(D,{modelValue:t(_).bairro,"onUpdate:modelValue":p[4]||(p[4]=d=>t(_).bairro=d),"error-messages":t(m).bairro.$errors.map(d=>d.$message),required:"",onBlur:t(m).bairro.$touch,onInput:t(m).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),a(h,{md:"2"},{default:l(()=>[a(L,{modelValue:t(_).cidade_id,"onUpdate:modelValue":p[5]||(p[5]=d=>t(_).cidade_id=d),items:t(x).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),k("div",{class:"mt-3"},[k("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:ze,alt:"novo",onClick:T})])]),_:1}),a(Ue,{headers:S,items:t(x).enderecosItems,"item-key":"name"},{"item.actions":l(({item:d})=>[a(U,null,{default:l(()=>[k("div",{onClick:M=>i.redirectToUpdate(d.id),title:"Visualizar"},Za,8,Ja),k("div",{onClick:M=>c(d),title:"Visualizar"},[d.excluido?(E(),G("img",Ka)):(E(),G("img",Qa))],8,Xa)]),_:2},1024)]),_:1},8,["items"]),a(u,{to:"/pessoas/registros"},{default:l(()=>[et]),_:1})]),_:1}))}}},tt=k("img",{src:va},null,-1),ot=k("img",{style:{cursor:"pointer"},src:se,alt:"Excluir"},null,-1),st=[ot],rt=k("img",{style:{cursor:"pointer"},src:Be,alt:"Salvar"},null,-1),lt=[rt],it=k("img",{class:"btn-pointer",src:ye,alt:"Excluir"},null,-1),nt=k("img",{class:"mt-15",src:se,alt:"Sair"},null,-1),dt={__name:"Biometria",setup(e){const s=j(null),r=j([]),o=j(""),n=j(!1),V=j(1),I=F("auth_token").value,w=F("user-data").value.nome,S=ve().public.minioUploadFaceIdUrl,{$toast:$}=fe(),m=async()=>{const c=await navigator.mediaDevices.enumerateDevices();r.value=c.filter(i=>i.kind==="videoinput").map(i=>({deviceId:i.deviceId,label:i.label||`Camera ${r.value.length+1}`}))},x=async()=>{n.value=!0;try{await navigator.mediaDevices.getUserMedia({video:!0}),await m()}catch(c){console.error("Erro ao acessar dispositivos de mídia:",c)}},b=()=>{n.value=!1;const c=s.value.srcObject;c&&c.getTracks().forEach(p=>p.stop())},f=async()=>{if(o.value){const c=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:o.value}}});s.value.srcObject=c}},T=async()=>{const c=document.createElement("canvas"),i=c.getContext("2d"),p=s.value.videoWidth,u=s.value.videoHeight,P=p*V.value,d=u*V.value,M=(p-P)/2,ae=(u-d)/2;c.width=p,c.height=u,i.drawImage(s.value,M,ae,P,d),c.toBlob(async C=>{const v=new FormData;v.append("file",C,`${w}.jpg`),v.append("pessoa_token",I);const{status:R}=await Z(S,{method:"POST",body:v},"$Rc7uHa9zmE");R.value==="success"?($.success("Imagem enviada!"),b()):$.error("Erro ao enviar imagem para o sistema.")},"image/jpeg")};return da(async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await m()}catch(c){console.error("Erro ao acessar dispositivos de mídia:",c)}}),(c,i)=>{const p=de;return E(),G(pe,null,[a(U,{class:"d-flex align-items-center justify-space-between"},{default:l(()=>[a(h,{cols:"auto"},{default:l(()=>[a(ua,{src:fa,width:500,class:"mr-4"})]),_:1}),a(ca),a(h,{cols:"auto"},{default:l(()=>[a(ga,{"max-width":"700",modelValue:t(n),"onUpdate:modelValue":i[2]||(i[2]=u=>te(n)?n.value=u:null)},{activator:l(({props:u})=>[a(ie,Y(u,{variant:"outlined",style:{width:"300px",height:"300px"},onClick:x}),{default:l(()=>[tt]),_:2},1040)]),default:l(({isActive:u})=>[a(Fe,{title:"Biometria"},{default:l(()=>[a(U,null,{default:l(()=>[a(h,null,{default:l(()=>[a(ma,{items:t(r),modelValue:t(o),"onUpdate:modelValue":i[0]||(i[0]=P=>te(o)?o.value=P:null),"item-title":"label","item-value":"deviceId",label:"Selecionar Webcam"},null,8,["items","modelValue"])]),_:1})]),_:1}),a(U,null,{default:l(()=>[a(h,null,{default:l(()=>[a(ie,{onClick:f},{default:l(()=>[X("Exibir")]),_:1})]),_:1})]),_:1}),a(U,null,{default:l(()=>[a(ee,{style:{overflow:"hidden"}},{default:l(()=>[a(h,null,{default:l(()=>[k("video",{class:"ml-3",ref_key:"video",ref:s,width:"640",height:"480",autoplay:"",style:pa({transform:`scale(${t(V)})`,transformOrigin:"center center"})},null,4)]),_:1})]),_:1})]),_:1}),a(ee,null,{default:l(()=>[a(_a,{modelValue:t(V),"onUpdate:modelValue":i[1]||(i[1]=P=>te(V)?V.value=P:null),min:1,max:3,step:"0.1",label:"Zoom"},null,8,["modelValue"])]),_:1}),a(U,{class:"mt-10 justify-space-around"},{default:l(()=>[k("div",{onClick:b},st),k("div",{onClick:T},lt)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(h,null,{default:l(()=>[it]),_:1})]),_:1}),a(p,{to:"/pessoas/registro"},{default:l(()=>[nt]),_:1})],64)}}},ut={},ct=k("h1",null,"Restrições",-1),mt=[ct];function pt(e,s){return E(),G("div",null,mt)}const ft=De(ut,[["render",pt]]),_t=k("h1",{style:{"background-color":"#C8FCCA",color:"#429946",padding:"10px 0px 0px 20px"}}," Cadastramento de pessoas ",-1),vt={style:{"background-color":"#C8FCCA",padding:"20px 0px 20px 20px"}},Dt={__name:"index",setup(e){const s=j(null),r=j(!1),o=j(!1),V=_e({...{tipo_pessoa:"FISICA"}}),y=["FISICA","JURIDICA","ESTRANGEIRA"],I=()=>{r.value=!0,o.value=!0};return(O,w)=>{const _=Fa,S=Ha,$=at,m=dt,x=ft;return E(),B(Fe,{width:"1300"},{default:l(()=>[_t,k("div",vt,[a(L,{modelValue:t(V).tipo_pessoa,"onUpdate:modelValue":w[0]||(w[0]=b=>t(V).tipo_pessoa=b),style:{width:"200px"},items:y,label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:t(o)},null,8,["modelValue","disabled"])]),a(Ca,{modelValue:t(s),"onUpdate:modelValue":w[1]||(w[1]=b=>te(s)?s.value=b:null),"bg-color":"#C8FCCA"},{default:l(()=>[a(K,{value:"dados"},{default:l(()=>[X("Dados")]),_:1}),t(r)?(E(),B(K,{key:0,value:"documento"},{default:l(()=>[X("Documentos")]),_:1})):z("",!0),t(r)?(E(),B(K,{key:1,value:"endereco"},{default:l(()=>[X("Endereços")]),_:1})):z("",!0),t(r)?(E(),B(K,{key:2,value:"biometria"},{default:l(()=>[X("Biometria")]),_:1})):z("",!0),t(r)?(E(),B(K,{key:3,value:"restricao"},{default:l(()=>[X("Restrições")]),_:1})):z("",!0)]),_:1},8,["modelValue"]),a(Me,{modelValue:t(s),"onUpdate:modelValue":w[2]||(w[2]=b=>te(s)?s.value=b:null)},{default:l(()=>[a(Q,{value:"dados"},{default:l(()=>[a(_,{onSaved:I})]),_:1}),t(r)?(E(),B(Q,{key:0,value:"documento"},{default:l(()=>[a(S)]),_:1})):z("",!0),t(r)?(E(),B(Q,{key:1,value:"endereco"},{default:l(()=>[a($)]),_:1})):z("",!0),t(r)?(E(),B(Q,{key:2,value:"biometria"},{default:l(()=>[a(ee,{class:"mt-5"},{default:l(()=>[a(m)]),_:1})]),_:1})):z("",!0),t(r)?(E(),B(Q,{key:3,value:"restricao"},{default:l(()=>[a(x)]),_:1})):z("",!0)]),_:1},8,["modelValue"])]),_:1})}}};export{Dt as default};
