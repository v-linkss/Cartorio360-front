import{_ as G}from"./CkAStuef.js";import{V as _,a as J,b as f,c as K,_ as Q,d as X,e as Y,f as Z}from"./CjASwK4H.js";import{_ as h,r as C,u as ee,n as ae,E as oe,D as U,F as le,$ as te,o as se,A as de,w as o,x as ie,H as ne,a as x,t as ue,q as m,b as e,d as V,v as w,s as n,I,p as me,e as re}from"./DL0PSLYG.js";import{u as ce}from"./Bo4RXxsJ.js";import{_ as pe}from"./ToPptOUL.js";import{u as _e,V as g,_ as fe}from"./DGJdVWVy.js";import{a as Ve}from"./BJl_kupK.js";import{V as y}from"./Ba6ELvVp.js";import{V as r}from"./D8o7uwAv.js";import{V as i}from"./CD2qQs_F.js";import"./BUe_X6z7.js";import"./CrE-eFFQ.js";import"./qu7Wfn_m.js";const ve=v=>(me("data-v-f25454ac"),v=v(),re(),v),be={style:{"background-color":"#c8fcca",color:"#429946",padding:"10px 0px 0px 20px"}},Ce={style:{"background-color":"#c8fcca",padding:"20px 0px 20px 20px"}},ge=ve(()=>x("img",{class:"btn-pointer",src:pe,alt:"Sair"},null,-1)),xe={__name:"[id]",emits:["saved"],setup(v,{emit:$e}){const u=C(null),N=ee(),{$toast:T}=ae(),M=oe(),{id:b}=M.params,c=ie(),R=`${c.public.managemant}/updatePessoa`,S=`${c.public.managemant}/listarEstadoCivil`,A=`${c.public.managemant}/listarCapacidadeCivil`,B=`${c.public.managemant}/listarCidades`,E=`${c.public.managemant}/getPessoaById`,F=C([]),k=C([]),D=C([]),z={nome:"",nome_pai:"",nome_mae:"",profissao:"",data_nascimento:"",doc_identificacao:"",cpf_pai:"",cpf_mae:"",tipo_pessoa:"FISICA",tabvalores_estadocivil_id:"",tabvalores_capacidadecivil_id:"",cidade_natural_id:"",cartorio_id:U("user-data").value.cartorio_id,user_id:U("user-data").value.usuario_id},t=le({...z});function L(s){if(s)return s.replace(/[.\-]/g,"");s=null}_e(t);async function W(){try{const[s,a,d,p]=await Promise.all([$fetch(S),$fetch(A),$fetch(B),$fetch(`${E}/${b}`)]),$=U("pessoa_token");return $.value=p.token,F.value=s,k.value=a,D.value=d,console.log(p),Object.assign(t,p),{estadoCivilItems:s,capacidadeCivilItems:a,cidadeNascimentoItems:d}}catch(s){console.error("Erro ao carregar os dados da pessoa:",s)}}te(()=>{b&&W()});function j(s){const a={};for(const d in s)s[d]===""?a[d]=null:d==="doc_identificacao"||d==="cpf_pai"||d==="cpf_mae"?a[d]=L(s[d]):a[d]=s[d];return a}async function q(){const s=j(t);await ce(`${R}/${b}`,{method:"PUT",body:s},"$NdF8Uiv290"),T.success("Pessoa atualizada com sucesso!"),N.push("/pessoas/registros")}return(s,a)=>{const d=G,p=Q,$=X,H=Y,O=Z,P=ne("mask");return se(),de(Ve,{width:"1300"},{default:o(()=>[x("h1",be,ue(m(b)?"Atualização de Pessoas":"Cadastramento de Pessoas"),1),x("div",Ce,[e(g,{modelValue:t.tipo_pessoa,"onUpdate:modelValue":a[0]||(a[0]=l=>t.tipo_pessoa=l),style:{width:"200px"},items:s.pessoa_tipo,label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:""},null,8,["modelValue","items"])]),e(J,{modelValue:m(u),"onUpdate:modelValue":a[1]||(a[1]=l=>w(u)?u.value=l:null),"bg-color":"#C8FCCA"},{default:o(()=>[e(_,{value:"dados"},{default:o(()=>[V("Dados")]),_:1}),e(_,{value:"documento"},{default:o(()=>[V("Documentos")]),_:1}),e(_,{value:"endereco"},{default:o(()=>[V("Endereços")]),_:1}),e(_,{value:"biometria"},{default:o(()=>[V("Biometria")]),_:1}),e(_,{value:"restricao"},{default:o(()=>[V("Restrições")]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:m(u),"onUpdate:modelValue":a[15]||(a[15]=l=>w(u)?u.value=l:null)},{default:o(()=>[e(f,{value:"dados"},{default:o(()=>[e(y,{class:"mt-5"},{default:o(()=>[e(r,null,{default:o(()=>[e(i,{cols:"12",md:"8"},{default:o(()=>[e(n,{modelValue:t.nome,"onUpdate:modelValue":a[2]||(a[2]=l=>t.nome=l),label:"Nome"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[I(e(n,{modelValue:t.doc_identificacao,"onUpdate:modelValue":a[3]||(a[3]=l=>t.doc_identificacao=l),label:"CPF"},null,8,["modelValue"]),[[P,"###.###.###-##"]])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[e(g,{modelValue:t.tabvalores_estadocivil_id,"onUpdate:modelValue":a[4]||(a[4]=l=>t.tabvalores_estadocivil_id=l),items:m(F),"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(n,{modelValue:t.profissao,"onUpdate:modelValue":a[5]||(a[5]=l=>t.profissao=l),label:"Profissão"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(n,{modelValue:t.local_trabalho,"onUpdate:modelValue":a[6]||(a[6]=l=>t.local_trabalho=l),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[e(n,{modelValue:t.data_nascimento,"onUpdate:modelValue":a[7]||(a[7]=l=>t.data_nascimento=l),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(g,{modelValue:t.tabvalores_capacidadecivil_id,"onUpdate:modelValue":a[8]||(a[8]=l=>t.tabvalores_capacidadecivil_id=l),items:m(k),label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(g,{modelValue:t.cidade_natural_id,"onUpdate:modelValue":a[9]||(a[9]=l=>t.cidade_natural_id=l),items:m(D),label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[I(e(n,{modelValue:t.cpf_pai,"onUpdate:modelValue":a[10]||(a[10]=l=>t.cpf_pai=l),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[P,"###.###.###-##"]])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(n,{modelValue:t.nome_pai,"onUpdate:modelValue":a[11]||(a[11]=l=>t.nome_pai=l),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(i,{cols:"12",md:"4"},{default:o(()=>[I(e(n,{modelValue:t.cpf_mae,"onUpdate:modelValue":a[12]||(a[12]=l=>t.cpf_mae=l),modelModifiers:{date:!0},label:"CPF da Mãe"},null,8,["modelValue"]),[[P,"###.###.###-##"]])]),_:1}),e(i,{cols:"12",md:"4"},{default:o(()=>[e(n,{modelValue:t.nome_mae,"onUpdate:modelValue":a[13]||(a[13]=l=>t.nome_mae=l),modelModifiers:{date:!0},label:"Nome da Mãe"},null,8,["modelValue"])]),_:1})]),_:1}),e(r,null,{default:o(()=>[e(d,{to:"/pessoas/registros"},{default:o(()=>[ge]),_:1}),x("img",{class:"btn-pointer",src:fe,onClick:a[14]||(a[14]=l=>q())})]),_:1})]),_:1})]),_:1}),e(f,{value:"documento"},{default:o(()=>[e(p)]),_:1}),e(f,{value:"endereco"},{default:o(()=>[e($)]),_:1}),e(f,{value:"biometria"},{default:o(()=>[e(y,{class:"mt-5"},{default:o(()=>[e(H)]),_:1})]),_:1}),e(f,{value:"restricao"},{default:o(()=>[e(O)]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Ae=h(xe,[["__scopeId","data-v-f25454ac"]]);export{Ae as default};
