import{_ as A}from"./DekodvIf.js";import{_ as B}from"./BVz1G1IN.js";import{_ as E}from"./Dj0NH8yt.js";import{_ as S}from"./B6P7eiBO.js";import{_ as M,a as P}from"./DJvq3mCv.js";import{r as c,m as y,L as F,G,I,q as d,p as j,w as r,A as q,v as O,o as p,b as i,a as o,C as v,s as k,c as V}from"./B1OsRTYt.js";import{u as W}from"./Cj5bN5p6.js";import{f as H}from"./RwviurwP.js";import{V as J}from"./D8UBq0s_.js";import{V as C}from"./xkkkrMqf.js";import{V as K}from"./qym8ahIV.js";import"./DPhkrkrp.js";import"./QO_fwZyR.js";import"./C_TWlm80.js";import"./Dxh6Etjz.js";import"./Bl7akXNZ.js";import"./CkWihTnN.js";import"./Dw0ieUQB.js";import"./Dd715Kqs.js";const Q={style:{width:"200px"}},X={style:{width:"300px"}},Y=["onClick"],Z=["onClick"],tt=["onClick"],et={key:0,style:{width:"30px",height:"30px"},src:M,alt:"Visualizar",title:"Reativar"},at={key:1,src:P,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},gt={__name:"index",async setup(ot){let l,_;const f=O(),g=`${f.public.managemant}/listar_situacao_matriculas`,w=`${f.public.managemant}/situacao-matriculas`,$=c(y("auth_token").value)||null,b=c(y("user-data").value.cartorio_token)||null,h=F(),n=c(""),u=c(""),z=[{title:"ID",value:"id"},{title:"Descrição",value:"descricao"},{title:"Situação",value:"situacao"},{value:"actions"}],L={cartorio_token:b.value,user_token:$.value},{data:x,status:T}=([l,_]=G(()=>W(`${g}`,{method:"POST",body:L},"$cCNLkg2GfN")),l=await l,_(),l),N=I(()=>x.value?x.value.filter(e=>{var a,s;const t=((a=e.descricao)==null?void 0:a.toLowerCase())??"",m=((s=e.situacao)==null?void 0:s.toLowerCase())??"";return t.includes(u.value.toLowerCase())&&m.includes(n.value.toLowerCase())}):[]);async function D(e){e.excluido=!e.excluido;try{await H(`${w}/${e.id}`,{method:"PUT",body:{excluido:e.excluido}})}catch(t){console.error("Erro ao excluir pessoa:",t)}}function R(e){h.push({path:`/situacoes-matriculas/vizualizar/${e}`})}function U(e){h.push({path:`/situacoes-matriculas/atualizar/${e}`})}return(e,t)=>{const m=A;return d(T)==="success"?(p(),j(J,{key:0,class:"mt-5"},{default:r(()=>[i(m,{to:"/situacoes-matriculas/cadastro"},{default:r(()=>t[2]||(t[2]=[o("img",{style:{cursor:"pointer"},src:B,alt:"Cadastro"},null,-1)])),_:1}),i(C,{style:{gap:"3rem"}},{default:r(()=>[o("div",Q,[i(v,{class:"mt-7 mb-4",modelValue:d(u),"onUpdate:modelValue":t[0]||(t[0]=a=>k(u)?u.value=a:null),label:"descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),o("div",X,[i(v,{class:"mt-7 mb-4",modelValue:d(n),"onUpdate:modelValue":t[1]||(t[1]=a=>k(n)?n.value=a:null),label:"sitação","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),i(K,{density:"compact",headers:z,items:d(N),"item-key":"id"},{"item.actions":r(({item:a})=>[i(C,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:r(()=>[o("div",{style:{cursor:"pointer"},onClick:s=>R(a.id),title:"Visualizar"},t[3]||(t[3]=[o("img",{style:{width:"30px",height:"30px"},src:E,alt:"Visualizar"},null,-1)]),8,Y),o("div",{style:{cursor:"pointer"},onClick:s=>U(a.id),title:"Atualizar"},t[4]||(t[4]=[o("img",{style:{width:"30px",height:"30px"},src:S,alt:"Atualizar"},null,-1)]),8,Z),o("div",{style:{cursor:"pointer"},onClick:s=>D(a),title:"Deletar"},[a.excluido?(p(),V("img",et)):(p(),V("img",at))],8,tt)]),_:2},1024)]),_:1},8,["items"])]),_:1})):q("",!0)}}};export{gt as default};
