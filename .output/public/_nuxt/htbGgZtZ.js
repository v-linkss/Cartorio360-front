import{_ as Ce}from"./Dbwfl7CY.js";import{_ as Oe}from"./CXnaINfQ.js";import{a as te,b as Se,V as se,c as Fe}from"./CO8JfUPf.js";import{V as K}from"./D6BpoqKL.js";import{V as P}from"./Bp3PiZoO.js";import{r as m,h as z,o as L,v as Y,w as n,b as e,y as Q,d as q,x as a,C as ae,a as v,u as be,A as H,s as ie,t as le,V as M,z as ue,bp as Ue,bS as Re,bT as Be,bU as Me,bV as Ne,bW as Te,bX as $e,bY as Ie,Q as X,bj as De,f as Pe,E as Ve,j as Ee,bZ as He,b_ as qe,b$ as ve,c0 as Ge,c1 as ze,J as ne,H as re,N as fe,M as Je,bG as Le,c2 as je,c3 as Qe,aW as ee,c4 as Ye,c5 as Ke,c6 as We,n as Ze,O as _e,P as pe,c as ge}from"./DbCDMIze.js";import{u as J}from"./CRMX4Bwh.js";import{_ as he,V as xe,c as Xe,a as eo,b as oo}from"./G3IKq0Qe.js";import{V as oe}from"./B6dnmy_f.js";import{c as to,r as ao,u as lo}from"./DREIOTIz.js";import{_ as no}from"./DfjuBLsA.js";import{_ as ro}from"./CZ5YzpvW.js";import{V as S}from"./BGEn_RE_.js";import"./C_mnChAW.js";import"./B6jFclC1.js";import"./zgVWzW4b.js";import"./DLKWN_Gk.js";const so=v("h1",null,"Confirmação de Recebimento",-1),io=v("p",null," O valor recebido é menor que o valor da OS, confirma o recebimento parcial? ",-1),uo={__name:"ModalRecebimentoCond",props:{show:Boolean,faltaReceber:Number},emits:["close","confirmar"],setup(o,{emit:N}){const i=o,g=m(i.show),_=N;z(()=>i.show,U=>{g.value=U});const p=()=>{_("confirmar"),k()},k=()=>{g.value=!1,_("close")};return(U,x)=>(L(),Y(se,{persistent:"",modelValue:a(g),"onUpdate:modelValue":x[0]||(x[0]=w=>ae(g)?g.value=w:null),"max-width":"650"},{default:n(()=>[e(te,null,{default:n(()=>[e(K,null,{default:n(()=>[e(P,{class:"mb-5 mt-1 ml-2"},{default:n(()=>[so]),_:1}),e(P,{class:"ml-2"},{default:n(()=>[io]),_:1})]),_:1}),e(Se,null,{default:n(()=>[e(Q,{style:{"background-color":"#429946",color:"white"},onClick:p},{default:n(()=>[q("Confirmar")]),_:1}),e(Q,{style:{"background-color":"red",color:"white"},onClick:k},{default:n(()=>[q("Cancelar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},co="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABJhJREFUeJztW81v3EQcfTM73ZU3C1GF4NJAG+UGSKgSjZAgfwCFHnMpiAMSyckHGim2FAl8cSRvFFopApEixIW/APFx48IKCS5wQOKGGpqWAx/SqhslMY6HS1PZg+0de2fsSdN3m/HM6Ofn37zxPI8JNMO27Y5lWcuEkKsAngcwNabLHoBfOOefd7vdm57nhTrjIzoHX1tbOxdF0VcAXqg4xM+Msdd937+jMq4ktBFg23an2+3+gOo3f4yfLMt6SVcmUB2DAoBlWcuY/OYB4OL+/v47CsbJBNM1MCHkjWSZc/41gOV+v79b1G91dXWGEHITwKuJ6jcBfKg+So0ZAOBZoTz25gGg3+/vMsaWhern1IWVhk4CesmCzM0fw/f920LVY0oiyoBOAk4Exq4CjuNcAXANwCWMX8NNwR6AH+M4/mBjY+PLooatoouu664D+AjABQBtZeHpRxvALCHk6sLCwpnBYPBtXsPcDLj/5L/QEV3diOP4Sl4mFGnANU3x1A5K6bt514reA14Uyi8HQfC9mpD0wnGcVwB8l6i6lNe2KANSy9hJuXkACIJgIFTlLqOnfhl8REDTATSNU0+A9G7QcRyuM5CmcOozoIgA6d2b6eCci7vLBygiYAkPAQmc89uU0qW861KeoOM4OwCeOS5HUXRhc3NzR0F8yrCysnKeMXYrUfV7EATnx/WT1YBRssAY6+U1bAqdTkd827sn068SAZRS4wiIokiMaZTZUEAlAo6OjowjIOOhSBEg9R5ACBlxzpPlXAIcx3kNwDYADmApCIJv6mgXx3GPkJSkqcsAzvlIKBdlwMcAzgGY4Zxv19VOfCiEEKVTICUolNIil3YmEcTTNbZLxRTHsToRLJkBjUBrBlBKU4MVaUCDSDnWhJA9mU6yUyA1GOfcOHs8juPUQxGzNg+VpgA0fqmZAKmYtIqgiVNAjOmRCOoUQQiOsQkQH4pSDYjj2HgCIMTUarXUEcAYO3EimPHQMiFFwOHhoSgoxmVAhi6pE8F2u238FBBFMAxDdRkwGo2MJwBCTNPT0+oI2NraOgTwb6Kq7XmeMecFbNvuADiTqAplj9WVscVTjA6HQ2OyoNfrVTJDgBIEiOvqmC1xrQjDUD8B4puVScZohiGqngD83xQxhoAMQ1RqCQQm0ACTjNGqhigwwRQwaUcoegGoQwRN2hFW3QkCD8kqAGEfILsTBCYQQZMzADpE0HBjtJIhCpTLAGON0aqGKDCBBsAsT6CSIQpMQEDBFHhwqKLoZIbKdmIsTYvgEoDdcSczVLabRASlT4lRSlNfiJHjCdz/elv0DU95u6qGKFAiAww3RisZokA5DfhbqJr1PK/xY3aLi4stALPJuiiK/pHtL30DU1NTO0gvhU8dHBxcd133rOwYquG67tm5ubkbAJ5MVN8bDoe3ZMco9eeo4zifAni7TJ8G8EkQBEWimkKpFGaMvQfgr9Ih1Yc/W63W+2U6lCLA9/07hJDLAP4oFVY9uMs5v7y+vl4qtsK/xrIwGAzuzs/Pf8YYCznnTxBCHofGX3DH4ADArwC2CSFvBUHwW9kB/gMs68lWOHHFdwAAAABJRU5ErkJggg==",mo=v("h1",null,"Ordem de Serviço nº",-1),vo={style:{color:"red","margin-left":"18px"}},fo={style:{"max-width":"180px"}},_o=v("hr",{class:"mb-5"},null,-1),po=["onClick"],go=v("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:co,alt:"Remover"},null,-1),bo=[go],Vo={style:{display:"flex","justify-content":"flex-start"}},ho={__name:"Ordem",props:{show:Boolean,ordem:{type:Object,required:!0}},emits:["close"],setup(o,{emit:N}){const i=o,{$toast:g}=be(),_=m(i.show),p=m(!1),k=ue(),U=`${k.public.managemant}/listarFormasReceb`,x=`${k.public.managemant}/receberOs`,w=H("auth_token").value,I=m([]),E=m(null),A=m([]),C=m([]),f=ie({descricao:null,forma:null,valor:""}),T=N,F=[{title:"Forma",value:"forma"},{title:"Valor",value:"valor"},{value:"actions"}];z(()=>i.show,b=>{_.value=b});const h=()=>{_.value=!1,f.forma=null,f.descricao=null,f.valor="",A.value=[],T("close")},R=async()=>{E.value=Number(i.ordem.valor),p.value=!0},r=async()=>{const b={ordemserv_token:i.ordem.token,usuario_token:w,recebimentos:[C.value]},{data:u,error:O}=await J(x,{method:"POST",body:JSON.stringify(b)},"$vhMIR8Sr2p");if(u.value[0].status==="OK")g.success(`${u.value[0].status}: Valores Recebidos com Sucesso!`),A.value=[],h();else{const d=u.value[0].status_mensagem;g.error(d)}},W=()=>{i.ordem.valor=parseFloat(i.ordem.valor).toFixed(2),i.ordem.valor_pago=parseFloat(i.ordem.valor_pago).toFixed(2)},j=async()=>{try{const u={cartorio_token:m(H("user-data").value.cartorio_token).value},{data:O,error:d}=await J(U,{method:"POST",body:JSON.stringify(u)},"$eiMzO5y6Bb");I.value=Ue(O.value)}catch(b){console.error("Erro ao realizar a requisição:",b)}},D=async()=>{const b=I.value.find(u=>u.token===f.forma);if(!b){g.error("Por favor, selecione uma forma.");return}if(Number(i.ordem.valor)<=0){g.error("O valor recebido não deve ultrapassar o valor total da ordem.");return}A.value.push({forma:f.forma,descricao:b.descricao,valor:f.valor}),C.value.push({forma_receb_token:f.forma,valor:Number(f.valor)}),i.ordem.valor_pago=parseFloat(i.ordem.valor_pago)+parseFloat(f.valor),i.ordem.valor=parseFloat(i.ordem.valor)-parseFloat(f.valor),f.forma=null,f.valor="0.00",W()},G=b=>{const u=A.value.indexOf(b);u!==-1&&(A.value.splice(u,1),C.value.splice(u,1),i.ordem.valor_pago=parseFloat(i.ordem.valor_pago)-parseFloat(b.valor),i.ordem.valor=parseFloat(i.ordem.valor)+parseFloat(b.valor))};return j(),(b,u)=>{const O=Oe,d=uo;return L(),Y(se,{persistent:"",modelValue:a(_),"onUpdate:modelValue":u[6]||(u[6]=c=>ae(_)?_.value=c:null),"max-width":"650"},{default:n(()=>[e(te,null,{default:n(()=>[e(K,null,{default:n(()=>[e(P,{class:"mb-5 mt-1 ml-2"},{default:n(()=>[mo,v("h1",vo,le(i.ordem.numero),1)]),_:1}),e(K,null,{default:n(()=>[e(P,null,{default:n(()=>[e(M,{class:"mr-5",label:"Recebido",modelValue:i.ordem.valor_pago,"onUpdate:modelValue":u[0]||(u[0]=c=>i.ordem.valor_pago=c),style:{"font-weight":"bold",cursor:"default","pointer-events":"none"},readonly:""},null,8,["modelValue"]),e(M,{label:"Falta Receber",style:{"font-weight":"bold",cursor:"default","pointer-events":"none"},modelValue:i.ordem.valor,"onUpdate:modelValue":u[1]||(u[1]=c=>i.ordem.valor=c)},null,8,["modelValue"])]),_:1}),e(P,null,{default:n(()=>[e(oe,{class:"mb-5 mr-5",label:"Forma",modelValue:a(f).forma,"onUpdate:modelValue":u[2]||(u[2]=c=>a(f).forma=c),items:a(I),"item-title":"descricao","item-value":"token"},null,8,["modelValue","items"]),v("div",fo,[e(O,{modelValue:a(f).valor,"onUpdate:modelValue":u[3]||(u[3]=c=>a(f).valor=c)},null,8,["modelValue"])]),v("div",null,[v("img",{src:he,class:"ml-5",style:{cursor:"pointer",height:"40px",width:"40px"},onClick:D})])]),_:1})]),_:1}),_o,e(xe,{headers:F,items:a(A),"item-value":"token"},{"item.forma":n(({item:c})=>[q(le(c.descricao),1)]),"item.actions":n(({item:c})=>[v("div",{style:{display:"flex","justify-content":"flex-end"},onClick:y=>G(c),title:"Remover"},bo,8,po)]),_:1},8,["items"])]),_:1}),v("div",Vo,[e(Q,{class:"ml-8",size:"large",onClick:h,color:"red"},{default:n(()=>[q("Voltar")]),_:1}),Number(i.ordem.valor)>0?(L(),Y(Q,{key:0,class:"ml-6 mb-6",size:"large",color:"green",onClick:R},{default:n(()=>[q("Salvar")]),_:1})):(L(),Y(Q,{key:1,size:"large",class:"ml-6 mb-6",color:"green",onClick:r},{default:n(()=>[q("Salvar")]),_:1}))])]),_:1}),e(d,{modelValue:a(p),"onUpdate:modelValue":u[4]||(u[4]=c=>ae(p)?p.value=c:null),faltaReceber:a(E),onClose:u[5]||(u[5]=c=>p.value=!1),onConfirmar:r},null,8,["modelValue","faltaReceber"])]),_:1},8,["modelValue"])}}},xo=Re({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:o=>!isNaN(parseFloat(o))},maxRows:{type:[Number,String],validator:o=>!isNaN(parseFloat(o))},suffix:String,modelModifiers:Object,...Be(),...Me()},"VTextarea"),Ao=Ne()({name:"VTextarea",directives:{Intersect:Te},inheritAttrs:!1,props:xo(),emits:{"click:control":o=>!0,"mousedown:control":o=>!0,"update:focused":o=>!0,"update:modelValue":o=>!0},setup(o,N){let{attrs:i,emit:g,slots:_}=N;const p=$e(o,"modelValue"),{isFocused:k,focus:U,blur:x}=Ie(o),w=X(()=>typeof o.counterValue=="function"?o.counterValue(p.value):(p.value||"").toString().length),I=X(()=>{if(i.maxlength)return i.maxlength;if(!(!o.counter||typeof o.counter!="number"&&typeof o.counter!="string"))return o.counter});function E(d,c){var y,s;!o.autofocus||!d||(s=(y=c[0].target)==null?void 0:y.focus)==null||s.call(y)}const A=m(),C=m(),f=De(""),T=m(),F=X(()=>o.persistentPlaceholder||k.value||o.active);function h(){var d;T.value!==document.activeElement&&((d=T.value)==null||d.focus()),k.value||U()}function R(d){h(),g("click:control",d)}function r(d){g("mousedown:control",d)}function W(d){d.stopPropagation(),h(),ee(()=>{p.value="",Ye(o["onClick:clear"],d)})}function j(d){var y;const c=d.target;if(p.value=c.value,(y=o.modelModifiers)!=null&&y.trim){const s=[c.selectionStart,c.selectionEnd];ee(()=>{c.selectionStart=s[0],c.selectionEnd=s[1]})}}const D=m(),G=m(+o.rows),b=X(()=>["plain","underlined"].includes(o.variant));Pe(()=>{o.autoGrow||(G.value=+o.rows)});function u(){o.autoGrow&&ee(()=>{if(!D.value||!C.value)return;const d=getComputedStyle(D.value),c=getComputedStyle(C.value.$el),y=parseFloat(d.getPropertyValue("--v-field-padding-top"))+parseFloat(d.getPropertyValue("--v-input-padding-top"))+parseFloat(d.getPropertyValue("--v-field-padding-bottom")),s=D.value.scrollHeight,t=parseFloat(d.lineHeight),V=Math.max(parseFloat(o.rows)*t+y,parseFloat(c.getPropertyValue("--v-input-control-height"))),B=parseFloat(o.maxRows)*t+y||1/0,$=We(s??0,V,B);G.value=Math.floor(($-y)/t),f.value=Ke($)})}Ve(u),z(p,u),z(()=>o.rows,u),z(()=>o.maxRows,u),z(()=>o.density,u);let O;return z(D,d=>{d?(O=new ResizeObserver(u),O.observe(D.value)):O==null||O.disconnect()}),Ee(()=>{O==null||O.disconnect()}),He(()=>{const d=!!(_.counter||o.counter||o.counterValue),c=!!(d||_.details),[y,s]=qe(i),{modelValue:t,...V}=ve.filterProps(o),B=Ge(o);return e(ve,ne({ref:A,modelValue:p.value,"onUpdate:modelValue":$=>p.value=$,class:["v-textarea v-text-field",{"v-textarea--prefixed":o.prefix,"v-textarea--suffixed":o.suffix,"v-text-field--prefixed":o.prefix,"v-text-field--suffixed":o.suffix,"v-textarea--auto-grow":o.autoGrow,"v-textarea--no-resize":o.noResize||o.autoGrow,"v-input--plain-underlined":b.value},o.class],style:o.style},y,V,{centerAffix:G.value===1&&!b.value,focused:k.value}),{..._,default:$=>{let{id:l,isDisabled:Z,isDirty:de,isReadonly:Ae,isValid:ye}=$;return e(ze,ne({ref:C,style:{"--v-textarea-control-height":f.value},onClick:R,onMousedown:r,"onClick:clear":W,"onClick:prependInner":o["onClick:prependInner"],"onClick:appendInner":o["onClick:appendInner"]},B,{id:l.value,active:F.value||de.value,centerAffix:G.value===1&&!b.value,dirty:de.value||o.dirty,disabled:Z.value,focused:k.value,error:ye.value===!1}),{..._,default:ke=>{let{props:{class:ce,...me}}=ke;return e(re,null,[o.prefix&&e("span",{class:"v-text-field__prefix"},[o.prefix]),fe(e("textarea",ne({ref:T,class:ce,value:p.value,onInput:j,autofocus:o.autofocus,readonly:Ae.value,disabled:Z.value,placeholder:o.placeholder,rows:o.rows,name:o.name,onFocus:h,onBlur:x},me,s),null),[[Je("intersect"),{handler:E},null,{once:!0}]]),o.autoGrow&&fe(e("textarea",{class:[ce,"v-textarea__sizer"],id:`${me.id}-sizer`,"onUpdate:modelValue":we=>p.value=we,ref:D,readonly:!0,"aria-hidden":"true"},null),[[Le,p.value]]),o.suffix&&e("span",{class:"v-text-field__suffix"},[o.suffix])])}})},details:c?$=>{var l;return e(re,null,[(l=_.details)==null?void 0:l.call(_,$),d&&e(re,null,[e("span",null,null),e(je,{active:o.persistentCounter||k.value,value:w.value,max:I.value,disabled:o.disabled},_.counter)])])}:void 0})}),Qe({},A,C,T)}}),yo=v("h1",null,"Cancelamento da OS nº",-1),ko={style:{color:"red","margin-left":"18px"}},wo={class:"mb-5",style:{display:"flex","justify-content":"flex-start"}},Co={class:"ml-6"},Oo={class:"ml-6"},So={__name:"Ordem",props:{show:Boolean,numero_os:Number,ordemserv_token:String},emits:["close"],setup(o,{emit:N}){const i=o,g=m(i.show),_=ue();m(H("user-data").value.cartorio_token).value;const p=H("auth_token").value,k=`${_.public.managemant}/analisaCancelamento`,U=`${_.public.managemant}/cancelaOs`,x=ie({motivo:null}),w=m(null),I=N,E={motivo:{required:to.withMessage("O campo é obrigatorio",ao)}},A=lo(E,x);z(()=>i.show,F=>{g.value=F});const C=()=>{g.value=!1,I("close")};(async()=>{const{data:F,error:h}=await J(`${k}`,{method:"POST",body:{ordemserv_token:i.ordemserv_token}},"$1fnrIk2fgs");w.value=F.value.mensagem})();const T=async()=>{if(await A.value.$validate()){const{status:F}=await J(`${U}`,{method:"POST",body:{usuario_token:p,motivo:x.motivo,ordemserv_token:i.ordemserv_token}},"$21WlhUNXeM");F.value==="success"&&(window.location.reload(),C())}};return(F,h)=>(L(),Y(se,{persistent:"",modelValue:a(g),"onUpdate:modelValue":h[1]||(h[1]=R=>ae(g)?g.value=R:null),"max-width":"650"},{default:n(()=>[e(te,null,{default:n(()=>[e(K,null,{default:n(()=>[e(P,{class:"mb-5 mt-1 ml-2"},{default:n(()=>[yo,v("h1",ko,le(i.numero_os),1)]),_:1}),e(K,null,{default:n(()=>[e(te,{variant:"outlined",class:"mb-5"},{default:n(()=>[e(Fe,null,{default:n(()=>[q(le(a(w)),1)]),_:1})]),_:1}),e(Ao,{label:"Motivo",modelValue:a(x).motivo,"onUpdate:modelValue":h[0]||(h[0]=R=>a(x).motivo=R),required:"","error-messages":a(A).motivo.$errors.map(R=>R.$message),onBlur:a(A).motivo.$touch,onInput:a(A).motivo.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),v("div",wo,[v("div",Co,[e(Q,{size:"large",color:"red",onClick:C},{default:n(()=>[q("Fechar")]),_:1})]),v("div",Oo,[e(Q,{size:"large",color:"green",onClick:T},{default:n(()=>[q("Salvar")]),_:1})])])]),_:1})]),_:1},8,["modelValue"]))}},Fo=""+new URL("recebe.CceqgowM.png",import.meta.url).href,Uo=v("h1",null,"Ordens de Serviço",-1),Ro=v("hr",{class:"mt-5 mb-5"},null,-1),Bo=["title","onClick"],Mo=["onClick","title"],No=["disabled","onClick"],To={key:0,style:{width:"30px",height:"30px"},src:eo,alt:"Visualizar",title:"Bloqueado"},$o={key:1,src:oo,alt:"Cancelamento",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Cancelamento"},et={__name:"index",setup(o){const N=ue(),{$toast:i}=be(),g=`${N.public.managemant}/listarUsuarios`,_=`${N.public.managemant}/listarOrdensServico`,p=`${N.public.managemant}/tipoAtos`,k=Ze(),U=m(H("auth_token").value)||null,x=m(H("user-data").value.cartorio_token)||null,w=m([]),I=m([]),E=m([]),A=m(["PENDENTE","EM ANDAMENTO","CONCLUÍDA","LAVRADA"]),C=m(!1),f=m(!1),T=m(null),F=m(null),h=m(null),R=m({}),r=ie({numero:null,data_inicio:j(),data_fim:j(),data_lavratura_inicio:null,data_lavratura_fim:null,protocolo:null,livro:null,folha:null,situacao:null,usuario_token:U.value,selo:null,ato_tipo_token:null,apresentante:null}),W=[{title:"Data Recebimento",value:"data"},{title:"Número",value:"numero"},{title:"Situação",value:"situacao"},{title:"CPF",value:"apresentante_cpf"},{title:"Apresentante",value:"apresentante_nome"},{title:"Usuario",value:"usuario_nome"},{title:"Valor",value:"valor"},{value:"actions"}];function j(){const s=new Date,t=s.getFullYear(),V=String(s.getMonth()+1).padStart(2,"0"),B=String(s.getDate()).padStart(2,"0");return`${t}-${V}-${B}`}async function D(){const{data:s,error:t}=await J(g,{method:"POST",body:{cartorio_token:x.value}},"$pAAptWJdb1");I.value=s.value}async function G(){try{sessionStorage.setItem("pesquisaOS",JSON.stringify(r));const{data:s,error:t}=await J(_,{method:"POST",body:{cartorio_token:x.value,numero:r.numero||null,data_inicio:r.data_inicio||null,data_fim:r.data_fim||null,data_lavratura_inicio:r.data_lavratura_inicio||null,data_lavratura_fim:r.data_lavratura_fim||null,protocolo:r.protocolo||null,livro:r.livro||null,folha:r.folha||null,situacao:r.situacao||null,usuario_token:r.usuario_token,selo:r.selo||null,ato_tipo_token:r.ato_tipo_token,apresentante:r.apresentante||null}},"$IO02J210Z9");s.value.length>0?w.value=s.value:(w.value=[],i.error("Não existe Ordem de Serviço Registrada!"))}catch(s){console.error("Erro na requisição",s)}}async function b(){const{data:s,error:t}=await J(p,{method:"POST",body:{cartorio_token:x.value,usuario_token:U.value}},"$YgUhKRJlsV");E.value=s.value}const u=async()=>{try{const s=j(),t=sessionStorage.getItem("pesquisaOS"),V=JSON.parse(t),{data:B,error:$}=await J(_,{method:"POST",body:{cartorio_token:x.value,usuario_token:U.value,data_fim:(V==null?void 0:V.data_fim)||s,data_inicio:(V==null?void 0:V.data_inicio)||s}},"$xKnfARCL4G");B.value.length>0?w.value=B.value.map(l=>({...l,data:no(l.data,"dd/mm/yyyy")})):w.value=[]}catch(s){console.error("Erro ao buscar serviços",s)}};D(),b();function O(s,t,V){h.value=s,F.value=t,f.value=!0}function d(s){const t=H("user-service"),V=w.value.find(B=>B.id===s);t.value=t.value=JSON.stringify({id:V.id,token:V.token}),k.push({path:`/os/atualizar/${s}`})}function c(s,t){h.value=s,R.value={token:t.token,numero:t.numero,valor:t.valor,valor_pago:t.valor_pago},C.value=!0}const y=()=>{const s=H("user-service"),t=H("ordem-button");s.value=null,T.value=!0,t.value=T.value};return Ve(()=>{ee(async()=>{const s=sessionStorage.getItem("pesquisaOS");if(s){const t=JSON.parse(s);Object.assign(r,t)}await u()})}),(s,t)=>{const V=Ce,B=ho,$=So;return L(),Y(K,{class:"mt-5"},{default:n(()=>[e(P,{class:"mb-5"},{default:n(()=>[Uo,e(V,{to:"/os/criar-registro"},{default:n(()=>[v("img",{style:{width:"60px",height:"60px",cursor:"pointer","margin-left":"70px"},src:he,alt:"novo",onClick:y})]),_:1})]),_:1}),e(P,{style:{"margin-bottom":"-35px"}},{default:n(()=>[e(S,null,{default:n(()=>[e(M,{modelValue:a(r).numero,"onUpdate:modelValue":t[0]||(t[0]=l=>a(r).numero=l),label:"Número",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(S,null,{default:n(()=>[e(M,{modelValue:a(r).data_inicio,"onUpdate:modelValue":t[1]||(t[1]=l=>a(r).data_inicio=l),type:"date",label:"Abertura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(S,null,{default:n(()=>[e(M,{modelValue:a(r).data_fim,"onUpdate:modelValue":t[2]||(t[2]=l=>a(r).data_fim=l),type:"date",label:"Abertura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(S,null,{default:n(()=>[e(M,{modelValue:a(r).data_lavratura_inicio,"onUpdate:modelValue":t[3]||(t[3]=l=>a(r).data_lavratura_inicio=l),type:"date",label:"Lavratura de",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(S,null,{default:n(()=>[e(M,{modelValue:a(r).data_lavratura_fim,"onUpdate:modelValue":t[4]||(t[4]=l=>a(r).data_lavratura_fim=l),type:"date",label:"Lavratura até",style:{width:"150px"}},null,8,["modelValue"])]),_:1}),e(S,null,{default:n(()=>[e(M,{modelValue:a(r).protocolo,"onUpdate:modelValue":t[5]||(t[5]=l=>a(r).protocolo=l),label:"Protocolo",style:{width:"110px"}},null,8,["modelValue"])]),_:1}),e(S,{md:"1"},{default:n(()=>[e(M,{modelValue:a(r).livro,"onUpdate:modelValue":t[6]||(t[6]=l=>a(r).livro=l),label:"Livro",style:{width:"80px"}},null,8,["modelValue"])]),_:1}),e(S,{md:"1"},{default:n(()=>[e(M,{modelValue:a(r).folha,"onUpdate:modelValue":t[7]||(t[7]=l=>a(r).folha=l),label:"Folha",style:{width:"80px"}},null,8,["modelValue"])]),_:1})]),_:1}),e(P,null,{default:n(()=>[e(S,{md:"3"},{default:n(()=>[e(oe,{modelValue:a(r).situacao,"onUpdate:modelValue":t[8]||(t[8]=l=>a(r).situacao=l),items:a(A),label:"Situação"},null,8,["modelValue","items"])]),_:1}),e(S,{md:"2"},{default:n(()=>[e(oe,{items:a(I),modelValue:a(r).usuario_token,"onUpdate:modelValue":t[9]||(t[9]=l=>a(r).usuario_token=l),"item-title":"user_nome","item-value":"user_token",label:"Usuario"},null,8,["items","modelValue"])]),_:1}),e(S,{md:"1"},{default:n(()=>[e(M,{modelValue:a(r).selo,"onUpdate:modelValue":t[10]||(t[10]=l=>a(r).selo=l),label:"Selo"},null,8,["modelValue"])]),_:1}),e(S,{md:"3"},{default:n(()=>[e(oe,{modelValue:a(r).ato_tipo_token,"onUpdate:modelValue":t[11]||(t[11]=l=>a(r).ato_tipo_token=l),items:a(E),"item-title":"descricao","item-value":"token",label:"Serviço"},null,8,["modelValue","items"])]),_:1}),e(S,{md:"2"},{default:n(()=>[e(M,{modelValue:a(r).apresentante,"onUpdate:modelValue":t[12]||(t[12]=l=>a(r).apresentante=l),label:"Apresentante"},null,8,["modelValue"])]),_:1}),e(S,null,{default:n(()=>[v("div",null,[v("img",{onClick:G,style:{width:"40px",height:"40px",cursor:"pointer"},src:ro,alt:"Pesquisar"})])]),_:1})]),_:1}),Ro,e(xe,{headers:W,items:a(w),"item-key":"id"},{"item.actions":n(({item:l})=>[e(P,{style:{display:"flex",gap:"10px","margin-top":"-5px"}},{default:n(()=>[v("div",{class:pe({disabled:!l.btn_receber}),title:l.btn_receber?"Receber":"Bloqueado",onClick:Z=>l.btn_receber?c(l.numero,l):null},[v("img",{style:_e({cursor:l.btn_receber?"pointer":"default",width:"30px",height:"30px"}),src:Fo,alt:"Receber"},null,4)],10,Bo),v("div",{class:pe({disabled:!l.btn_editar}),onClick:Z=>l.btn_editar?d(l.id):null,title:l.btn_editar?"Editar":"Bloqueado"},[v("img",{style:_e({cursor:l.btn_editar?"pointer":"default",width:"30px",height:"30px"}),src:Xe,alt:"Editar"},null,4)],10,Mo),v("div",{disabled:!l.btn_cancelar,onClick:Z=>l.btn_cancelar?O(l.numero,l.token):null,title:"Cancelamento"},[l.excluido?(L(),ge("img",To)):(L(),ge("img",$o))],8,No)]),_:2},1024)]),_:1},8,["items"]),e(B,{show:a(C),numero_os:a(h),ordem:a(R),onClose:t[13]||(t[13]=l=>C.value=!1)},null,8,["show","numero_os","ordem"]),e($,{show:a(f),numero_os:a(h),ordemserv_token:a(F),onClose:t[14]||(t[14]=l=>f.value=!1)},null,8,["show","numero_os","ordemserv_token"])]),_:1})}}};export{et as default};
