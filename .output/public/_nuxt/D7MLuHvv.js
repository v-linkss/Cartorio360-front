import{_ as ve,a as fe,b as Ve,c as ye,d as ge,e as xe}from"./D3riP3Qb.js";import{_ as be}from"./C-K-maSx.js";import{_ as $e}from"./DwlrPvmW.js";import{_ as le,a as se,b as ie,c as ne}from"./QXGxGPw_.js";import{_ as re}from"./DgCi1WA9.js";import{z as ue,D as X,u as we,r as c,m as Q,A as ke,E as q,o as M,q as Y,w as o,b as e,v as l,a as u,t as de,c as N,F as T,d as b,G as Ce,H as K,s as Z,g as Ae,p as Pe,V as te,I as Te,J as Be}from"./CQUztZdQ.js";import{u as R}from"./L9C3kzld.js";import{V as U}from"./DHmMPa6H.js";import{V as ae}from"./CVyqCs2z.js";import{V as D}from"./DbhB8jhS.js";import{V as J}from"./BA12yuSv.js";import{V as ce}from"./CT5zN_45.js";import{V as me,a as ee,b as ze,c as Ue,d as De}from"./lISH-0R7.js";import{V as oe}from"./D8dNb-4Z.js";import{_ as Me,a as Ie,b as he}from"./CT_a8vsH.js";import{V as pe,a as A,b as _e,c as P}from"./DNO7CeGW.js";import{f as j}from"./C6np7Jdw.js";import"./dY_WCbjZ.js";import"./DaAN5YqY.js";import"./CdP3NN9a.js";import"./CIiFs6ov.js";import"./Ohc_d_-3.js";import"./BEB4hT0R.js";import"./Be7xloKa.js";import"./DSsPV17_.js";const Oe={style:{width:"800px","font-weight":"500"}},Se=["onClick"],Ee=["onClick"],Re=["onClick"],qe={key:0,style:{width:"30px",height:"30px"},src:ie,alt:"Reativar",title:"Reativar"},Ne={key:1,src:ne,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Le={__name:"Bens",async setup(L){let i,v;const f=ue(),p=X(),V=Z(),{$toast:w}=we(),y=`${V.public.managemant}/atos_bens`,n=`${V.public.managemant}/atos_bens`,B=`${V.public.managemant}/atos_bens`,z=`${V.public.managemant}/listarTipoBens`,k=c(Q("user-data").value.cartorio_token),O=c(Q("user-data").value.usuario_id).value,C=c([]),m=c([]),$=c(!1),F=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"valor_mercado"},{align:"end",value:"actions"}],d=ke({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),g=async()=>{if(!d.vlr_alienacao&&!d.descricao){w.error("Os campos Descrição e Valor são Obrigatorios!");return}const{data:_,status:t}=await R(`${y}`,{method:"POST",body:{descricao:d.descricao,tipo_id:d.tipo_id,valor_mercado:d.vlr_alienacao,user_id:O,ato_id:Number.parseInt(p.query.ato_id),token:p.query.ato_token_edit}},"$aGIwRtPn6M");t.value==="success"&&(w.success("Bem registrado com sucesso!"),C.value.push(_.value),Object.assign(d,{vlr_alienacao:null,descricao:null,tipo_id:null}))},r=async _=>{const{status:t}=await R(`${n}/${_}`,{method:"PUT",body:{descricao:m.value.descricao,tipo_id:m.value.tipo_id,valor_mercado:m.value.valor_mercado}},"$4hUMyAQlzU");t.value==="success"&&(w.success("Bem Atualizado com sucesso!"),$.value=!1)},I=_=>{const t=C.value.find(E=>E.id===_);t&&(m.value=t,$.value=!0)},{data:x}=([i,v]=q(()=>R(`${z}`,{method:"POST",body:{cartorio_token:k.value,imoveis:!1}},"$da802I2H8c")),i=await i,v(),i);d.tiposBens=x.value;const{data:a}=([i,v]=q(()=>R(`${B}/${p.query.ato_id}`,{method:"GET"},"$iXfJJrO35d")),i=await i,v(),i);C.value=a.value,console.log(C.value);async function S(_){_.excluido=!_.excluido;try{await R(`${n}/${_.id}`,{method:"PUT",body:JSON.stringify({excluido:_.excluido})},"$PGKHfsa7Pl")}catch(t){console.error("Erro ao excluir pessoa:",t)}}const H=()=>{const _=p.query.origem||"criar",t=p.query.id;_==="atualizar"?f.push(`/os/atualizar/${t}`):f.push("/os/criar-registro")};return(_,t)=>{const E=be,W=$e;return M(),Y(oe,null,{default:o(()=>[e(U,{class:"mt-5",cols:"12"},{default:o(()=>[e(ae,{label:"Descrição",modelValue:l(d).descricao,"onUpdate:modelValue":t[0]||(t[0]=s=>l(d).descricao=s)},null,8,["modelValue"])]),_:1}),e(D,{class:"ml-1 mb-3"},{default:o(()=>[e(U,{class:"mt-6",cols:"8"},{default:o(()=>[e(J,{label:"Selecione o Tipo",items:l(d).tiposBens,modelValue:l(d).tipo_id,"onUpdate:modelValue":t[1]||(t[1]=s=>l(d).tipo_id=s),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(U,{class:"ml-5",cols:"3"},{default:o(()=>[t[9]||(t[9]=u("label",null,"Valor",-1)),e(E,{modelValue:l(d).vlr_alienacao,"onUpdate:modelValue":t[2]||(t[2]=s=>l(d).vlr_alienacao=s)},null,8,["modelValue"])]),_:1}),u("div",null,[u("img",{class:"mt-7 ml-4",src:le,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:g})])]),_:1}),e(D,null,{default:o(()=>[e(U,null,{default:o(()=>[e(ce,{style:{height:"465px"},headers:F,items:l(C)},{"item.descricao":o(({item:s})=>[u("h3",Oe,de(s.descricao),1)]),"item.actions":o(({item:s})=>[e(D,{style:{"margin-top":"-8px"},justify:"end"},{default:o(()=>[u("div",{style:{cursor:"pointer"},class:"mr-2",onClick:G=>_.redirectToFicha(s),title:"Visualizar Ficha"},t[10]||(t[10]=[u("img",{style:{width:"30px",height:"30px"},src:re,alt:"Visualizar"},null,-1)]),8,Se),u("div",{style:{cursor:"pointer"},class:"mr-2",onClick:G=>I(s.id),title:"Alterar Papel"},t[11]||(t[11]=[u("img",{style:{width:"30px",height:"30px"},src:se,alt:"Editar"},null,-1)]),8,Ee),u("div",{style:{cursor:"pointer"},class:"mr-2",onClick:G=>S(s),title:"Deletar Pessoa"},[s.excluido?(M(),N("img",qe)):(M(),N("img",Ne))],8,Re)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(me,{modelValue:l($),"onUpdate:modelValue":t[8]||(t[8]=s=>T($)?$.value=s:null),"max-width":"600px"},{default:o(()=>[e(ee,null,{default:o(()=>[e(ze,{style:{color:"green"}},{default:o(()=>t[12]||(t[12]=[b("Atualizar Bem")])),_:1}),e(Ue,null,{default:o(()=>[e(U,{class:"mt-1",cols:"12"},{default:o(()=>[e(ae,{label:"Descrição",modelValue:l(m).descricao,"onUpdate:modelValue":t[3]||(t[3]=s=>l(m).descricao=s)},null,8,["modelValue"])]),_:1}),e(D,null,{default:o(()=>[e(U,{class:"mt-6 ml-3",cols:"8"},{default:o(()=>[e(J,{label:"Selecione o Tipo",items:l(d).tiposBens,modelValue:l(m).tipo_id,"onUpdate:modelValue":t[4]||(t[4]=s=>l(m).tipo_id=s),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(U,{class:"ml-5",cols:"3"},{default:o(()=>[t[13]||(t[13]=u("label",null,"Valor",-1)),e(E,{modelValue:l(m).valor_mercado,"onUpdate:modelValue":t[5]||(t[5]=s=>l(m).valor_mercado=s)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(De,null,{default:o(()=>[e(Ce),e(K,{color:"green",text:"",onClick:t[6]||(t[6]=s=>$.value=!1)},{default:o(()=>t[14]||(t[14]=[b("Cancelar")])),_:1}),e(K,{color:"green",text:"",onClick:t[7]||(t[7]=s=>r(l(m).id))},{default:o(()=>t[15]||(t[15]=[b("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(D,null,{default:o(()=>[e(W,{onClick:H},{default:o(()=>[e(K,{size:"large",color:"red"},{default:o(()=>t[16]||(t[16]=[b("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Fe={__name:"Atualizar",props:{show:Boolean},emits:["close"],setup(L,{emit:i}){const v=L,f=c("dados"),p=c(v.show),V=i;Ae(()=>v.show,y=>{p.value=y});const w=()=>{p.value=!1,V("close")};return(y,n)=>{const B=Me,z=Ie;return M(),Y(me,{persistent:"",modelValue:l(p),"onUpdate:modelValue":n[2]||(n[2]=k=>T(p)?p.value=k:null),"max-width":"1000"},{default:o(()=>[e(ee,null,{default:o(()=>[e(oe,null,{default:o(()=>[n[5]||(n[5]=u("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Atualizar imovel ",-1)),e(pe,{modelValue:l(f),"onUpdate:modelValue":n[0]||(n[0]=k=>T(f)?f.value=k:null),"bg-color":"#f5f2f2"},{default:o(()=>[e(A,{value:"dados"},{default:o(()=>n[3]||(n[3]=[b("Dados")])),_:1}),e(A,{value:"partes"},{default:o(()=>n[4]||(n[4]=[b("Partes")])),_:1})]),_:1},8,["modelValue"]),e(_e,{modelValue:l(f),"onUpdate:modelValue":n[1]||(n[1]=k=>T(f)?f.value=k:null)},{default:o(()=>[e(P,{value:"dados"},{default:o(()=>[e(B,{onSaved:y.handleSave,onCloseModal:w},null,8,["onSaved"])]),_:1}),e(P,{value:"partes"},{default:o(()=>[e(z,{onCloseModal:w})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},Ge={style:{width:"200px"}},Je={style:{width:"300px"}},je=["onClick"],He=["onClick"],We=["onClick"],Ke={key:0,style:{width:"30px",height:"30px"},src:ie,alt:"Visualizar",title:"Reativar"},Qe={key:1,src:ne,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Xe={__name:"Imoveis",async setup(L){let i,v;const f=Z(),p=`${f.public.auth}/service/gerencia/atos_imoveis`,V=`${f.public.auth}/service/gerencia/atos_bens`;ue();const w=X(),y=c(""),n=c(""),B=c(!1),z=c(!1),k=[{title:"Matrícula",value:"martricula"},{title:"Descrição",value:"descricao"},{value:"actions"}],{data:O,status:C}=([i,v]=q(()=>j(p,{method:"POST",body:{ato_token:w.query.ato_token_edit}})),i=await i,v(),i),m=Pe(()=>O.value.filter(g=>{const r=g.matricula?g.matricula.toLowerCase():"",I=g.descricao?g.descricao.toLowerCase():"",x=r.includes(n.value.toLowerCase()),a=I.includes(y.value.toLowerCase());return x&&a}));async function $(g){g.excluido=!g.excluido;try{await j(`${V}/${g.id}`,{method:"PUT",body:{excluido:g.excluido}})}catch(r){console.error("Erro ao excluir pessoa:",r)}}function F(g){}function d(g){z.value=!0}return(g,r)=>{const I=he,x=Fe;return l(C)==="success"?(M(),Y(oe,{key:0,class:"mt-5"},{default:o(()=>[u("img",{onClick:r[0]||(r[0]=a=>B.value=!0),style:{cursor:"pointer"},src:le,alt:"Cadastro"}),e(D,{style:{gap:"3rem"}},{default:o(()=>[u("div",Ge,[e(te,{class:"mt-7 mb-4",modelValue:l(n),"onUpdate:modelValue":r[1]||(r[1]=a=>T(n)?n.value=a:null),label:"Matrícula","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),u("div",Je,[e(te,{class:"mt-7 mb-4",modelValue:l(y),"onUpdate:modelValue":r[2]||(r[2]=a=>T(y)?y.value=a:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),e(ce,{density:"compact",headers:k,items:l(m),"item-key":"id"},{"item.actions":o(({item:a})=>[e(D,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:o(()=>[u("div",{style:{cursor:"pointer"},onClick:S=>(a.id,void 0),title:"Visualizar"},r[5]||(r[5]=[u("img",{style:{width:"30px",height:"30px"},src:re,alt:"Visualizar"},null,-1)]),8,je),u("div",{style:{cursor:"pointer"},onClick:S=>d(a.id),title:"Atualizar"},r[6]||(r[6]=[u("img",{style:{width:"30px",height:"30px"},src:se,alt:"Atualizar"},null,-1)]),8,He),u("div",{style:{cursor:"pointer"},onClick:S=>$(a),title:"Deletar"},[a.excluido?(M(),N("img",Ke)):(M(),N("img",Qe))],8,We)]),_:2},1024)]),_:1},8,["items"]),e(I,{show:l(B),onClose:r[3]||(r[3]=a=>B.value=!1)},null,8,["show"]),e(x,{show:l(z),onClose:r[4]||(r[4]=a=>z.value=!1)},null,8,["show"])]),_:1})):Te("",!0)}}},Ye={class:"mb-10"},Ze={style:{color:"red","margin-left":"30px"}},Ao={__name:"[id]",async setup(L){let i,v;const f=c(null),p=c(null),V=c(null),w=Z(),y=X(),n=`${w.public.auth}/service/gerencia/listarSituacoes`,B=`${w.public.auth}/service/gerencia/getAtos`,z=c(Q("user-data").value.cartorio_token),k=y.query.id?{ato_token:y.query.tipo_ato_token}:{cartorio_token:z},O=c([]),C=c([]),m=c("PROCURAÇÕES"),$=c("PROCURAÇÃO COM BENS");async function F(){try{const{data:x}=await j(`${B}/${y.query.ato_id}`,{method:"GET"});C.value=x.value}catch(x){console.log(x)}}[i,v]=q(()=>F()),await i,v();const{data:d,status:g}=([i,v]=q(()=>j(n,{method:"POST",body:k})),i=await i,v(),i);O.value=d.value;const r=x=>{f.value=x},I=x=>{p.value=x};return(x,a)=>{const S=ve,H=fe,_=Le,t=Xe,E=Ve,W=ye,s=ge,G=xe;return M(),N(Be,null,[u("div",Ye,[e(D,{class:"mb-5 mt-5"},{default:o(()=>[a[4]||(a[4]=u("h1",null,"Ordem de Serviço nº",-1)),u("h1",Ze,de(l(y).query.numero_os),1)]),_:1}),e(D,null,{default:o(()=>[e(U,{md:"6"},{default:o(()=>[e(J,{class:"mr-5",modelValue:l(m),"onUpdate:modelValue":a[0]||(a[0]=h=>T(m)?m.value=h:null),disabled:""},null,8,["modelValue"])]),_:1}),e(U,{md:"6"},{default:o(()=>[e(J,{modelValue:l($),"onUpdate:modelValue":a[1]||(a[1]=h=>T($)?$.value=h:null),disabled:""},null,8,["modelValue"])]),_:1})]),_:1})]),e(ee,{width:"1300"},{default:o(()=>[e(pe,{modelValue:l(V),"onUpdate:modelValue":a[2]||(a[2]=h=>T(V)?V.value=h:null),"bg-color":"#f5f2f2"},{default:o(()=>[e(A,{value:"dados"},{default:o(()=>a[5]||(a[5]=[b("Dados")])),_:1}),e(A,{value:"partes"},{default:o(()=>a[6]||(a[6]=[b("Partes")])),_:1}),e(A,{value:"bens"},{default:o(()=>a[7]||(a[7]=[b("Bens")])),_:1}),e(A,{value:"imoveis"},{default:o(()=>a[8]||(a[8]=[b("Imoveis")])),_:1}),e(A,{value:"minuta"},{default:o(()=>a[9]||(a[9]=[b("Minuta")])),_:1}),e(A,{value:"livro"},{default:o(()=>a[10]||(a[10]=[b("Livro")])),_:1}),e(A,{value:"observacao"},{default:o(()=>a[11]||(a[11]=[b("Observações")])),_:1}),e(A,{value:"anexo"},{default:o(()=>a[12]||(a[12]=[b("Anexos")])),_:1})]),_:1},8,["modelValue"]),e(_e,{modelValue:l(V),"onUpdate:modelValue":a[3]||(a[3]=h=>T(V)?V.value=h:null)},{default:o(()=>[e(P,{value:"dados"},{default:o(()=>[e(S,{item_dados:l(C),item_situacoes:l(O)},null,8,["item_dados","item_situacoes"])]),_:1}),e(P,{value:"partes"},{default:o(()=>[e(H)]),_:1}),e(P,{value:"bens"},{default:o(()=>[e(_)]),_:1}),e(P,{value:"imoveis"},{default:o(()=>[e(t)]),_:1}),e(P,{value:"minuta"},{default:o(()=>[e(E,{onPage:r,onDoc:I})]),_:1}),e(P,{value:"livro"},{default:o(()=>[e(W,{pages:l(f),document:l(p)},null,8,["pages","document"])]),_:1}),e(P,{value:"observacao"},{default:o(()=>[e(s)]),_:1}),e(P,{value:"anexo"},{default:o(()=>[e(G)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)}}};export{Ao as default};
