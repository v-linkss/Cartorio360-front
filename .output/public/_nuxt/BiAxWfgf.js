import{_ as Q,a as X,b as H,c as J,d as Y,e as Z}from"./DEyAC-15.js";import{_ as h,a as ee}from"./DxQEW0JP.js";import{_ as oe}from"./zhs9mdLm.js";import{p as te,r as d,m as ae,Q as se,u as le,K as ne,q as re,k as ue,o as n,y as r,w as o,b as t,V as I,x as e,I as U,d as v,A as ie,s as me,g as S,z as i,M}from"./KmxbTDZB.js";import{f as B}from"./Dlkw5yEr.js";import{u as de}from"./DLq9EETm.js";import{V as F}from"./ELG2dCWN.js";import{V as w}from"./Dtk2z_RO.js";import{V as O}from"./CID6-TrE.js";import{V as _e}from"./Dovvx7W8.js";import{_ as ce}from"./31EhnZtE.js";import{V as pe}from"./Dt_-M_Zp.js";import{V as y,a as fe,e as g,d as ve}from"./gZUvGEqd.js";import"./C2H22RUC.js";import"./6O2-NiOn.js";import"./L6qdQH47.js";import"./C3xYj9Fh.js";import"./B0IxRygJ.js";import"./DDlkE7Ae.js";import"./BkX6yRcy.js";import"./Div5sPxQ.js";import"./B6l-6d0P.js";import"./BVz1G1IN.js";import"./DmP6YNpA.js";import"./DJvq3mCv.js";import"./FgNYIwgh.js";import"./DuY-l32M.js";import"./DIzyac_i.js";import"./jNAH1ETI.js";import"./smnZwIn3.js";import"./Bw61ADXT.js";import"./DxhtBlId.js";import"./ANQ_rdlg.js";import"./syaPipua.js";import"./VjWOHYOb.js";const ke={__name:"SeparacaoDivorcio",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0}},setup(D){const P=D,k=ie(),m=te({dt_casamento:null,tabvalores_regimecasamento_id:null,qtd_filhos_maiores:null,qtd_filhos_menores:null,responsavel_menores_id:null}),p=d([]),c=ae(),T=se(),{$toast:A}=le(),V=`${k.public.auth}/service/gerencia/getAtos/${P.ato_id}`,l=`${k.public.auth}/service/gerencia/regime_casamento`,$=`${k.public.auth}/service/gerencia/getAtosPessoaById/${P.ato_id}`,x=`${k.public.managemant}/updateAtos`;d(""),d(""),d(!1),d(!1),d(null);const q=d([]),N=ne(()=>{var u;return((u=q.value)==null?void 0:u.map(s=>{var b;return{id:s.pessoa.id,nome:((b=s.pessoa)==null?void 0:b.nome)||"Sem nome"}}))||[]});re(async()=>{const[u,s,b]=await Promise.all([B(V,{method:"GET"}),B(l,{method:"GET"}),B($,{method:"GET"})]);u.data.value&&Object.assign(m,u.data.value[0]||u.data.value),s.data.value&&(p.value=s.data.value),b.data.value&&(q.value=b.data.value)});const R=async()=>{try{const{data:u}=await B($,{method:"GET"});q.value=u.value||[]}catch{}};ue(async()=>{await me(),await R()});const z=()=>{const u=T.query.origem||"criar",s=T.query.id;switch(u){case"atualizar":case"vizualizar":c.push(`/os/atualizar/${s}`);break;case"atualizar-lista":case"vizualizar-lista":c.push("/atos/lista");break;default:c.push("/os/criar-registro");break}};async function _(){const{data:u,error:s,status:b}=await de(`${x}/${Number.parseInt(P.ato_id)}`,{method:"PUT",body:{dt_casamento:m.dt_casamento,tabvalores_regimecasamento_id:m.tabvalores_regimecasamento_id,qtd_filhos_maiores:m.qtd_filhos_maiores,qtd_filhos_menores:m.qtd_filhos_menores,responsavel_menores_id:m.responsavel_menores_id}},"$2MFTkguIXN");b.value==="success"&&A.success("Divórcio salvo com sucesso")}const a=u=>{const s=["Backspace","Tab","ArrowLeft","ArrowRight","Delete"];!/[0-9]/.test(u.key)&&!s.includes(u.key)&&u.preventDefault()};return(u,s)=>{const b=oe;return n(),r(_e,{class:"mt-5"},{default:o(()=>[t(F,{dense:""},{default:o(()=>[t(w,{cols:"12",sm:"4",md:"3"},{default:o(()=>[t(I,{modelValue:e(m).dt_casamento,"onUpdate:modelValue":s[0]||(s[0]=f=>e(m).dt_casamento=f),type:"date",label:"Data Casamento"},null,8,["modelValue"])]),_:1}),t(w,{cols:"12",sm:"6",md:"4"},{default:o(()=>[t(O,{label:"Regime Bens",modelValue:e(m).tabvalores_regimecasamento_id,"onUpdate:modelValue":s[1]||(s[1]=f=>e(m).tabvalores_regimecasamento_id=f),items:e(p),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),t(w,{cols:"12",sm:"6",md:"3"},{default:o(()=>[t(I,{label:"Filhos Maiores",modelValue:e(m).qtd_filhos_maiores,"onUpdate:modelValue":s[2]||(s[2]=f=>e(m).qtd_filhos_maiores=f),modelModifiers:{number:!0},type:"number",min:"0",onKeydown:a},null,8,["modelValue"])]),_:1}),t(w,{cols:"12",sm:"6",md:"3"},{default:o(()=>[t(I,{label:"Filhos Menores",modelValue:e(m).qtd_filhos_menores,"onUpdate:modelValue":s[3]||(s[3]=f=>e(m).qtd_filhos_menores=f),type:"number",min:"0",onKeydown:a},null,8,["modelValue"])]),_:1}),t(w,{cols:"12",sm:"6",md:"4"},{default:o(()=>[t(O,{onFocus:R,label:"Responsável",modelValue:e(m).responsavel_menores_id,"onUpdate:modelValue":s[4]||(s[4]=f=>e(m).responsavel_menores_id=f),items:e(N),"item-title":"nome","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1})]),_:1}),t(F,{class:"mt-5",justify:"start",align:"center"},{default:o(()=>[t(w,{cols:"auto"},{default:o(()=>[t(b,{onClick:z},{default:o(()=>[t(U,{size:"large",color:"red"},{default:o(()=>s[5]||(s[5]=[v("Voltar")])),_:1})]),_:1})]),_:1}),t(w,{cols:"auto"},{default:o(()=>[t(U,{class:"ml-2",onClick:_,size:"large",color:"green"},{default:o(()=>s[6]||(s[6]=[v("Salvar")])),_:1})]),_:1})]),_:1})]),_:1})}}},he={__name:"geral",props:{ato_token:{type:String,required:!0},ato_tipo_id:{type:Number},usa_imoveis:{type:Boolean,default:!1}},emits:["ato-created"],setup(D,{emit:P}){const k=D,m=P,p=d(null),c=d(null),T=d(null),A=d(null),V=d(null),l=d(!1),$=d(k.ato_token),x=d(k.ato_tipo_id),q=d(k.usa_imoveis),N=({id:_,token:a})=>{p.value=_,c.value=a,l.value=!0,m("ato-created")},R=_=>{T.value=_},z=_=>{A.value=_};return S(()=>k.ato_token,_=>{$.value=_}),S(()=>k.ato_tipo_id,_=>{x.value=_}),S(()=>k.usa_imoveis,_=>{q.value=_}),(_,a)=>{const u=Q,s=X,b=h,f=ke,E=ee,G=H,K=J,L=Y,W=Z,j=ce;return n(),r(pe,{width:"1300"},{default:o(()=>[t(fe,{modelValue:e(V),"onUpdate:modelValue":a[0]||(a[0]=C=>M(V)?V.value=C:null),"bg-color":"#f5f2f2"},{default:o(()=>[t(y,{value:"dados"},{default:o(()=>a[2]||(a[2]=[v("Dados")])),_:1}),e(l)?(n(),r(y,{key:0,value:"partes"},{default:o(()=>a[3]||(a[3]=[v("Partes")])),_:1})):i("",!0),e(l)?(n(),r(y,{key:1,value:"bens"},{default:o(()=>a[4]||(a[4]=[v("Bens")])),_:1})):i("",!0),e(l)?(n(),r(y,{key:2,value:"imoveis"},{default:o(()=>a[5]||(a[5]=[v("Imoveis")])),_:1})):i("",!0),e(l)?(n(),r(y,{key:3,value:"separacao_ivorcio"},{default:o(()=>a[6]||(a[6]=[v(" Separação e Divórcio")])),_:1})):i("",!0),e(l)?(n(),r(y,{key:4,value:"minuta"},{default:o(()=>a[7]||(a[7]=[v("Minuta")])),_:1})):i("",!0),e(l)?(n(),r(y,{key:5,value:"livro"},{default:o(()=>a[8]||(a[8]=[v("Livro")])),_:1})):i("",!0),e(l)?(n(),r(y,{key:6,value:"observacao"},{default:o(()=>a[9]||(a[9]=[v("Observações")])),_:1})):i("",!0),e(l)?(n(),r(y,{key:7,value:"anexo"},{default:o(()=>a[10]||(a[10]=[v("Anexos")])),_:1})):i("",!0),e(l)?(n(),r(y,{key:8,value:"outros"},{default:o(()=>a[11]||(a[11]=[v("Outros")])),_:1})):i("",!0)]),_:1},8,["modelValue"]),t(ve,{modelValue:e(V),"onUpdate:modelValue":a[1]||(a[1]=C=>M(V)?V.value=C:null)},{default:o(()=>[t(g,{value:"dados"},{default:o(()=>[t(u,{onSaved:N,ato_token:e($),ato_tipo_id:e(x)},null,8,["ato_token","ato_tipo_id"])]),_:1}),e(l)?(n(),r(g,{key:0,value:"partes"},{default:o(()=>[t(s,{ato_token:e($),ato_id:e(p)},null,8,["ato_token","ato_id"])]),_:1})):i("",!0),e(l)?(n(),r(g,{key:1,value:"bens"},{default:o(()=>[t(b,{ato_token:e(c),ato_id:e(p)},null,8,["ato_token","ato_id"])]),_:1})):i("",!0),e(l)?(n(),r(g,{key:2,value:"bens"},{default:o(()=>[t(f,{ato_token:e(c),ato_id:e(p)},null,8,["ato_token","ato_id"])]),_:1})):i("",!0),e(l)?(n(),r(g,{key:3,value:"imoveis"},{default:o(()=>[t(E,{ato_token:e(c),ato_token_selected:e($),ato_id:e(p)},null,8,["ato_token","ato_token_selected","ato_id"])]),_:1})):i("",!0),e(q)?(n(),r(g,{key:4,value:"separacao_ivorcio"},{default:o(()=>[t(f,{ato_token:e(c),ato_id:e(p)},null,8,["ato_token","ato_id"])]),_:1})):i("",!0),e(l)?(n(),r(g,{key:5,value:"minuta"},{default:o(()=>[t(G,{onPage:R,onDoc:z,ato_token:e(c)},null,8,["ato_token"])]),_:1})):i("",!0),e(l)?(n(),r(g,{key:6,value:"livro"},{default:o(()=>[t(K,{pages:e(T),ato_token:e(c),document:e(A)},null,8,["pages","ato_token","document"])]),_:1})):i("",!0),e(l)?(n(),r(g,{key:7,value:"observacao"},{default:o(()=>[t(L,{ato_id:e(p)},null,8,["ato_id"])]),_:1})):i("",!0),e(l)?(n(),r(g,{key:8,value:"anexo"},{default:o(()=>[t(W,{ato_token:e(c),ato_id:e(p)},null,8,["ato_token","ato_id"])]),_:1})):i("",!0),e(l)?(n(),r(g,{key:9,value:"outros"},{default:o(()=>[t(j,{ato_token:e(c),ato_id:e(p)},null,8,["ato_token","ato_id"])]),_:1})):i("",!0)]),_:1},8,["modelValue"])]),_:1})}}};export{he as default};
