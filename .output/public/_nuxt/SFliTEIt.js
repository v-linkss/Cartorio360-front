import{_ as B}from"./DekodvIf.js";import{_ as E}from"./BVz1G1IN.js";import{_ as N}from"./Dj0NH8yt.js";import{_ as I}from"./B6P7eiBO.js";import{_ as P,a as F}from"./DJvq3mCv.js";import{r as u,m as x,L as O,G as S,I as j,q as p,p as q,w as r,A as G,v as M,o as _,b as s,a as i,C as y,s as k,c as V}from"./B1OsRTYt.js";import{u as W}from"./Cj5bN5p6.js";import{f as X}from"./RwviurwP.js";import{V as Z}from"./D8UBq0s_.js";import{V as g}from"./xkkkrMqf.js";import{V as H}from"./qym8ahIV.js";import"./DPhkrkrp.js";import"./QO_fwZyR.js";import"./C_TWlm80.js";import"./Dxh6Etjz.js";import"./Bl7akXNZ.js";import"./CkWihTnN.js";import"./Dw0ieUQB.js";import"./Dd715Kqs.js";const J={style:{width:"300px"}},K={style:{width:"200px"}},Q=["onClick"],Y=["onClick"],tt=["onClick"],ot={key:0,style:{width:"30px",height:"30px"},src:P,alt:"Visualizar",title:"Reativar"},et={key:1,src:F,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Ct={__name:"index",async setup(it){let l,f;const d=M(),C=`${d.public.managemant}/listar_tipo_atos`,w=`${d.public.managemant}/tipo-atos`;`${d.public.managemant}`;const $=u(x("auth_token").value)||null,b=u(x("user-data").value.cartorio_token)||null,h=O(),n=u(""),c=u(""),A=[{title:"ID",value:"id"},{title:"Tipo de serviço",value:"tipo_servico"},{title:"Descrição",value:"descricao"},{value:"actions"}],T={cartorio_token:b.value,tipo:"ATO",user_token:$.value},{data:v,status:z}=([l,f]=S(()=>W(`${C}`,{method:"POST",body:T},"$oZbUuIoeXz")),l=await l,f(),l),L=j(()=>v.value?v.value.filter(o=>{var e,a;const t=((e=o.descricao)==null?void 0:e.toLowerCase())??"",m=((a=o.tipo_servico)==null?void 0:a.toLowerCase())??"";return t.includes(c.value.toLowerCase())&&m.includes(n.value.toLowerCase())}):[]);async function D(o){o.excluido=!o.excluido;try{await X(`${w}/${o.id}`,{method:"PUT",body:{excluido:o.excluido}})}catch(t){console.error("Erro ao excluir pessoa:",t)}}function U(o){h.push({path:`/tipoAtos/visualizar/${o}`})}function R(o){h.push({path:`/tipoAtos/atualizar/${o}`})}return(o,t)=>{const m=B;return p(z)==="success"?(_(),q(Z,{key:0,class:"mt-5"},{default:r(()=>[s(m,{to:"/tipoAtos/cadastro"},{default:r(()=>t[2]||(t[2]=[i("img",{style:{cursor:"pointer"},src:E,alt:"Cadastro"},null,-1)])),_:1}),s(g,{style:{gap:"3rem"}},{default:r(()=>[i("div",J,[s(y,{class:"mt-7 mb-4",modelValue:p(n),"onUpdate:modelValue":t[0]||(t[0]=e=>k(n)?n.value=e:null),label:"tipo do ato","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])]),i("div",K,[s(y,{class:"mt-7 mb-4",modelValue:p(c),"onUpdate:modelValue":t[1]||(t[1]=e=>k(c)?c.value=e:null),label:"Descrição","prepend-inner-icon":"mdi-magnify",variant:"outlined","hide-details":""},null,8,["modelValue"])])]),_:1}),s(H,{density:"compact",headers:A,items:p(L),"item-key":"id"},{"item.actions":r(({item:e})=>[s(g,{style:{display:"flex",gap:"10px","justify-content":"flex-end"}},{default:r(()=>[i("div",{style:{cursor:"pointer"},onClick:a=>U(e.id),title:"Visualizar"},t[3]||(t[3]=[i("img",{style:{width:"30px",height:"30px"},src:N,alt:"Visualizar"},null,-1)]),8,Q),i("div",{style:{cursor:"pointer"},onClick:a=>R(e.id),title:"Atualizar"},t[4]||(t[4]=[i("img",{style:{width:"30px",height:"30px"},src:I,alt:"Atualizar"},null,-1)]),8,Y),i("div",{style:{cursor:"pointer"},onClick:a=>D(e),title:"Deletar"},[e.excluido?(_(),V("img",ot)):(_(),V("img",et))],8,tt)]),_:2},1024)]),_:1},8,["items"])]),_:1})):G("",!0)}}};export{Ct as default};
