import{n as Ce,u as he,A as Q,r as j,s as we,B as Se,M as Ie,o as M,c as ee,x as a,v as H,F as Et,t as at,G as oe,w as l,b as t,V as O,N as ce,y as te,d as J,H as me,z as fe,q as xe,E as Ae,a as X,C as _e,K as ot,Q as L,_ as lt,ba as Ge,O as Ne,bS as ve,c7 as At,c8 as Tt,c9 as Ke,ca as Te,bq as le,bj as $e,cb as Bt,D as st,c6 as nt,cc as Be,bV as pe,cd as Dt,aL as De,ce as Mt,cf as it,bZ as ge,c5 as de,cg as Ut,bH as rt,ch as Ft,ci as Rt,cj as ze,ck as Nt,bT as zt,bX as Oe,bY as Ot,b$ as Je,cl as Lt,J as ye,cm as ut,cn as jt,c3 as Wt,co as qt,cp as Yt,cq as dt,cr as ct,cs as Ht,ct as Xt,cu as Gt,cv as Kt,h as mt,cw as Jt,cx as Qt,cy as Zt,cz as ea,cA as ta,aW as aa,cB as oa,cC as la,cD as sa,cE as na,cF as ia}from"./D90Z1kIp.js";import{b as Le,u as K}from"./Dj4qdfBw.js";import{c as ne,r as re,u as Me}from"./C3HSKo7P.js";import{c as ra}from"./CsU2e27o.js";import{V as G}from"./CrjEoia1.js";import{V as B}from"./Ce3FG1zS.js";import{V as se}from"./CEQ_E3oE.js";import{V as ue}from"./Ce8p0vfj.js";import{_ as vt}from"./qSlA23IF.js";import{_ as Qe}from"./DfjuBLsA.js";import{_ as Ee,V as je,a as We,b as qe,c as ft}from"./DtH2FLXS.js";import{V as Ue,a as Fe,d as pt,c as gt,b as bt}from"./DWAP77Pf.js";import{V as ua,m as da,a as Ze}from"./DKBu3Joi.js";import{u as ca}from"./DtoTU6T2.js";import{_ as ma}from"./D5ILf1_R.js";const va={key:1},fa={__name:"Dados",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],async setup(e,{emit:o}){let s,n;const v=e,f=o,r=Ce(),{$toast:m}=he(),g=fe(),E=`${g.public.managemant}/createPessoa`,x=`${g.public.managemant}/updatePessoa`,R=`${g.public.managemant}/listarEstadoCivil`,U=`${g.public.managemant}/listarCapacidadeCivil`,I=`${g.public.managemant}/listarCidades`,T={nome:"",nome_pai:"",nome_mae:"",profissao:"",local_trabalho:"",data_nascimento:"",doc_identificacao:"",cpf_pai:"",cpf_mae:"",tipo_pessoa:"FISICA",tabvalores_estadocivil_id:"",tabvalores_capacidadecivil_id:"",cidade_natural_id:"",cartorio_id:Q("user-data").value.cartorio_id,user_id:Q("user-data").value.usuario_id},y=j(!1),N=Q("pessoa-id"),i=we({...T});function S($){if($)return $.replace(/[.\-]/g,"");$=null}const{data:w,status:u,pending:p,error:A}=([s,n]=Se(async()=>Le("cliente-dados",async()=>{const[$,b,F]=await Promise.all([$fetch(R),$fetch(U),$fetch(I)]);return{estadoCivilItems:$,capacidadeCivilItems:b,cidadeNascimentoItems:F}})),s=await s,n(),s),k={nome:{required:ne.withMessage("O campo é obrigatorio",re)},nome_mae:{required:ne.withMessage("O campo é obrigatorio",re)},doc_identificacao:{required:ne.withMessage("O campo é obrigatorio",re),cpf:ra}},d=Me(k,i);async function D(){if(await d.value.$validate()){const $={...i};for(const _ in $)$[_]===""&&($[_]=null);const b={...$,doc_identificacao:S(i.doc_identificacao),cpf_pai:S(i.cpf_pai),cpf_mae:S(i.cpf_mae)},{data:F,error:C,status:W}=await K(E,{method:"POST",body:b},"$fcbWHpl5XR");if(W.value==="error"&&C.value.statusCode===500)m.error("Erro ao cadastrar pessoa,o CPF já está cadastrado.");else{m.success("Pessoa cadastrada com sucesso!");const _=F.value.id;N.value=_;const Z=Q("pessoa_token");Z.value=F.value.token,y.value=!0,f("saved")}}else m.error("Erro ao cadastrar pessoa, preencha os campos obrigatorios.")}async function P(){const $={...i};for(const _ in $)$[_]===""&&($[_]=null);const b={...$,doc_identificacao:S(i.doc_identificacao),cpf_mae:S(i.cpf_mae)},{data:F,error:C,status:W}=await K(`${x}/${N.value}`,{method:"PUT",body:b},"$S30ZRYxneo");if(W.value==="success"){if(v.isModal===!0){m.success("Pessoa atualizada com sucesso!"),f("close-modal");return}m.success("Pessoa atualizada com sucesso!"),r.push("/pessoas/lista")}}const q=()=>{if(v.isModal===!0){f("close-modal");return}r.push("/pessoas/lista")};return($,b)=>{const F=Ie("mask");return M(),ee(me,null,[a(p)?(M(),H(Et,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):a(A)?(M(),ee("div",va,at(a(A).message),1)):oe("",!0),a(p)?oe("",!0):(M(),H(ue,{key:2},{default:l(()=>[t(G,null,{default:l(()=>[t(B,{md:"8"},{default:l(()=>[t(O,{modelValue:a(i).nome,"onUpdate:modelValue":b[0]||(b[0]=C=>a(i).nome=C),"error-messages":a(d).nome.$errors.map(C=>C.$message),label:"Nome",required:"",onBlur:a(d).nome.$touch,onInput:a(d).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(B,{md:"4"},{default:l(()=>[ce(t(O,{modelValue:a(i).doc_identificacao,"onUpdate:modelValue":b[1]||(b[1]=C=>a(i).doc_identificacao=C),"error-messages":a(d).doc_identificacao.$errors.map(C=>C.$message),label:"CPF",required:"",onBlur:a(d).doc_identificacao.$touch,onInput:a(d).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[F,"###.###.###-##"]])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(B,{md:"4"},{default:l(()=>[t(se,{modelValue:a(i).tabvalores_estadocivil_id,"onUpdate:modelValue":b[2]||(b[2]=C=>a(i).tabvalores_estadocivil_id=C),items:a(w).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),t(B,{md:"4"},{default:l(()=>[t(O,{modelValue:a(i).profissao,"onUpdate:modelValue":b[3]||(b[3]=C=>a(i).profissao=C),label:"Profissão"},null,8,["modelValue"])]),_:1}),t(B,{md:"4"},{default:l(()=>[t(O,{modelValue:a(i).local_trabalho,"onUpdate:modelValue":b[4]||(b[4]=C=>a(i).local_trabalho=C),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(B,{md:"4"},{default:l(()=>[t(O,{modelValue:a(i).data_nascimento,"onUpdate:modelValue":b[5]||(b[5]=C=>a(i).data_nascimento=C),type:"date","prepend-icon":"",label:"Data de nascimento"},null,8,["modelValue"])]),_:1}),t(B,{md:"4"},{default:l(()=>[t(se,{modelValue:a(i).tabvalores_capacidadecivil_id,"onUpdate:modelValue":b[6]||(b[6]=C=>a(i).tabvalores_capacidadecivil_id=C),items:a(w).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(B,{md:"4"},{default:l(()=>[t(se,{modelValue:a(i).cidade_natural_id,"onUpdate:modelValue":b[7]||(b[7]=C=>a(i).cidade_natural_id=C),items:a(w).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(B,{md:"4"},{default:l(()=>[ce(t(O,{modelValue:a(i).cpf_pai,"onUpdate:modelValue":b[8]||(b[8]=C=>a(i).cpf_pai=C),modelModifiers:{date:!0},label:"CPF do Pai"},null,8,["modelValue"]),[[F,"###.###.###-##"]])]),_:1}),t(B,{md:"4"},{default:l(()=>[t(O,{modelValue:a(i).nome_pai,"onUpdate:modelValue":b[9]||(b[9]=C=>a(i).nome_pai=C),modelModifiers:{date:!0},label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(B,{md:"4"},{default:l(()=>[ce(t(O,{modelValue:a(i).cpf_mae,"onUpdate:modelValue":b[10]||(b[10]=C=>a(i).cpf_mae=C),modelModifiers:{date:!0},label:"CPF da Mãe"},null,8,["modelValue"]),[[F,"###.###.###-##"]])]),_:1}),t(B,{md:"4"},{default:l(()=>[t(O,{modelValue:a(i).nome_mae,"onUpdate:modelValue":b[11]||(b[11]=C=>a(i).nome_mae=C),modelModifiers:{date:!0},"error-messages":a(d).nome_mae.$errors.map(C=>C.$message),label:"Nome da Mãe",required:"",onBlur:a(d).nome_mae.$touch,onInput:a(d).nome_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),t(G,{class:"mb-3"},{default:l(()=>[t(te,{onClick:q,size:"large",color:"red"},{default:l(()=>[J("Voltar")]),_:1}),t(te,{onClick:b[12]||(b[12]=C=>a(y)?P():D()),class:"ml-4",size:"large",color:"green"},{default:l(()=>[J("Salvar")]),_:1})]),_:1})]),_:1}))],64)}}},pa=ne.withMessage("CNPJ inválido",e=>{if(!e)return!1;const o=e.replace(/[^\d]+/g,"");if(o.length!==14||/^(\d)\1+$/.test(o))return!1;let s=o.length-2,n=o.substring(0,s);const v=o.substring(s);let f=0,r=s-7;for(let g=s;g>=1;g--)f+=parseInt(n.charAt(s-g),10)*r--,r<2&&(r=9);let m=f%11<2?0:11-f%11;if(m!==parseInt(v.charAt(0),10))return!1;s+=1,n=o.substring(0,s),f=0,r=s-7;for(let g=s;g>=1;g--)f+=parseInt(n.charAt(s-g),10)*r--,r<2&&(r=9);return m=f%11<2?0:11-f%11,m===parseInt(v.charAt(1),10)}),ga={__name:"DadosJuridica",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],setup(e,{emit:o}){const s=e,n=o,v=Ce(),f=xe(),{$toast:r}=he(),m=fe(),g=`${m.public.managemant}/getPessoaById`,E=`${m.public.managemant}/createPessoa`,x=`${m.public.managemant}/updatePessoa`,{id:R}=f.params,U={nome:null,nome_fantasia:null,inscricao_estadual:null,observacao:null,doc_identificacao:null,tipo_pessoa:"JURIDICA",cartorio_id:Q("user-data").value.cartorio_id,user_id:Q("user-data").value.usuario_id},I=j(!1),T=Q("pessoa-id"),y=we({...U});function N(k){return k?k.replace(/[.\-/]/g,""):null}const i={nome:{required:ne.withMessage("O campo é obrigatorio",re)},doc_identificacao:{required:ne.withMessage("O campo é obrigatorio",re),cnpj:pa}},S=Me(i,y);async function w(){if(await S.value.$validate()){const k={...y};for(const $ in k)k[$]===""&&(k[$]=null);const d={...k,doc_identificacao:N(y.doc_identificacao)},{data:D,error:P,status:q}=await K(E,{method:"POST",body:d},"$kpCGWBoNdd");if(q.value==="error"&&P.value.statusCode===500)r.error("Erro ao cadastrar Pessoa Juridica,o CNPJ já está cadastrado.");else{r.success("Pessoa Juridica cadastrada com sucesso!");const $=D.value.id;T.value=$;const b=Q("pessoa_token");b.value=D.value.token,I.value=!0,n("saved")}}else r.error("Erro ao cadastrar pessoa juridica, preencha os campos obrigatorios.")}async function u(){const k={...y};for(const $ in k)k[$]===""&&(k[$]=null);const d={...k,doc_identificacao:N(y.doc_identificacao)},{data:D,error:P,status:q}=await K(`${x}/${R||T.value}`,{method:"PUT",body:d},"$mSTT3Fc5La");if(q.value==="success"){if(s.isModal===!0){r.success("Pessoa Juridica atualizada com sucesso!"),n("close-modal");return}r.success("Pessoa Juridica atualizada com sucesso!"),v.push("/pessoas/lista")}}async function p(){const{data:k,error:d}=await K(`${g}/${R}`,{method:"GET"},"$Y336g0ElMC");Object.assign(y,k.value)}const A=()=>{if(s.isModal===!0){n("close-modal");return}v.push("/pessoas/lista")};return Ae(()=>{R&&(p(),I.value=!0)}),(k,d)=>{const D=Ie("mask");return M(),H(ue,{class:"mt-3",style:{height:"425px"}},{default:l(()=>[t(G,null,{default:l(()=>[t(B,{md:"8"},{default:l(()=>[t(O,{modelValue:a(y).nome,"onUpdate:modelValue":d[0]||(d[0]=P=>a(y).nome=P),"error-messages":a(S).nome.$errors.map(P=>P.$message),label:"Razão Social",required:"",onBlur:a(S).nome.$touch,onInput:a(S).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(B,{md:"4"},{default:l(()=>[ce(t(O,{modelValue:a(y).doc_identificacao,"onUpdate:modelValue":d[1]||(d[1]=P=>a(y).doc_identificacao=P),"error-messages":a(S).doc_identificacao.$errors.map(P=>P.$message),label:"CNPJ",required:"",onBlur:a(S).doc_identificacao.$touch,onInput:a(S).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[D,"##.###.###/####-##"]])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(B,{md:"8"},{default:l(()=>[t(O,{modelValue:a(y).nome_fantasia,"onUpdate:modelValue":d[2]||(d[2]=P=>a(y).nome_fantasia=P),label:"Nome Fantasia"},null,8,["modelValue"])]),_:1}),t(B,{md:"4"},{default:l(()=>[t(O,{modelValue:a(y).inscricao_estadual,"onUpdate:modelValue":d[3]||(d[3]=P=>a(y).inscricao_estadual=P),label:"Inscrição Estadual"},null,8,["modelValue"])]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(B,{md:"12"},{default:l(()=>[t(O,{modelValue:a(y).observacao,"onUpdate:modelValue":d[4]||(d[4]=P=>a(y).observacao=P),label:"Observação"},null,8,["modelValue"])]),_:1})]),_:1}),t(G,{class:"mb-3"},{default:l(()=>[t(te,{onClick:A,size:"large",color:"red"},{default:l(()=>[J("Voltar")]),_:1}),t(te,{onClick:d[5]||(d[5]=P=>a(I)?u():w()),class:"ml-4",size:"large",color:"green"},{default:l(()=>[J("Salvar")]),_:1})]),_:1})]),_:1})}}},ba=["onClick"],_a=X("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:ft,alt:"editar"},null,-1),ya=[_a],ha=["onClick"],Va={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:We,alt:"deletar",title:"Reativar"},ka={key:1,src:qe,alt:"reativar",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"reativar"},Ca={__name:"Documentos",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(e,{emit:o}){let s,n;const v=o,f=e,{$toast:r}=he(),m=xe(),g=Ce(),{id:E}=m.params,x=fe(),R=`${x.public.managemant}/listarTipoDocumento`,U=`${x.public.managemant}/listarUF`,I=`${x.public.managemant}/getPessoaDocById`,T=`${x.public.managemant}/createPessoaDoc`,y=`${x.public.managemant}/updatePessoaDoc`,N=j(!1),i=j(null),S=j(Q("user-data").value.usuario_id).value,w=Number(E||Q("pessoa-id").value),u=we({tabvalores_tipodoc_id:null,emissor:null,validade:null,numero:null,data_emissao:null,data_vencimento:null,tabvalores_ufemissor_id:null}),p=[{title:"Tipo",value:"tipoDocumento.descricao"},{title:"Número",value:"numero"},{title:"Emissor",value:"emissor"},{title:"UF",value:"ufEmissor.descricao"},{title:"Emissão",value:"data_emissao"},{title:"Validade",value:"data_vencimento"},{value:"actions"}],A={numero:{required:ne.withMessage("O campo é obrigatorio",re)},emissor:{required:ne.withMessage("O campo é obrigatorio",re)}},k=Me(A,u),{data:d,pending:D,refresh:P}=([s,n]=Se(async()=>Le("cliente-documentos",async()=>{const[W,_,Z]=await Promise.all([$fetch(R),$fetch(U),$fetch(`${I}/${w}`)]),V=Z.map(c=>({...c,data_emissao:Qe(c.data_emissao),data_vencimento:Qe(c.data_vencimento)}));return{tipoDocumentoItems:W,ufItems:_,pessoasDocsItems:V}})),s=await s,n(),s);async function q(){if(await k.value.$validate()){const W={...u};for(const Y in W)W[Y]===""&&(W[Y]=null);const _={...W,user_id:S,pessoa_id:w},{data:Z,error:V,status:c}=await K(T,{method:"POST",body:_},"$cLGZtMLuJD");if(c.value==="error"&&V.value.statusCode===500)r.error("Erro ao cadastrar documento,erro no sistema.");else{r.success("Documento cadastrado com sucesso!"),P();for(const Y in u)u[Y]="";k.value.$reset()}}else r.error("Erro ao cadastrar documento, preencha os campos obrigatorios.")}function $(W){const _=d.value.pessoasDocsItems.find(Z=>Z.id===W);_&&(i.value=_,N.value=!0)}async function b(W){const _={tabvalores_tipodoc_id:i.value.tabvalores_tipodoc_id,numero:i.value.numero,emissor:i.value.emissor,tabvalores_ufemissor_id:i.value.tabvalores_ufemissor_id,data_vencimento:i.value.data_vencimento,data_emissao:i.value.data_emissao},{status:Z}=await K(`${y}/${W}`,{method:"PUT",body:_},"$2fkU5kgcxs");Z.value==="success"&&(N.value=!1,r.success("Pessoa atualizada com sucesso!"),P())}async function F(W){W.excluido=!W.excluido;try{await K(`${y}/${W.id}`,{method:"PUT",body:JSON.stringify({excluido:W.excluido})},"$lMq37v4cfh")}catch(_){console.error("Erro ao excluir pessoa:",_)}}const C=()=>{if(f.isModal===!0){v("close-modal");return}g.push("/pessoas/lista")};return(W,_)=>{const Z=vt;return M(),ee(me,null,[a(D)?oe("",!0):(M(),H(ue,{key:0,class:"mt-3",style:{height:"425px"}},{default:l(()=>[t(G,null,{default:l(()=>[t(B,{md:"2"},{default:l(()=>[t(se,{modelValue:a(u).tabvalores_tipodoc_id,"onUpdate:modelValue":_[0]||(_[0]=V=>a(u).tabvalores_tipodoc_id=V),items:a(d).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(B,null,{default:l(()=>[t(O,{modelValue:a(u).numero,"onUpdate:modelValue":_[1]||(_[1]=V=>a(u).numero=V),"error-messages":a(k).numero.$errors.map(V=>V.$message),label:"Numero",required:"",onBlur:a(k).numero.$touch,onInput:a(k).numero.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(B,{md:"2"},{default:l(()=>[t(O,{modelValue:a(u).emissor,"onUpdate:modelValue":_[2]||(_[2]=V=>a(u).emissor=V),"error-messages":a(k).emissor.$errors.map(V=>V.$message),required:"",onBlur:a(k).emissor.$touch,onInput:a(k).emissor.$touch,label:"Emissor"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),t(B,null,{default:l(()=>[t(se,{modelValue:a(u).tabvalores_ufemissor_id,"onUpdate:modelValue":_[3]||(_[3]=V=>a(u).tabvalores_ufemissor_id=V),items:a(d).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(B,{md:"2"},{default:l(()=>[t(O,{modelValue:a(u).data_emissao,"onUpdate:modelValue":_[4]||(_[4]=V=>a(u).data_emissao=V),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),t(B,{md:"2"},{default:l(()=>[t(O,{modelValue:a(u).data_vencimento,"onUpdate:modelValue":_[5]||(_[5]=V=>a(u).data_vencimento=V),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1}),X("div",{class:"mt-1"},[X("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ee,alt:"novo",onClick:q})])]),_:1}),t(je,{style:{"max-height":"330px"},headers:p,items:a(d).pessoasDocsItems,"item-key":"id"},{"item.actions":l(({item:V})=>[t(G,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:l(()=>[X("div",{onClick:c=>$(V.id),title:"editar"},ya,8,ba),X("div",{onClick:c=>F(V),title:"deletar"},[V.excluido?(M(),ee("img",Va)):(M(),ee("img",ka))],8,ha)]),_:2},1024)]),_:1},8,["items"]),t(Ue,{modelValue:a(N),"onUpdate:modelValue":_[14]||(_[14]=V=>_e(N)?N.value=V:null),"max-width":"600px"},{default:l(()=>[t(Fe,null,{default:l(()=>[t(pt,{style:{color:"green"}},{default:l(()=>[J("Atualizar Endereço")]),_:1}),t(gt,null,{default:l(()=>[t(G,null,{default:l(()=>[t(B,{cols:"12",md:"6"},{default:l(()=>[t(se,{modelValue:a(i).tabvalores_tipodoc_id,"onUpdate:modelValue":_[6]||(_[6]=V=>a(i).tabvalores_tipodoc_id=V),items:a(d).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(i).numero,"onUpdate:modelValue":_[7]||(_[7]=V=>a(i).numero=V),label:"Número"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(i).emissor,"onUpdate:modelValue":_[8]||(_[8]=V=>a(i).emissor=V),label:"Número"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[t(se,{modelValue:a(i).tabvalores_ufemissor_id,"onUpdate:modelValue":_[9]||(_[9]=V=>a(i).tabvalores_ufemissor_id=V),items:a(d).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(i).data_emissao,"onUpdate:modelValue":_[10]||(_[10]=V=>a(i).data_emissao=V),type:"date",label:"Emissão"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(i).data_vencimento,"onUpdate:modelValue":_[11]||(_[11]=V=>a(i).data_vencimento=V),type:"date",label:"Validade"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(bt,null,{default:l(()=>[t(ot),t(te,{color:"green",text:"",onClick:_[12]||(_[12]=V=>N.value=!1)},{default:l(()=>[J("Cancelar")]),_:1}),t(te,{color:"green",text:"",onClick:_[13]||(_[13]=V=>b(a(i).id))},{default:l(()=>[J("Salvar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),t(Z,{onClick:C},{default:l(()=>[t(te,{size:"large",class:"ml-10 mb-5",color:"red"},{default:l(()=>[J("Voltar")]),_:1})]),_:1})],64)}}},wa=["onClick"],xa={key:0,style:{width:"30px",height:"30px"},src:We,alt:"Visualizar",title:"Reativar"},$a={key:1,src:qe,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Sa={__name:"Representantes",props:{isModal:{type:Boolean,default:!1}},async setup(e){let o,s;const n=e,v=fe(),{$toast:f}=he(),r=xe(),m=Ce(),g=`${v.public.managemant}/pesquisarPessoas`,E=`${v.public.managemant}/listarPapeis`,x=`${v.public.managemant}/representante`,R=`${v.public.managemant}/representante`,U=`${v.public.managemant}/representante`,I=j(Q("user-data").value.cartorio_token),T=Number(y||Q("pessoa-id").value),{id:y}=r.params,N=j([]),i=j([]),S=j([]),w=j(!1),u=[{title:"Documento",align:"start",key:"representante",value:b=>{var F,C;return((F=b.representante)==null?void 0:F.doc_identificacao)||((C=b.representante)==null?void 0:C.documento)}},{title:"Pessoa",align:"start",key:"representante.nome"},{title:"Papel",align:"start",key:"papel.descricao"},{value:"actions"}],p=we({papeis:null,nome:null,pessoa:null,documento:null}),{data:A}=([o,s]=Se(()=>K(E,{method:"POST",body:{rotina:"CADASTRO_PJ"}},"$r2PAdeai2X")),o=await o,s(),o);S.value=A.value;async function k(){try{const{data:b,error:F}=await K(g,{method:"POST",body:{cartorio_token:I.value,documento:p.documento,nome:p.nome}},"$ssVep5GhCj");b.value.length>0?(N.value=b.value,p.pessoa=N.value[0]):N.value=[]}catch(b){console.error("Erro na requisição",b)}}const d=()=>{w.value=!0},D=async()=>{const b={representante:p.pessoa,papel:S.value.find(F=>F.id===p.papeis)};try{const{data:F,error:C,status:W}=await K(x,{method:"POST",body:{ato_id:null,representante_id:p.pessoa.id,pessoa_id:T||y,papel_id:p.papeis,user_id:Q("user-data").value.usuario_id}},"$8XMY7eo5oW");W.value==="success"?(b.id=F.value.id,f.success("Pessoa Registrada com Sucesso!"),i.value.push(b)):f.error("Erro ao registrar a pessoa!")}catch{f.error("Erro no servidor. Tente novamente.")}};async function P(){const{data:b,error:F}=await K(`${R}/${y}`,{method:"GET"},"$bMZzCc9jB6");i.value=b.value}async function q(b){b.excluido=!b.excluido,console.log(b.excluido);try{await K(`${U}/${b.id}`,{method:"PUT",body:JSON.stringify({excluido:b.excluido})},"$z8GHu9hY03")}catch(F){console.error("Erro ao excluir pessoa:",F)}}const $=()=>{if(n.isModal===!0){emit("close-modal");return}m.push("/pessoas/lista")};return Ae(()=>{y&&P()}),(b,F)=>{const C=Ao,W=vt;return M(),ee(me,null,[t(ue,{style:{height:"425px"}},{default:l(()=>[t(G,{class:"mt-1"},{default:l(()=>[t(B,{cols:"3"},{default:l(()=>[t(O,{label:"Documento",modelValue:a(p).documento,"onUpdate:modelValue":F[0]||(F[0]=_=>a(p).documento=_)},null,8,["modelValue"])]),_:1}),t(B,{cols:"4"},{default:l(()=>[t(O,{label:"Pessoa",modelValue:a(p).nome,"onUpdate:modelValue":F[1]||(F[1]=_=>a(p).nome=_)},null,8,["modelValue"])]),_:1}),X("div",null,[X("img",{class:"mt-1",src:ma,style:{width:"40px",cursor:"pointer"},title:"Pesquisar Pessoa",onClick:k})]),X("div",null,[X("img",{class:"mt-1 ml-2",src:Ee,style:{width:"40px",cursor:"pointer"},title:"Criar Pessoa",onClick:d})])]),_:1}),t(G,null,{default:l(()=>[t(B,{cols:"4"},{default:l(()=>[t(se,{label:"Selecione a Pessoa",modelValue:a(p).pessoa,"onUpdate:modelValue":F[2]||(F[2]=_=>a(p).pessoa=_),items:a(N),"item-title":"nome","item-value":"id","return-object":"",required:""},null,8,["modelValue","items"])]),_:1}),t(B,{cols:"3"},{default:l(()=>[t(se,{label:"Papel",modelValue:a(p).papeis,"onUpdate:modelValue":F[3]||(F[3]=_=>a(p).papeis=_),items:a(S),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),X("div",null,[X("img",{class:"mt-1",src:Ee,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:D})])]),_:1}),t(G,null,{default:l(()=>[t(B,null,{default:l(()=>[t(je,{style:{"max-height":"330px"},headers:u,items:a(i)},{"item.actions":l(({item:_})=>[t(G,null,{default:l(()=>[X("div",{class:"mr-2",style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:Z=>q(_),title:"Deletar Pessoa"},[_.excluido?(M(),ee("img",xa)):(M(),ee("img",$a))],8,wa)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),t(C,{show:a(w),onClose:F[4]||(F[4]=_=>w.value=!1)},null,8,["show"])]),_:1}),t(W,{onClick:$},{default:l(()=>[t(te,{size:"large",class:"ml-10 mb-5",color:"red"},{default:l(()=>[J("Voltar")]),_:1})]),_:1})],64)}}},Ia={class:"mt-1"},Pa=["onClick"],Ea=X("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:ft,alt:"Visualizar"},null,-1),Aa=[Ea],Ta=["onClick"],Ba={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:We,alt:"Visualizar",title:"Reativar"},Da={key:1,src:qe,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},Ma={__name:"Endereco",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(e,{emit:o}){let s,n;const v=o,f=e,{$toast:r}=he(),m=xe(),{id:g}=m.params,E=Ce(),x=fe(),R=`${x.public.managemant}/listarPais`,U=`${x.public.managemant}/getPessoaEnderecoById`,I=`${x.public.managemant}/createPessoaEndereco`,T=`${x.public.managemant}/updatePessoaEndereco`,y=j(Q("user-data").value.usuario_id).value,N=Number(g||Q("pessoa-id").value),i=we({tabvalores_pais_id:null,cidade_id:null,codcep:null,logradouro:null,numero:null,bairro:null,data_vencimento:null,tabvalores_ufemissor_id:null,complemento:null,cidade_estrangeira:null}),S=[{title:"País",value:"pais.descricao"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro",width:"200px"},{title:"N*",value:"numero"},{title:"Complemento",value:"complemento"},{title:"Bairro",value:"bairro"},{title:"Cidade",value:"cidade"},{value:"actions"}],w=j(!1),u=j(null),p=L(()=>{const V=D.value.paisItems.find(c=>c.id===i.tabvalores_pais_id);return V?V.estrangeiro:!1}),A=V=>{var c;return((c=V.cidades)==null?void 0:c.nome)||V.cidade_estrangeira},k={numero:{required:ne.withMessage("O campo é obrigatorio",re)},bairro:{required:ne.withMessage("O campo é obrigatorio",re)},logradouro:{required:ne.withMessage("O campo é obrigatorio",re)},codcep:{required:ne.withMessage("O campo é obrigatorio e precisa de 8 digitos",re)}},d=Me(k,i),{data:D,status:P,pending:q,refresh:$}=([s,n]=Se(async()=>Le("cliente-enderecos",async()=>{const[V,c,Y]=await Promise.all([$fetch(R),$fetch(`${U}/${N}`),$fetch(`${x.public.managemant}/listarCidades`)]);return{paisItems:V,enderecosItems:c,cidadesItems:Y}})),s=await s,n(),s);async function b(){if(await d.value.$validate()){const c={...{...i},user_id:y,pessoa_id:N},{data:Y,error:h,status:ie}=await K(I,{method:"POST",body:c},"$xTfPNGciav");if(ie.value==="error"&&h.value.statusCode===500)r.error("Erro ao cadastrar endereço,erro no sistema.");else{r.success("Endereço cadastrado com sucesso!"),$();for(const be in i)i[be]=null;d.value.$reset()}}else r.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}async function F(){if(!i.cidade_estrangeira||!i.logradouro){r.error("Os Campos Cidade Estrangeira e Endereço são obrigatorios!");return}const c={...{...i},user_id:y,pessoa_id:N},{data:Y,error:h,status:ie}=await K(I,{method:"POST",body:c},"$DfOGkJVB8l");if(ie.value==="error"&&h.value.statusCode===500)r.error("Erro ao cadastrar endereço,erro no sistema.");else{r.success("Endereço cadastrado com sucesso!"),$();for(const be in i)i[be]=null;d.value.$reset()}}function C(V){const c=D.value.enderecosItems.find(Y=>Y.id===V);c&&(u.value=c,w.value=!0)}async function W(V){const c={tabvalores_pais_id:u.value.tabvalores_pais_id,cidade_id:u.value.cidade_id,codcep:u.value.codcep,logradouro:u.value.logradouro,numero:u.value.numero,bairro:u.value.bairro,complemento:u.value.complemento},{status:Y}=await K(`${T}/${V}`,{method:"PUT",body:c},"$u4gWF5EA7L");Y.value==="success"&&(w.value=!1,r.success("Endereço atualizado com sucesso!"),$())}async function _(V){V.excluido=!V.excluido;try{await K(`${T}/${V.id}`,{method:"PUT",body:{excluido:V.excluido}},"$IyDmdl581M")}catch(c){console.error("Erro ao excluir pessoa:",c)}}const Z=()=>{if(f.isModal===!0){v("close-modal");return}E.push("/pessoas/lista")};return(V,c)=>{const Y=Ie("mask");return M(),ee(me,null,[a(q)?oe("",!0):(M(),H(ue,{key:0,class:"mt-3",style:{height:"425px"}},{default:l(()=>[t(G,null,{default:l(()=>[t(B,{md:"2"},{default:l(()=>[t(se,{modelValue:a(i).tabvalores_pais_id,"onUpdate:modelValue":c[0]||(c[0]=h=>a(i).tabvalores_pais_id=h),items:a(D).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(B,{md:"2"},{default:l(()=>[a(p)?ce((M(),H(O,{key:1,modelValue:a(i).codcep,"onUpdate:modelValue":c[2]||(c[2]=h=>a(i).codcep=h),label:"CEP"},null,8,["modelValue"])),[[Y,"########"]]):ce((M(),H(O,{key:0,modelValue:a(i).codcep,"onUpdate:modelValue":c[1]||(c[1]=h=>a(i).codcep=h),"error-messages":a(d).codcep.$errors.map(h=>h.$message),required:"",onBlur:a(d).codcep.$touch,onInput:a(d).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"])),[[Y,"########"]])]),_:1}),t(B,{md:"6"},{default:l(()=>[a(p)?(M(),H(O,{key:1,modelValue:a(i).logradouro,"onUpdate:modelValue":c[4]||(c[4]=h=>a(i).logradouro=h),label:"Endereço"},null,8,["modelValue"])):(M(),H(O,{key:0,modelValue:a(i).logradouro,"onUpdate:modelValue":c[3]||(c[3]=h=>a(i).logradouro=h),label:"Endereço","error-messages":a(d).logradouro.$errors.map(h=>h.$message),required:"",onBlur:a(d).logradouro.$touch,onInput:a(d).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),t(B,{md:"1"},{default:l(()=>[a(p)?(M(),H(O,{key:1,modelValue:a(i).numero,"onUpdate:modelValue":c[6]||(c[6]=h=>a(i).numero=h),label:"N*"},null,8,["modelValue"])):(M(),H(O,{key:0,modelValue:a(i).numero,"onUpdate:modelValue":c[5]||(c[5]=h=>a(i).numero=h),required:"","error-messages":a(d).numero.$errors.map(h=>h.$message),onBlur:a(d).numero.$touch,onInput:a(d).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),X("div",Ia,[X("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ee,alt:"novo",onClick:c[7]||(c[7]=h=>a(p)?F():b())})]),t(B,{md:"5"},{default:l(()=>[t(O,{modelValue:a(i).complemento,"onUpdate:modelValue":c[8]||(c[8]=h=>a(i).complemento=h),label:"Complemento"},null,8,["modelValue"])]),_:1}),t(B,{md:"3"},{default:l(()=>[a(p)?(M(),H(O,{key:1,modelValue:a(i).bairro,"onUpdate:modelValue":c[10]||(c[10]=h=>a(i).bairro=h),label:"Bairro"},null,8,["modelValue"])):(M(),H(O,{key:0,modelValue:a(i).bairro,"onUpdate:modelValue":c[9]||(c[9]=h=>a(i).bairro=h),"error-messages":a(d).bairro.$errors.map(h=>h.$message),required:"",onBlur:a(d).bairro.$touch,onInput:a(d).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),t(B,{md:"3"},{default:l(()=>[a(p)?(M(),H(O,{key:1,modelValue:a(i).cidade_estrangeira,"onUpdate:modelValue":c[12]||(c[12]=h=>a(i).cidade_estrangeira=h),label:"Cidade Estrangeira"},null,8,["modelValue"])):(M(),H(se,{key:0,modelValue:a(i).cidade_id,"onUpdate:modelValue":c[11]||(c[11]=h=>a(i).cidade_id=h),items:a(D).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"]))]),_:1})]),_:1}),t(je,{style:{"max-height":"330px"},headers:S,items:a(D).enderecosItems,"item-key":"id"},{"item.cidade":l(({item:h})=>[X("span",null,at(A(h)),1)]),"item.actions":l(({item:h})=>[t(G,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:l(()=>[X("div",{onClick:ie=>C(h.id),title:"Visualizar"},Aa,8,Pa),X("div",{onClick:ie=>_(h),title:"Visualizar"},[h.excluido?(M(),ee("img",Ba)):(M(),ee("img",Da))],8,Ta)]),_:2},1024)]),_:1},8,["items"]),t(Ue,{modelValue:a(w),"onUpdate:modelValue":c[23]||(c[23]=h=>_e(w)?w.value=h:null),"max-width":"600px"},{default:l(()=>[t(Fe,null,{default:l(()=>[t(pt,{style:{color:"green"}},{default:l(()=>[J("Atualizar Endereço")]),_:1}),t(gt,null,{default:l(()=>[t(G,null,{default:l(()=>[t(B,{cols:"12",md:"6"},{default:l(()=>[t(se,{modelValue:a(u).tabvalores_pais_id,"onUpdate:modelValue":c[13]||(c[13]=h=>a(u).tabvalores_pais_id=h),items:a(D).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(u).logradouro,"onUpdate:modelValue":c[14]||(c[14]=h=>a(u).logradouro=h),label:"Logradouro"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(u).complemento,"onUpdate:modelValue":c[15]||(c[15]=h=>a(u).complemento=h),label:"Complemento"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(u).numero,"onUpdate:modelValue":c[16]||(c[16]=h=>a(u).numero=h),label:"Número"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(u).bairro,"onUpdate:modelValue":c[17]||(c[17]=h=>a(u).bairro=h),label:"Bairro"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[t(O,{modelValue:a(u).codcep,"onUpdate:modelValue":c[18]||(c[18]=h=>a(u).codcep=h),label:"CEP"},null,8,["modelValue"])]),_:1}),t(B,{cols:"12",md:"6"},{default:l(()=>[a(u).cidade_estrangeira?(M(),H(se,{key:0,modelValue:a(u).cidade_id,"onUpdate:modelValue":c[19]||(c[19]=h=>a(u).cidade_id=h),items:a(D).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])):(M(),H(O,{key:1,modelValue:a(u).cidade_estrangeira,"onUpdate:modelValue":c[20]||(c[20]=h=>a(u).cidade_estrangeira=h),label:"Cidade Estrangeira"},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),t(bt,null,{default:l(()=>[t(ot),t(te,{color:"green",text:"",onClick:c[21]||(c[21]=h=>w.value=!1)},{default:l(()=>[J("Cancelar")]),_:1}),t(te,{color:"green",text:"",onClick:c[22]||(c[22]=h=>W(a(u).id))},{default:l(()=>[J("Salvar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),t(te,{onClick:Z,class:"ml-10 mb-5",size:"large",color:"red"},{default:l(()=>[J("Voltar")]),_:1})],64)}}},Ua={class:"finger-container"},Fa=["onClick"],Ra=["onClick"],Na={__name:"Digital",setup(e){const o=j(["E1","E2","E3","E4","E5"]);var s=j(["red","red","red","red","red"]);const n=j(["D1","D2","D3","D4","D5"]);var v=j(["red","red","red","red","red"]);const f=xe(),{$toast:r}=he(),m=fe(),{id:g}=f.params,E=j(Q("pessoa-id").value).value,x=`${m.public.biometria}/capture-finger`,R=`${m.public.managemant}/createPessoaBiometria`,U=`${m.public.managemant}/getPessoaBiometriaById`;async function I(){const{status:i,data:S}=await K(`${U}/${g||E}`,{method:"GET"},"$wrCckM1pY4");i.value==="success"&&S.value&&S.value.forEach(w=>{(o.value.includes(w.dedo)||n.value.includes(w.dedo))&&y(w.dedo,"green")})}Ae(()=>{I()});async function T(i){const{status:S,data:w}=await K(x,{method:"GET"},"$b5yqRnLFV9");if(S.value==="success"){const u=w.value.hash,p={user_id:Q("user-data").value.usuario_id,pessoa_id:Number(g)||E,dedo:i,hash:u},{status:A}=await K(R,{method:"POST",body:p},"$cWP9jlCX2Z");A.value==="success"?(r.success("Biometria enviada com sucesso!"),y(i,"green")):r.error("Falha ao enviar a biometria.")}else r.error("Erro ao Capturar biometria para o sistema.")}function y(i,S){const w=o.value.findIndex(u=>u===i);if(w!==-1)s.value[w]=S;else{const u=n.value.findIndex(p=>p===i);u!==-1&&(v.value[u]=S)}}function N(i,S){const u={E1:{top:82,left:-10},E2:{top:35,left:4},E3:{top:0,left:30},E4:{top:15,left:75},E5:{top:50,left:170},D1:{top:50,left:210},D2:{top:18,left:300},D3:{top:5,left:350},D4:{top:35,left:375},D5:{top:80,left:390}}[i];let p="red";if(S==="left"){const A=o.value.indexOf(i);A!==-1&&(p=s.value[A])}else if(S==="right"){const A=n.value.indexOf(i);A!==-1&&(p=v.value[A])}return{backgroundColor:p,top:`${u.top}px`,left:`${u.left}px`}}return(i,S)=>(M(),H(B,{style:{"margin-top":"20px"},cols:"auto",class:"biometria-container"},{default:l(()=>[X("div",Ua,[(M(!0),ee(me,null,Ge(a(o),(w,u)=>(M(),ee("div",{key:u,class:"finger",style:Ne(N(w,"left")),onClick:p=>T(w)},null,12,Fa))),128)),(M(!0),ee(me,null,Ge(a(n),(w,u)=>(M(),ee("div",{key:u,class:"finger",style:Ne(N(w,"right")),onClick:p=>T(w)},null,12,Ra))),128))])]),_:1}))}},za=lt(Na,[["__scopeId","data-v-02650459"]]),Oa="data:image/png;base64,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",Ye=Symbol.for("vuetify:v-slider");function La(e,o,s){const n=s==="vertical",v=o.getBoundingClientRect(),f="touches"in e?e.touches[0]:e;return n?f.clientY-(v.top+v.height/2):f.clientX-(v.left+v.width/2)}function ja(e,o){return"touches"in e&&e.touches.length?e.touches[0][o]:"changedTouches"in e&&e.changedTouches.length?e.changedTouches[0][o]:e[o]}const Wa=ve({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>typeof e=="boolean"||e==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:e=>typeof e=="boolean"||e==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:e=>["vertical","horizontal"].includes(e)},reverse:Boolean,...At(),...Tt({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),qa=e=>{const o=L(()=>parseFloat(e.min)),s=L(()=>parseFloat(e.max)),n=L(()=>+e.step>0?parseFloat(e.step):0),v=L(()=>Math.max(Ke(n.value),Ke(o.value)));function f(r){if(r=parseFloat(r),n.value<=0)return r;const m=nt(r,o.value,s.value),g=o.value%n.value,E=Math.round((m-g)/n.value)*n.value+g;return parseFloat(Math.min(E,s.value).toFixed(v.value))}return{min:o,max:s,step:n,decimals:v,roundValue:f}},Ya=e=>{let{props:o,steps:s,onSliderStart:n,onSliderMove:v,onSliderEnd:f,getActiveThumb:r}=e;const{isRtl:m}=Te(),g=le(o,"reverse"),E=L(()=>o.direction==="vertical"),x=L(()=>E.value!==g.value),{min:R,max:U,step:I,decimals:T,roundValue:y}=s,N=L(()=>parseInt(o.thumbSize,10)),i=L(()=>parseInt(o.tickSize,10)),S=L(()=>parseInt(o.trackSize,10)),w=L(()=>(U.value-R.value)/I.value),u=le(o,"disabled"),p=L(()=>o.error||o.disabled?void 0:o.thumbColor??o.color),A=L(()=>o.error||o.disabled?void 0:o.trackColor??o.color),k=L(()=>o.error||o.disabled?void 0:o.trackFillColor??o.color),d=$e(!1),D=$e(0),P=j(),q=j();function $(z){var Xe;const ae=o.direction==="vertical",wt=ae?"top":"left",xt=ae?"height":"width",$t=ae?"clientY":"clientX",{[wt]:St,[xt]:It}=(Xe=P.value)==null?void 0:Xe.$el.getBoundingClientRect(),Pt=ja(z,$t);let Re=Math.min(Math.max((Pt-St-D.value)/It,0),1)||0;return(ae?x.value:x.value!==m.value)&&(Re=1-Re),y(R.value+Re*(U.value-R.value))}const b=z=>{f({value:$(z)}),d.value=!1,D.value=0},F=z=>{q.value=r(z),q.value&&(q.value.focus(),d.value=!0,q.value.contains(z.target)?D.value=La(z,q.value,o.direction):(D.value=0,v({value:$(z)})),n({value:$(z)}))},C={passive:!0,capture:!0};function W(z){v({value:$(z)})}function _(z){z.stopPropagation(),z.preventDefault(),b(z),window.removeEventListener("mousemove",W,C),window.removeEventListener("mouseup",_)}function Z(z){var ae;b(z),window.removeEventListener("touchmove",W,C),(ae=z.target)==null||ae.removeEventListener("touchend",Z)}function V(z){var ae;F(z),window.addEventListener("touchmove",W,C),(ae=z.target)==null||ae.addEventListener("touchend",Z,{passive:!1})}function c(z){z.preventDefault(),F(z),window.addEventListener("mousemove",W,C),window.addEventListener("mouseup",_,{passive:!1})}const Y=z=>{const ae=(z-R.value)/(U.value-R.value)*100;return nt(isNaN(ae)?0:ae,0,100)},h=le(o,"showTicks"),ie=L(()=>h.value?o.ticks?Array.isArray(o.ticks)?o.ticks.map(z=>({value:z,position:Y(z),label:z.toString()})):Object.keys(o.ticks).map(z=>({value:parseFloat(z),position:Y(parseFloat(z)),label:o.ticks[z]})):w.value!==1/0?Bt(w.value+1).map(z=>{const ae=R.value+z*I.value;return{value:ae,position:Y(ae)}}):[]:[]),be=L(()=>ie.value.some(z=>{let{label:ae}=z;return!!ae})),Pe={activeThumbRef:q,color:le(o,"color"),decimals:T,disabled:u,direction:le(o,"direction"),elevation:le(o,"elevation"),hasLabels:be,isReversed:g,indexFromEnd:x,min:R,max:U,mousePressed:d,numTicks:w,onSliderMousedown:c,onSliderTouchstart:V,parsedTicks:ie,parseMouseMove:$,position:Y,readonly:le(o,"readonly"),rounded:le(o,"rounded"),roundValue:y,showTicks:h,startOffset:D,step:I,thumbSize:N,thumbColor:p,thumbLabel:le(o,"thumbLabel"),ticks:le(o,"ticks"),tickSize:i,trackColor:A,trackContainerRef:P,trackFillColor:k,trackSize:S,vertical:E};return st(Ye,Pe),Pe},Ha=ve({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Be()},"VSliderThumb"),Xa=pe()({name:"VSliderThumb",directives:{Ripple:Dt},props:Ha(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:s,emit:n}=o;const v=De(Ye),{isRtl:f,rtlClasses:r}=Te();if(!v)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:m,step:g,disabled:E,thumbSize:x,thumbLabel:R,direction:U,isReversed:I,vertical:T,readonly:y,elevation:N,mousePressed:i,decimals:S,indexFromEnd:w}=v,u=L(()=>E.value?void 0:N.value),{elevationClasses:p}=Mt(u),{textColorClasses:A,textColorStyles:k}=it(m),{pageup:d,pagedown:D,end:P,home:q,left:$,right:b,down:F,up:C}=Ft,W=[d,D,P,q,$,b,F,C],_=L(()=>g.value?[1,2,3]:[1,5,10]);function Z(c,Y){if(!W.includes(c.key))return;c.preventDefault();const h=g.value||.1,ie=(e.max-e.min)/h;if([$,b,F,C].includes(c.key)){const Pe=(T.value?[f.value?$:b,I.value?F:C]:w.value!==f.value?[$,C]:[b,C]).includes(c.key)?1:-1,z=c.shiftKey?2:c.ctrlKey?1:0;Y=Y+Pe*h*_.value[z]}else if(c.key===q)Y=e.min;else if(c.key===P)Y=e.max;else{const be=c.key===D?1:-1;Y=Y-be*h*(ie>100?ie/10:10)}return Math.max(e.min,Math.min(e.max,Y))}function V(c){const Y=Z(c,e.modelValue);Y!=null&&n("update:modelValue",Y)}return ge(()=>{const c=de(w.value?100-e.position:e.position,"%");return t("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":e.focused,"v-slider-thumb--pressed":e.focused&&i.value},e.class,r.value],style:[{"--v-slider-thumb-position":c,"--v-slider-thumb-size":de(x.value)},e.style],role:"slider",tabindex:E.value?-1:0,"aria-label":e.name,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.modelValue,"aria-readonly":!!y.value,"aria-orientation":U.value,onKeydown:y.value?void 0:V},[t("div",{class:["v-slider-thumb__surface",A.value,p.value],style:{...k.value}},null),ce(t("div",{class:["v-slider-thumb__ripple",A.value],style:k.value},null),[[Ie("ripple"),e.ripple,null,{circle:!0,center:!0}]]),t(Ut,{origin:"bottom center"},{default:()=>{var Y;return[ce(t("div",{class:"v-slider-thumb__label-container"},[t("div",{class:["v-slider-thumb__label"]},[t("div",null,[((Y=s["thumb-label"])==null?void 0:Y.call(s,{modelValue:e.modelValue}))??e.modelValue.toFixed(g.value?S.value:1)])])]),[[rt,R.value&&e.focused||R.value==="always"]])]}})])}),{}}}),Ga=ve({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Be()},"VSliderTrack"),Ka=pe()({name:"VSliderTrack",props:Ga(),emits:{},setup(e,o){let{slots:s}=o;const n=De(Ye);if(!n)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:v,parsedTicks:f,rounded:r,showTicks:m,tickSize:g,trackColor:E,trackFillColor:x,trackSize:R,vertical:U,min:I,max:T,indexFromEnd:y}=n,{roundedClasses:N}=Rt(r),{backgroundColorClasses:i,backgroundColorStyles:S}=ze(x),{backgroundColorClasses:w,backgroundColorStyles:u}=ze(E),p=L(()=>`inset-${U.value?"block":"inline"}-${y.value?"end":"start"}`),A=L(()=>U.value?"height":"width"),k=L(()=>({[p.value]:"0%",[A.value]:"100%"})),d=L(()=>e.stop-e.start),D=L(()=>({[p.value]:de(e.start,"%"),[A.value]:de(d.value,"%")})),P=L(()=>m.value?(U.value?f.value.slice().reverse():f.value).map(($,b)=>{var C;const F=$.value!==I.value&&$.value!==T.value?de($.position,"%"):void 0;return t("div",{key:$.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":$.position>=e.start&&$.position<=e.stop,"v-slider-track__tick--first":$.value===I.value,"v-slider-track__tick--last":$.value===T.value}],style:{[p.value]:F}},[($.label||s["tick-label"])&&t("div",{class:"v-slider-track__tick-label"},[((C=s["tick-label"])==null?void 0:C.call(s,{tick:$,index:b}))??$.label])])}):[]);return ge(()=>t("div",{class:["v-slider-track",N.value,e.class],style:[{"--v-slider-track-size":de(R.value),"--v-slider-tick-size":de(g.value)},e.style]},[t("div",{class:["v-slider-track__background",w.value,{"v-slider-track__background--opacity":!!v.value||!x.value}],style:{...k.value,...u.value}},null),t("div",{class:["v-slider-track__fill",i.value],style:{...D.value,...S.value}},null),m.value&&t("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":m.value==="always"}]},[P.value])])),{}}}),Ja=ve({...Nt(),...Wa(),...zt(),modelValue:{type:[Number,String],default:0}},"VSlider"),Qa=pe()({name:"VSlider",props:Ja(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,start:e=>!0,end:e=>!0},setup(e,o){let{slots:s,emit:n}=o;const v=j(),{rtlClasses:f}=Te(),r=qa(e),m=Oe(e,"modelValue",void 0,A=>r.roundValue(A??r.min.value)),{min:g,max:E,mousePressed:x,roundValue:R,onSliderMousedown:U,onSliderTouchstart:I,trackContainerRef:T,position:y,hasLabels:N,readonly:i}=Ya({props:e,steps:r,onSliderStart:()=>{n("start",m.value)},onSliderEnd:A=>{let{value:k}=A;const d=R(k);m.value=d,n("end",d)},onSliderMove:A=>{let{value:k}=A;return m.value=R(k)},getActiveThumb:()=>{var A;return(A=v.value)==null?void 0:A.$el}}),{isFocused:S,focus:w,blur:u}=Ot(e),p=L(()=>y(m.value));return ge(()=>{const A=Je.filterProps(e),k=!!(e.label||s.label||s.prepend);return t(Je,ye({class:["v-slider",{"v-slider--has-labels":!!s["tick-label"]||N.value,"v-slider--focused":S.value,"v-slider--pressed":x.value,"v-slider--disabled":e.disabled},f.value,e.class],style:e.style},A,{focused:S.value}),{...s,prepend:k?d=>{var D,P;return t(me,null,[((D=s.label)==null?void 0:D.call(s,d))??(e.label?t(Lt,{id:d.id.value,class:"v-slider__label",text:e.label},null):void 0),(P=s.prepend)==null?void 0:P.call(s,d)])}:void 0,default:d=>{let{id:D,messagesId:P}=d;return t("div",{class:"v-slider__container",onMousedown:i.value?void 0:U,onTouchstartPassive:i.value?void 0:I},[t("input",{id:D.value,name:e.name||D.value,disabled:!!e.disabled,readonly:!!e.readonly,tabindex:"-1",value:m.value},null),t(Ka,{ref:T,start:0,stop:p.value},{"tick-label":s["tick-label"]}),t(Xa,{ref:v,"aria-describedby":P.value,focused:S.value,min:g.value,max:E.value,modelValue:m.value,"onUpdate:modelValue":q=>m.value=q,position:p.value,elevation:e.elevation,onFocus:w,onBlur:u,ripple:e.ripple,name:e.name},{"thumb-label":s["thumb-label"]})])}})}),{}}}),Za={key:0,src:Oa},eo=["src"],to={__name:"ReconhecimentoFacial",async setup(e){let o,s;const n=j(null),v=j([]),f=j(""),r=j(!1);j(null);const m=j(null),g=xe(),{id:E}=g.params,x=j(1),U=Q("pessoa_token").value,T=Q("user-data").value.nome,y=fe(),N=`${y.public.managemant}/uploadPessoa`,i=`${y.public.managemant}/getLinkTipo`,{$toast:S}=he(),w=async()=>{const d=await navigator.mediaDevices.enumerateDevices();v.value=d.filter(D=>D.kind==="videoinput").map(D=>({deviceId:D.deviceId,label:D.label||`Camera ${v.value.length+1}`}))},u=async()=>{r.value=!0;try{await navigator.mediaDevices.getUserMedia({video:!0}),await w()}catch(d){console.error("Erro ao acessar dispositivos de mídia:",d)}},p=()=>{r.value=!1;const d=n.value.srcObject;d&&d.getTracks().forEach(P=>P.stop())},A=async()=>{if(f.value){const d=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:f.value}}});n.value.srcObject=d}},k=async()=>{const d=document.createElement("canvas"),D=d.getContext("2d"),P=n.value.videoWidth,q=n.value.videoHeight,$=P*x.value,b=q*x.value,F=(P-$)/2,C=(q-b)/2;d.width=P,d.height=q,D.drawImage(n.value,F,C,$,b),d.toBlob(async W=>{const _=new FormData;_.append("file",W,`${T}.jpg`),_.append("pessoa_token",U),_.append("tipo","foto");const{status:Z}=await K(N,{method:"POST",body:_},"$fRRPU47ULS");if(Z.value==="success"){S.success("Imagem enviada!");const V=URL.createObjectURL(W);m.value=V,p()}else S.error("Erro ao enviar imagem para o sistema.")},"image/jpeg")};if(E){const{data:d}=([o,s]=Se(()=>K(i,{method:"POST",body:{tipo:"foto",id:E}},"$N16ZtKMkSh")),o=await o,s(),o);d.value!==null&&d.value.link!==null&&(m.value=`data:image/jpeg;base64,${d.value.link}`)}return Ae(async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await w()}catch(d){console.error("Erro ao acessar dispositivos de mídia:",d)}}),(d,D)=>(M(),H(B,{cols:"auto"},{default:l(()=>[t(Ue,{"max-width":"700",modelValue:a(r),"onUpdate:modelValue":D[2]||(D[2]=P=>_e(r)?r.value=P:null)},{activator:l(({props:P})=>[t(te,ye(P,{variant:"outlined",style:{width:"300px",height:"300px"},onClick:u}),{default:l(()=>[a(m)===null?(M(),ee("img",Za)):oe("",!0),a(m)!==null?(M(),ee("img",{key:1,src:a(m),style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,eo)):oe("",!0)]),_:2},1040)]),default:l(({isActive:P})=>[t(Fe,{title:"Biometria"},{default:l(()=>[t(G,null,{default:l(()=>[t(B,null,{default:l(()=>[t(ue,null,{default:l(()=>[t(ua,{items:a(v),modelValue:a(f),"onUpdate:modelValue":D[0]||(D[0]=q=>_e(f)?f.value=q:null),"item-title":"label","item-value":"deviceId",label:"Selecionar Webcam"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(B,null,{default:l(()=>[t(te,{size:"large",class:"ml-5",onClick:A},{default:l(()=>[J("Exibir")]),_:1})]),_:1})]),_:1}),t(G,null,{default:l(()=>[t(ue,{style:{overflow:"hidden"}},{default:l(()=>[t(B,null,{default:l(()=>[X("video",{class:"ml-3",ref_key:"video",ref:n,width:"640",height:"480",autoplay:"",style:Ne({transform:`scale(${a(x)})`,transformOrigin:"center center"})},null,4)]),_:1})]),_:1})]),_:1}),t(ue,null,{default:l(()=>[t(Qa,{modelValue:a(x),"onUpdate:modelValue":D[1]||(D[1]=q=>_e(x)?x.value=q:null),min:1,max:3,step:"0.1",label:"Zoom"},null,8,["modelValue"])]),_:1}),t(G,{class:"mt-10 mb-5 ml-5"},{default:l(()=>[t(te,{color:"red",size:"large",onClick:p},{default:l(()=>[J("Fechar")]),_:1}),t(te,{color:"green",size:"large",class:"ml-5",onClick:k},{default:l(()=>[J("Salvar")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},ao=""+new URL("escanearFicha.CgD8l9Wn.png",import.meta.url).href,oo={__name:"Scanner",setup(e){const o=fe(),{$toast:s}=he(),n=`${o.public.envioDoc}`,v=`${o.public.biometria}/run-scanner`,r=Q("pessoa_token").value;async function m(){try{await g(),await E()}catch(x){console.error("Erro ao executar scanner ou listar arquivos:",x)}}async function g(){try{const{data:x}=await K(v,{method:"GET"},"$qlTK399Ixo")}catch(x){s.error("Erro ao acionar o scanner:",x)}}async function E(){try{const{status:x,data:R}=await K(n,{method:"POST",body:{tipo:"ficha",pessoa_token:r}},"$JkvEThvk9m");console.log(R.value)}catch(x){console.error("Erro ao enviar o arquivo:",x)}}return(x,R)=>(M(),ee("div",null,[X("img",{onClick:m,src:ao,style:{width:"280px",height:"120px",cursor:"pointer","margin-top":"30px"}})]))}},lo=""+new URL("imprimirFicha.BlhLZ85F.png",import.meta.url).href,so={style:{display:"flex","flex-direction":"column"}},no={__name:"Impressao",setup(e){const o=j(""),n=`${fe().public.managemant}/gerarRelatorio`,v=async()=>{const r=await K(n,{method:"POST",body:{consulta:"FICHA ASSINATURA",pessoa_token:Q("pessoa_token").value}},"$LOyFO5WGQE");o.value=r.data.value},f=async()=>{await v();const r=document.createElement("iframe");r.style.position="absolute",r.style.width="0px",r.style.height="0px",r.style.border="none",document.body.appendChild(r);const m=r.contentWindow.document;m.open(),m.write(o.value),m.close(),r.contentWindow.focus(),r.contentWindow.print(),document.body.removeChild(r)};return(r,m)=>{const g=oo;return M(),H(B,{cols:"auto"},{default:l(()=>[X("div",so,[X("img",{onClick:m[0]||(m[0]=E=>f()),src:lo,style:{width:"280px",height:"120px",cursor:"pointer"}}),t(g)])]),_:1})}}},io={__name:"Index",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],setup(e,{emit:o}){const s=Ce(),n=o,v=e,f=()=>{if(v.isModal===!0){n("close-modal");return}s.push("/pessoas/lista")};return(r,m)=>{const g=za,E=to,x=no;return M(),ee(me,null,[t(ue,null,{default:l(()=>[t(G,{class:"d-flex align-items-center"},{default:l(()=>[t(g),t(E,{class:"ml-5 mr-5"}),t(x)]),_:1})]),_:1}),t(te,{onClick:f,class:"mt-10",size:"large",color:"red"},{default:l(()=>[J("Voltar")]),_:1})],64)}}},ro={},uo={style:{height:"425px"}},co=X("h1",null,"Restrições",-1),mo=[co];function vo(e,o){return M(),ee("div",uo,mo)}const fo=lt(ro,[["render",vo]]),He=Symbol.for("vuetify:v-tabs"),po=ve({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ut(jt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Ve=pe()({name:"VTab",props:po(),setup(e,o){let{slots:s,attrs:n}=o;const{textColorClasses:v,textColorStyles:f}=it(e,"sliderColor"),r=j(),m=j(),g=L(()=>e.direction==="horizontal"),E=L(()=>{var R,U;return((U=(R=r.value)==null?void 0:R.group)==null?void 0:U.isSelected.value)??!1});function x(R){var I,T;let{value:U}=R;if(U){const y=(T=(I=r.value)==null?void 0:I.$el.parentElement)==null?void 0:T.querySelector(".v-tab--selected .v-tab__slider"),N=m.value;if(!y||!N)return;const i=getComputedStyle(y).color,S=y.getBoundingClientRect(),w=N.getBoundingClientRect(),u=g.value?"x":"y",p=g.value?"X":"Y",A=g.value?"right":"bottom",k=g.value?"width":"height",d=S[u],D=w[u],P=d>D?S[A]-w[A]:S[u]-w[u],q=Math.sign(P)>0?g.value?"right":"bottom":Math.sign(P)<0?g.value?"left":"top":"center",b=(Math.abs(P)+(Math.sign(P)<0?S[k]:w[k]))/Math.max(S[k],w[k])||0,F=S[k]/w[k]||0,C=1.5;qt(N,{backgroundColor:[i,"currentcolor"],transform:[`translate${p}(${P}px) scale${p}(${F})`,`translate${p}(${P/C}px) scale${p}(${(b-1)/C+1})`,"none"],transformOrigin:Array(3).fill(q)},{duration:225,easing:Yt})}}return ge(()=>{const R=te.filterProps(e);return t(te,ye({symbol:He,ref:r,class:["v-tab",e.class],style:e.style,tabindex:E.value?0:-1,role:"tab","aria-selected":String(E.value),active:!1},R,n,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":x}),{...s,default:()=>{var U;return t(me,null,[((U=s.default)==null?void 0:U.call(s))??e.text,!e.hideSlider&&t("div",{ref:m,class:["v-tab__slider",v.value],style:f.value},null)])}})}),Wt({},r)}}),go=e=>{const{touchstartX:o,touchendX:s,touchstartY:n,touchendY:v}=e,f=.5,r=16;e.offsetX=s-o,e.offsetY=v-n,Math.abs(e.offsetY)<f*Math.abs(e.offsetX)&&(e.left&&s<o-r&&e.left(e),e.right&&s>o+r&&e.right(e)),Math.abs(e.offsetX)<f*Math.abs(e.offsetY)&&(e.up&&v<n-r&&e.up(e),e.down&&v>n+r&&e.down(e))};function bo(e,o){var n;const s=e.changedTouches[0];o.touchstartX=s.clientX,o.touchstartY=s.clientY,(n=o.start)==null||n.call(o,{originalEvent:e,...o})}function _o(e,o){var n;const s=e.changedTouches[0];o.touchendX=s.clientX,o.touchendY=s.clientY,(n=o.end)==null||n.call(o,{originalEvent:e,...o}),go(o)}function yo(e,o){var n;const s=e.changedTouches[0];o.touchmoveX=s.clientX,o.touchmoveY=s.clientY,(n=o.move)==null||n.call(o,{originalEvent:e,...o})}function ho(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:s=>bo(s,o),touchend:s=>_o(s,o),touchmove:s=>yo(s,o)}}function Vo(e,o){var m;const s=o.value,n=s!=null&&s.parent?e.parentElement:e,v=(s==null?void 0:s.options)??{passive:!0},f=(m=o.instance)==null?void 0:m.$.uid;if(!n||!f)return;const r=ho(o.value);n._touchHandlers=n._touchHandlers??Object.create(null),n._touchHandlers[f]=r,dt(r).forEach(g=>{n.addEventListener(g,r[g],v)})}function ko(e,o){var f,r;const s=(f=o.value)!=null&&f.parent?e.parentElement:e,n=(r=o.instance)==null?void 0:r.$.uid;if(!(s!=null&&s._touchHandlers)||!n)return;const v=s._touchHandlers[n];dt(v).forEach(m=>{s.removeEventListener(m,v[m])}),delete s._touchHandlers[n]}const _t={mounted:Vo,unmounted:ko},Co=_t,yt=Symbol.for("vuetify:v-window"),ht=Symbol.for("vuetify:v-window-group"),Vt=ve({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...Be(),...ct(),...Ht()},"VWindow"),et=pe()({name:"VWindow",directives:{Touch:_t},props:Vt(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:s}=o;const{themeClasses:n}=Xt(e),{isRtl:v}=Te(),{t:f}=Gt(),r=Kt(e,ht),m=j(),g=L(()=>v.value?!e.reverse:e.reverse),E=$e(!1),x=L(()=>{const u=e.direction==="vertical"?"y":"x",A=(g.value?!E.value:E.value)?"-reverse":"";return`v-window-${u}${A}-transition`}),R=$e(0),U=j(void 0),I=L(()=>r.items.value.findIndex(u=>r.selected.value.includes(u.id)));mt(I,(u,p)=>{const A=r.items.value.length,k=A-1;A<=2?E.value=u<p:u===k&&p===0?E.value=!0:u===0&&p===k?E.value=!1:E.value=u<p}),st(yt,{transition:x,isReversed:E,transitionCount:R,transitionHeight:U,rootRef:m});const T=L(()=>e.continuous||I.value!==0),y=L(()=>e.continuous||I.value!==r.items.value.length-1);function N(){T.value&&r.prev()}function i(){y.value&&r.next()}const S=L(()=>{const u=[],p={icon:v.value?e.nextIcon:e.prevIcon,class:`v-window__${g.value?"right":"left"}`,onClick:r.prev,"aria-label":f("$vuetify.carousel.prev")};u.push(T.value?s.prev?s.prev({props:p}):t(te,p,null):t("div",null,null));const A={icon:v.value?e.prevIcon:e.nextIcon,class:`v-window__${g.value?"left":"right"}`,onClick:r.next,"aria-label":f("$vuetify.carousel.next")};return u.push(y.value?s.next?s.next({props:A}):t(te,A,null):t("div",null,null)),u}),w=L(()=>e.touch===!1?e.touch:{...{left:()=>{g.value?N():i()},right:()=>{g.value?i():N()},start:p=>{let{originalEvent:A}=p;A.stopPropagation()}},...e.touch===!0?{}:e.touch});return ge(()=>ce(t(e.tag,{ref:m,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},n.value,e.class],style:e.style},{default:()=>{var u,p;return[t("div",{class:"v-window__container",style:{height:U.value}},[(u=s.default)==null?void 0:u.call(s,{group:r}),e.showArrows!==!1&&t("div",{class:"v-window__controls"},[S.value])]),(p=s.additional)==null?void 0:p.call(s,{group:r})]}}),[[Ie("touch"),w.value]])),{group:r}}}),wo=ve({...ut(Vt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),kt=pe()({name:"VTabsWindow",props:wo(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:s}=o;const n=De(He,null),v=Oe(e,"modelValue"),f=L({get(){var r;return v.value!=null||!n?v.value:(r=n.items.value.find(m=>n.selected.value.includes(m.id)))==null?void 0:r.value},set(r){v.value=r}});return ge(()=>{const r=et.filterProps(e);return t(et,ye({_as:"VTabsWindow"},r,{modelValue:f.value,"onUpdate:modelValue":m=>f.value=m,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),s)}),{}}}),Ct=ve({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Be(),...Jt(),...Qt()},"VWindowItem"),tt=pe()({name:"VWindowItem",directives:{Touch:Co},props:Ct(),emits:{"group:selected":e=>!0},setup(e,o){let{slots:s}=o;const n=De(yt),v=Zt(e,ht),{isBooted:f}=ca();if(!n||!v)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const r=$e(!1),m=L(()=>f.value&&(n.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function g(){!r.value||!n||(r.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,n.transitionCount.value===0&&(n.transitionHeight.value=void 0)))}function E(){var T;r.value||!n||(r.value=!0,n.transitionCount.value===0&&(n.transitionHeight.value=de((T=n.rootRef.value)==null?void 0:T.clientHeight)),n.transitionCount.value+=1)}function x(){g()}function R(T){r.value&&aa(()=>{!m.value||!r.value||!n||(n.transitionHeight.value=de(T.clientHeight))})}const U=L(()=>{const T=n.isReversed.value?e.reverseTransition:e.transition;return m.value?{name:typeof T!="string"?n.transition.value:T,onBeforeEnter:E,onAfterEnter:g,onEnterCancelled:x,onBeforeLeave:E,onAfterLeave:g,onLeaveCancelled:x,onEnter:R}:!1}),{hasContent:I}=ea(e,v.isSelected);return ge(()=>t(ta,{transition:U.value,disabled:!f.value},{default:()=>{var T;return[ce(t("div",{class:["v-window-item",v.selectedClass.value,e.class],style:e.style},[I.value&&((T=s.default)==null?void 0:T.call(s))]),[[rt,v.isSelected.value]])]}})),{groupItem:v}}}),xo=ve({...Ct()},"VTabsWindowItem"),ke=pe()({name:"VTabsWindowItem",props:xo(),setup(e,o){let{slots:s}=o;return ge(()=>{const n=tt.filterProps(e);return t(tt,ye({_as:"VTabsWindowItem"},n,{class:["v-tabs-window-item",e.class],style:e.style}),s)}),{}}});function $o(e){return e?e.map(o=>ia(o)?o:{text:o,value:o}):[]}const So=ve({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...da({mandatory:"force",selectedClass:"v-tab-item--selected"}),...oa(),...ct()},"VTabs"),Io=pe()({name:"VTabs",props:So(),emits:{"update:modelValue":e=>!0},setup(e,o){let{attrs:s,slots:n}=o;const v=Oe(e,"modelValue"),f=L(()=>$o(e.items)),{densityClasses:r}=la(e),{backgroundColorClasses:m,backgroundColorStyles:g}=ze(le(e,"bgColor")),{scopeId:E}=sa();return na({VTab:{color:le(e,"color"),direction:le(e,"direction"),stacked:le(e,"stacked"),fixed:le(e,"fixedTabs"),sliderColor:le(e,"sliderColor"),hideSlider:le(e,"hideSlider")}}),ge(()=>{const x=Ze.filterProps(e),R=!!(n.window||e.items.length>0);return t(me,null,[t(Ze,ye(x,{modelValue:v.value,"onUpdate:modelValue":U=>v.value=U,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},r.value,m.value,e.class],style:[{"--v-tabs-height":de(e.height)},g.value,e.style],role:"tablist",symbol:He},E,s),{default:()=>{var U;return[((U=n.default)==null?void 0:U.call(n))??f.value.map(I=>{var T;return((T=n.tab)==null?void 0:T.call(n,{item:I}))??t(Ve,ye(I,{key:I.text,value:I.value}),{default:n[`tab.${I.value}`]?()=>{var y;return(y=n[`tab.${I.value}`])==null?void 0:y.call(n,{item:I})}:void 0})})]}}),R&&t(kt,ye({modelValue:v.value,"onUpdate:modelValue":U=>v.value=U,key:"tabs-window"},E),{default:()=>{var U;return[f.value.map(I=>{var T;return((T=n.item)==null?void 0:T.call(n,{item:I}))??t(ke,{value:I.value},{default:()=>{var y;return(y=n[`item.${I.value}`])==null?void 0:y.call(n,{item:I})}})}),(U=n.window)==null?void 0:U.call(n)]}})])}),{}}}),Po=X("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Cadastramento de pessoas ",-1),Eo={style:{"background-color":"#f5f2f2",padding:"5px 0px 0px 20px"}},Ao={__name:"RegistroPessoas",props:{show:Boolean},emits:["close"],setup(e,{emit:o}){const s=e,n=j(s.show),v=o,f=j("dados"),r=j(!1),m=j(!1),g=j(!1),E=we({tipo_pessoa:"fisica"}),x=[{label:"FÍSICA",value:"FISICA"},{label:"JURÍDICA",value:"JURIDICA"},{label:"ESTRANGEIRA",value:"ESTRANGEIRA"}],R=()=>{r.value=!0,g.value=!0},U=()=>{m.value=!0,g.value=!0};mt(()=>s.show,T=>{n.value=T});const I=()=>{n.value=!1,v("close")};return(T,y)=>{const N=fa,i=ga,S=Ca,w=Sa,u=Ma,p=io,A=fo;return M(),H(Ue,{persistent:"",modelValue:a(n),"onUpdate:modelValue":y[3]||(y[3]=k=>_e(n)?n.value=k:null),"max-width":"900"},{default:l(()=>[t(Fe,null,{default:l(()=>[t(ue,null,{default:l(()=>[Po,X("div",Eo,[t(se,{modelValue:a(E).tipo_pessoa,"onUpdate:modelValue":y[0]||(y[0]=k=>a(E).tipo_pessoa=k),style:{width:"200px"},items:x,"item-title":"label","item-value":"value",label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:a(g)},null,8,["modelValue","disabled"])]),t(Io,{modelValue:a(f),"onUpdate:modelValue":y[1]||(y[1]=k=>_e(f)?f.value=k:null),"bg-color":"#f5f2f2"},{default:l(()=>[t(Ve,{value:"dados"},{default:l(()=>[J("Dados")]),_:1}),a(r)?(M(),H(Ve,{key:0,value:"documento"},{default:l(()=>[J("Documentos")]),_:1})):oe("",!0),a(m)?(M(),H(Ve,{key:1,value:"representante"},{default:l(()=>[J("Representantes")]),_:1})):oe("",!0),a(m)||a(r)?(M(),H(Ve,{key:2,value:"endereco"},{default:l(()=>[J("Endereços")]),_:1})):oe("",!0),a(r)?(M(),H(Ve,{key:3,value:"biometria"},{default:l(()=>[J("Biometria")]),_:1})):oe("",!0),a(m)||a(r)?(M(),H(Ve,{key:4,value:"restricao"},{default:l(()=>[J("Restrições")]),_:1})):oe("",!0)]),_:1},8,["modelValue"]),t(kt,{modelValue:a(f),"onUpdate:modelValue":y[2]||(y[2]=k=>_e(f)?f.value=k:null)},{default:l(()=>[t(ke,{value:"dados"},{default:l(()=>[a(E).tipo_pessoa==="fisica"?(M(),H(N,{key:0,onSaved:R,onCloseModal:I,isModal:!0})):a(E).tipo_pessoa==="juridica"?(M(),H(i,{key:1,onSaved:U,onCloseModal:I,isModal:!0})):oe("",!0)]),_:1}),T.showTabs?(M(),H(ke,{key:0,value:"documento"},{default:l(()=>[t(S,{onCloseModal:I,isModal:!0})]),_:1})):oe("",!0),a(m)?(M(),H(ke,{key:1,value:"representante"},{default:l(()=>[t(w,{onCloseModal:I,isModal:!0})]),_:1})):oe("",!0),a(m)||a(r)?(M(),H(ke,{key:2,value:"endereco"},{default:l(()=>[t(u,{onCloseModal:I,isModal:!0})]),_:1})):oe("",!0),T.showTabs?(M(),H(ke,{key:3,value:"biometria"},{default:l(()=>[t(ue,null,{default:l(()=>[t(p,{onCloseModal:I,isModal:!0})]),_:1})]),_:1})):oe("",!0),T.showTabs?(M(),H(ke,{key:4,value:"restricao"},{default:l(()=>[t(A,{onCloseModal:I,isModal:!0})]),_:1})):oe("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{Io as V,Ao as _,Ve as a,kt as b,ke as c,ga as d,Ca as e,Sa as f,Ma as g,io as h,fo as i,fa as j};
