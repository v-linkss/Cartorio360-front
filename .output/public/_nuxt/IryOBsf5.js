import{_ as W}from"./Bm8LoFC-.js";import{_ as X}from"./cmhBRhXU.js";import{_ as Ve,a as Z,b as H,c as K}from"./BtJRRCqr.js";import{_ as Y}from"./wmUe3AQJ.js";import{z as ee,D as le,u as te,r as V,m as N,A as ae,E as J,o as S,q as oe,w as l,b as e,v as s,a as d,t as se,c as R,F as ie,d as k,G as re,H as U,s as ne,V as u}from"./Cwjuz0gi.js";import{u as $}from"./DvPj8CwQ.js";import{V as o}from"./IsFkNspb.js";import{V as M}from"./C9vSui5k.js";import{V as v}from"./CHvkpzc3.js";import{V as x}from"./efGKukeH.js";import{V as ue}from"./CY4pCbZg.js";import{V as de,a as ce,b as me,c as pe,d as _e}from"./D8P2eLQa.js";import{V as fe}from"./2utwVGDD.js";const be={style:{width:"800px","font-weight":"500"}},ge=["onClick"],ye=["onClick"],xe=["onClick"],$e={key:0,style:{width:"30px",height:"30px"},src:H,alt:"Reativar",title:"Reativar"},ke={key:1,src:K,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},Le={__name:"Bens",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0}},async setup(G){let p,B;const T=G,P=ee(),C=le(),w=ne(),{$toast:A}=te(),q=`${w.public.managemant}/atos_bens`,z=`${w.public.managemant}/atos_bens`,O=`${w.public.managemant}/atos_bens`,_=`${w.public.managemant}/listarTipoBens`,g=V(N("user-data").value.cartorio_token),I=V(N("user-data").value.usuario_id).value,b=V([]),f=V([]),y=V(!1),F=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"valor_mercado"},{align:"end",value:"actions"}],n=ae({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),L=async()=>{if(!n.vlr_alienacao&&!n.descricao){A.error("Os campos Descrição e Valor são Obrigatorios!");return}const{data:m,status:t}=await $(`${q}`,{method:"POST",body:{descricao:n.descricao,tipo_id:n.tipo_id,valor_mercado:n.vlr_alienacao,user_id:I,ato_id:Number.parseInt(T.ato_id),token:T.ato_token}},"$TVfAAEMyym");t.value==="success"&&(A.success("Bem registrado com sucesso!"),b.value.push(m.value),Object.assign(n,{vlr_alienacao:null,descricao:null,tipo_id:null}))},c=async m=>{const{status:t}=await $(`${z}/${m}`,{method:"PUT",body:{descricao:f.value.descricao,tipo_id:f.value.tipo_id,valor_mercado:f.value.valor_mercado}},"$TRbOfiOtJ9");t.value==="success"&&(A.success("Bem Atualizado com sucesso!"),y.value=!1)},a=m=>{const t=b.value.find(E=>E.id===m);t&&(f.value=t,y.value=!0)},{data:h}=([p,B]=J(()=>$(`${_}`,{method:"POST",body:{cartorio_token:g.value,imoveis:!1}},"$rrOfkMLqML")),p=await p,B(),p);n.tiposBens=h.value;const{data:j}=([p,B]=J(()=>$(`${O}/${T.ato_id}`,{method:"GET"},"$qhjPuJWFwD")),p=await p,B(),p);b.value=j.value;async function r(m){m.excluido=!m.excluido;try{await $(`${z}/${m.id}`,{method:"PUT",body:JSON.stringify({excluido:m.excluido})},"$1s7uo0EeAe")}catch(t){console.error("Erro ao excluir pessoa:",t)}}const D=()=>{const m=C.query.origem||"criar",t=C.query.id;m==="atualizar"?P.push(`/os/atualizar/${t}`):P.push("/os/criar-registro")};return(m,t)=>{const E=W,ve=X;return S(),oe(fe,null,{default:l(()=>[e(o,{class:"mt-5",cols:"12"},{default:l(()=>[e(M,{label:"Descrição",modelValue:s(n).descricao,"onUpdate:modelValue":t[0]||(t[0]=i=>s(n).descricao=i)},null,8,["modelValue"])]),_:1}),e(v,{class:"ml-1 mb-3"},{default:l(()=>[e(o,{class:"mt-6",cols:"8"},{default:l(()=>[e(x,{label:"Selecione o Tipo",items:s(n).tiposBens,modelValue:s(n).tipo_id,"onUpdate:modelValue":t[1]||(t[1]=i=>s(n).tipo_id=i),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(o,{class:"ml-5",cols:"3"},{default:l(()=>[t[9]||(t[9]=d("label",null,"Valor",-1)),e(E,{modelValue:s(n).vlr_alienacao,"onUpdate:modelValue":t[2]||(t[2]=i=>s(n).vlr_alienacao=i)},null,8,["modelValue"])]),_:1}),d("div",null,[d("img",{class:"mt-7 ml-4",src:Ve,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:L})])]),_:1}),e(v,null,{default:l(()=>[e(o,null,{default:l(()=>[e(ue,{style:{height:"465px"},headers:F,items:s(b)},{"item.descricao":l(({item:i})=>[d("h3",be,se(i.descricao),1)]),"item.actions":l(({item:i})=>[e(v,{style:{"margin-top":"-8px"},justify:"end"},{default:l(()=>[d("div",{style:{cursor:"pointer"},class:"mr-2",onClick:Q=>m.redirectToFicha(i),title:"Visualizar Ficha"},t[10]||(t[10]=[d("img",{style:{width:"30px",height:"30px"},src:Y,alt:"Visualizar"},null,-1)]),8,ge),d("div",{style:{cursor:"pointer"},class:"mr-2",onClick:Q=>a(i.id),title:"Alterar Papel"},t[11]||(t[11]=[d("img",{style:{width:"30px",height:"30px"},src:Z,alt:"Editar"},null,-1)]),8,ye),d("div",{style:{cursor:"pointer"},class:"mr-2",onClick:Q=>r(i),title:"Deletar Pessoa"},[i.excluido?(S(),R("img",$e)):(S(),R("img",ke))],8,xe)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(de,{modelValue:s(y),"onUpdate:modelValue":t[8]||(t[8]=i=>ie(y)?y.value=i:null),"max-width":"600px"},{default:l(()=>[e(ce,null,{default:l(()=>[e(me,{style:{color:"green"}},{default:l(()=>t[12]||(t[12]=[k("Atualizar Bem")])),_:1}),e(pe,null,{default:l(()=>[e(o,{class:"mt-1",cols:"12"},{default:l(()=>[e(M,{label:"Descrição",modelValue:s(f).descricao,"onUpdate:modelValue":t[3]||(t[3]=i=>s(f).descricao=i)},null,8,["modelValue"])]),_:1}),e(v,null,{default:l(()=>[e(o,{class:"mt-6 ml-3",cols:"8"},{default:l(()=>[e(x,{label:"Selecione o Tipo",items:s(n).tiposBens,modelValue:s(f).tipo_id,"onUpdate:modelValue":t[4]||(t[4]=i=>s(f).tipo_id=i),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(o,{class:"ml-5",cols:"3"},{default:l(()=>[t[13]||(t[13]=d("label",null,"Valor",-1)),e(E,{modelValue:s(f).valor_mercado,"onUpdate:modelValue":t[5]||(t[5]=i=>s(f).valor_mercado=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(_e,null,{default:l(()=>[e(re),e(U,{color:"green",text:"",onClick:t[6]||(t[6]=i=>y.value=!1)},{default:l(()=>t[14]||(t[14]=[k("Cancelar")])),_:1}),e(U,{color:"green",text:"",onClick:t[7]||(t[7]=i=>c(s(f).id))},{default:l(()=>t[15]||(t[15]=[k("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(v,null,{default:l(()=>[e(ve,{onClick:D},{default:l(()=>[e(U,{size:"large",color:"red"},{default:l(()=>t[16]||(t[16]=[k("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}},Be={style:{width:"800px","font-weight":"500"}},Ce=["onClick"],Te=["onClick"],we=["onClick"],Ae={key:0,style:{width:"30px",height:"30px"},src:H,alt:"Reativar",title:"Reativar"},Se={key:1,src:K,alt:"Excluir",style:{width:"30px",height:"30px"},title:"Excluir"},je={__name:"Imoveis",props:{ato_token:{type:String,required:!0},ato_id:{type:Number,required:!0}},async setup(G){let p,B;const T=ee(),P=le(),C=ne(),{$toast:w}=te();`${C.public.managemant}`;const A=`${C.public.managemant}/atos_bens`;`${C.public.managemant}`;const q=`${C.public.managemant}/listarTipoBens`,z=V(N("user-data").value.cartorio_token);V(N("user-data").value.usuario_id).value;const O=V([]),_=V([]),g=V(!1),I=[{title:"Descrição",align:"start",key:"descricao"},{title:"Valor",align:"end",key:"valor_mercado"},{align:"end",value:"actions"}],b=ae({vlr_alienacao:null,descricao:null,tipo_id:null,tiposBens:[]}),f=async c=>{const{status:a}=await $(`${A}/${c}`,{method:"PUT",body:{descricao:_.value.descricao,tipo_id:_.value.tipo_id,valor_mercado:_.value.valor_mercado}},"$5vOsfPutkW");a.value==="success"&&(w.success("Bem Atualizado com sucesso!"),g.value=!1)},y=c=>{const a=O.value.find(h=>h.id===c);a&&(_.value=a,g.value=!0)},{data:F}=([p,B]=J(()=>$(`${q}`,{method:"POST",body:{cartorio_token:z.value,imoveis:!1}},"$RZpQXdI40b")),p=await p,B(),p);b.tiposBens=F.value;async function n(c){c.excluido=!c.excluido;try{await $(`${A}/${c.id}`,{method:"PUT",body:JSON.stringify({excluido:c.excluido})},"$2X0Zo2w1OO")}catch(a){console.error("Erro ao excluir pessoa:",a)}}const L=()=>{const c=P.query.origem||"criar",a=P.query.id;c==="atualizar"?T.push(`/os/atualizar/${a}`):T.push("/os/criar-registro")};return(c,a)=>{const h=W,j=X;return S(),oe(fe,null,{default:l(()=>[e(o,{class:"mt-5",cols:"12"},{default:l(()=>[e(M,{label:"Descrição",modelValue:s(b).descricao,"onUpdate:modelValue":a[0]||(a[0]=r=>s(b).descricao=r)},null,8,["modelValue"])]),_:1}),e(v,null,{default:l(()=>[e(o,{cols:"3"},{default:l(()=>[e(x,{label:"Selecione o Tipo de Registro"})]),_:1}),e(o,{cols:"2"},{default:l(()=>[e(u,{label:"Cartório"})]),_:1}),e(o,null,{default:l(()=>[e(u,{label:"Matricula"})]),_:1}),e(o,null,{default:l(()=>[e(u,{label:"Letra"})]),_:1}),e(o,null,{default:l(()=>[e(u,{label:"Natureza"})]),_:1}),e(o,null,{default:l(()=>[e(u,{label:"CIB"})]),_:1}),e(o,{cols:"3"},{default:l(()=>[e(x,{label:"Selecione a Cidade"})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(o,null,{default:l(()=>[e(u,{label:"Quadra"})]),_:1}),e(o,null,{default:l(()=>[e(u,{label:"Lote"})]),_:1}),e(o,{cols:"5"},{default:l(()=>[e(x,{label:"Logradouro"})]),_:1}),e(o,{cols:"1"},{default:l(()=>[e(u,{label:"N*"})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(o,null,{default:l(()=>[e(u,{label:"Bairro"})]),_:1}),e(o,null,{default:l(()=>[e(u,{label:"CEP"})]),_:1}),e(o,null,{default:l(()=>[e(u,{label:"Complemento"})]),_:1}),e(o,{cols:"3"},{default:l(()=>[e(x,{label:"Selecione o tipo de imovel"})]),_:1}),e(o,{cols:"3"},{default:l(()=>[e(u,{label:"Inscrição Municipal"})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(o,{cols:"3"},{default:l(()=>[e(x,{label:"Selecione a Situação"})]),_:1}),e(o,null,{default:l(()=>[e(u,{label:"Valor Alienação"})]),_:1}),e(o,null,{default:l(()=>[e(u,{label:"Valor Avaliação"})]),_:1}),e(o,null,{default:l(()=>[e(u,{label:"Valor Mercado"})]),_:1}),e(o,null,{default:l(()=>[e(u,{label:"%ITB"})]),_:1}),e(o,null,{default:l(()=>[e(u,{label:"Valor ITB"})]),_:1})]),_:1}),e(v,null,{default:l(()=>[e(o,null,{default:l(()=>[e(ue,{style:{height:"465px"},headers:I,items:s(O)},{"item.descricao":l(({item:r})=>[d("h3",Be,se(r.descricao),1)]),"item.actions":l(({item:r})=>[e(v,{style:{"margin-top":"-8px"},justify:"end"},{default:l(()=>[d("div",{style:{cursor:"pointer"},class:"mr-2",onClick:D=>c.redirectToFicha(r),title:"Visualizar Ficha"},a[7]||(a[7]=[d("img",{style:{width:"30px",height:"30px"},src:Y,alt:"Visualizar"},null,-1)]),8,Ce),d("div",{style:{cursor:"pointer"},class:"mr-2",onClick:D=>y(r.id),title:"Alterar Papel"},a[8]||(a[8]=[d("img",{style:{width:"30px",height:"30px"},src:Z,alt:"Editar"},null,-1)]),8,Te),d("div",{style:{cursor:"pointer"},class:"mr-2",onClick:D=>n(r),title:"Deletar Pessoa"},[r.excluido?(S(),R("img",Ae)):(S(),R("img",Se))],8,we)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),e(de,{modelValue:s(g),"onUpdate:modelValue":a[6]||(a[6]=r=>ie(g)?g.value=r:null),"max-width":"600px"},{default:l(()=>[e(ce,null,{default:l(()=>[e(me,{style:{color:"green"}},{default:l(()=>a[9]||(a[9]=[k("Atualizar Bem")])),_:1}),e(pe,null,{default:l(()=>[e(o,{class:"mt-1",cols:"12"},{default:l(()=>[e(M,{label:"Descrição",modelValue:s(_).descricao,"onUpdate:modelValue":a[1]||(a[1]=r=>s(_).descricao=r)},null,8,["modelValue"])]),_:1}),e(v,null,{default:l(()=>[e(o,{class:"mt-6 ml-3",cols:"8"},{default:l(()=>[e(x,{label:"Selecione o Tipo",items:s(b).tiposBens,modelValue:s(_).tipo_id,"onUpdate:modelValue":a[2]||(a[2]=r=>s(_).tipo_id=r),"item-title":"descricao","item-value":"id"},null,8,["items","modelValue"])]),_:1}),e(o,{class:"ml-5",cols:"3"},{default:l(()=>[a[10]||(a[10]=d("label",null,"Valor",-1)),e(h,{modelValue:s(_).valor_mercado,"onUpdate:modelValue":a[3]||(a[3]=r=>s(_).valor_mercado=r)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(_e,null,{default:l(()=>[e(re),e(U,{color:"green",text:"",onClick:a[4]||(a[4]=r=>g.value=!1)},{default:l(()=>a[11]||(a[11]=[k("Cancelar")])),_:1}),e(U,{color:"green",text:"",onClick:a[5]||(a[5]=r=>f(s(_).id))},{default:l(()=>a[12]||(a[12]=[k("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(v,null,{default:l(()=>[e(j,{onClick:L},{default:l(()=>[e(U,{size:"large",color:"red"},{default:l(()=>a[13]||(a[13]=[k("Voltar")])),_:1})]),_:1})]),_:1})]),_:1})}}};export{Le as _,je as a};
