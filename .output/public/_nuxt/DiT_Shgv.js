import{c as We,r as aa,u as $a}from"./D1CjC34e.js";import{c as ar}from"./De2SvT1D.js";import{C as Da,J as wa,u as ma,e as De,r as _e,f as Ba,s as Oa,h as Ia,o as de,c as Se,i as x,j as be,N as Mt,t as at,k as ze,w as j,b as S,V as pe,m as Ye,v as Ge,d as Ne,F as da,l as fa,g as La,a as Ee,A as _a,L as $t,y as Ve,H as rt,_ as Ot,D as ht,q as za,ag as Ka,as as tr,ar as rr,c6 as _t,ak as it,aE as la,aA as mt,aD as ir,M as nr,aI as Lt,ah as Kt,aj as nt,bf as or,aH as Tt,bj as lr,b1 as sr,al as ot,aK as ba,c7 as dr,bN as ur,aF as cr,bm as fr,aT as pt,c8 as vr,c9 as hr,aw as _r,ca as mr,cb as gt,bE as pr,P as Ut}from"./BC05QRph.js";import{u as lt}from"./HwWNjv4G.js";import{$ as sa,f as Ue}from"./D6Pqdr08.js";import{a as tt,f as Pa}from"./B0IxRygJ.js";import{V as Ie}from"./B50vjHNf.js";import{V as ve}from"./p_ShAbG9.js";import{V as Ht}from"./CiHTXpg6.js";import{V as Je}from"./_o8pHgIy.js";import{V as ia}from"./CcPMdTm7.js";import{_ as jt}from"./NyPbfQDu.js";import{_ as Ma}from"./BVz1G1IN.js";import{_ as Ft}from"./BqNORJWK.js";import{_ as st,a as dt}from"./DJvq3mCv.js";import{u as Qe}from"./s-GuSyzV.js";import{V as ut}from"./CwEHmZcG.js";import{V as Ta}from"./DD554PlH.js";import{V as Ua,a as Gt,b as qt,c as Zt}from"./BUX4HHc6.js";import{_ as gr}from"./Cn-vRF0g.js";import{_ as Jt}from"./BTpk9Bc9.js";import{a as Ar,V as Ea,b as br,c as Ca}from"./CBXx_L6O.js";const wr={key:1},kr={__name:"Dados",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],async setup(B,{emit:K}){let G,z;const k=B,T=K,t=Da(),a=wa(),{$toast:r}=ma(),g=fa(),h=`${g.public.auth}/service/gerencia/createPessoa`,v=`${g.public.auth}/service/gerencia/updatePessoa`,u=`${g.public.auth}/service/gerencia/listarEstadoCivil`,c=`${g.public.auth}/service/gerencia/listarCapacidadeCivil`,b=`${g.public.auth}/service/gerencia/listarCidades`,s=`${g.public.auth}/service/gerencia/listarSexo`,{id:_}=a.params,f={nome:null,nome_pai:null,nome_mae:null,profissao:null,local_trabalho:null,data_nascimento:null,doc_identificacao:null,fone_celular:null,cpf_pai:null,cpf_mae:null,tipo_pessoa:"FISICA",tabvalores_estadocivil_id:null,tabvalores_capacidadecivil_id:null,tabvalores_sexo_id:null,cidade_nascimento_id:null,cartorio_id:De("user-data").value.cartorio_id,user_id:De("user-data").value.usuario_id},n=_e(!1),i=_e(_||De("pessoa-id").value),l=Ba({...f});function m($){if($)return $.replace(/[.\-]/g,"");$=null}const{data:A,status:w,pending:y,error:R}=([G,z]=Oa(async()=>lt("cliente-dados",async()=>{const[$,U,J,M]=await Promise.all([sa(u),sa(c),sa(b),sa(s)]);return{estadoCivilItems:$,capacidadeCivilItems:U,cidadeNascimentoItems:J,sexoItems:M}})),G=await G,z(),G),V={nome:{required:We.withMessage("O campo é obrigatorio",aa)},nome_mae:{required:We.withMessage("O campo é obrigatorio",aa)},doc_identificacao:{required:We.withMessage("O campo é obrigatorio",aa),cpf:ar}},D=$a(V,l);async function P(){if(await D.value.$validate()){const $={...l};for(const Z in $)$[Z]===""&&($[Z]=null);const U={...$,doc_identificacao:m(l.doc_identificacao),cpf_pai:m(l.cpf_pai),cpf_mae:m(l.cpf_mae),data_nascimento:tt(l.data_nascimento),fone_celular:l.fone_celular?l.fone_celular.replace(/[^0-9]/g,""):null},{data:J,error:M,status:L}=await Ue(h,{method:"POST",body:U});if(L.value==="error"&&M.value.statusCode===500)r.error("Erro ao cadastrar pessoa,o CPF já está cadastrado.");else{r.success("Pessoa cadastrada com sucesso!");const Z=J.value.id;i.value=Z;const W=De("pessoa_token");W.value=J.value.token,n.value=!0,T("saved")}}else r.error("Erro ao cadastrar pessoa, preencha os campos obrigatorios.")}async function N(){const $={...l};for(const Z in $)$[Z]===""&&($[Z]=null);const U={...$,doc_identificacao:m(l.doc_identificacao),cpf_mae:m(l.cpf_mae),fone_celular:l.fone_celular.replace(/[^0-9]/g,""),data_nascimento:tt(l.data_nascimento)},{data:J,error:M,status:L}=await Ue(`${v}/${i.value}`,{method:"PUT",body:U});if(L.value==="success"){if(k.isModal===!0){r.success("Pessoa atualizada com sucesso!"),T("close-modal");return}r.success("Pessoa atualizada com sucesso!"),t.push("/pessoas/lista")}else r.error("Erro ao atualizar Pessoa Fisica")}const O=()=>{if(k.isModal===!0){T("close-modal");return}t.push("/pessoas/lista")};return($,U)=>{const J=Ia("mask");return de(),Se(da,null,[x(y)?(de(),be(Mt,{key:0,class:"loading-spinner",indeterminate:"",size:"64"})):x(R)?(de(),Se("div",wr,at(x(R).message),1)):ze("",!0),x(y)?ze("",!0):(de(),be(ia,{key:2},{default:j(()=>[S(Ie,null,{default:j(()=>[S(ve,{md:"6"},{default:j(()=>[S(pe,{modelValue:x(l).nome,"onUpdate:modelValue":U[0]||(U[0]=M=>x(l).nome=M),"error-messages":x(D).nome.$errors.map(M=>M.$message),label:"Nome",required:"",onBlur:x(D).nome.$touch,onInput:x(D).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),S(ve,{md:"4"},{default:j(()=>[Ye(S(pe,{modelValue:x(l).doc_identificacao,"onUpdate:modelValue":U[1]||(U[1]=M=>x(l).doc_identificacao=M),"error-messages":x(D).doc_identificacao.$errors.map(M=>M.$message),label:"CPF",required:"",onBlur:x(D).doc_identificacao.$touch,onInput:x(D).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[J,"###.###.###-##"]])]),_:1}),S(ve,{md:"2"},{default:j(()=>[S(Ht,{label:"Sexo",modelValue:x(l).tabvalores_sexo_id,"onUpdate:modelValue":U[2]||(U[2]=M=>x(l).tabvalores_sexo_id=M),items:x(A).sexoItems,"item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),S(Ie,null,{default:j(()=>[S(ve,{md:"4"},{default:j(()=>[S(Je,{modelValue:x(l).tabvalores_estadocivil_id,"onUpdate:modelValue":U[3]||(U[3]=M=>x(l).tabvalores_estadocivil_id=M),items:x(A).estadoCivilItems,"item-title":"descricao","item-value":"id",label:"Estado Civil"},null,8,["modelValue","items"])]),_:1}),S(ve,{md:"4"},{default:j(()=>[S(pe,{modelValue:x(l).profissao,"onUpdate:modelValue":U[4]||(U[4]=M=>x(l).profissao=M),label:"Profissão"},null,8,["modelValue"])]),_:1}),S(ve,{md:"4"},{default:j(()=>[S(pe,{modelValue:x(l).local_trabalho,"onUpdate:modelValue":U[5]||(U[5]=M=>x(l).local_trabalho=M),label:"Local de trabalho"},null,8,["modelValue"])]),_:1})]),_:1}),S(Ie,null,{default:j(()=>[S(ve,{md:"2"},{default:j(()=>[Ye(S(pe,{modelValue:x(l).data_nascimento,"onUpdate:modelValue":U[6]||(U[6]=M=>x(l).data_nascimento=M),label:"Data de nascimento",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[J,"##/##/####"]])]),_:1}),S(ve,{md:"2"},{default:j(()=>[Ye(S(pe,{modelValue:x(l).fone_celular,"onUpdate:modelValue":U[7]||(U[7]=M=>x(l).fone_celular=M),label:"Celular",placeholder:"'(99) 99999-9999'"},null,8,["modelValue"]),[[J,"(##) #####-####"]])]),_:1}),S(ve,{md:"4"},{default:j(()=>[S(Je,{modelValue:x(l).tabvalores_capacidadecivil_id,"onUpdate:modelValue":U[8]||(U[8]=M=>x(l).tabvalores_capacidadecivil_id=M),items:x(A).capacidadeCivilItems,label:"Capacidade Civil","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(ve,{md:"4"},{default:j(()=>[S(Je,{modelValue:x(l).cidade_nascimento_id,"onUpdate:modelValue":U[9]||(U[9]=M=>x(l).cidade_nascimento_id=M),items:x(A).cidadeNascimentoItems,label:"Cidade de nascimento","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1})]),_:1}),S(Ie,null,{default:j(()=>[S(ve,{md:"4"},{default:j(()=>[Ye(S(pe,{modelValue:x(l).cpf_pai,"onUpdate:modelValue":U[10]||(U[10]=M=>x(l).cpf_pai=M),label:"CPF do Pai"},null,8,["modelValue"]),[[J,"###.###.###-##"]])]),_:1}),S(ve,{md:"4"},{default:j(()=>[S(pe,{modelValue:x(l).nome_pai,"onUpdate:modelValue":U[11]||(U[11]=M=>x(l).nome_pai=M),label:"Nome do Pai"},null,8,["modelValue"])]),_:1})]),_:1}),S(Ie,null,{default:j(()=>[S(ve,{md:"4"},{default:j(()=>[Ye(S(pe,{modelValue:x(l).cpf_mae,"onUpdate:modelValue":U[12]||(U[12]=M=>x(l).cpf_mae=M),label:"CPF da Mãe"},null,8,["modelValue"]),[[J,"###.###.###-##"]])]),_:1}),S(ve,{md:"4"},{default:j(()=>[S(pe,{modelValue:x(l).nome_mae,"onUpdate:modelValue":U[13]||(U[13]=M=>x(l).nome_mae=M),modelModifiers:{date:!0},"error-messages":x(D).nome_mae.$errors.map(M=>M.$message),label:"Nome da Mãe",required:"",onBlur:x(D).nome_mae.$touch,onInput:x(D).nome_mae.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1})]),_:1}),S(Ie,{class:"mb-3"},{default:j(()=>[S(Ge,{onClick:O,size:"large",color:"red"},{default:j(()=>U[15]||(U[15]=[Ne("Voltar")])),_:1}),S(Ge,{onClick:U[14]||(U[14]=M=>x(n)?N():P()),class:"ml-4",size:"large",color:"green"},{default:j(()=>U[16]||(U[16]=[Ne("Salvar")])),_:1})]),_:1})]),_:1}))],64)}}},yr=We.withMessage("CNPJ inválido",B=>{if(!B)return!1;const K=B.replace(/[^\d]+/g,"");if(K.length!==14||/^(\d)\1+$/.test(K))return!1;let G=K.length-2,z=K.substring(0,G);const k=K.substring(G);let T=0,t=G-7;for(let r=G;r>=1;r--)T+=parseInt(z.charAt(G-r),10)*t--,t<2&&(t=9);let a=T%11<2?0:11-T%11;if(a!==parseInt(k.charAt(0),10))return!1;G+=1,z=K.substring(0,G),T=0,t=G-7;for(let r=G;r>=1;r--)T+=parseInt(z.charAt(G-r),10)*t--,t<2&&(t=9);return a=T%11<2?0:11-T%11,a===parseInt(k.charAt(1),10)}),xr={__name:"DadosJuridica",props:{isModal:{type:Boolean,default:!1}},emits:["saved","close-modal"],setup(B,{emit:K}){const G=B,z=K,k=Da(),T=wa(),{$toast:t}=ma(),a=fa(),r=`${a.public.auth}/service/gerencia/getPessoaById`,g=`${a.public.auth}/service/gerencia/createPessoa`,h=`${a.public.auth}/service/gerencia/updatePessoa`,{id:v}=T.params,u={nome:null,nome_fantasia:null,inscricao_estadual:null,observacao:null,doc_identificacao:null,tipo_pessoa:"JURIDICA",cartorio_id:De("user-data").value.cartorio_id,user_id:De("user-data").value.usuario_id},c=_e(!1),b=_e(v||De("pessoa-id").value),s=Ba({...u});function _(w){return w?w.replace(/[.\-/]/g,""):null}const f={nome:{required:We.withMessage("O campo é obrigatorio",aa)},doc_identificacao:{required:We.withMessage("O campo é obrigatorio",aa),cnpj:yr}},n=$a(f,s);async function i(){if(await n.value.$validate()){const w={...s};for(const P in w)w[P]===""&&(w[P]=null);const y={...w,doc_identificacao:_(s.doc_identificacao)},{data:R,error:V,status:D}=await Ue(g,{method:"POST",body:y});if(D.value==="error"&&V.value.statusCode===500)t.error("Erro ao cadastrar Pessoa Juridica,o CNPJ já está cadastrado.");else{t.success("Pessoa Juridica cadastrada com sucesso!");const P=R.value.id;b.value=P;const N=De("pessoa_token");N.value=R.value.token,c.value=!0,z("saved")}}else t.error("Erro ao cadastrar pessoa juridica, preencha os campos obrigatorios.")}async function l(){const w={...s};for(const P in w)w[P]===""&&(w[P]=null);const y={...w,doc_identificacao:_(s.doc_identificacao)},{data:R,error:V,status:D}=await Ue(`${h}/${v||b.value}`,{method:"PUT",body:y});if(D.value==="success"){if(G.isModal===!0){t.success("Pessoa Juridica atualizada com sucesso!"),z("close-modal");return}t.success("Pessoa Juridica atualizada com sucesso!"),k.push("/pessoas/lista")}else t.error("Erro ao atualizar Pessoa Juridica")}async function m(){const{data:w,error:y}=await Ue(`${r}/${v}`,{method:"GET"});Object.assign(s,w.value)}const A=()=>{if(G.isModal===!0){z("close-modal");return}k.push("/pessoas/lista")};return La(()=>{v&&(m(),c.value=!0)}),(w,y)=>{const R=Ia("mask");return de(),be(ia,{class:"mt-3",style:{height:"425px"}},{default:j(()=>[S(Ie,null,{default:j(()=>[S(ve,{md:"8"},{default:j(()=>[S(pe,{modelValue:x(s).nome,"onUpdate:modelValue":y[0]||(y[0]=V=>x(s).nome=V),"error-messages":x(n).nome.$errors.map(V=>V.$message),label:"Razão Social",required:"",onBlur:x(n).nome.$touch,onInput:x(n).nome.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),S(ve,{md:"4"},{default:j(()=>[Ye(S(pe,{modelValue:x(s).doc_identificacao,"onUpdate:modelValue":y[1]||(y[1]=V=>x(s).doc_identificacao=V),"error-messages":x(n).doc_identificacao.$errors.map(V=>V.$message),label:"CNPJ",required:"",onBlur:x(n).doc_identificacao.$touch,onInput:x(n).doc_identificacao.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),[[R,"##.###.###/####-##"]])]),_:1})]),_:1}),S(Ie,null,{default:j(()=>[S(ve,{md:"8"},{default:j(()=>[S(pe,{modelValue:x(s).nome_fantasia,"onUpdate:modelValue":y[2]||(y[2]=V=>x(s).nome_fantasia=V),label:"Nome Fantasia"},null,8,["modelValue"])]),_:1}),S(ve,{md:"4"},{default:j(()=>[S(pe,{modelValue:x(s).inscricao_estadual,"onUpdate:modelValue":y[3]||(y[3]=V=>x(s).inscricao_estadual=V),label:"Inscrição Estadual"},null,8,["modelValue"])]),_:1})]),_:1}),S(Ie,null,{default:j(()=>[S(ve,{md:"12"},{default:j(()=>[S(pe,{modelValue:x(s).observacao,"onUpdate:modelValue":y[4]||(y[4]=V=>x(s).observacao=V),label:"Observação"},null,8,["modelValue"])]),_:1})]),_:1}),S(Ie,{class:"mb-3"},{default:j(()=>[S(Ge,{onClick:A,size:"large",color:"red"},{default:j(()=>y[6]||(y[6]=[Ne("Voltar")])),_:1}),S(Ge,{onClick:y[5]||(y[5]=V=>x(c)?l():i()),class:"ml-4",size:"large",color:"green"},{default:j(()=>y[7]||(y[7]=[Ne("Salvar")])),_:1})]),_:1})]),_:1})}}},Er="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHCAgICAgHBwgHBwoHBwcHBw8ICQcKIBEiIiARHx8YHSggGBolGx8TITEhJSkrLi4uFx8zODMsNygtLisBCgoKCg0FGg8HDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIANcA6wMBIgACEQEDEQH/xAAWAAEBAQAAAAAAAAAAAAAAAAAAAQb/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAcE/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AyQDCrIqKCAAqAAAAogCooCAAAACggAKgAAACoCgAgoCAAAAAAAoIAAKAgAAoCAACoAAAAAAACggKCAAqAAqKAIAKgCoAAAAAAAKgAKgAqACgAIoIqKCAAAAKgAogAKCAoIqAKigIKgAqAKgAogAoCKIAoAIqAKACKAgqAAoCAAqACgAIAKACKAgAKigCCggAAAAoCAoICgioACoCoAAAAAAoCCgIKAgAAKCAAAAKgAqAAAKgAKiggAAKCAAogAAAqAAKCKigigCCoAAAoAioAKigiiACgCKAgqAqCgigCAAoigCKCAAKiggACoAAAqKgAAAAAAKACAAqAAAAAAqAKioAAAAACggAAKCKgAqAKioAKgAAAKCAAAAKigIqAAAKigigAgAKigCKCCoCoAAAKgAqKAIACoAogCggKgAqCgiooIKgKIoIKAAAiiAqACoqAKigiiAqKAgqAKgCggKIAoICoAAAAAAKCKigCKCKgCggAAAAAKCKAIKAgoAACCgAAIKAgoCCgIKAgoAACCgCKAIoD//Z",Cr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABIgAAASIAQMAAABC4maAAAAAA1BMVEUAgACc+aWRAAAA1ElEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGD24EAAAAAAAMj/tRFUVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVaU9OCQAAAAAEPT/tS9MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMwCla4AAb0OJ2IAAAAASUVORK5CYII=",Vr=""+new URL("escanear.DNtQsXN4.png",import.meta.url).href,Sr=["onClick"],Dr=["onClick"],Br={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:st,alt:"deletar",title:"Reativar"},Ir={key:1,src:dt,alt:"reativar",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"reativar"},Rr=["onClick"],Nr={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:Er,alt:"Criar"},Pr={key:1,style:{width:"30px",height:"30px",cursor:"pointer"},src:Cr,alt:"Criar"},zr={key:2,style:{width:"30px",height:"30px",cursor:"pointer"},src:Vr,alt:"Criar"},Mr={__name:"Documentos",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(B,{emit:K}){let G,z;const k=K,T=B,{$toast:t}=ma(),a=wa(),r=Da(),{id:g}=a.params,h=fa(),v=`${h.public.auth}/service/gerencia/listarTipoDocumento`,u=`${h.public.auth}/service/gerencia/listarUF`,c=`${h.public.auth}/service/gerencia/getPessoaDocById`,b=`${h.public.auth}/service/gerencia/createPessoaDoc`,s=`${h.public.auth}/service/gerencia/updatePessoaDoc`,_=_e(!1),f=_e(null),n=_e(De("user-data").value.usuario_id).value,i=Number(g||De("pessoa-id").value),l=Ba({tabvalores_tipodoc_id:null,emissor:null,numero:null,data_emissao:null,data_vencimento:null,tabvalores_ufemissor_id:null}),m=[{title:"Tipo",value:"tipoDocumento.descricao"},{title:"Número",value:"numero"},{title:"Emissor",value:"emissor"},{title:"UF",value:"ufEmissor.descricao"},{title:"Emissão",value:"data_emissao"},{title:"Validade",value:"data_vencimento"},{value:"actions"}],A={numero:{required:We.withMessage("O campo é obrigatorio",aa)},emissor:{required:We.withMessage("O campo é obrigatorio",aa)},tabvalores_ufemissor_id:{required:We.withMessage("O campo é obrigatorio",aa)}},w=$a(A,l),{data:y,pending:R,refresh:V}=([G,z]=Oa(async()=>lt("cliente-documentos",async()=>{const[L,Z,W]=await Promise.all([sa(v),sa(u),sa(`${c}/${i}`)]),X=W.map(E=>({...E,data_emissao:E.data_emissao?Pa(E.data_emissao,"dd/mm/yyyy"):null,data_vencimento:E.data_vencimento?Pa(E.data_vencimento,"dd/mm/yyyy"):null}));return{tipoDocumentoItems:L,ufItems:Z,pessoasDocsItems:X}})),G=await G,z(),G);async function D(){if(await w.value.$validate()){const L={...l};for(const ce in L)L[ce]===""&&(L[ce]=null);const Z={...L,user_id:n,pessoa_id:i},{data:W,error:X,status:E}=await Ue(b,{method:"POST",body:Z});if(E.value==="error"&&X.value.statusCode===500)console.log(JSON.stringify(X.value)),t.error(X.value.data.details);else{t.success("Documento cadastrado com sucesso!"),V();for(const ce in l)l[ce]="";w.value.$reset()}}else t.error("Erro ao cadastrar documento. Os seguintes campos são obrigatórios: Número, Emissor e UF.")}async function P(L){try{console.log(`Ação do scanner iniciada
`),console.log("Token do documento:",L),await N(),await O(L)}catch(Z){console.error("Erro ao executar scanner ou listar arquivos:",Z)}}async function N(){try{const{data:L}=await Qe(acionarScanner,{method:"GET"},"$cLGZtMLuJD")}catch(L){t.error("Erro ao acionar o scanner:",L)}}async function O(L){try{const{data:Z,status:W}=await Qe("http://localhost:3500/uploadAnexo",{method:"POST",body:{tipo:"docs",token:a.query.ato_token_edit,cartorio_token:L}},"$2fkU5kgcxs")}catch(Z){console.error("Erro ao enviar o arquivo:",Z)}}function $(L){L&&(f.value={...L,data_emissao:L.data_emissao?Pa(L.data_emissao,"dd/mm/yyyy"):null,data_vencimento:L.data_vencimento?Pa(L.data_vencimento,"dd/mm/yyyy"):null},_.value=!0)}async function U(L){const Z={tabvalores_tipodoc_id:f.value.tabvalores_tipodoc_id,numero:f.value.numero,emissor:f.value.emissor,tabvalores_ufemissor_id:f.value.tabvalores_ufemissor_id,data_vencimento:f.value.data_vencimento,data_emissao:tt(f.value.data_emissao)},{status:W}=await Ue(`${s}/${L}`,{method:"PUT",body:Z});W.value==="success"&&(_.value=!1,t.success("Pessoa atualizada com sucesso!"),V())}async function J(L){L.excluido=!L.excluido;try{await Ue(`${s}/${L.id}`,{method:"PUT",body:JSON.stringify({excluido:L.excluido})})}catch(Z){console.error("Erro ao excluir pessoa:",Z)}}const M=()=>{if(T.isModal===!0){k("close-modal");return}r.push("/pessoas/lista")};return(L,Z)=>{const W=jt,X=Ia("mask");return de(),Se(da,null,[x(R)?ze("",!0):(de(),be(ia,{key:0,class:"mt-3",style:{height:"425px"}},{default:j(()=>[S(Ie,null,{default:j(()=>[S(ve,{md:"2"},{default:j(()=>[S(Je,{modelValue:x(l).tabvalores_tipodoc_id,"onUpdate:modelValue":Z[0]||(Z[0]=E=>x(l).tabvalores_tipodoc_id=E),items:x(y).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(ve,null,{default:j(()=>[S(pe,{modelValue:x(l).numero,"onUpdate:modelValue":Z[1]||(Z[1]=E=>x(l).numero=E),"error-messages":x(w).numero.$errors.map(E=>E.$message),label:"Numero",required:"",onBlur:x(w).numero.$touch,onInput:x(w).numero.$touch},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),S(ve,{md:"2"},{default:j(()=>[S(pe,{modelValue:x(l).emissor,"onUpdate:modelValue":Z[2]||(Z[2]=E=>x(l).emissor=E),"error-messages":x(w).emissor.$errors.map(E=>E.$message),required:"",onBlur:x(w).emissor.$touch,onInput:x(w).emissor.$touch,label:"Emissor"},null,8,["modelValue","error-messages","onBlur","onInput"])]),_:1}),S(ve,null,{default:j(()=>[S(Je,{modelValue:x(l).tabvalores_ufemissor_id,"onUpdate:modelValue":Z[3]||(Z[3]=E=>x(l).tabvalores_ufemissor_id=E),error:x(w).tabvalores_ufemissor_id.$error,"error-messages":x(w).tabvalores_ufemissor_id.$errors.map(E=>E.$message),items:x(y).ufItems,label:"UF","item-title":"descricao","item-value":"id",required:"",onBlur:x(w).tabvalores_ufemissor_id.$touch,onInput:x(w).tabvalores_ufemissor_id.$touch},null,8,["modelValue","error","error-messages","items","onBlur","onInput"])]),_:1}),S(ve,{md:"2"},{default:j(()=>[Ye(S(pe,{modelValue:x(l).data_emissao,"onUpdate:modelValue":Z[4]||(Z[4]=E=>x(l).data_emissao=E),label:"Emissão",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[X,"##/##/####"]])]),_:1}),S(ve,{md:"2"},{default:j(()=>[Ye(S(pe,{modelValue:x(l).data_vencimento,"onUpdate:modelValue":Z[5]||(Z[5]=E=>x(l).data_vencimento=E),label:"Validade",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[X,"##/##/####"]])]),_:1}),Ee("div",{class:"mt-1"},[Ee("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ma,alt:"novo",onClick:D})])]),_:1}),S(ut,{style:{"max-height":"330px"},headers:m,items:x(y).pessoasDocsItems,"item-key":"id"},{"item.actions":j(({item:E})=>[S(Ie,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:j(()=>[Ee("div",{onClick:ce=>$(E),title:"editar"},Z[15]||(Z[15]=[Ee("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:Ft,alt:"editar"},null,-1)]),8,Sr),Ee("div",{onClick:ce=>J(E),title:"deletar"},[E.excluido?(de(),Se("img",Br)):(de(),Se("img",Ir))],8,Dr),Ee("div",{onClick:ce=>P(E.token),title:"Criar"},[L.status_arquivo===!1?(de(),Se("img",Nr)):L.status_arquivo===!0?(de(),Se("img",Pr)):(de(),Se("img",zr))],8,Rr)]),_:2},1024)]),_:1},8,["items"]),S(Ta,{modelValue:x(_),"onUpdate:modelValue":Z[14]||(Z[14]=E=>_a(_)?_.value=E:null),"max-width":"600px"},{default:j(()=>[S(Ua,null,{default:j(()=>[S(Gt,{style:{color:"green"}},{default:j(()=>Z[16]||(Z[16]=[Ne("Atualizar Endereço")])),_:1}),S(qt,null,{default:j(()=>[S(Ie,null,{default:j(()=>[S(ve,{cols:"12",md:"6"},{default:j(()=>[S(Je,{modelValue:x(f).tabvalores_tipodoc_id,"onUpdate:modelValue":Z[6]||(Z[6]=E=>x(f).tabvalores_tipodoc_id=E),items:x(y).tipoDocumentoItems,label:"Tipo","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:j(()=>[S(pe,{modelValue:x(f).numero,"onUpdate:modelValue":Z[7]||(Z[7]=E=>x(f).numero=E),label:"Número"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:j(()=>[S(pe,{modelValue:x(f).emissor,"onUpdate:modelValue":Z[8]||(Z[8]=E=>x(f).emissor=E),label:"Número"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:j(()=>[S(Je,{modelValue:x(f).tabvalores_ufemissor_id,"onUpdate:modelValue":Z[9]||(Z[9]=E=>x(f).tabvalores_ufemissor_id=E),items:x(y).ufItems,label:"UF","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:j(()=>[Ye(S(pe,{modelValue:x(f).data_emissao,"onUpdate:modelValue":Z[10]||(Z[10]=E=>x(f).data_emissao=E),label:"Emissão",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[X,"##/##/####"]])]),_:1}),S(ve,{cols:"12",md:"6"},{default:j(()=>[Ye(S(pe,{modelValue:x(f).data_vencimento,"onUpdate:modelValue":Z[11]||(Z[11]=E=>x(f).data_vencimento=E),label:"Validade",placeholder:"dd/mm/yyyy"},null,8,["modelValue"]),[[X,"##/##/####"]])]),_:1})]),_:1})]),_:1}),S(Zt,null,{default:j(()=>[S($t),S(Ge,{color:"green",text:"",onClick:Z[12]||(Z[12]=E=>_.value=!1)},{default:j(()=>Z[17]||(Z[17]=[Ne("Cancelar")])),_:1}),S(Ge,{color:"green",text:"",onClick:Z[13]||(Z[13]=E=>U(x(f).id))},{default:j(()=>Z[18]||(Z[18]=[Ne("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),S(W,{onClick:M},{default:j(()=>[S(Ge,{size:"large",class:"ml-10 mb-5",color:"red"},{default:j(()=>Z[19]||(Z[19]=[Ne("Voltar")])),_:1})]),_:1})],64)}}},$r=["onClick"],Or={key:0,style:{width:"30px",height:"30px"},src:st,alt:"Visualizar",title:"Reativar"},Lr={key:1,src:dt,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px"},title:"Excluir"},Kr={__name:"Representantes",props:{isModal:{type:Boolean,default:!1}},async setup(B){let K,G;const z=B,k=fa(),{$toast:T}=ma(),t=wa(),a=Da(),r=`${k.public.auth}/service/gerencia/pesquisarPessoas`,g=`${k.public.auth}/service/gerencia/listarPapeis`,h=`${k.public.auth}/service/gerencia/representante`,v=`${k.public.auth}/service/gerencia/representante`,u=`${k.public.auth}/service/gerencia/representante`,c=_e(De("user-data").value.cartorio_token),{id:b}=t.params,s=Number(b||De("pessoa-id").value),_=_e([]),f=_e([]),n=_e([]),i=_e(!1),l=[{title:"Documento",align:"start",key:"representante",value:N=>{var O,$;return((O=N.representante)==null?void 0:O.doc_identificacao)||(($=N.representante)==null?void 0:$.documento)}},{title:"Pessoa",align:"start",key:"representante.nome"},{title:"Papel",align:"start",key:"papel.descricao"},{value:"actions"}],m=Ba({papeis:null,nome:null,pessoa:null,documento:null}),{data:A}=([K,G]=Oa(()=>Ue(g,{method:"POST",body:{rotina:"CADASTRO_PJ"}})),K=await K,G(),K);n.value=A.value;async function w(){try{const{data:N,error:O}=await Ue(r,{method:"POST",body:{cartorio_token:c.value,documento:m.documento,nome:m.nome}});N.value.length>0?(_.value=N.value,m.pessoa=_.value[0]):_.value=[]}catch(N){console.error("Erro na requisição",N)}}const y=()=>{i.value=!0},R=async()=>{const N={representante:m.pessoa,papel:n.value.find(O=>O.id===m.papeis)};try{const{data:O,error:$,status:U}=await Ue(h,{method:"POST",body:{ato_id:null,representante_id:m.pessoa.id,pessoa_id:s||b,papel_id:m.papeis,user_id:De("user-data").value.usuario_id}});U.value==="success"?(N.id=O.value.id,T.success("Pessoa Registrada com Sucesso!"),f.value.push(N)):T.error("Erro ao registrar a pessoa!")}catch{T.error("Erro no servidor. Tente novamente.")}};async function V(){const{data:N,error:O}=await Ue(`${v}/${b}`,{method:"GET"});f.value=N.value}async function D(N){N.excluido=!N.excluido;try{await Ue(`${u}/${N.id}`,{method:"PUT",body:JSON.stringify({excluido:N.excluido})})}catch(O){console.error("Erro ao excluir pessoa:",O)}}const P=()=>{if(z.isModal===!0){emit("close-modal");return}a.push("/pessoas/lista")};return La(()=>{b&&V()}),(N,O)=>{const $=Li,U=jt;return de(),Se(da,null,[S(ia,{style:{height:"425px"}},{default:j(()=>[S(Ie,{class:"mt-1"},{default:j(()=>[S(ve,{cols:"3"},{default:j(()=>[S(pe,{label:"Documento",modelValue:x(m).documento,"onUpdate:modelValue":O[0]||(O[0]=J=>x(m).documento=J)},null,8,["modelValue"])]),_:1}),S(ve,{cols:"4"},{default:j(()=>[S(pe,{label:"Pessoa",modelValue:x(m).nome,"onUpdate:modelValue":O[1]||(O[1]=J=>x(m).nome=J)},null,8,["modelValue"])]),_:1}),Ee("div",null,[Ee("img",{class:"mt-1",src:Jt,style:{width:"40px",cursor:"pointer"},title:"Pesquisar Pessoa",onClick:w})]),Ee("div",null,[Ee("img",{class:"mt-1 ml-2",src:Ma,style:{width:"40px",cursor:"pointer"},title:"Criar Pessoa",onClick:y})])]),_:1}),S(Ie,null,{default:j(()=>[S(ve,{cols:"4"},{default:j(()=>[S(Je,{label:"Selecione a Pessoa",modelValue:x(m).pessoa,"onUpdate:modelValue":O[2]||(O[2]=J=>x(m).pessoa=J),items:x(_),"item-title":"nome","item-value":"id","return-object":"",required:""},null,8,["modelValue","items"])]),_:1}),S(ve,{cols:"3"},{default:j(()=>[S(Je,{label:"Papel",modelValue:x(m).papeis,"onUpdate:modelValue":O[3]||(O[3]=J=>x(m).papeis=J),items:x(n),"item-title":"descricao","item-value":"id",required:""},null,8,["modelValue","items"])]),_:1}),Ee("div",null,[Ee("img",{class:"mt-1",src:Ma,style:{width:"40px",cursor:"pointer"},title:"Criar Representante",onClick:R})])]),_:1}),S(Ie,null,{default:j(()=>[S(ve,null,{default:j(()=>[S(ut,{style:{"max-height":"330px"},headers:l,items:x(f)},{"item.actions":j(({item:J})=>[S(Ie,null,{default:j(()=>[Ee("div",{class:"mr-2",style:{display:"flex",cursor:"pointer","justify-content":"flex-end"},onClick:M=>D(J),title:"Deletar Pessoa"},[J.excluido?(de(),Se("img",Or)):(de(),Se("img",Lr))],8,$r)]),_:2},1024)]),_:1},8,["items"])]),_:1})]),_:1}),S($,{show:x(i),onClose:O[4]||(O[4]=J=>i.value=!1)},null,8,["show"])]),_:1}),S(U,{onClick:P},{default:j(()=>[S(Ge,{size:"large",class:"ml-10 mb-5",color:"red"},{default:j(()=>O[5]||(O[5]=[Ne("Voltar")])),_:1})]),_:1})],64)}}},Tr={class:"mt-1"},Ur={style:{width:"150px","font-weight":"500"}},Hr={style:{width:"200px","font-weight":"500"}},jr=["onClick"],Fr=["onClick"],Gr={key:0,style:{width:"30px",height:"30px",cursor:"pointer"},src:st,alt:"Visualizar",title:"Reativar"},qr={key:1,src:dt,alt:"Excluir",class:"trash-icon",style:{width:"30px",height:"30px",cursor:"pointer"},title:"Excluir"},Zr={__name:"Endereco",props:{isModal:{type:Boolean,default:!1}},emits:["close-modal"],async setup(B,{emit:K}){let G,z;const k=K,T=B,{$toast:t}=ma(),a=wa(),{id:r}=a.params,g=Da(),h=fa(),v=`${h.public.auth}/service/gerencia/listarPais`,u=`${h.public.auth}/service/gerencia/getPessoaEnderecoById`,c=`${h.public.auth}/service/gerencia/createPessoaEndereco`,b=`${h.public.auth}/service/gerencia/updatePessoaEndereco`,s=`${h.public.auth}/service/gerencia/cep`,_=_e(De("user-data").value.usuario_id).value,f=Number(r||De("pessoa-id").value),n=Ba({tabvalores_pais_id:null,cidade_id:null,codcep:null,logradouro:null,numero:null,bairro:null,complemento:null,cidade_estrangeira:null}),i=[{title:"País",value:"pais.descricao"},{title:"CEP",value:"codcep"},{title:"Endereço",value:"logradouro"},{title:"N*",value:"numero"},{title:"Complemento",value:"complemento"},{title:"Bairro",value:"bairro"},{title:"Cidade",value:"cidade"},{value:"actions"}],l=_e(!1),m=_e(null),A=Ve(()=>{const X=P.value.paisItems.find(E=>E.id===n.tabvalores_pais_id);return X?X.estrangeiro:!1}),w=X=>{var E;return((E=X.cidades)==null?void 0:E.nome)||X.cidade_estrangeira},y={numero:{required:We.withMessage("O campo é obrigatorio",aa)},bairro:{required:We.withMessage("O campo é obrigatorio",aa)},logradouro:{required:We.withMessage("O campo é obrigatorio",aa)},codcep:{required:We.withMessage("O campo é obrigatorio e precisa de 8 digitos",aa)}},R=$a(y,n),D=De("auth_token").value,{data:P,status:N,pending:O,refresh:$}=([G,z]=Oa(async()=>lt("cliente-enderecos",async()=>{const[X,E,ce]=await Promise.all([sa(v),sa(`${u}/${f}`),sa(`${h.public.auth}/service/gerencia/listarCidades`)]);return{paisItems:X,enderecosItems:E,cidadesItems:ce}})),G=await G,z(),G);async function U(){if(await R.value.$validate()){const E={...{...n},user_id:_,pessoa_id:f},{data:ce,error:Q,status:te}=await Ue(c,{method:"POST",body:E});if(te.value==="error"&&Q.value.statusCode===500)t.error("Erro ao cadastrar endereço,erro no sistema.");else{t.success("Endereço cadastrado com sucesso!"),$();for(const se in n)n[se]=null;R.value.$reset()}}else t.error("Erro ao cadastrar Endereço, preencha os campos obrigatorios.")}async function J(){if(!n.cidade_estrangeira||!n.logradouro){t.error("Os Campos Cidade Estrangeira e Endereço são obrigatorios!");return}const E={...{...n},user_id:_,pessoa_id:f},{data:ce,error:Q,status:te}=await Ue(c,{method:"POST",body:E});if(te.value==="error"&&Q.value.statusCode===500)t.error("Erro ao cadastrar endereço,erro no sistema.");else{t.success("Endereço cadastrado com sucesso!"),$();for(const se in n)n[se]=null;R.value.$reset()}}function M(X){const E=P.value.enderecosItems.find(ce=>ce.id===X);E&&(m.value=E,l.value=!0)}async function L(X){const E={tabvalores_pais_id:m.value.tabvalores_pais_id,cidade_id:m.value.cidade_id,codcep:m.value.codcep,logradouro:m.value.logradouro,numero:m.value.numero,bairro:m.value.bairro,complemento:m.value.complemento},{status:ce}=await Ue(`${b}/${X}`,{method:"PUT",body:E});ce.value==="success"?(l.value=!1,t.success("Endereço atualizado com sucesso!"),$()):t.error("Erro ao atualizar Endereço")}rt(()=>n.codcep,async X=>{if(X.length===8)try{const{data:E,error:ce}=await Qe(`${s}/${X}`,{headers:{Authorization:D}},"$xTfPNGciav");if(ce.value){console.error("Erro ao buscar CEP:",ce.value),t.error("Erro ao buscar CEP no servidor.");return}if(E.value.logradouro&&E.value.bairro&&E.value.localidade&&E.value.uf){n.logradouro=E.value.logradouro,n.bairro=E.value.bairro,n.complemento=E.value.complemento;let Q=`${E.value.localidade}/${E.value.uf}`.toUpperCase();const te=P.value.cidadesItems.find(se=>se.descricao===Q);te?(n.cidade_id=te.id,n.tabvalores_pais_id=76):t.error("Cidade não encontrada na lista!")}else t.error("CEP não retornou dados válidos!")}catch(E){console.error("Erro inesperado:",E),t.error("Erro inesperado. Verifique sua conexão.")}});async function Z(X){X.excluido=!X.excluido;try{await Ue(`${b}/${X.id}`,{method:"PUT",body:{excluido:X.excluido}})}catch(E){console.error("Erro ao excluir pessoa:",E)}}const W=()=>{if(T.isModal===!0){k("close-modal");return}g.push("/pessoas/lista")};return(X,E)=>{const ce=Ia("mask");return de(),Se(da,null,[x(O)?ze("",!0):(de(),be(ia,{key:0,class:"mt-3",style:{height:"425px"}},{default:j(()=>[S(Ie,null,{default:j(()=>[S(ve,{md:"2"},{default:j(()=>[S(Je,{modelValue:x(n).tabvalores_pais_id,"onUpdate:modelValue":E[0]||(E[0]=Q=>x(n).tabvalores_pais_id=Q),items:x(P).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),x(A)?ze("",!0):(de(),be(ve,{key:0,md:"2"},{default:j(()=>[x(A)?ze("",!0):Ye((de(),be(pe,{key:0,modelValue:x(n).codcep,"onUpdate:modelValue":E[1]||(E[1]=Q=>x(n).codcep=Q),"error-messages":x(R).codcep.$errors.map(Q=>Q.$message),required:"",onBlur:x(R).codcep.$touch,onInput:x(R).codcep.$touch,label:"CEP"},null,8,["modelValue","error-messages","onBlur","onInput"])),[[ce,"########"]])]),_:1})),S(ve,{md:"6"},{default:j(()=>[x(A)?(de(),be(pe,{key:1,modelValue:x(n).logradouro,"onUpdate:modelValue":E[3]||(E[3]=Q=>x(n).logradouro=Q),label:"Endereço"},null,8,["modelValue"])):(de(),be(pe,{key:0,modelValue:x(n).logradouro,"onUpdate:modelValue":E[2]||(E[2]=Q=>x(n).logradouro=Q),label:"Endereço","error-messages":x(R).logradouro.$errors.map(Q=>Q.$message),required:"",onBlur:x(R).logradouro.$touch,onInput:x(R).logradouro.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),S(ve,{md:"1"},{default:j(()=>[x(A)?(de(),be(pe,{key:1,modelValue:x(n).numero,"onUpdate:modelValue":E[5]||(E[5]=Q=>x(n).numero=Q),label:"N*"},null,8,["modelValue"])):(de(),be(pe,{key:0,modelValue:x(n).numero,"onUpdate:modelValue":E[4]||(E[4]=Q=>x(n).numero=Q),required:"","error-messages":x(R).numero.$errors.map(Q=>Q.$message),onBlur:x(R).numero.$touch,onInput:x(R).numero.$touch,label:"N*"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),Ee("div",Tr,[Ee("img",{style:{width:"40px",height:"40px",cursor:"pointer"},src:Ma,alt:"novo",onClick:E[6]||(E[6]=Q=>x(A)?J():U())})]),S(ve,{md:"5"},{default:j(()=>[S(pe,{modelValue:x(n).complemento,"onUpdate:modelValue":E[7]||(E[7]=Q=>x(n).complemento=Q),label:"Complemento"},null,8,["modelValue"])]),_:1}),S(ve,{md:"3"},{default:j(()=>[x(A)?(de(),be(pe,{key:1,modelValue:x(n).bairro,"onUpdate:modelValue":E[9]||(E[9]=Q=>x(n).bairro=Q),label:"Bairro"},null,8,["modelValue"])):(de(),be(pe,{key:0,modelValue:x(n).bairro,"onUpdate:modelValue":E[8]||(E[8]=Q=>x(n).bairro=Q),"error-messages":x(R).bairro.$errors.map(Q=>Q.$message),required:"",onBlur:x(R).bairro.$touch,onInput:x(R).bairro.$touch,label:"Bairro"},null,8,["modelValue","error-messages","onBlur","onInput"]))]),_:1}),S(ve,{md:"3"},{default:j(()=>[x(A)?(de(),be(pe,{key:1,modelValue:x(n).cidade_estrangeira,"onUpdate:modelValue":E[11]||(E[11]=Q=>x(n).cidade_estrangeira=Q),label:"Cidade"},null,8,["modelValue"])):(de(),be(Je,{key:0,modelValue:x(n).cidade_id,"onUpdate:modelValue":E[10]||(E[10]=Q=>x(n).cidade_id=Q),items:x(P).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"]))]),_:1})]),_:1}),S(ut,{style:{"max-height":"330px"},headers:i,items:x(P).enderecosItems,"item-key":"id"},{"item.cidade":j(({item:Q})=>[Ee("h4",Ur,at(w(Q)),1)]),"item.logradouro":j(({item:Q})=>[Ee("h4",Hr,at(Q.logradouro),1)]),"item.actions":j(({item:Q})=>[S(Ie,{style:{display:"flex","margin-top":"-8px",gap:"10px"}},{default:j(()=>[Ee("div",{onClick:te=>M(Q.id),title:"Visualizar"},E[23]||(E[23]=[Ee("img",{style:{width:"30px",height:"30px",cursor:"pointer"},src:Ft,alt:"Visualizar"},null,-1)]),8,jr),Ee("div",{onClick:te=>Z(Q),title:"Visualizar"},[Q.excluido?(de(),Se("img",Gr)):(de(),Se("img",qr))],8,Fr)]),_:2},1024)]),_:1},8,["items"]),S(Ta,{modelValue:x(l),"onUpdate:modelValue":E[22]||(E[22]=Q=>_a(l)?l.value=Q:null),"max-width":"600px"},{default:j(()=>[S(Ua,null,{default:j(()=>[S(Gt,{style:{color:"green"}},{default:j(()=>E[24]||(E[24]=[Ne("Atualizar Endereço")])),_:1}),S(qt,null,{default:j(()=>[S(Ie,null,{default:j(()=>[S(ve,{cols:"12",md:"6"},{default:j(()=>[S(Je,{modelValue:x(m).tabvalores_pais_id,"onUpdate:modelValue":E[12]||(E[12]=Q=>x(m).tabvalores_pais_id=Q),items:x(P).paisItems,label:"País","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:j(()=>[S(pe,{modelValue:x(m).logradouro,"onUpdate:modelValue":E[13]||(E[13]=Q=>x(m).logradouro=Q),label:"Logradouro"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:j(()=>[S(pe,{modelValue:x(m).complemento,"onUpdate:modelValue":E[14]||(E[14]=Q=>x(m).complemento=Q),label:"Complemento"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:j(()=>[S(pe,{modelValue:x(m).numero,"onUpdate:modelValue":E[15]||(E[15]=Q=>x(m).numero=Q),label:"Número"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:j(()=>[S(pe,{modelValue:x(m).bairro,"onUpdate:modelValue":E[16]||(E[16]=Q=>x(m).bairro=Q),label:"Bairro"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:j(()=>[S(pe,{modelValue:x(m).codcep,"onUpdate:modelValue":E[17]||(E[17]=Q=>x(m).codcep=Q),label:"CEP"},null,8,["modelValue"])]),_:1}),S(ve,{cols:"12",md:"6"},{default:j(()=>[x(m).cidade_estrangeira?(de(),be(Je,{key:0,modelValue:x(m).cidade_id,"onUpdate:modelValue":E[18]||(E[18]=Q=>x(m).cidade_id=Q),items:x(P).cidadesItems,label:"Cidade","item-title":"descricao","item-value":"id"},null,8,["modelValue","items"])):(de(),be(pe,{key:1,modelValue:x(m).cidade_estrangeira,"onUpdate:modelValue":E[19]||(E[19]=Q=>x(m).cidade_estrangeira=Q),label:"Cidade"},null,8,["modelValue"]))]),_:1})]),_:1})]),_:1}),S(Zt,null,{default:j(()=>[S($t),S(Ge,{color:"green",text:"",onClick:E[20]||(E[20]=Q=>l.value=!1)},{default:j(()=>E[25]||(E[25]=[Ne("Cancelar")])),_:1}),S(Ge,{color:"green",text:"",onClick:E[21]||(E[21]=Q=>L(x(m).id))},{default:j(()=>E[26]||(E[26]=[Ne("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})),S(Ge,{onClick:W,class:"ml-10 mb-5",size:"large",color:"red"},{default:j(()=>E[27]||(E[27]=[Ne("Voltar")])),_:1})],64)}}},Jr={class:"finger-container"},Yr=["onClick"],Wr=["onClick"],Qr={__name:"Digital",setup(B){const K=_e(["E1","E2","E3","E4","E5"]);var G=_e(["red","red","red","red","red"]);const z=_e(["D1","D2","D3","D4","D5"]);var k=_e(["red","red","red","red","red"]);const T=wa(),{$toast:t}=ma(),a=fa(),{id:r}=T.params,g=_e(De("pessoa-id").value).value,h=`${a.public.biometria}/capture-finger`,v=`${a.public.managemant}/createPessoaBiometria`,u=`${a.public.managemant}/getPessoaBiometriaById`;async function c(){const{status:f,data:n}=await Qe(`${u}/${r||g}`,{method:"GET"},"$wrCckM1pY4");f.value==="success"&&n.value&&n.value.forEach(i=>{(K.value.includes(i.dedo)||z.value.includes(i.dedo))&&s(i.dedo,"green")})}La(()=>{c()});async function b(f){const{status:n,data:i}=await Qe(h,{method:"GET"},"$b5yqRnLFV9");if(n.value==="success"){const l=i.value.hash,m={user_id:De("user-data").value.usuario_id,pessoa_id:Number(r)||g,dedo:f,hash:l},{status:A}=await Qe(v,{method:"POST",body:m},"$cWP9jlCX2Z");A.value==="success"?(t.success("Biometria enviada com sucesso!"),s(f,"green")):t.error("Falha ao enviar a biometria.")}else t.error("Erro ao Capturar biometria para o sistema.")}function s(f,n){const i=K.value.findIndex(l=>l===f);if(i!==-1)G.value[i]=n;else{const l=z.value.findIndex(m=>m===f);l!==-1&&(k.value[l]=n)}}function _(f,n){const l={E1:{top:82,left:-10},E2:{top:35,left:4},E3:{top:0,left:30},E4:{top:15,left:75},E5:{top:50,left:170},D1:{top:50,left:210},D2:{top:18,left:300},D3:{top:5,left:350},D4:{top:35,left:375},D5:{top:80,left:390}}[f];let m="red";if(n==="left"){const A=K.value.indexOf(f);A!==-1&&(m=G.value[A])}else if(n==="right"){const A=z.value.indexOf(f);A!==-1&&(m=k.value[A])}return{backgroundColor:m,top:`${l.top}px`,left:`${l.left}px`}}return(f,n)=>(de(),be(ve,{style:{"margin-top":"20px"},cols:"auto",class:"biometria-container"},{default:j(()=>[Ee("div",Jr,[(de(!0),Se(da,null,ht(x(K),(i,l)=>(de(),Se("div",{key:l,class:"finger",style:za(_(i,"left")),onClick:m=>b(i)},null,12,Yr))),128)),(de(!0),Se(da,null,ht(x(z),(i,l)=>(de(),Se("div",{key:l,class:"finger",style:za(_(i,"right")),onClick:m=>b(i)},null,12,Wr))),128))])]),_:1}))}},Xr=Ot(Qr,[["__scopeId","data-v-02650459"]]);function ei(B){throw new Error('Could not dynamically require "'+B+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ha={exports:{}},ja={},At;function pa(){return At||(At=1,function(B){var K=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function G(T,t){return Object.prototype.hasOwnProperty.call(T,t)}B.assign=function(T){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var a=t.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var r in a)G(a,r)&&(T[r]=a[r])}}return T},B.shrinkBuf=function(T,t){return T.length===t?T:T.subarray?T.subarray(0,t):(T.length=t,T)};var z={arraySet:function(T,t,a,r,g){if(t.subarray&&T.subarray){T.set(t.subarray(a,a+r),g);return}for(var h=0;h<r;h++)T[g+h]=t[a+h]},flattenChunks:function(T){var t,a,r,g,h,v;for(r=0,t=0,a=T.length;t<a;t++)r+=T[t].length;for(v=new Uint8Array(r),g=0,t=0,a=T.length;t<a;t++)h=T[t],v.set(h,g),g+=h.length;return v}},k={arraySet:function(T,t,a,r,g){for(var h=0;h<r;h++)T[g+h]=t[a+h]},flattenChunks:function(T){return[].concat.apply([],T)}};B.setTyped=function(T){T?(B.Buf8=Uint8Array,B.Buf16=Uint16Array,B.Buf32=Int32Array,B.assign(B,z)):(B.Buf8=Array,B.Buf16=Array,B.Buf32=Array,B.assign(B,k))},B.setTyped(K)}(ja)),ja}var Va={},ra={},ga={},bt;function ai(){if(bt)return ga;bt=1;var B=pa(),K=4,G=0,z=1,k=2;function T(p){for(var ee=p.length;--ee>=0;)p[ee]=0}var t=0,a=1,r=2,g=3,h=258,v=29,u=256,c=u+1+v,b=30,s=19,_=2*c+1,f=15,n=16,i=7,l=256,m=16,A=17,w=18,y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=512,N=new Array((c+2)*2);T(N);var O=new Array(b*2);T(O);var $=new Array(P);T($);var U=new Array(h-g+1);T(U);var J=new Array(v);T(J);var M=new Array(b);T(M);function L(p,ee,re,le,I){this.static_tree=p,this.extra_bits=ee,this.extra_base=re,this.elems=le,this.max_length=I,this.has_stree=p&&p.length}var Z,W,X;function E(p,ee){this.dyn_tree=p,this.max_code=0,this.stat_desc=ee}function ce(p){return p<256?$[p]:$[256+(p>>>7)]}function Q(p,ee){p.pending_buf[p.pending++]=ee&255,p.pending_buf[p.pending++]=ee>>>8&255}function te(p,ee,re){p.bi_valid>n-re?(p.bi_buf|=ee<<p.bi_valid&65535,Q(p,p.bi_buf),p.bi_buf=ee>>n-p.bi_valid,p.bi_valid+=re-n):(p.bi_buf|=ee<<p.bi_valid&65535,p.bi_valid+=re)}function se(p,ee,re){te(p,re[ee*2],re[ee*2+1])}function Ae(p,ee){var re=0;do re|=p&1,p>>>=1,re<<=1;while(--ee>0);return re>>>1}function Be(p){p.bi_valid===16?(Q(p,p.bi_buf),p.bi_buf=0,p.bi_valid=0):p.bi_valid>=8&&(p.pending_buf[p.pending++]=p.bi_buf&255,p.bi_buf>>=8,p.bi_valid-=8)}function Ke(p,ee){var re=ee.dyn_tree,le=ee.max_code,I=ee.stat_desc.static_tree,Y=ee.stat_desc.has_stree,o=ee.stat_desc.extra_bits,ae=ee.stat_desc.extra_base,he=ee.stat_desc.max_length,e,F,q,d,C,H,fe=0;for(d=0;d<=f;d++)p.bl_count[d]=0;for(re[p.heap[p.heap_max]*2+1]=0,e=p.heap_max+1;e<_;e++)F=p.heap[e],d=re[re[F*2+1]*2+1]+1,d>he&&(d=he,fe++),re[F*2+1]=d,!(F>le)&&(p.bl_count[d]++,C=0,F>=ae&&(C=o[F-ae]),H=re[F*2],p.opt_len+=H*(d+C),Y&&(p.static_len+=H*(I[F*2+1]+C)));if(fe!==0){do{for(d=he-1;p.bl_count[d]===0;)d--;p.bl_count[d]--,p.bl_count[d+1]+=2,p.bl_count[he]--,fe-=2}while(fe>0);for(d=he;d!==0;d--)for(F=p.bl_count[d];F!==0;)q=p.heap[--e],!(q>le)&&(re[q*2+1]!==d&&(p.opt_len+=(d-re[q*2+1])*re[q*2],re[q*2+1]=d),F--)}}function Re(p,ee,re){var le=new Array(f+1),I=0,Y,o;for(Y=1;Y<=f;Y++)le[Y]=I=I+re[Y-1]<<1;for(o=0;o<=ee;o++){var ae=p[o*2+1];ae!==0&&(p[o*2]=Ae(le[ae]++,ae))}}function we(){var p,ee,re,le,I,Y=new Array(f+1);for(re=0,le=0;le<v-1;le++)for(J[le]=re,p=0;p<1<<y[le];p++)U[re++]=le;for(U[re-1]=le,I=0,le=0;le<16;le++)for(M[le]=I,p=0;p<1<<R[le];p++)$[I++]=le;for(I>>=7;le<b;le++)for(M[le]=I<<7,p=0;p<1<<R[le]-7;p++)$[256+I++]=le;for(ee=0;ee<=f;ee++)Y[ee]=0;for(p=0;p<=143;)N[p*2+1]=8,p++,Y[8]++;for(;p<=255;)N[p*2+1]=9,p++,Y[9]++;for(;p<=279;)N[p*2+1]=7,p++,Y[7]++;for(;p<=287;)N[p*2+1]=8,p++,Y[8]++;for(Re(N,c+1,Y),p=0;p<b;p++)O[p*2+1]=5,O[p*2]=Ae(p,5);Z=new L(N,y,u+1,c,f),W=new L(O,R,0,b,f),X=new L(new Array(0),V,0,s,i)}function $e(p){var ee;for(ee=0;ee<c;ee++)p.dyn_ltree[ee*2]=0;for(ee=0;ee<b;ee++)p.dyn_dtree[ee*2]=0;for(ee=0;ee<s;ee++)p.bl_tree[ee*2]=0;p.dyn_ltree[l*2]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function qe(p){p.bi_valid>8?Q(p,p.bi_buf):p.bi_valid>0&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function Le(p,ee,re,le){qe(p),Q(p,re),Q(p,~re),B.arraySet(p.pending_buf,p.window,ee,re,p.pending),p.pending+=re}function me(p,ee,re,le){var I=ee*2,Y=re*2;return p[I]<p[Y]||p[I]===p[Y]&&le[ee]<=le[re]}function ne(p,ee,re){for(var le=p.heap[re],I=re<<1;I<=p.heap_len&&(I<p.heap_len&&me(ee,p.heap[I+1],p.heap[I],p.depth)&&I++,!me(ee,le,p.heap[I],p.depth));)p.heap[re]=p.heap[I],re=I,I<<=1;p.heap[re]=le}function ue(p,ee,re){var le,I,Y=0,o,ae;if(p.last_lit!==0)do le=p.pending_buf[p.d_buf+Y*2]<<8|p.pending_buf[p.d_buf+Y*2+1],I=p.pending_buf[p.l_buf+Y],Y++,le===0?se(p,I,ee):(o=U[I],se(p,o+u+1,ee),ae=y[o],ae!==0&&(I-=J[o],te(p,I,ae)),le--,o=ce(le),se(p,o,re),ae=R[o],ae!==0&&(le-=M[o],te(p,le,ae)));while(Y<p.last_lit);se(p,l,ee)}function ge(p,ee){var re=ee.dyn_tree,le=ee.stat_desc.static_tree,I=ee.stat_desc.has_stree,Y=ee.stat_desc.elems,o,ae,he=-1,e;for(p.heap_len=0,p.heap_max=_,o=0;o<Y;o++)re[o*2]!==0?(p.heap[++p.heap_len]=he=o,p.depth[o]=0):re[o*2+1]=0;for(;p.heap_len<2;)e=p.heap[++p.heap_len]=he<2?++he:0,re[e*2]=1,p.depth[e]=0,p.opt_len--,I&&(p.static_len-=le[e*2+1]);for(ee.max_code=he,o=p.heap_len>>1;o>=1;o--)ne(p,re,o);e=Y;do o=p.heap[1],p.heap[1]=p.heap[p.heap_len--],ne(p,re,1),ae=p.heap[1],p.heap[--p.heap_max]=o,p.heap[--p.heap_max]=ae,re[e*2]=re[o*2]+re[ae*2],p.depth[e]=(p.depth[o]>=p.depth[ae]?p.depth[o]:p.depth[ae])+1,re[o*2+1]=re[ae*2+1]=e,p.heap[1]=e++,ne(p,re,1);while(p.heap_len>=2);p.heap[--p.heap_max]=p.heap[1],Ke(p,ee),Re(re,he,p.bl_count)}function xe(p,ee,re){var le,I=-1,Y,o=ee[0*2+1],ae=0,he=7,e=4;for(o===0&&(he=138,e=3),ee[(re+1)*2+1]=65535,le=0;le<=re;le++)Y=o,o=ee[(le+1)*2+1],!(++ae<he&&Y===o)&&(ae<e?p.bl_tree[Y*2]+=ae:Y!==0?(Y!==I&&p.bl_tree[Y*2]++,p.bl_tree[m*2]++):ae<=10?p.bl_tree[A*2]++:p.bl_tree[w*2]++,ae=0,I=Y,o===0?(he=138,e=3):Y===o?(he=6,e=3):(he=7,e=4))}function Ce(p,ee,re){var le,I=-1,Y,o=ee[0*2+1],ae=0,he=7,e=4;for(o===0&&(he=138,e=3),le=0;le<=re;le++)if(Y=o,o=ee[(le+1)*2+1],!(++ae<he&&Y===o)){if(ae<e)do se(p,Y,p.bl_tree);while(--ae!==0);else Y!==0?(Y!==I&&(se(p,Y,p.bl_tree),ae--),se(p,m,p.bl_tree),te(p,ae-3,2)):ae<=10?(se(p,A,p.bl_tree),te(p,ae-3,3)):(se(p,w,p.bl_tree),te(p,ae-11,7));ae=0,I=Y,o===0?(he=138,e=3):Y===o?(he=6,e=3):(he=7,e=4)}}function He(p){var ee;for(xe(p,p.dyn_ltree,p.l_desc.max_code),xe(p,p.dyn_dtree,p.d_desc.max_code),ge(p,p.bl_desc),ee=s-1;ee>=3&&p.bl_tree[D[ee]*2+1]===0;ee--);return p.opt_len+=3*(ee+1)+5+5+4,ee}function ka(p,ee,re,le){var I;for(te(p,ee-257,5),te(p,re-1,5),te(p,le-4,4),I=0;I<le;I++)te(p,p.bl_tree[D[I]*2+1],3);Ce(p,p.dyn_ltree,ee-1),Ce(p,p.dyn_dtree,re-1)}function va(p){var ee=4093624447,re;for(re=0;re<=31;re++,ee>>>=1)if(ee&1&&p.dyn_ltree[re*2]!==0)return G;if(p.dyn_ltree[9*2]!==0||p.dyn_ltree[10*2]!==0||p.dyn_ltree[13*2]!==0)return z;for(re=32;re<u;re++)if(p.dyn_ltree[re*2]!==0)return z;return G}var ta=!1;function ya(p){ta||(we(),ta=!0),p.l_desc=new E(p.dyn_ltree,Z),p.d_desc=new E(p.dyn_dtree,W),p.bl_desc=new E(p.bl_tree,X),p.bi_buf=0,p.bi_valid=0,$e(p)}function ha(p,ee,re,le){te(p,(t<<1)+(le?1:0),3),Le(p,ee,re)}function je(p){te(p,a<<1,3),se(p,l,N),Be(p)}function na(p,ee,re,le){var I,Y,o=0;p.level>0?(p.strm.data_type===k&&(p.strm.data_type=va(p)),ge(p,p.l_desc),ge(p,p.d_desc),o=He(p),I=p.opt_len+3+7>>>3,Y=p.static_len+3+7>>>3,Y<=I&&(I=Y)):I=Y=re+5,re+4<=I&&ee!==-1?ha(p,ee,re,le):p.strategy===K||Y===I?(te(p,(a<<1)+(le?1:0),3),ue(p,N,O)):(te(p,(r<<1)+(le?1:0),3),ka(p,p.l_desc.max_code+1,p.d_desc.max_code+1,o+1),ue(p,p.dyn_ltree,p.dyn_dtree)),$e(p),le&&qe(p)}function xa(p,ee,re){return p.pending_buf[p.d_buf+p.last_lit*2]=ee>>>8&255,p.pending_buf[p.d_buf+p.last_lit*2+1]=ee&255,p.pending_buf[p.l_buf+p.last_lit]=re&255,p.last_lit++,ee===0?p.dyn_ltree[re*2]++:(p.matches++,ee--,p.dyn_ltree[(U[re]+u+1)*2]++,p.dyn_dtree[ce(ee)*2]++),p.last_lit===p.lit_bufsize-1}return ga._tr_init=ya,ga._tr_stored_block=ha,ga._tr_flush_block=na,ga._tr_tally=xa,ga._tr_align=je,ga}var Fa,wt;function Yt(){if(wt)return Fa;wt=1;function B(K,G,z,k){for(var T=K&65535|0,t=K>>>16&65535|0,a=0;z!==0;){a=z>2e3?2e3:z,z-=a;do T=T+G[k++]|0,t=t+T|0;while(--a);T%=65521,t%=65521}return T|t<<16|0}return Fa=B,Fa}var Ga,kt;function Wt(){if(kt)return Ga;kt=1;function B(){for(var z,k=[],T=0;T<256;T++){z=T;for(var t=0;t<8;t++)z=z&1?3988292384^z>>>1:z>>>1;k[T]=z}return k}var K=B();function G(z,k,T,t){var a=K,r=t+T;z^=-1;for(var g=t;g<r;g++)z=z>>>8^a[(z^k[g])&255];return z^-1}return Ga=G,Ga}var qa,yt;function ct(){return yt||(yt=1,qa={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),qa}var xt;function ti(){if(xt)return ra;xt=1;var B=pa(),K=ai(),G=Yt(),z=Wt(),k=ct(),T=0,t=1,a=3,r=4,g=5,h=0,v=1,u=-2,c=-3,b=-5,s=-1,_=1,f=2,n=3,i=4,l=0,m=2,A=8,w=9,y=15,R=8,V=29,D=256,P=D+1+V,N=30,O=19,$=2*P+1,U=15,J=3,M=258,L=M+J+1,Z=32,W=42,X=69,E=73,ce=91,Q=103,te=113,se=666,Ae=1,Be=2,Ke=3,Re=4,we=3;function $e(e,F){return e.msg=k[F],F}function qe(e){return(e<<1)-(e>4?9:0)}function Le(e){for(var F=e.length;--F>=0;)e[F]=0}function me(e){var F=e.state,q=F.pending;q>e.avail_out&&(q=e.avail_out),q!==0&&(B.arraySet(e.output,F.pending_buf,F.pending_out,q,e.next_out),e.next_out+=q,F.pending_out+=q,e.total_out+=q,e.avail_out-=q,F.pending-=q,F.pending===0&&(F.pending_out=0))}function ne(e,F){K._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,F),e.block_start=e.strstart,me(e.strm)}function ue(e,F){e.pending_buf[e.pending++]=F}function ge(e,F){e.pending_buf[e.pending++]=F>>>8&255,e.pending_buf[e.pending++]=F&255}function xe(e,F,q,d){var C=e.avail_in;return C>d&&(C=d),C===0?0:(e.avail_in-=C,B.arraySet(F,e.input,e.next_in,C,q),e.state.wrap===1?e.adler=G(e.adler,F,C,q):e.state.wrap===2&&(e.adler=z(e.adler,F,C,q)),e.next_in+=C,e.total_in+=C,C)}function Ce(e,F){var q=e.max_chain_length,d=e.strstart,C,H,fe=e.prev_length,ie=e.nice_match,oe=e.strstart>e.w_size-L?e.strstart-(e.w_size-L):0,ke=e.window,ua=e.w_mask,Pe=e.prev,ye=e.strstart+M,Oe=ke[d+fe-1],Fe=ke[d+fe];e.prev_length>=e.good_match&&(q>>=2),ie>e.lookahead&&(ie=e.lookahead);do if(C=F,!(ke[C+fe]!==Fe||ke[C+fe-1]!==Oe||ke[C]!==ke[d]||ke[++C]!==ke[d+1])){d+=2,C++;do;while(ke[++d]===ke[++C]&&ke[++d]===ke[++C]&&ke[++d]===ke[++C]&&ke[++d]===ke[++C]&&ke[++d]===ke[++C]&&ke[++d]===ke[++C]&&ke[++d]===ke[++C]&&ke[++d]===ke[++C]&&d<ye);if(H=M-(ye-d),d=ye-M,H>fe){if(e.match_start=F,fe=H,H>=ie)break;Oe=ke[d+fe-1],Fe=ke[d+fe]}}while((F=Pe[F&ua])>oe&&--q!==0);return fe<=e.lookahead?fe:e.lookahead}function He(e){var F=e.w_size,q,d,C,H,fe;do{if(H=e.window_size-e.lookahead-e.strstart,e.strstart>=F+(F-L)){B.arraySet(e.window,e.window,F,F,0),e.match_start-=F,e.strstart-=F,e.block_start-=F,d=e.hash_size,q=d;do C=e.head[--q],e.head[q]=C>=F?C-F:0;while(--d);d=F,q=d;do C=e.prev[--q],e.prev[q]=C>=F?C-F:0;while(--d);H+=F}if(e.strm.avail_in===0)break;if(d=xe(e.strm,e.window,e.strstart+e.lookahead,H),e.lookahead+=d,e.lookahead+e.insert>=J)for(fe=e.strstart-e.insert,e.ins_h=e.window[fe],e.ins_h=(e.ins_h<<e.hash_shift^e.window[fe+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[fe+J-1])&e.hash_mask,e.prev[fe&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=fe,fe++,e.insert--,!(e.lookahead+e.insert<J)););}while(e.lookahead<L&&e.strm.avail_in!==0)}function ka(e,F){var q=65535;for(q>e.pending_buf_size-5&&(q=e.pending_buf_size-5);;){if(e.lookahead<=1){if(He(e),e.lookahead===0&&F===T)return Ae;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var d=e.block_start+q;if((e.strstart===0||e.strstart>=d)&&(e.lookahead=e.strstart-d,e.strstart=d,ne(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-L&&(ne(e,!1),e.strm.avail_out===0))return Ae}return e.insert=0,F===r?(ne(e,!0),e.strm.avail_out===0?Ke:Re):(e.strstart>e.block_start&&(ne(e,!1),e.strm.avail_out===0),Ae)}function va(e,F){for(var q,d;;){if(e.lookahead<L){if(He(e),e.lookahead<L&&F===T)return Ae;if(e.lookahead===0)break}if(q=0,e.lookahead>=J&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+J-1])&e.hash_mask,q=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),q!==0&&e.strstart-q<=e.w_size-L&&(e.match_length=Ce(e,q)),e.match_length>=J)if(d=K._tr_tally(e,e.strstart-e.match_start,e.match_length-J),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=J){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+J-1])&e.hash_mask,q=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else d=K._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(d&&(ne(e,!1),e.strm.avail_out===0))return Ae}return e.insert=e.strstart<J-1?e.strstart:J-1,F===r?(ne(e,!0),e.strm.avail_out===0?Ke:Re):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?Ae:Be}function ta(e,F){for(var q,d,C;;){if(e.lookahead<L){if(He(e),e.lookahead<L&&F===T)return Ae;if(e.lookahead===0)break}if(q=0,e.lookahead>=J&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+J-1])&e.hash_mask,q=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=J-1,q!==0&&e.prev_length<e.max_lazy_match&&e.strstart-q<=e.w_size-L&&(e.match_length=Ce(e,q),e.match_length<=5&&(e.strategy===_||e.match_length===J&&e.strstart-e.match_start>4096)&&(e.match_length=J-1)),e.prev_length>=J&&e.match_length<=e.prev_length){C=e.strstart+e.lookahead-J,d=K._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-J),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+J-1])&e.hash_mask,q=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=J-1,e.strstart++,d&&(ne(e,!1),e.strm.avail_out===0))return Ae}else if(e.match_available){if(d=K._tr_tally(e,0,e.window[e.strstart-1]),d&&ne(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Ae}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(d=K._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<J-1?e.strstart:J-1,F===r?(ne(e,!0),e.strm.avail_out===0?Ke:Re):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?Ae:Be}function ya(e,F){for(var q,d,C,H,fe=e.window;;){if(e.lookahead<=M){if(He(e),e.lookahead<=M&&F===T)return Ae;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=J&&e.strstart>0&&(C=e.strstart-1,d=fe[C],d===fe[++C]&&d===fe[++C]&&d===fe[++C])){H=e.strstart+M;do;while(d===fe[++C]&&d===fe[++C]&&d===fe[++C]&&d===fe[++C]&&d===fe[++C]&&d===fe[++C]&&d===fe[++C]&&d===fe[++C]&&C<H);e.match_length=M-(H-C),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=J?(q=K._tr_tally(e,1,e.match_length-J),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(q=K._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),q&&(ne(e,!1),e.strm.avail_out===0))return Ae}return e.insert=0,F===r?(ne(e,!0),e.strm.avail_out===0?Ke:Re):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?Ae:Be}function ha(e,F){for(var q;;){if(e.lookahead===0&&(He(e),e.lookahead===0)){if(F===T)return Ae;break}if(e.match_length=0,q=K._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,q&&(ne(e,!1),e.strm.avail_out===0))return Ae}return e.insert=0,F===r?(ne(e,!0),e.strm.avail_out===0?Ke:Re):e.last_lit&&(ne(e,!1),e.strm.avail_out===0)?Ae:Be}function je(e,F,q,d,C){this.good_length=e,this.max_lazy=F,this.nice_length=q,this.max_chain=d,this.func=C}var na;na=[new je(0,0,0,0,ka),new je(4,4,8,4,va),new je(4,5,16,8,va),new je(4,6,32,32,va),new je(4,4,16,16,ta),new je(8,16,32,32,ta),new je(8,16,128,128,ta),new je(8,32,128,256,ta),new je(32,128,258,1024,ta),new je(32,258,258,4096,ta)];function xa(e){e.window_size=2*e.w_size,Le(e.head),e.max_lazy_match=na[e.level].max_lazy,e.good_match=na[e.level].good_length,e.nice_match=na[e.level].nice_length,e.max_chain_length=na[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=J-1,e.match_available=0,e.ins_h=0}function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new B.Buf16($*2),this.dyn_dtree=new B.Buf16((2*N+1)*2),this.bl_tree=new B.Buf16((2*O+1)*2),Le(this.dyn_ltree),Le(this.dyn_dtree),Le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new B.Buf16(U+1),this.heap=new B.Buf16(2*P+1),Le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new B.Buf16(2*P+1),Le(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ee(e){var F;return!e||!e.state?$e(e,u):(e.total_in=e.total_out=0,e.data_type=m,F=e.state,F.pending=0,F.pending_out=0,F.wrap<0&&(F.wrap=-F.wrap),F.status=F.wrap?W:te,e.adler=F.wrap===2?0:1,F.last_flush=T,K._tr_init(F),h)}function re(e){var F=ee(e);return F===h&&xa(e.state),F}function le(e,F){return!e||!e.state||e.state.wrap!==2?u:(e.state.gzhead=F,h)}function I(e,F,q,d,C,H){if(!e)return u;var fe=1;if(F===s&&(F=6),d<0?(fe=0,d=-d):d>15&&(fe=2,d-=16),C<1||C>w||q!==A||d<8||d>15||F<0||F>9||H<0||H>i)return $e(e,u);d===8&&(d=9);var ie=new p;return e.state=ie,ie.strm=e,ie.wrap=fe,ie.gzhead=null,ie.w_bits=d,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=C+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+J-1)/J),ie.window=new B.Buf8(ie.w_size*2),ie.head=new B.Buf16(ie.hash_size),ie.prev=new B.Buf16(ie.w_size),ie.lit_bufsize=1<<C+6,ie.pending_buf_size=ie.lit_bufsize*4,ie.pending_buf=new B.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=F,ie.strategy=H,ie.method=q,re(e)}function Y(e,F){return I(e,F,A,y,R,l)}function o(e,F){var q,d,C,H;if(!e||!e.state||F>g||F<0)return e?$e(e,u):u;if(d=e.state,!e.output||!e.input&&e.avail_in!==0||d.status===se&&F!==r)return $e(e,e.avail_out===0?b:u);if(d.strm=e,q=d.last_flush,d.last_flush=F,d.status===W)if(d.wrap===2)e.adler=0,ue(d,31),ue(d,139),ue(d,8),d.gzhead?(ue(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),ue(d,d.gzhead.time&255),ue(d,d.gzhead.time>>8&255),ue(d,d.gzhead.time>>16&255),ue(d,d.gzhead.time>>24&255),ue(d,d.level===9?2:d.strategy>=f||d.level<2?4:0),ue(d,d.gzhead.os&255),d.gzhead.extra&&d.gzhead.extra.length&&(ue(d,d.gzhead.extra.length&255),ue(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(e.adler=z(e.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=X):(ue(d,0),ue(d,0),ue(d,0),ue(d,0),ue(d,0),ue(d,d.level===9?2:d.strategy>=f||d.level<2?4:0),ue(d,we),d.status=te);else{var fe=A+(d.w_bits-8<<4)<<8,ie=-1;d.strategy>=f||d.level<2?ie=0:d.level<6?ie=1:d.level===6?ie=2:ie=3,fe|=ie<<6,d.strstart!==0&&(fe|=Z),fe+=31-fe%31,d.status=te,ge(d,fe),d.strstart!==0&&(ge(d,e.adler>>>16),ge(d,e.adler&65535)),e.adler=1}if(d.status===X)if(d.gzhead.extra){for(C=d.pending;d.gzindex<(d.gzhead.extra.length&65535)&&!(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>C&&(e.adler=z(e.adler,d.pending_buf,d.pending-C,C)),me(e),C=d.pending,d.pending===d.pending_buf_size));)ue(d,d.gzhead.extra[d.gzindex]&255),d.gzindex++;d.gzhead.hcrc&&d.pending>C&&(e.adler=z(e.adler,d.pending_buf,d.pending-C,C)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=E)}else d.status=E;if(d.status===E)if(d.gzhead.name){C=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>C&&(e.adler=z(e.adler,d.pending_buf,d.pending-C,C)),me(e),C=d.pending,d.pending===d.pending_buf_size)){H=1;break}d.gzindex<d.gzhead.name.length?H=d.gzhead.name.charCodeAt(d.gzindex++)&255:H=0,ue(d,H)}while(H!==0);d.gzhead.hcrc&&d.pending>C&&(e.adler=z(e.adler,d.pending_buf,d.pending-C,C)),H===0&&(d.gzindex=0,d.status=ce)}else d.status=ce;if(d.status===ce)if(d.gzhead.comment){C=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>C&&(e.adler=z(e.adler,d.pending_buf,d.pending-C,C)),me(e),C=d.pending,d.pending===d.pending_buf_size)){H=1;break}d.gzindex<d.gzhead.comment.length?H=d.gzhead.comment.charCodeAt(d.gzindex++)&255:H=0,ue(d,H)}while(H!==0);d.gzhead.hcrc&&d.pending>C&&(e.adler=z(e.adler,d.pending_buf,d.pending-C,C)),H===0&&(d.status=Q)}else d.status=Q;if(d.status===Q&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&me(e),d.pending+2<=d.pending_buf_size&&(ue(d,e.adler&255),ue(d,e.adler>>8&255),e.adler=0,d.status=te)):d.status=te),d.pending!==0){if(me(e),e.avail_out===0)return d.last_flush=-1,h}else if(e.avail_in===0&&qe(F)<=qe(q)&&F!==r)return $e(e,b);if(d.status===se&&e.avail_in!==0)return $e(e,b);if(e.avail_in!==0||d.lookahead!==0||F!==T&&d.status!==se){var oe=d.strategy===f?ha(d,F):d.strategy===n?ya(d,F):na[d.level].func(d,F);if((oe===Ke||oe===Re)&&(d.status=se),oe===Ae||oe===Ke)return e.avail_out===0&&(d.last_flush=-1),h;if(oe===Be&&(F===t?K._tr_align(d):F!==g&&(K._tr_stored_block(d,0,0,!1),F===a&&(Le(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),me(e),e.avail_out===0))return d.last_flush=-1,h}return F!==r?h:d.wrap<=0?v:(d.wrap===2?(ue(d,e.adler&255),ue(d,e.adler>>8&255),ue(d,e.adler>>16&255),ue(d,e.adler>>24&255),ue(d,e.total_in&255),ue(d,e.total_in>>8&255),ue(d,e.total_in>>16&255),ue(d,e.total_in>>24&255)):(ge(d,e.adler>>>16),ge(d,e.adler&65535)),me(e),d.wrap>0&&(d.wrap=-d.wrap),d.pending!==0?h:v)}function ae(e){var F;return!e||!e.state?u:(F=e.state.status,F!==W&&F!==X&&F!==E&&F!==ce&&F!==Q&&F!==te&&F!==se?$e(e,u):(e.state=null,F===te?$e(e,c):h))}function he(e,F){var q=F.length,d,C,H,fe,ie,oe,ke,ua;if(!e||!e.state||(d=e.state,fe=d.wrap,fe===2||fe===1&&d.status!==W||d.lookahead))return u;for(fe===1&&(e.adler=G(e.adler,F,q,0)),d.wrap=0,q>=d.w_size&&(fe===0&&(Le(d.head),d.strstart=0,d.block_start=0,d.insert=0),ua=new B.Buf8(d.w_size),B.arraySet(ua,F,q-d.w_size,d.w_size,0),F=ua,q=d.w_size),ie=e.avail_in,oe=e.next_in,ke=e.input,e.avail_in=q,e.next_in=0,e.input=F,He(d);d.lookahead>=J;){C=d.strstart,H=d.lookahead-(J-1);do d.ins_h=(d.ins_h<<d.hash_shift^d.window[C+J-1])&d.hash_mask,d.prev[C&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=C,C++;while(--H);d.strstart=C,d.lookahead=J-1,He(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=J-1,d.match_available=0,e.next_in=oe,e.input=ke,e.avail_in=ie,d.wrap=fe,h}return ra.deflateInit=Y,ra.deflateInit2=I,ra.deflateReset=re,ra.deflateResetKeep=ee,ra.deflateSetHeader=le,ra.deflate=o,ra.deflateEnd=ae,ra.deflateSetDictionary=he,ra.deflateInfo="pako deflate (from Nodeca project)",ra}var Aa={},Et;function Qt(){if(Et)return Aa;Et=1;var B=pa(),K=!0,G=!0;try{String.fromCharCode.apply(null,[0])}catch{K=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{G=!1}for(var z=new B.Buf8(256),k=0;k<256;k++)z[k]=k>=252?6:k>=248?5:k>=240?4:k>=224?3:k>=192?2:1;z[254]=z[254]=1,Aa.string2buf=function(t){var a,r,g,h,v,u=t.length,c=0;for(h=0;h<u;h++)r=t.charCodeAt(h),(r&64512)===55296&&h+1<u&&(g=t.charCodeAt(h+1),(g&64512)===56320&&(r=65536+(r-55296<<10)+(g-56320),h++)),c+=r<128?1:r<2048?2:r<65536?3:4;for(a=new B.Buf8(c),v=0,h=0;v<c;h++)r=t.charCodeAt(h),(r&64512)===55296&&h+1<u&&(g=t.charCodeAt(h+1),(g&64512)===56320&&(r=65536+(r-55296<<10)+(g-56320),h++)),r<128?a[v++]=r:r<2048?(a[v++]=192|r>>>6,a[v++]=128|r&63):r<65536?(a[v++]=224|r>>>12,a[v++]=128|r>>>6&63,a[v++]=128|r&63):(a[v++]=240|r>>>18,a[v++]=128|r>>>12&63,a[v++]=128|r>>>6&63,a[v++]=128|r&63);return a};function T(t,a){if(a<65534&&(t.subarray&&G||!t.subarray&&K))return String.fromCharCode.apply(null,B.shrinkBuf(t,a));for(var r="",g=0;g<a;g++)r+=String.fromCharCode(t[g]);return r}return Aa.buf2binstring=function(t){return T(t,t.length)},Aa.binstring2buf=function(t){for(var a=new B.Buf8(t.length),r=0,g=a.length;r<g;r++)a[r]=t.charCodeAt(r);return a},Aa.buf2string=function(t,a){var r,g,h,v,u=a||t.length,c=new Array(u*2);for(g=0,r=0;r<u;){if(h=t[r++],h<128){c[g++]=h;continue}if(v=z[h],v>4){c[g++]=65533,r+=v-1;continue}for(h&=v===2?31:v===3?15:7;v>1&&r<u;)h=h<<6|t[r++]&63,v--;if(v>1){c[g++]=65533;continue}h<65536?c[g++]=h:(h-=65536,c[g++]=55296|h>>10&1023,c[g++]=56320|h&1023)}return T(c,g)},Aa.utf8border=function(t,a){var r;for(a=a||t.length,a>t.length&&(a=t.length),r=a-1;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?a:r+z[t[r]]>a?r:a},Aa}var Za,Ct;function Xt(){if(Ct)return Za;Ct=1;function B(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return Za=B,Za}var Vt;function ri(){if(Vt)return Va;Vt=1;var B=ti(),K=pa(),G=Qt(),z=ct(),k=Xt(),T=Object.prototype.toString,t=0,a=4,r=0,g=1,h=2,v=-1,u=0,c=8;function b(n){if(!(this instanceof b))return new b(n);this.options=K.assign({level:v,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},n||{});var i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var l=B.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(l!==r)throw new Error(z[l]);if(i.header&&B.deflateSetHeader(this.strm,i.header),i.dictionary){var m;if(typeof i.dictionary=="string"?m=G.string2buf(i.dictionary):T.call(i.dictionary)==="[object ArrayBuffer]"?m=new Uint8Array(i.dictionary):m=i.dictionary,l=B.deflateSetDictionary(this.strm,m),l!==r)throw new Error(z[l]);this._dict_set=!0}}b.prototype.push=function(n,i){var l=this.strm,m=this.options.chunkSize,A,w;if(this.ended)return!1;w=i===~~i?i:i===!0?a:t,typeof n=="string"?l.input=G.string2buf(n):T.call(n)==="[object ArrayBuffer]"?l.input=new Uint8Array(n):l.input=n,l.next_in=0,l.avail_in=l.input.length;do{if(l.avail_out===0&&(l.output=new K.Buf8(m),l.next_out=0,l.avail_out=m),A=B.deflate(l,w),A!==g&&A!==r)return this.onEnd(A),this.ended=!0,!1;(l.avail_out===0||l.avail_in===0&&(w===a||w===h))&&(this.options.to==="string"?this.onData(G.buf2binstring(K.shrinkBuf(l.output,l.next_out))):this.onData(K.shrinkBuf(l.output,l.next_out)))}while((l.avail_in>0||l.avail_out===0)&&A!==g);return w===a?(A=B.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===r):(w===h&&(this.onEnd(r),l.avail_out=0),!0)},b.prototype.onData=function(n){this.chunks.push(n)},b.prototype.onEnd=function(n){n===r&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=K.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function s(n,i){var l=new b(i);if(l.push(n,!0),l.err)throw l.msg||z[l.err];return l.result}function _(n,i){return i=i||{},i.raw=!0,s(n,i)}function f(n,i){return i=i||{},i.gzip=!0,s(n,i)}return Va.Deflate=b,Va.deflate=s,Va.deflateRaw=_,Va.gzip=f,Va}var Sa={},ea={},Ja,St;function ii(){if(St)return Ja;St=1;var B=30,K=12;return Ja=function(z,k){var T,t,a,r,g,h,v,u,c,b,s,_,f,n,i,l,m,A,w,y,R,V,D,P,N;T=z.state,t=z.next_in,P=z.input,a=t+(z.avail_in-5),r=z.next_out,N=z.output,g=r-(k-z.avail_out),h=r+(z.avail_out-257),v=T.dmax,u=T.wsize,c=T.whave,b=T.wnext,s=T.window,_=T.hold,f=T.bits,n=T.lencode,i=T.distcode,l=(1<<T.lenbits)-1,m=(1<<T.distbits)-1;e:do{f<15&&(_+=P[t++]<<f,f+=8,_+=P[t++]<<f,f+=8),A=n[_&l];a:for(;;){if(w=A>>>24,_>>>=w,f-=w,w=A>>>16&255,w===0)N[r++]=A&65535;else if(w&16){y=A&65535,w&=15,w&&(f<w&&(_+=P[t++]<<f,f+=8),y+=_&(1<<w)-1,_>>>=w,f-=w),f<15&&(_+=P[t++]<<f,f+=8,_+=P[t++]<<f,f+=8),A=i[_&m];t:for(;;){if(w=A>>>24,_>>>=w,f-=w,w=A>>>16&255,w&16){if(R=A&65535,w&=15,f<w&&(_+=P[t++]<<f,f+=8,f<w&&(_+=P[t++]<<f,f+=8)),R+=_&(1<<w)-1,R>v){z.msg="invalid distance too far back",T.mode=B;break e}if(_>>>=w,f-=w,w=r-g,R>w){if(w=R-w,w>c&&T.sane){z.msg="invalid distance too far back",T.mode=B;break e}if(V=0,D=s,b===0){if(V+=u-w,w<y){y-=w;do N[r++]=s[V++];while(--w);V=r-R,D=N}}else if(b<w){if(V+=u+b-w,w-=b,w<y){y-=w;do N[r++]=s[V++];while(--w);if(V=0,b<y){w=b,y-=w;do N[r++]=s[V++];while(--w);V=r-R,D=N}}}else if(V+=b-w,w<y){y-=w;do N[r++]=s[V++];while(--w);V=r-R,D=N}for(;y>2;)N[r++]=D[V++],N[r++]=D[V++],N[r++]=D[V++],y-=3;y&&(N[r++]=D[V++],y>1&&(N[r++]=D[V++]))}else{V=r-R;do N[r++]=N[V++],N[r++]=N[V++],N[r++]=N[V++],y-=3;while(y>2);y&&(N[r++]=N[V++],y>1&&(N[r++]=N[V++]))}}else if(w&64){z.msg="invalid distance code",T.mode=B;break e}else{A=i[(A&65535)+(_&(1<<w)-1)];continue t}break}}else if(w&64)if(w&32){T.mode=K;break e}else{z.msg="invalid literal/length code",T.mode=B;break e}else{A=n[(A&65535)+(_&(1<<w)-1)];continue a}break}}while(t<a&&r<h);y=f>>3,t-=y,f-=y<<3,_&=(1<<f)-1,z.next_in=t,z.next_out=r,z.avail_in=t<a?5+(a-t):5-(t-a),z.avail_out=r<h?257+(h-r):257-(r-h),T.hold=_,T.bits=f},Ja}var Ya,Dt;function ni(){if(Dt)return Ya;Dt=1;var B=pa(),K=15,G=852,z=592,k=0,T=1,t=2,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return Ya=function(u,c,b,s,_,f,n,i){var l=i.bits,m=0,A=0,w=0,y=0,R=0,V=0,D=0,P=0,N=0,O=0,$,U,J,M,L,Z=null,W=0,X,E=new B.Buf16(K+1),ce=new B.Buf16(K+1),Q=null,te=0,se,Ae,Be;for(m=0;m<=K;m++)E[m]=0;for(A=0;A<s;A++)E[c[b+A]]++;for(R=l,y=K;y>=1&&E[y]===0;y--);if(R>y&&(R=y),y===0)return _[f++]=1<<24|64<<16|0,_[f++]=1<<24|64<<16|0,i.bits=1,0;for(w=1;w<y&&E[w]===0;w++);for(R<w&&(R=w),P=1,m=1;m<=K;m++)if(P<<=1,P-=E[m],P<0)return-1;if(P>0&&(u===k||y!==1))return-1;for(ce[1]=0,m=1;m<K;m++)ce[m+1]=ce[m]+E[m];for(A=0;A<s;A++)c[b+A]!==0&&(n[ce[c[b+A]]++]=A);if(u===k?(Z=Q=n,X=19):u===T?(Z=a,W-=257,Q=r,te-=257,X=256):(Z=g,Q=h,X=-1),O=0,A=0,m=w,L=f,V=R,D=0,J=-1,N=1<<R,M=N-1,u===T&&N>G||u===t&&N>z)return 1;for(;;){se=m-D,n[A]<X?(Ae=0,Be=n[A]):n[A]>X?(Ae=Q[te+n[A]],Be=Z[W+n[A]]):(Ae=96,Be=0),$=1<<m-D,U=1<<V,w=U;do U-=$,_[L+(O>>D)+U]=se<<24|Ae<<16|Be|0;while(U!==0);for($=1<<m-1;O&$;)$>>=1;if($!==0?(O&=$-1,O+=$):O=0,A++,--E[m]===0){if(m===y)break;m=c[b+n[A]]}if(m>R&&(O&M)!==J){for(D===0&&(D=R),L+=w,V=m-D,P=1<<V;V+D<y&&(P-=E[V+D],!(P<=0));)V++,P<<=1;if(N+=1<<V,u===T&&N>G||u===t&&N>z)return 1;J=O&M,_[J]=R<<24|V<<16|L-f|0}}return O!==0&&(_[L+O]=m-D<<24|64<<16|0),i.bits=R,0},Ya}var Bt;function oi(){if(Bt)return ea;Bt=1;var B=pa(),K=Yt(),G=Wt(),z=ii(),k=ni(),T=0,t=1,a=2,r=4,g=5,h=6,v=0,u=1,c=2,b=-2,s=-3,_=-4,f=-5,n=8,i=1,l=2,m=3,A=4,w=5,y=6,R=7,V=8,D=9,P=10,N=11,O=12,$=13,U=14,J=15,M=16,L=17,Z=18,W=19,X=20,E=21,ce=22,Q=23,te=24,se=25,Ae=26,Be=27,Ke=28,Re=29,we=30,$e=31,qe=32,Le=852,me=592,ne=15,ue=ne;function ge(I){return(I>>>24&255)+(I>>>8&65280)+((I&65280)<<8)+((I&255)<<24)}function xe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new B.Buf16(320),this.work=new B.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ce(I){var Y;return!I||!I.state?b:(Y=I.state,I.total_in=I.total_out=Y.total=0,I.msg="",Y.wrap&&(I.adler=Y.wrap&1),Y.mode=i,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new B.Buf32(Le),Y.distcode=Y.distdyn=new B.Buf32(me),Y.sane=1,Y.back=-1,v)}function He(I){var Y;return!I||!I.state?b:(Y=I.state,Y.wsize=0,Y.whave=0,Y.wnext=0,Ce(I))}function ka(I,Y){var o,ae;return!I||!I.state||(ae=I.state,Y<0?(o=0,Y=-Y):(o=(Y>>4)+1,Y<48&&(Y&=15)),Y&&(Y<8||Y>15))?b:(ae.window!==null&&ae.wbits!==Y&&(ae.window=null),ae.wrap=o,ae.wbits=Y,He(I))}function va(I,Y){var o,ae;return I?(ae=new xe,I.state=ae,ae.window=null,o=ka(I,Y),o!==v&&(I.state=null),o):b}function ta(I){return va(I,ue)}var ya=!0,ha,je;function na(I){if(ya){var Y;for(ha=new B.Buf32(512),je=new B.Buf32(32),Y=0;Y<144;)I.lens[Y++]=8;for(;Y<256;)I.lens[Y++]=9;for(;Y<280;)I.lens[Y++]=7;for(;Y<288;)I.lens[Y++]=8;for(k(t,I.lens,0,288,ha,0,I.work,{bits:9}),Y=0;Y<32;)I.lens[Y++]=5;k(a,I.lens,0,32,je,0,I.work,{bits:5}),ya=!1}I.lencode=ha,I.lenbits=9,I.distcode=je,I.distbits=5}function xa(I,Y,o,ae){var he,e=I.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new B.Buf8(e.wsize)),ae>=e.wsize?(B.arraySet(e.window,Y,o-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(he=e.wsize-e.wnext,he>ae&&(he=ae),B.arraySet(e.window,Y,o-ae,he,e.wnext),ae-=he,ae?(B.arraySet(e.window,Y,o-ae,ae,0),e.wnext=ae,e.whave=e.wsize):(e.wnext+=he,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=he))),0}function p(I,Y){var o,ae,he,e,F,q,d,C,H,fe,ie,oe,ke,ua,Pe=0,ye,Oe,Fe,Ze,Ra,Na,Me,Xe,Te=new B.Buf8(4),ca,oa,vt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return b;o=I.state,o.mode===O&&(o.mode=$),F=I.next_out,he=I.output,d=I.avail_out,e=I.next_in,ae=I.input,q=I.avail_in,C=o.hold,H=o.bits,fe=q,ie=d,Xe=v;e:for(;;)switch(o.mode){case i:if(o.wrap===0){o.mode=$;break}for(;H<16;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}if(o.wrap&2&&C===35615){o.check=0,Te[0]=C&255,Te[1]=C>>>8&255,o.check=G(o.check,Te,2,0),C=0,H=0,o.mode=l;break}if(o.flags=0,o.head&&(o.head.done=!1),!(o.wrap&1)||(((C&255)<<8)+(C>>8))%31){I.msg="incorrect header check",o.mode=we;break}if((C&15)!==n){I.msg="unknown compression method",o.mode=we;break}if(C>>>=4,H-=4,Me=(C&15)+8,o.wbits===0)o.wbits=Me;else if(Me>o.wbits){I.msg="invalid window size",o.mode=we;break}o.dmax=1<<Me,I.adler=o.check=1,o.mode=C&512?P:O,C=0,H=0;break;case l:for(;H<16;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}if(o.flags=C,(o.flags&255)!==n){I.msg="unknown compression method",o.mode=we;break}if(o.flags&57344){I.msg="unknown header flags set",o.mode=we;break}o.head&&(o.head.text=C>>8&1),o.flags&512&&(Te[0]=C&255,Te[1]=C>>>8&255,o.check=G(o.check,Te,2,0)),C=0,H=0,o.mode=m;case m:for(;H<32;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}o.head&&(o.head.time=C),o.flags&512&&(Te[0]=C&255,Te[1]=C>>>8&255,Te[2]=C>>>16&255,Te[3]=C>>>24&255,o.check=G(o.check,Te,4,0)),C=0,H=0,o.mode=A;case A:for(;H<16;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}o.head&&(o.head.xflags=C&255,o.head.os=C>>8),o.flags&512&&(Te[0]=C&255,Te[1]=C>>>8&255,o.check=G(o.check,Te,2,0)),C=0,H=0,o.mode=w;case w:if(o.flags&1024){for(;H<16;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}o.length=C,o.head&&(o.head.extra_len=C),o.flags&512&&(Te[0]=C&255,Te[1]=C>>>8&255,o.check=G(o.check,Te,2,0)),C=0,H=0}else o.head&&(o.head.extra=null);o.mode=y;case y:if(o.flags&1024&&(oe=o.length,oe>q&&(oe=q),oe&&(o.head&&(Me=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),B.arraySet(o.head.extra,ae,e,oe,Me)),o.flags&512&&(o.check=G(o.check,ae,oe,e)),q-=oe,e+=oe,o.length-=oe),o.length))break e;o.length=0,o.mode=R;case R:if(o.flags&2048){if(q===0)break e;oe=0;do Me=ae[e+oe++],o.head&&Me&&o.length<65536&&(o.head.name+=String.fromCharCode(Me));while(Me&&oe<q);if(o.flags&512&&(o.check=G(o.check,ae,oe,e)),q-=oe,e+=oe,Me)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=V;case V:if(o.flags&4096){if(q===0)break e;oe=0;do Me=ae[e+oe++],o.head&&Me&&o.length<65536&&(o.head.comment+=String.fromCharCode(Me));while(Me&&oe<q);if(o.flags&512&&(o.check=G(o.check,ae,oe,e)),q-=oe,e+=oe,Me)break e}else o.head&&(o.head.comment=null);o.mode=D;case D:if(o.flags&512){for(;H<16;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}if(C!==(o.check&65535)){I.msg="header crc mismatch",o.mode=we;break}C=0,H=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),I.adler=o.check=0,o.mode=O;break;case P:for(;H<32;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}I.adler=o.check=ge(C),C=0,H=0,o.mode=N;case N:if(o.havedict===0)return I.next_out=F,I.avail_out=d,I.next_in=e,I.avail_in=q,o.hold=C,o.bits=H,c;I.adler=o.check=1,o.mode=O;case O:if(Y===g||Y===h)break e;case $:if(o.last){C>>>=H&7,H-=H&7,o.mode=Be;break}for(;H<3;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}switch(o.last=C&1,C>>>=1,H-=1,C&3){case 0:o.mode=U;break;case 1:if(na(o),o.mode=X,Y===h){C>>>=2,H-=2;break e}break;case 2:o.mode=L;break;case 3:I.msg="invalid block type",o.mode=we}C>>>=2,H-=2;break;case U:for(C>>>=H&7,H-=H&7;H<32;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}if((C&65535)!==(C>>>16^65535)){I.msg="invalid stored block lengths",o.mode=we;break}if(o.length=C&65535,C=0,H=0,o.mode=J,Y===h)break e;case J:o.mode=M;case M:if(oe=o.length,oe){if(oe>q&&(oe=q),oe>d&&(oe=d),oe===0)break e;B.arraySet(he,ae,e,oe,F),q-=oe,e+=oe,d-=oe,F+=oe,o.length-=oe;break}o.mode=O;break;case L:for(;H<14;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}if(o.nlen=(C&31)+257,C>>>=5,H-=5,o.ndist=(C&31)+1,C>>>=5,H-=5,o.ncode=(C&15)+4,C>>>=4,H-=4,o.nlen>286||o.ndist>30){I.msg="too many length or distance symbols",o.mode=we;break}o.have=0,o.mode=Z;case Z:for(;o.have<o.ncode;){for(;H<3;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}o.lens[vt[o.have++]]=C&7,C>>>=3,H-=3}for(;o.have<19;)o.lens[vt[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,ca={bits:o.lenbits},Xe=k(T,o.lens,0,19,o.lencode,0,o.work,ca),o.lenbits=ca.bits,Xe){I.msg="invalid code lengths set",o.mode=we;break}o.have=0,o.mode=W;case W:for(;o.have<o.nlen+o.ndist;){for(;Pe=o.lencode[C&(1<<o.lenbits)-1],ye=Pe>>>24,Oe=Pe>>>16&255,Fe=Pe&65535,!(ye<=H);){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}if(Fe<16)C>>>=ye,H-=ye,o.lens[o.have++]=Fe;else{if(Fe===16){for(oa=ye+2;H<oa;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}if(C>>>=ye,H-=ye,o.have===0){I.msg="invalid bit length repeat",o.mode=we;break}Me=o.lens[o.have-1],oe=3+(C&3),C>>>=2,H-=2}else if(Fe===17){for(oa=ye+3;H<oa;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}C>>>=ye,H-=ye,Me=0,oe=3+(C&7),C>>>=3,H-=3}else{for(oa=ye+7;H<oa;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}C>>>=ye,H-=ye,Me=0,oe=11+(C&127),C>>>=7,H-=7}if(o.have+oe>o.nlen+o.ndist){I.msg="invalid bit length repeat",o.mode=we;break}for(;oe--;)o.lens[o.have++]=Me}}if(o.mode===we)break;if(o.lens[256]===0){I.msg="invalid code -- missing end-of-block",o.mode=we;break}if(o.lenbits=9,ca={bits:o.lenbits},Xe=k(t,o.lens,0,o.nlen,o.lencode,0,o.work,ca),o.lenbits=ca.bits,Xe){I.msg="invalid literal/lengths set",o.mode=we;break}if(o.distbits=6,o.distcode=o.distdyn,ca={bits:o.distbits},Xe=k(a,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,ca),o.distbits=ca.bits,Xe){I.msg="invalid distances set",o.mode=we;break}if(o.mode=X,Y===h)break e;case X:o.mode=E;case E:if(q>=6&&d>=258){I.next_out=F,I.avail_out=d,I.next_in=e,I.avail_in=q,o.hold=C,o.bits=H,z(I,ie),F=I.next_out,he=I.output,d=I.avail_out,e=I.next_in,ae=I.input,q=I.avail_in,C=o.hold,H=o.bits,o.mode===O&&(o.back=-1);break}for(o.back=0;Pe=o.lencode[C&(1<<o.lenbits)-1],ye=Pe>>>24,Oe=Pe>>>16&255,Fe=Pe&65535,!(ye<=H);){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}if(Oe&&!(Oe&240)){for(Ze=ye,Ra=Oe,Na=Fe;Pe=o.lencode[Na+((C&(1<<Ze+Ra)-1)>>Ze)],ye=Pe>>>24,Oe=Pe>>>16&255,Fe=Pe&65535,!(Ze+ye<=H);){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}C>>>=Ze,H-=Ze,o.back+=Ze}if(C>>>=ye,H-=ye,o.back+=ye,o.length=Fe,Oe===0){o.mode=Ae;break}if(Oe&32){o.back=-1,o.mode=O;break}if(Oe&64){I.msg="invalid literal/length code",o.mode=we;break}o.extra=Oe&15,o.mode=ce;case ce:if(o.extra){for(oa=o.extra;H<oa;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}o.length+=C&(1<<o.extra)-1,C>>>=o.extra,H-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=Q;case Q:for(;Pe=o.distcode[C&(1<<o.distbits)-1],ye=Pe>>>24,Oe=Pe>>>16&255,Fe=Pe&65535,!(ye<=H);){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}if(!(Oe&240)){for(Ze=ye,Ra=Oe,Na=Fe;Pe=o.distcode[Na+((C&(1<<Ze+Ra)-1)>>Ze)],ye=Pe>>>24,Oe=Pe>>>16&255,Fe=Pe&65535,!(Ze+ye<=H);){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}C>>>=Ze,H-=Ze,o.back+=Ze}if(C>>>=ye,H-=ye,o.back+=ye,Oe&64){I.msg="invalid distance code",o.mode=we;break}o.offset=Fe,o.extra=Oe&15,o.mode=te;case te:if(o.extra){for(oa=o.extra;H<oa;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}o.offset+=C&(1<<o.extra)-1,C>>>=o.extra,H-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){I.msg="invalid distance too far back",o.mode=we;break}o.mode=se;case se:if(d===0)break e;if(oe=ie-d,o.offset>oe){if(oe=o.offset-oe,oe>o.whave&&o.sane){I.msg="invalid distance too far back",o.mode=we;break}oe>o.wnext?(oe-=o.wnext,ke=o.wsize-oe):ke=o.wnext-oe,oe>o.length&&(oe=o.length),ua=o.window}else ua=he,ke=F-o.offset,oe=o.length;oe>d&&(oe=d),d-=oe,o.length-=oe;do he[F++]=ua[ke++];while(--oe);o.length===0&&(o.mode=E);break;case Ae:if(d===0)break e;he[F++]=o.length,d--,o.mode=E;break;case Be:if(o.wrap){for(;H<32;){if(q===0)break e;q--,C|=ae[e++]<<H,H+=8}if(ie-=d,I.total_out+=ie,o.total+=ie,ie&&(I.adler=o.check=o.flags?G(o.check,he,ie,F-ie):K(o.check,he,ie,F-ie)),ie=d,(o.flags?C:ge(C))!==o.check){I.msg="incorrect data check",o.mode=we;break}C=0,H=0}o.mode=Ke;case Ke:if(o.wrap&&o.flags){for(;H<32;){if(q===0)break e;q--,C+=ae[e++]<<H,H+=8}if(C!==(o.total&4294967295)){I.msg="incorrect length check",o.mode=we;break}C=0,H=0}o.mode=Re;case Re:Xe=u;break e;case we:Xe=s;break e;case $e:return _;case qe:default:return b}return I.next_out=F,I.avail_out=d,I.next_in=e,I.avail_in=q,o.hold=C,o.bits=H,(o.wsize||ie!==I.avail_out&&o.mode<we&&(o.mode<Be||Y!==r))&&xa(I,I.output,I.next_out,ie-I.avail_out),fe-=I.avail_in,ie-=I.avail_out,I.total_in+=fe,I.total_out+=ie,o.total+=ie,o.wrap&&ie&&(I.adler=o.check=o.flags?G(o.check,he,ie,I.next_out-ie):K(o.check,he,ie,I.next_out-ie)),I.data_type=o.bits+(o.last?64:0)+(o.mode===O?128:0)+(o.mode===X||o.mode===J?256:0),(fe===0&&ie===0||Y===r)&&Xe===v&&(Xe=f),Xe}function ee(I){if(!I||!I.state)return b;var Y=I.state;return Y.window&&(Y.window=null),I.state=null,v}function re(I,Y){var o;return!I||!I.state||(o=I.state,!(o.wrap&2))?b:(o.head=Y,Y.done=!1,v)}function le(I,Y){var o=Y.length,ae,he,e;return!I||!I.state||(ae=I.state,ae.wrap!==0&&ae.mode!==N)?b:ae.mode===N&&(he=1,he=K(he,Y,o,0),he!==ae.check)?s:(e=xa(I,Y,o,o),e?(ae.mode=$e,_):(ae.havedict=1,v))}return ea.inflateReset=He,ea.inflateReset2=ka,ea.inflateResetKeep=Ce,ea.inflateInit=ta,ea.inflateInit2=va,ea.inflate=p,ea.inflateEnd=ee,ea.inflateGetHeader=re,ea.inflateSetDictionary=le,ea.inflateInfo="pako inflate (from Nodeca project)",ea}var Wa,It;function er(){return It||(It=1,Wa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),Wa}var Qa,Rt;function li(){if(Rt)return Qa;Rt=1;function B(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return Qa=B,Qa}var Nt;function si(){if(Nt)return Sa;Nt=1;var B=oi(),K=pa(),G=Qt(),z=er(),k=ct(),T=Xt(),t=li(),a=Object.prototype.toString;function r(v){if(!(this instanceof r))return new r(v);this.options=K.assign({chunkSize:16384,windowBits:0,to:""},v||{});var u=this.options;u.raw&&u.windowBits>=0&&u.windowBits<16&&(u.windowBits=-u.windowBits,u.windowBits===0&&(u.windowBits=-15)),u.windowBits>=0&&u.windowBits<16&&!(v&&v.windowBits)&&(u.windowBits+=32),u.windowBits>15&&u.windowBits<48&&(u.windowBits&15||(u.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var c=B.inflateInit2(this.strm,u.windowBits);if(c!==z.Z_OK)throw new Error(k[c]);if(this.header=new t,B.inflateGetHeader(this.strm,this.header),u.dictionary&&(typeof u.dictionary=="string"?u.dictionary=G.string2buf(u.dictionary):a.call(u.dictionary)==="[object ArrayBuffer]"&&(u.dictionary=new Uint8Array(u.dictionary)),u.raw&&(c=B.inflateSetDictionary(this.strm,u.dictionary),c!==z.Z_OK)))throw new Error(k[c])}r.prototype.push=function(v,u){var c=this.strm,b=this.options.chunkSize,s=this.options.dictionary,_,f,n,i,l,m=!1;if(this.ended)return!1;f=u===~~u?u:u===!0?z.Z_FINISH:z.Z_NO_FLUSH,typeof v=="string"?c.input=G.binstring2buf(v):a.call(v)==="[object ArrayBuffer]"?c.input=new Uint8Array(v):c.input=v,c.next_in=0,c.avail_in=c.input.length;do{if(c.avail_out===0&&(c.output=new K.Buf8(b),c.next_out=0,c.avail_out=b),_=B.inflate(c,z.Z_NO_FLUSH),_===z.Z_NEED_DICT&&s&&(_=B.inflateSetDictionary(this.strm,s)),_===z.Z_BUF_ERROR&&m===!0&&(_=z.Z_OK,m=!1),_!==z.Z_STREAM_END&&_!==z.Z_OK)return this.onEnd(_),this.ended=!0,!1;c.next_out&&(c.avail_out===0||_===z.Z_STREAM_END||c.avail_in===0&&(f===z.Z_FINISH||f===z.Z_SYNC_FLUSH))&&(this.options.to==="string"?(n=G.utf8border(c.output,c.next_out),i=c.next_out-n,l=G.buf2string(c.output,n),c.next_out=i,c.avail_out=b-i,i&&K.arraySet(c.output,c.output,n,i,0),this.onData(l)):this.onData(K.shrinkBuf(c.output,c.next_out))),c.avail_in===0&&c.avail_out===0&&(m=!0)}while((c.avail_in>0||c.avail_out===0)&&_!==z.Z_STREAM_END);return _===z.Z_STREAM_END&&(f=z.Z_FINISH),f===z.Z_FINISH?(_=B.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===z.Z_OK):(f===z.Z_SYNC_FLUSH&&(this.onEnd(z.Z_OK),c.avail_out=0),!0)},r.prototype.onData=function(v){this.chunks.push(v)},r.prototype.onEnd=function(v){v===z.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=K.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg};function g(v,u){var c=new r(u);if(c.push(v,!0),c.err)throw c.msg||k[c.err];return c.result}function h(v,u){return u=u||{},u.raw=!0,g(v,u)}return Sa.Inflate=r,Sa.inflate=g,Sa.inflateRaw=h,Sa.ungzip=g,Sa}var Xa,Pt;function di(){if(Pt)return Xa;Pt=1;var B=pa().assign,K=ri(),G=si(),z=er(),k={};return B(k,K,G,z),Xa=k,Xa}var zt;function ui(){return zt||(zt=1,function(B){(function(){var K={};B.exports=K;var G;typeof ei=="function"?G=di():G=self.pako;function z(){typeof process>"u"&&console.log.apply(console,arguments)}(function(k,T){(function(){var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a=function(){function g(h){this.message="JPEG error: "+h}return g.prototype=Error(),g.prototype.name="JpegError",g.constructor=g}(),r=function(){function g(h,v){this.message=h,this.g=v}return g.prototype=Error(),g.prototype.name="DNLMarkerError",g.constructor=g}();(function(){function g(){this.M=null,this.B=-1}function h(s,_){for(var f=0,n=[],i,l,m=16;0<m&&!s[m-1];)m--;n.push({children:[],index:0});var A=n[0],w;for(i=0;i<m;i++){for(l=0;l<s[i];l++){for(A=n.pop(),A.children[A.index]=_[f];0<A.index;)A=n.pop();for(A.index++,n.push(A);n.length<=i;)n.push(w={children:[],index:0}),A.children[A.index]=w.children,A=w;f++}i+1<m&&(n.push(w={children:[],index:0}),A.children[A.index]=w.children,A=w)}return n[0].children}function v(s,_,f,n,i,l,m,A,w){function y(){if(0<W)return W--,Z>>W&1;if(Z=s[_++],Z===255){var ne=s[_++];if(ne){if(ne===220&&J){_+=2;var ue=s[_++]<<8|s[_++];if(0<ue&&ue!==f.g)throw new r("Found DNL marker (0xFFDC) while parsing scan data",ue)}throw new a("unexpected marker "+(Z<<8|ne).toString(16))}}return W=7,Z>>>7}function R(ne){for(;;){if(ne=ne[y()],typeof ne=="number")return ne;if((typeof ne>"u"?"undefined":t(ne))!=="object")throw new a("invalid huffman sequence")}}function V(ne){for(var ue=0;0<ne;)ue=ue<<1|y(),ne--;return ue}function D(ne){if(ne===1)return y()===1?1:-1;var ue=V(ne);return ue>=1<<ne-1?ue:ue+(-1<<ne)+1}function P(ne,ue){var ge=R(ne.D);for(ge=ge===0?0:D(ge),ne.a[ue]=ne.m+=ge,ge=1;64>ge;){var xe=R(ne.o),Ce=xe&15;if(xe>>=4,Ce===0){if(15>xe)break;ge+=16}else ge+=xe,ne.a[ue+b[ge]]=D(Ce),ge++}}function N(ne,ue){var ge=R(ne.D);ge=ge===0?0:D(ge)<<w,ne.a[ue]=ne.m+=ge}function O(ne,ue){ne.a[ue]|=y()<<w}function $(ne,ue){if(0<X)X--;else for(var ge=l;ge<=m;){var xe=R(ne.o),Ce=xe&15;if(xe>>=4,Ce===0){if(15>xe){X=V(xe)+(1<<xe)-1;break}ge+=16}else ge+=xe,ne.a[ue+b[ge]]=D(Ce)*(1<<w),ge++}}function U(ne,ue){for(var ge=l,xe=0,Ce;ge<=m;){Ce=ue+b[ge];var He=0>ne.a[Ce]?-1:1;switch(E){case 0:if(xe=R(ne.o),Ce=xe&15,xe>>=4,Ce===0)15>xe?(X=V(xe)+(1<<xe),E=4):(xe=16,E=1);else{if(Ce!==1)throw new a("invalid ACn encoding");ce=D(Ce),E=xe?2:3}continue;case 1:case 2:ne.a[Ce]?ne.a[Ce]+=He*(y()<<w):(xe--,xe===0&&(E=E===2?3:0));break;case 3:ne.a[Ce]?ne.a[Ce]+=He*(y()<<w):(ne.a[Ce]=ce<<w,E=0);break;case 4:ne.a[Ce]&&(ne.a[Ce]+=He*(y()<<w))}ge++}E===4&&(X--,X===0&&(E=0))}for(var J=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,M=f.P,L=_,Z=0,W=0,X=0,E=0,ce,Q=n.length,te,se,Ae,Be,Ke=f.S?l===0?A===0?N:O:A===0?$:U:P,Re=0,we=Q===1?n[0].c*n[0].l:M*f.O,$e,qe;Re<we;){var Le=i?Math.min(we-Re,i):we;for(te=0;te<Q;te++)n[te].m=0;if(X=0,Q===1){var me=n[0];for(Be=0;Be<Le;Be++)Ke(me,64*((me.c+1)*(Re/me.c|0)+Re%me.c)),Re++}else for(Be=0;Be<Le;Be++){for(te=0;te<Q;te++)for(me=n[te],$e=me.h,qe=me.j,se=0;se<qe;se++)for(Ae=0;Ae<$e;Ae++)Ke(me,64*((me.c+1)*((Re/M|0)*me.j+se)+(Re%M*me.h+Ae)));Re++}if(W=0,(me=c(s,_))&&me.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+me.f),_=me.offset),me=me&&me.F,!me||65280>=me)throw new a("marker was not found");if(65488<=me&&65495>=me)_+=2;else break}return(me=c(s,_))&&me.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+me.f),_=me.offset),_-L}function u(s,_){for(var f=_.c,n=_.l,i=new Int16Array(64),l=0;l<n;l++)for(var m=0;m<f;m++){var A=64*((_.c+1)*l+m),w=i,y=_.G,R=_.a;if(!y)throw new a("missing required Quantization Table.");for(var V=0;64>V;V+=8){var D=R[A+V],P=R[A+V+1],N=R[A+V+2],O=R[A+V+3],$=R[A+V+4],U=R[A+V+5],J=R[A+V+6],M=R[A+V+7];if(D*=y[V],!(P|N|O|$|U|J|M))D=5793*D+512>>10,w[V]=D,w[V+1]=D,w[V+2]=D,w[V+3]=D,w[V+4]=D,w[V+5]=D,w[V+6]=D,w[V+7]=D;else{P*=y[V+1],N*=y[V+2],O*=y[V+3],$*=y[V+4],U*=y[V+5],J*=y[V+6],M*=y[V+7];var L=5793*D+128>>8,Z=5793*$+128>>8,W=N,X=J;$=2896*(P-M)+128>>8,M=2896*(P+M)+128>>8,O<<=4,U<<=4,L=L+Z+1>>1,Z=L-Z,D=3784*W+1567*X+128>>8,W=1567*W-3784*X+128>>8,X=D,$=$+U+1>>1,U=$-U,M=M+O+1>>1,O=M-O,L=L+X+1>>1,X=L-X,Z=Z+W+1>>1,W=Z-W,D=2276*$+3406*M+2048>>12,$=3406*$-2276*M+2048>>12,M=D,D=799*O+4017*U+2048>>12,O=4017*O-799*U+2048>>12,U=D,w[V]=L+M,w[V+7]=L-M,w[V+1]=Z+U,w[V+6]=Z-U,w[V+2]=W+O,w[V+5]=W-O,w[V+3]=X+$,w[V+4]=X-$}}for(y=0;8>y;++y)D=w[y],P=w[y+8],N=w[y+16],O=w[y+24],$=w[y+32],U=w[y+40],J=w[y+48],M=w[y+56],P|N|O|$|U|J|M?(L=5793*D+2048>>12,Z=5793*$+2048>>12,W=N,X=J,$=2896*(P-M)+2048>>12,M=2896*(P+M)+2048>>12,L=(L+Z+1>>1)+4112,Z=L-Z,D=3784*W+1567*X+2048>>12,W=1567*W-3784*X+2048>>12,X=D,$=$+U+1>>1,U=$-U,M=M+O+1>>1,O=M-O,L=L+X+1>>1,X=L-X,Z=Z+W+1>>1,W=Z-W,D=2276*$+3406*M+2048>>12,$=3406*$-2276*M+2048>>12,M=D,D=799*O+4017*U+2048>>12,O=4017*O-799*U+2048>>12,U=D,D=L+M,M=L-M,P=Z+U,J=Z-U,N=W+O,U=W-O,O=X+$,$=X-$,D=16>D?0:4080<=D?255:D>>4,P=16>P?0:4080<=P?255:P>>4,N=16>N?0:4080<=N?255:N>>4,O=16>O?0:4080<=O?255:O>>4,$=16>$?0:4080<=$?255:$>>4,U=16>U?0:4080<=U?255:U>>4,J=16>J?0:4080<=J?255:J>>4,M=16>M?0:4080<=M?255:M>>4,R[A+y]=D,R[A+y+8]=P,R[A+y+16]=N,R[A+y+24]=O,R[A+y+32]=$,R[A+y+40]=U,R[A+y+48]=J,R[A+y+56]=M):(D=5793*D+8192>>14,D=-2040>D?0:2024<=D?255:D+2056>>4,R[A+y]=D,R[A+y+8]=D,R[A+y+16]=D,R[A+y+24]=D,R[A+y+32]=D,R[A+y+40]=D,R[A+y+48]=D,R[A+y+56]=D)}return _.a}function c(s,_){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:_,n=s.length-1;if(f=f<_?f:_,_>=n)return null;var i=s[_]<<8|s[_+1];if(65472<=i&&65534>=i)return{f:null,F:i,offset:_};for(var l=s[f]<<8|s[f+1];!(65472<=l&&65534>=l);){if(++f>=n)return null;l=s[f]<<8|s[f+1]}return{f:i.toString(16),F:l,offset:f}}var b=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);g.prototype={parse:function(s){function _(){var W=s[m]<<8|s[m+1];return m+=2,W}function f(){var W=_();W=m+W-2;var X=c(s,W,m);return X&&X.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+X.f),W=X.offset),W=s.subarray(m,W),m+=W.length,W}function n(W){for(var X=Math.ceil(W.v/8/W.s),E=Math.ceil(W.g/8/W.u),ce=0;ce<W.b.length;ce++){L=W.b[ce];var Q=Math.ceil(Math.ceil(W.v/8)*L.h/W.s),te=Math.ceil(Math.ceil(W.g/8)*L.j/W.u);L.a=new Int16Array(64*E*L.j*(X*L.h+1)),L.c=Q,L.l=te}W.P=X,W.O=E}var i=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,l=i===void 0?null:i,m=0,A=null,w=0;i=[];var y=[],R=[],V=_();if(V!==65496)throw new a("SOI not found");for(V=_();V!==65497;){switch(V){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var D=f();V===65518&&D[0]===65&&D[1]===100&&D[2]===111&&D[3]===98&&D[4]===101&&(A={version:D[5]<<8|D[6],Y:D[7]<<8|D[8],Z:D[9]<<8|D[10],W:D[11]});break;case 65499:V=_()+m-2;for(var P;m<V;){var N=s[m++],O=new Uint16Array(64);if(N>>4)if(N>>4===1)for(D=0;64>D;D++)P=b[D],O[P]=_();else throw new a("DQT - invalid table spec");else for(D=0;64>D;D++)P=b[D],O[P]=s[m++];i[N&15]=O}break;case 65472:case 65473:case 65474:if($)throw new a("Only single frame JPEGs supported");_();var $={};for($.X=V===65473,$.S=V===65474,$.precision=s[m++],V=_(),$.g=l||V,$.v=_(),$.b=[],$.C={},D=s[m++],V=O=N=0;V<D;V++){P=s[m];var U=s[m+1]>>4,J=s[m+1]&15;N<U&&(N=U),O<J&&(O=J),U=$.b.push({h:U,j:J,T:s[m+2],G:null}),$.C[P]=U-1,m+=3}$.s=N,$.u=O,n($);break;case 65476:for(P=_(),V=2;V<P;){for(N=s[m++],O=new Uint8Array(16),D=U=0;16>D;D++,m++)U+=O[D]=s[m];for(J=new Uint8Array(U),D=0;D<U;D++,m++)J[D]=s[m];V+=17+U,(N>>4?y:R)[N&15]=h(O,J)}break;case 65501:_();var M=_();break;case 65498:for(D=++w===1&&!l,_(),N=s[m++],P=[],V=0;V<N;V++){O=$.C[s[m++]];var L=$.b[O];O=s[m++],L.D=R[O>>4],L.o=y[O&15],P.push(L)}V=s[m++],N=s[m++],O=s[m++];try{var Z=v(s,m,$,P,M,V,N,O>>4,O&15,D);m+=Z}catch(W){if(W instanceof r)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(s,{N:W.g});throw W}break;case 65500:m+=4;break;case 65535:s[m]!==255&&m--;break;default:if(s[m-3]===255&&192<=s[m-2]&&254>=s[m-2])m-=3;else if((D=c(s,m-2))&&D.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+D.f),m=D.offset;else throw new a("unknown marker "+V.toString(16))}V=_()}for(this.width=$.v,this.height=$.g,this.A=A,this.b=[],V=0;V<$.b.length;V++)L=$.b[V],(M=i[L.T])&&(L.G=M),this.b.push({R:u($,L),U:L.h/$.s,V:L.j/$.u,c:L.c,l:L.l});this.i=this.b.length},L:function(s,_){var f=this.width/s,n=this.height/_,i,l,m=this.b.length,A=s*_*m,w=new Uint8ClampedArray(A),y=new Uint32Array(s);for(l=0;l<m;l++){var R=this.b[l],V=R.U*f,D=R.V*n,P=l,N=R.R,O=R.c+1<<3;for(i=0;i<s;i++)R=0|i*V,y[i]=(R&4294967288)<<3|R&7;for(V=0;V<_;V++)for(R=0|V*D,R=O*(R&4294967288)|(R&7)<<3,i=0;i<s;i++)w[P]=N[R+y[i]],P+=m}if(n=this.M)for(l=0;l<A;)for(f=R=0;R<m;R++,l++,f+=2)w[l]=(w[l]*n[f]>>8)+n[f+1];return w},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(s){for(var _,f,n,i=0,l=s.length;i<l;i+=3)_=s[i],f=s[i+1],n=s[i+2],s[i]=_-179.456+1.402*n,s[i+1]=_+135.459-.344*f-.714*n,s[i+2]=_-226.816+1.772*f;return s},K:function(s){for(var _,f,n,i,l=0,m=0,A=s.length;m<A;m+=4)_=s[m],f=s[m+1],n=s[m+2],i=s[m+3],s[l++]=-122.67195406894+f*(-660635669420364e-19*f+.000437130475926232*n-54080610064599e-18*_+.00048449797120281*i-.154362151871126)+n*(-.000957964378445773*n+.000817076911346625*_-.00477271405408747*i+1.53380253221734)+_*(.000961250184130688*_-.00266257332283933*i+.48357088451265)+i*(-.000336197177618394*i+.484791561490776),s[l++]=107.268039397724+f*(219927104525741e-19*f-.000640992018297945*n+.000659397001245577*_+.000426105652938837*i-.176491792462875)+n*(-.000778269941513683*n+.00130872261408275*_+.000770482631801132*i-.151051492775562)+_*(.00126935368114843*_-.00265090189010898*i+.25802910206845)+i*(-.000318913117588328*i-.213742400323665),s[l++]=-20.810012546947+f*(-.000570115196973677*f-263409051004589e-19*n+.0020741088115012*_-.00288260236853442*i+.814272968359295)+n*(-153496057440975e-19*n-.000132689043961446*_+.000560833691242812*i-.195152027534049)+_*(.00174418132927582*_-.00255243321439347*i+.116935020465145)+i*(-.000343531996510555*i+.24165260232407);return s.subarray(0,l)},J:function(s){for(var _,f,n,i=0,l=s.length;i<l;i+=4)_=s[i],f=s[i+1],n=s[i+2],s[i]=434.456-_-1.402*n,s[i+1]=119.541-_+.344*f+.714*n,s[i+2]=481.816-_-1.772*f;return s},H:function(s){for(var _,f,n,i,l=0,m=1/255,A=0,w=s.length;A<w;A+=4)_=s[A]*m,f=s[A+1]*m,n=s[A+2]*m,i=s[A+3]*m,s[l++]=255+_*(-4.387332384609988*_+54.48615194189176*f+18.82290502165302*n+212.25662451639585*i-285.2331026137004)+f*(1.7149763477362134*f-5.6096736904047315*n-17.873870861415444*i-5.497006427196366)+n*(-2.5217340131683033*n-21.248923337353073*i+17.5119270841813)-i*(21.86122147463605*i+189.48180835922747),s[l++]=255+_*(8.841041422036149*_+60.118027045597366*f+6.871425592049007*n+31.159100130055922*i-79.2970844816548)+f*(-15.310361306967817*f+17.575251261109482*n+131.35250912493976*i-190.9453302588951)+n*(4.444339102852739*n+9.8632861493405*i-24.86741582555878)-i*(20.737325471181034*i+187.80453709719578),s[l++]=255+_*(.8842522430003296*_+8.078677503112928*f+30.89978309703729*n-.23883238689178934*i-14.183576799673286)+f*(10.49593273432072*f+63.02378494754052*n+50.606957656360734*i-112.23884253719248)+n*(.03296041114873217*n+115.60384449646641*i-193.58209356861505)-i*(22.33816807309886*i+180.12613974708367);return s.subarray(0,l)},getData:function(s,_,f){if(4<this.i)throw new a("Unsupported color mode");if(s=this.L(s,_),this.i===1&&f){f=s.length,_=new Uint8ClampedArray(3*f);for(var n=0,i=0;i<f;i++){var l=s[i];_[n++]=l,_[n++]=l,_[n++]=l}return _}if(this.i===3&&this.w())return this.I(s);if(this.i===4){if(this.w())return f?this.K(s):this.J(s);if(f)return this.H(s)}return s}},k.JpegDecoder=g})()})(),k.encodeImage=function(t,a,r,g){var h={t256:[a],t257:[r],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[r],t279:[a*r*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(g)for(var v in g)h[v]=g[v];for(var u=new Uint8Array(k.encode([h])),c=new Uint8Array(t),b=new Uint8Array(1e3+a*r*4),v=0;v<u.length;v++)b[v]=u[v];for(var v=0;v<c.length;v++)b[1e3+v]=c[v];return b.buffer},k.encode=function(t){var a=new Uint8Array(2e4),r=4,g=k._binBE;a[0]=77,a[1]=77,a[3]=42;var h=8;g.writeUint(a,r,h),r+=4;for(var v=0;v<t.length;v++){var u=k._writeIFD(g,a,h,t[v]);h=u[1],v<t.length-1&&g.writeUint(a,u[0],h)}return a.slice(0,h).buffer},k.decode=function(t){k.decode._decodeG3.allow2D=null;var a=new Uint8Array(t),r=0,g=k._binBE.readASCII(a,r,2);r+=2;var h=g=="II"?k._binLE:k._binBE;h.readUshort(a,r),r+=2;var v=h.readUint(a,r);r+=4;for(var u=[];;){var c=k._readIFD(h,a,v,u,0,!1);if(v=h.readUint(a,c),v==0)break}return u},k.decodeImage=function(t,a,r){var g=new Uint8Array(t),h=k._binBE.readASCII(g,0,2);if(a.t256!=null){a.isLE=h=="II",a.width=a.t256[0],a.height=a.t257[0];var v=a.t259?a.t259[0]:1,u=a.t266?a.t266[0]:1;a.t284&&a.t284[0]==2&&z("PlanarConfiguration 2 should not be used!");var c;a.t258?c=Math.min(32,a.t258[0])*a.t258.length:c=a.t277?a.t277[0]:1,v==1&&a.t279!=null&&a.t278&&a.t262[0]==32803&&(c=Math.round(a.t279[0]*8/(a.width*a.t278[0])));var b=Math.ceil(a.width*c/8)*8,s=a.t273;s==null&&(s=a.t324);var _=a.t279;v==1&&s.length==1&&(_=[a.height*(b>>>3)]),_==null&&(_=a.t325);var f=new Uint8Array(a.height*(b>>>3)),n=0;if(a.t322!=null){for(var i=a.t322[0],l=a.t323[0],m=Math.floor((a.width+i-1)/i),A=Math.floor((a.height+l-1)/l),w=new Uint8Array(Math.ceil(i*l*c/8)|0),y=0;y<A;y++)for(var R=0;R<m;R++){for(var V=y*m+R,D=0;D<w.length;D++)w[D]=0;k.decode._decompress(a,r,g,s[V],_[V],v,w,0,u),v==6?f=w:k._copyTile(w,Math.ceil(i*c/8)|0,l,f,Math.ceil(a.width*c/8)|0,a.height,Math.ceil(R*i*c/8)|0,y*l)}n=f.length*8}else{var P=a.t278?a.t278[0]:a.height;P=Math.min(P,a.height);for(var V=0;V<s.length;V++)k.decode._decompress(a,r,g,s[V],_[V],v,f,Math.ceil(n/8)|0,u),n+=b*P;n=Math.min(n,f.length*8)}a.data=new Uint8Array(f.buffer,0,Math.ceil(n/8)|0)}},k.decode._decompress=function(t,a,r,g,h,v,u,c,b){if(v==1||h==u.length&&v!=32767)for(var s=0;s<h;s++)u[c+s]=r[g+s];else if(v==3)k.decode._decodeG3(r,g,h,u,c,t.width,b);else if(v==4)k.decode._decodeG4(r,g,h,u,c,t.width,b);else if(v==5)k.decode._decodeLZW(r,g,u,c);else if(v==6)k.decode._decodeOldJPEG(t,r,g,h,u,c);else if(v==7)k.decode._decodeNewJPEG(t,r,g,h,u,c);else if(v==8)for(var _=new Uint8Array(r.buffer,g,h),f=T.inflate(_),n=0;n<f.length;n++)u[c+n]=f[n];else v==32767?k.decode._decodeARW(t,r,g,h,u,c):v==32773?k.decode._decodePackBits(r,g,h,u,c):v==32809?k.decode._decodeThunder(r,g,h,u,c):v==34713?k.decode._decodeNikon(t,a,r,g,h,u,c):z("Unknown compression",v);var i=t.t258?Math.min(32,t.t258[0]):1,l=t.t277?t.t277[0]:1,m=i*l>>>3,A=t.t278?t.t278[0]:t.height,w=Math.ceil(i*l*t.width/8);if(i==16&&!t.isLE&&t.t33422==null)for(var y=0;y<A;y++)for(var R=c+y*w,V=1;V<w;V+=2){var D=u[R+V];u[R+V]=u[R+V-1],u[R+V-1]=D}if(t.t317&&t.t317[0]==2)for(var y=0;y<A;y++){var P=c+y*w;if(i==16)for(var s=m;s<w;s+=2){var N=(u[P+s+1]<<8|u[P+s])+(u[P+s-m+1]<<8|u[P+s-m]);u[P+s]=N&255,u[P+s+1]=N>>>8&255}else if(l==3)for(var s=3;s<w;s+=3)u[P+s]=u[P+s]+u[P+s-3]&255,u[P+s+1]=u[P+s+1]+u[P+s-2]&255,u[P+s+2]=u[P+s+2]+u[P+s-1]&255;else for(var s=m;s<w;s++)u[P+s]=u[P+s]+u[P+s-m]&255}},k.decode._ljpeg_diff=function(t,a,r){var g=k.decode._getbithuff,h,v;return h=g(t,a,r[0],r),v=g(t,a,h,0),v&1<<h-1||(v-=(1<<h)-1),v},k.decode._decodeARW=function(t,a,r,g,h,v){var u=t.t256[0],c=t.t257[0],b=t.t258[0],s=t.isLE?k._binLE:k._binBE,_=u*c==g||u*c*1.5==g;if(!_){c+=8;var f=[r,0,0,0],n=new Uint16Array(32770),i=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],E,l,m,$,O,A=0,w=k.decode._ljpeg_diff;for(n[0]=15,m=E=0;E<18;E++)for(var y=32768>>>(i[E]>>>8),l=0;l<y;l++)n[++m]=i[E];for($=u;$--;)for(O=0;O<c+1;O+=2)if(O==c&&(O=1),A+=w(a,f,n),O<c){var R=A&4095;k.decode._putsF(h,(O*u+$)*b,R<<16-b)}return}if(u*c*1.5==g){for(var E=0;E<g;E+=3){var V=a[r+E+0],D=a[r+E+1],P=a[r+E+2];h[v+E]=D<<4|V>>>4,h[v+E+1]=V<<4|P>>>4,h[v+E+2]=P<<4|D>>>4}return}var N=new Uint16Array(16),O,$,U,J,M,L,Z,W,X,E,ce,Q=new Uint8Array(u+1);for(O=0;O<c;O++){for(var te=0;te<u;te++)Q[te]=a[r++];for(ce=0,$=0;$<u-30;ce+=16){for(J=2047&(U=s.readUint(Q,ce)),M=2047&U>>>11,L=15&U>>>22,Z=15&U>>>26,W=0;W<4&&128<<W<=J-M;W++);for(X=30,E=0;E<16;E++)E==L?N[E]=J:E==Z?N[E]=M:(N[E]=((s.readUshort(Q,ce+(X>>3))>>>(X&7)&127)<<W)+M,N[E]>2047&&(N[E]=2047),X+=7);for(E=0;E<16;E++,$+=2){var R=N[E]<<1;k.decode._putsF(h,(O*u+$)*b,R<<16-b)}$-=$&1?1:31}}},k.decode._decodeNikon=function(t,a,r,g,h,v,u){var c=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],b=t.t256[0],s=t.t257[0],_=t.t258[0],f=0,n=0,i=k.decode._make_decoder,l=k.decode._getbithuff,m=a[0].exifIFD.makerNote,A=m.t150?m.t150:m.t140,w=0,y=A[w++],R=A[w++];(y==73||R==88)&&(w+=2110),y==70&&(f=2),_==14&&(f+=3);for(var V=[[0,0],[0,0]],D=t.isLE?k._binLE:k._binBE,U=0;U<2;U++)for(var P=0;P<2;P++)V[U][P]=D.readShort(A,w),w+=2;var N=1<<_&32767,O=0,$=D.readShort(A,w);w+=2,$>1&&(O=Math.floor(N/($-1))),y==68&&R==32&&O>0&&(n=D.readShort(A,562));var U,J,M,L,Z,W,X=[0,0],E=i(c[f]),ce=[g,0,0,0];for(J=0;J<s;J++)for(n&&J==n&&(E=i(c[f+1])),M=0;M<b;M++){U=l(r,ce,E[0],E),L=U&15,Z=U>>>4,W=(l(r,ce,L-Z,0)<<1)+1<<Z>>>1,W&1<<L-1||(W-=(1<<L)-(Z==0?1:0)),M<2?X[M]=V[J&1][M]+=W:X[M&1]+=W;var Q=Math.min(Math.max(X[M&1],0),(1<<_)-1),te=(J*b+M)*_;k.decode._putsF(v,te,Q<<16-_)}},k.decode._putsF=function(t,a,r){r=r<<8-(a&7);var g=a>>>3;t[g]|=r>>>16,t[g+1]|=r>>>8,t[g+2]|=r},k.decode._getbithuff=function(t,a,r,g){var h=0;k.decode._get_byte;var v,u=a[0],c=a[1],b=a[2],s=a[3];if(r==0||b<0)return 0;for(;!s&&b<r&&(v=t[u++])!=-1&&!(s=h);)c=(c<<8)+v,b+=8;if(v=c<<32-b>>>32-r,g?(b-=g[v+1]>>>8,v=g[v+1]&255):b-=r,b<0)throw"e";return a[0]=u,a[1]=c,a[2]=b,a[3]=s,v},k.decode._make_decoder=function(t){var a,r,g,h,v,u=[];for(a=16;a!=0&&!t[a];a--);var c=17;for(u[0]=a,g=r=1;r<=a;r++)for(h=0;h<t[r];h++,++c)for(v=0;v<1<<a-r;v++)g<=1<<a&&(u[g++]=r<<8|t[c]);return u},k.decode._decodeNewJPEG=function(t,a,r,g,h,v){var u=t.t347,c=u?u.length:0,b=new Uint8Array(c+g);if(u){for(var s=216,_=217,f=0,n=0;n<c-1&&!(u[n]==255&&u[n+1]==_);n++)b[f++]=u[n];var i=a[r],l=a[r+1];(i!=255||l!=s)&&(b[f++]=i,b[f++]=l);for(var n=2;n<g;n++)b[f++]=a[r+n]}else for(var n=0;n<g;n++)b[n]=a[r+n];if(t.t262[0]==32803||t.t262[0]==34892){var m=t.t258[0],A=k.LosslessJpegDecode(b),w=A.length;if(m==16)if(t.isLE)for(var n=0;n<w;n++)h[v+(n<<1)]=A[n]&255,h[v+(n<<1)+1]=A[n]>>>8;else for(var n=0;n<w;n++)h[v+(n<<1)]=A[n]>>>8,h[v+(n<<1)+1]=A[n]&255;else if(m==14||m==12)for(var y=16-m,n=0;n<w;n++)k.decode._putsF(h,n*m,A[n]<<y);else throw new Error("unsupported bit depth "+m)}else{var R=new k.JpegDecoder;R.parse(b);for(var V=R.getData(R.width,R.height),n=0;n<V.length;n++)h[v+n]=V[n]}t.t262[0]==6&&(t.t262[0]=2)},k.decode._decodeOldJPEGInit=function(t,a,r,g){var h=216,v=219,u=196,c=221,b=192,s=218,_=0,f=0,n,i,l=!1,m,A,w,y=t.t513,R=y?y[0]:0,V=t.t514,D=V?V[0]:0,P=t.t324||t.t273||y,N=t.t530,O=0,$=0,U=t.t277?t.t277[0]:1,J=t.t515;if(P&&(f=P[0],l=P.length>1),!l){if(a[r]==255&&a[r+1]==h)return{jpegOffset:r};if(y!=null&&(a[r+R]==255&&a[r+R+1]==h?_=r+R:z("JPEGInterchangeFormat does not point to SOI"),V==null?z("JPEGInterchangeFormatLength field is missing"):(R>=f||R+D<=f)&&z("JPEGInterchangeFormatLength field value is invalid"),_!=null))return{jpegOffset:_}}if(N!=null&&(O=N[0],$=N[1]),y!=null&&V!=null)if(D>=2&&R+D<=f){for(a[r+R+D-2]==255&&a[r+R+D-1]==h?n=new Uint8Array(D-2):n=new Uint8Array(D),m=0;m<n.length;m++)n[m]=a[r+R+m];z("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else z("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(n==null){var M=0,L=[];L[M++]=255,L[M++]=h;var Z=t.t519;if(Z==null)throw new Error("JPEGQTables tag is missing");for(m=0;m<Z.length;m++)for(L[M++]=255,L[M++]=v,L[M++]=0,L[M++]=67,L[M++]=m,A=0;A<64;A++)L[M++]=a[r+Z[m]+A];for(w=0;w<2;w++){var W=t[w==0?"t520":"t521"];if(W==null)throw new Error((w==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(m=0;m<W.length;m++){L[M++]=255,L[M++]=u;var X=19;for(A=0;A<16;A++)X+=a[r+W[m]+A];for(L[M++]=X>>>8,L[M++]=X&255,L[M++]=m|w<<4,A=0;A<16;A++)L[M++]=a[r+W[m]+A];for(A=0;A<X;A++)L[M++]=a[r+W[m]+16+A]}}if(L[M++]=255,L[M++]=b,L[M++]=0,L[M++]=8+3*U,L[M++]=8,L[M++]=t.height>>>8&255,L[M++]=t.height&255,L[M++]=t.width>>>8&255,L[M++]=t.width&255,L[M++]=U,U==1)L[M++]=1,L[M++]=17,L[M++]=0;else for(m=0;m<3;m++)L[M++]=m+1,L[M++]=m!=0?17:(O&15)<<4|$&15,L[M++]=m;J!=null&&J[0]!=0&&(L[M++]=255,L[M++]=c,L[M++]=0,L[M++]=4,L[M++]=J[0]>>>8&255,L[M++]=J[0]&255),n=new Uint8Array(L)}var E=-1;for(m=0;m<n.length-1;){if(n[m]==255&&n[m+1]==b){E=m;break}m++}if(E==-1){var ce=new Uint8Array(n.length+10+3*U);ce.set(n);var Q=n.length;if(E=n.length,n=ce,n[Q++]=255,n[Q++]=b,n[Q++]=0,n[Q++]=8+3*U,n[Q++]=8,n[Q++]=t.height>>>8&255,n[Q++]=t.height&255,n[Q++]=t.width>>>8&255,n[Q++]=t.width&255,n[Q++]=U,U==1)n[Q++]=1,n[Q++]=17,n[Q++]=0;else for(m=0;m<3;m++)n[Q++]=m+1,n[Q++]=m!=0?17:(O&15)<<4|$&15,n[Q++]=m}if(a[f]==255&&a[f+1]==s){var te=a[f+2]<<8|a[f+3];for(i=new Uint8Array(te+2),i[0]=a[f],i[1]=a[f+1],i[2]=a[f+2],i[3]=a[f+3],m=0;m<te-2;m++)i[m+4]=a[f+m+4]}else{i=new Uint8Array(8+2*U);var se=0;if(i[se++]=255,i[se++]=s,i[se++]=0,i[se++]=6+2*U,i[se++]=U,U==1)i[se++]=1,i[se++]=0;else for(m=0;m<3;m++)i[se++]=m+1,i[se++]=m<<4|m;i[se++]=0,i[se++]=63,i[se++]=0}return{jpegOffset:r,tables:n,sosMarker:i,sofPosition:E}},k.decode._decodeOldJPEG=function(t,a,r,g,h,v){var u,c,b,s,_,f=k.decode._decodeOldJPEGInit(t,a,r,g);if(f.jpegOffset!=null)for(c=r+g-f.jpegOffset,s=new Uint8Array(c),u=0;u<c;u++)s[u]=a[f.jpegOffset+u];else{for(b=f.tables.length,s=new Uint8Array(b+f.sosMarker.length+g+2),s.set(f.tables),_=b,s[f.sofPosition+5]=t.height>>>8&255,s[f.sofPosition+6]=t.height&255,s[f.sofPosition+7]=t.width>>>8&255,s[f.sofPosition+8]=t.width&255,(a[r]!=255||a[r+1]!=SOS)&&(s.set(f.sosMarker,_),_+=sosMarker.length),u=0;u<g;u++)s[_++]=a[r+u];s[_++]=255,s[_++]=EOI}var n=new k.JpegDecoder;n.parse(s);for(var i=n.getData(n.width,n.height),u=0;u<i.length;u++)h[v+u]=i[u];t.t262&&t.t262[0]==6&&(t.t262[0]=2)},k.decode._decodePackBits=function(t,a,r,g,h){for(var v=new Int8Array(t.buffer),u=new Int8Array(g.buffer),c=a+r;a<c;){var b=v[a];if(a++,b>=0&&b<128)for(var s=0;s<b+1;s++)u[h]=v[a],h++,a++;if(b>=-127&&b<0){for(var s=0;s<-b+1;s++)u[h]=v[a],h++;a++}}},k.decode._decodeThunder=function(t,a,r,g,h){for(var v=[0,1,0,-1],u=[0,1,2,3,0,-3,-2,-1],c=a+r,b=h*2,s=0;a<c;){var _=t[a],f=_>>>6,n=_&63;if(a++,f==3&&(s=n&15,g[b>>>1]|=s<<4*(1-b&1),b++),f==0)for(var i=0;i<n;i++)g[b>>>1]|=s<<4*(1-b&1),b++;if(f==2)for(var i=0;i<2;i++){var l=n>>>3*(1-i)&7;l!=4&&(s+=u[l],g[b>>>1]|=s<<4*(1-b&1),b++)}if(f==1)for(var i=0;i<3;i++){var l=n>>>2*(2-i)&3;l!=2&&(s+=v[l],g[b>>>1]|=s<<4*(1-b&1),b++)}}},k.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},k.decode._lens=function(){var t=function(b,s,_,f){for(var n=0;n<s.length;n++)b[s[n]]=_+n*f},a="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",r="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",g="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",h="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",v="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";a=a.split(","),r=r.split(","),g=g.split(","),h=h.split(","),v=v.split(",");var u={},c={};return t(u,a,0,1),t(u,g,64,64),t(u,v,1792,64),t(c,r,0,1),t(c,h,64,64),t(c,v,1792,64),[u,c]}(),k.decode._decodeG4=function(t,a,r,g,h,v,u){for(var c=k.decode,b=a<<3,s=0,_="",f=[],n=[],i=0;i<v;i++)n.push(0);n=c._makeDiff(n);for(var l=0,m=0,A=0,w=0,y=0,R=0,V="",D=0,P=Math.ceil(v/8)*8;b>>>3<a+r;){A=c._findDiff(n,l+(l==0?0:1),1-y),w=c._findDiff(n,A,y);var N=0;if(u==1&&(N=t[b>>>3]>>>7-(b&7)&1),u==2&&(N=t[b>>>3]>>>(b&7)&1),b++,_+=N,V=="H"){if(c._lens[y][_]!=null){var O=c._lens[y][_];_="",s+=O,O<64&&(c._addNtimes(f,s,y),l+=s,y=1-y,s=0,D--,D==0&&(V=""))}}else _=="0001"&&(_="",c._addNtimes(f,w-l,y),l=w),_=="001"&&(_="",V="H",D=2),c._dmap[_]!=null&&(m=A+c._dmap[_],c._addNtimes(f,m-l,y),l=m,_="",y=1-y);f.length==v&&V==""&&(c._writeBits(f,g,h*8+R*P),y=0,R++,l=0,n=c._makeDiff(f),f=[])}},k.decode._findDiff=function(t,a,r){for(var g=0;g<t.length;g+=2)if(t[g]>=a&&t[g+1]==r)return t[g]},k.decode._makeDiff=function(t){var a=[];t[0]==1&&a.push(0,1);for(var r=1;r<t.length;r++)t[r-1]!=t[r]&&a.push(r,t[r]);return a.push(t.length,0,t.length,1),a},k.decode._decodeG3=function(t,a,r,g,h,v,u){for(var c=k.decode,b=a<<3,s=0,_="",f=[],n=[],i=0;i<v;i++)f.push(0);for(var l=0,m=0,A=0,w=0,y=0,R=-1,V="",D=0,P=!1,N=Math.ceil(v/8)*8;b>>>3<a+r;){A=c._findDiff(n,l+(l==0?0:1),1-y),w=c._findDiff(n,A,y);var O=0;if(u==1&&(O=t[b>>>3]>>>7-(b&7)&1),u==2&&(O=t[b>>>3]>>>(b&7)&1),b++,_+=O,P){if(c._lens[y][_]!=null){var $=c._lens[y][_];_="",s+=$,$<64&&(c._addNtimes(f,s,y),y=1-y,s=0)}}else if(V=="H"){if(c._lens[y][_]!=null){var $=c._lens[y][_];_="",s+=$,$<64&&(c._addNtimes(f,s,y),l+=s,y=1-y,s=0,D--,D==0&&(V=""))}}else _=="0001"&&(_="",c._addNtimes(f,w-l,y),l=w),_=="001"&&(_="",V="H",D=2),c._dmap[_]!=null&&(m=A+c._dmap[_],c._addNtimes(f,m-l,y),l=m,_="",y=1-y);_.endsWith("000000000001")&&(R>=0&&c._writeBits(f,g,h*8+R*N),u==1&&(P=(t[b>>>3]>>>7-(b&7)&1)==1),u==2&&(P=(t[b>>>3]>>>(b&7)&1)==1),b++,c._decodeG3.allow2D==null&&(c._decodeG3.allow2D=P),c._decodeG3.allow2D||(P=!0,b--),_="",y=0,R++,l=0,n=c._makeDiff(f),f=[])}f.length==v&&c._writeBits(f,g,h*8+R*N)},k.decode._addNtimes=function(t,a,r){for(var g=0;g<a;g++)t.push(r)},k.decode._writeBits=function(t,a,r){for(var g=0;g<t.length;g++)a[r+g>>>3]|=t[g]<<7-(r+g&7)},k.decode._decodeLZW=function(t,a,r,g){if(k.decode._lzwTab==null){for(var h=new Uint32Array(65535),v=new Uint16Array(65535),_=new Uint8Array(2e6),u=0;u<256;u++)_[u<<2]=u,h[u]=u<<2,v[u]=1;k.decode._lzwTab=[h,v,_]}for(var c=k.decode._copyData,b=k.decode._lzwTab[0],s=k.decode._lzwTab[1],_=k.decode._lzwTab[2],f=258,n=1032,i=9,l=a<<3,m=256,A=257,w=0,y=0,R=0;w=t[l>>>3]<<16|t[l+8>>>3]<<8|t[l+16>>>3],y=w>>24-(l&7)-i&(1<<i)-1,l+=i,y!=A;){if(y==m){if(i=9,f=258,n=1032,w=t[l>>>3]<<16|t[l+8>>>3]<<8|t[l+16>>>3],y=w>>24-(l&7)-i&(1<<i)-1,l+=i,y==A)break;r[g]=y,g++}else if(y<f){var V=b[y],D=s[y];if(c(_,V,r,g,D),g+=D,R>=f)b[f]=n,_[b[f]]=V[0],s[f]=1,n=n+1+3&-4,f++;else{b[f]=n;var P=b[R],N=s[R];c(_,P,_,n,N),_[n+N]=_[V],N++,s[f]=N,f++,n=n+N+3&-4}f+1==1<<i&&i++}else{if(R>=f)b[f]=n,s[f]=0,f++;else{b[f]=n;var P=b[R],N=s[R];c(_,P,_,n,N),_[n+N]=_[n],N++,s[f]=N,f++,c(_,n,r,g,N),g+=N,n=n+N+3&-4}f+1==1<<i&&i++}R=y}},k.decode._copyData=function(t,a,r,g,h){for(var v=0;v<h;v+=4)r[g+v]=t[a+v],r[g+v+1]=t[a+v+1],r[g+v+2]=t[a+v+2],r[g+v+3]=t[a+v+3]},k.tags={},k.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},k._readIFD=function(t,a,r,g,h,v){var u=t.readUshort(a,r);r+=2;var c={};g.push(c),v&&z("   ".repeat(h),g.length-1,">>>----------------");for(var b=0;b<u;b++){var s=t.readUshort(a,r);r+=2;var _=t.readUshort(a,r);r+=2;var f=t.readUint(a,r);r+=4;var n=t.readUint(a,r);r+=4;var i=[];if((_==1||_==7)&&(i=new Uint8Array(a.buffer,f<5?r-4:n,f)),_==2){var l=f<5?r-4:n,m=a[l];m<128?i.push(t.readASCII(a,l,f-1)):i=new Uint8Array(a.buffer,l,f-1)}if(_==3)for(var A=0;A<f;A++)i.push(t.readUshort(a,(f<3?r-4:n)+2*A));if(_==4)for(var A=0;A<f;A++)i.push(t.readUint(a,(f<2?r-4:n)+4*A));if(_==5)for(var A=0;A<f;A++)i.push(t.readUint(a,n+A*8)/t.readUint(a,n+A*8+4));if(_==8)for(var A=0;A<f;A++)i.push(t.readShort(a,(f<3?r-4:n)+2*A));if(_==9)for(var A=0;A<f;A++)i.push(t.readInt(a,(f<2?r-4:n)+4*A));if(_==10)for(var A=0;A<f;A++)i.push(t.readInt(a,n+A*8)/t.readInt(a,n+A*8+4));if(_==11)for(var A=0;A<f;A++)i.push(t.readFloat(a,n+A*4));if(_==12)for(var A=0;A<f;A++)i.push(t.readDouble(a,n+A*8));if(c["t"+s]=i,f!=0&&i.length==0&&z("unknown TIFF tag type: ",_,"num:",f),v&&z("   ".repeat(h),s,_,k.tags[s],i),!(s==330&&c.t272&&c.t272[0]=="DSLR-A100")){if(s==330||s==34665||s==50740&&t.readUshort(a,t.readUint(i,0))<300){for(var w=s==50740?[t.readUint(i,0)]:i,y=[],A=0;A<w.length;A++)k._readIFD(t,a,w[A],y,h+1,v);s==330&&(c.subIFD=y),s==34665&&(c.exifIFD=y[0]),s==50740&&(c.dngPrvt=y[0])}}if(s==37500){var R=i;if(t.readASCII(R,0,5)=="Nikon")c.makerNote=k.decode(R.slice(10).buffer)[0];else if(t.readUshort(a,n)<300){var V=[];k._readIFD(t,a,n,V,h+1,v),c.makerNote=V[0]}}}return v&&z("   ".repeat(h),"<<<---------------"),r},k._writeIFD=function(t,a,r,g){var h=Object.keys(g);t.writeUshort(a,r,h.length),r+=2;for(var v=r+h.length*12+4,u=0;u<h.length;u++){var c=h[u],b=parseInt(c.slice(1)),s=k.ttypes[b];if(s==null)throw new Error("unknown type of tag: "+b);var _=g[c];s==2&&(_=_[0]+"\0");var f=_.length;t.writeUshort(a,r,b),r+=2,t.writeUshort(a,r,s),r+=2,t.writeUint(a,r,f),r+=4;var n=[-1,1,1,2,4,8,0,0,0,0,0,0,8][s]*f,i=r;if(n>4&&(t.writeUint(a,r,v),i=v),s==2&&t.writeASCII(a,i,_),s==3)for(var l=0;l<f;l++)t.writeUshort(a,i+2*l,_[l]);if(s==4)for(var l=0;l<f;l++)t.writeUint(a,i+4*l,_[l]);if(s==5)for(var l=0;l<f;l++)t.writeUint(a,i+8*l,Math.round(_[l]*1e4)),t.writeUint(a,i+8*l+4,1e4);if(s==12)for(var l=0;l<f;l++)t.writeDouble(a,i+8*l,_[l]);n>4&&(n+=n&1,v+=n),r+=4}return[r,v]},k.toRGBA8=function(t){var a=t.width,r=t.height,g=a*r,h=g*4,v=t.data,u=new Uint8Array(g*4),c=t.t262?t.t262[0]:2,b=t.t258?Math.min(32,t.t258[0]):1;if(c==0)for(var s=Math.ceil(b*a/8),_=0;_<r;_++){var f=_*s,n=_*a;if(b==1)for(var i=0;i<a;i++){var l=n+i<<2,m=v[f+(i>>3)]>>7-(i&7)&1;u[l]=u[l+1]=u[l+2]=(1-m)*255,u[l+3]=255}if(b==4)for(var i=0;i<a;i++){var l=n+i<<2,m=v[f+(i>>1)]>>4-4*(i&1)&15;u[l]=u[l+1]=u[l+2]=(15-m)*17,u[l+3]=255}if(b==8)for(var i=0;i<a;i++){var l=n+i<<2,m=v[f+i];u[l]=u[l+1]=u[l+2]=255-m,u[l+3]=255}}else if(c==1)for(var s=Math.ceil(b*a/8),_=0;_<r;_++){var f=_*s,n=_*a;if(b==1)for(var i=0;i<a;i++){var l=n+i<<2,m=v[f+(i>>3)]>>7-(i&7)&1;u[l]=u[l+1]=u[l+2]=m*255,u[l+3]=255}if(b==2)for(var i=0;i<a;i++){var l=n+i<<2,m=v[f+(i>>2)]>>6-2*(i&3)&3;u[l]=u[l+1]=u[l+2]=m*85,u[l+3]=255}if(b==8)for(var i=0;i<a;i++){var l=n+i<<2,m=v[f+i];u[l]=u[l+1]=u[l+2]=m,u[l+3]=255}if(b==16)for(var i=0;i<a;i++){var l=n+i<<2,m=v[f+(2*i+1)];u[l]=u[l+1]=u[l+2]=Math.min(255,m),u[l+3]=255}}else if(c==2){var A=t.t258?t.t258.length:3;if(b==8){if(A==4)for(var i=0;i<h;i++)u[i]=v[i];if(A==3)for(var i=0;i<g;i++){var l=i<<2,w=i*3;u[l]=v[w],u[l+1]=v[w+1],u[l+2]=v[w+2],u[l+3]=255}}else{if(A==4)for(var i=0;i<g;i++){var l=i<<2,w=i*8+1;u[l]=v[w],u[l+1]=v[w+2],u[l+2]=v[w+4],u[l+3]=v[w+6]}if(A==3)for(var i=0;i<g;i++){var l=i<<2,w=i*6+1;u[l]=v[w],u[l+1]=v[w+2],u[l+2]=v[w+4],u[l+3]=255}}}else if(c==3)for(var y=t.t320,i=0;i<g;i++){var l=i<<2,R=v[i];u[l]=y[R]>>8,u[l+1]=y[256+R]>>8,u[l+2]=y[512+R]>>8,u[l+3]=255}else if(c==5)for(var A=t.t258?t.t258.length:4,V=A>4?1:0,i=0;i<g;i++){var l=i<<2,D=i*A,P=255-v[D],N=255-v[D+1],O=255-v[D+2],$=(255-v[D+3])*(1/255);u[l]=~~(P*$+.5),u[l+1]=~~(N*$+.5),u[l+2]=~~(O*$+.5),u[l+3]=255*(1-V)+v[D+4]*V}else z("Unknown Photometric interpretation: "+c);return u},k.replaceIMG=function(t){t==null&&(t=document.getElementsByTagName("img"));for(var a=["tif","tiff","dng","cr2","nef"],r=0;r<t.length;r++){var g=t[r],h=g.getAttribute("src");if(h!=null){var v=h.split(".").pop().toLowerCase();if(a.indexOf(v)!=-1){var u=new XMLHttpRequest;k._xhrs.push(u),k._imgs.push(g),u.open("GET",h),u.responseType="arraybuffer",u.onload=k._imgLoaded,u.send()}}}},k._xhrs=[],k._imgs=[],k._imgLoaded=function(t){var a=t.target.response,r=k.decode(a),g=r,h=0,v=g[0];r[0].subIFD&&(g=g.concat(r[0].subIFD));for(var u=0;u<g.length;u++){var n=g[u];if(!(n.t258==null||n.t258.length<3)){var c=n.t256*n.t257;c>h&&(h=c,v=n)}}k.decodeImage(a,v,r);var b=k.toRGBA8(v),s=v.width,_=v.height,f=k._xhrs.indexOf(t.target),n=k._imgs[f];k._xhrs.splice(f,1),k._imgs.splice(f,1);var i=document.createElement("canvas");i.width=s,i.height=_;for(var l=i.getContext("2d"),m=l.createImageData(s,_),u=0;u<b.length;u++)m.data[u]=b[u];l.putImageData(m,0,0),n.setAttribute("src",i.toDataURL())},k._binBE={nextZero:function(t,a){for(;t[a]!=0;)a++;return a},readUshort:function(t,a){return t[a]<<8|t[a+1]},readShort:function(t,a){var r=k._binBE.ui8;return r[0]=t[a+1],r[1]=t[a+0],k._binBE.i16[0]},readInt:function(t,a){var r=k._binBE.ui8;return r[0]=t[a+3],r[1]=t[a+2],r[2]=t[a+1],r[3]=t[a+0],k._binBE.i32[0]},readUint:function(t,a){var r=k._binBE.ui8;return r[0]=t[a+3],r[1]=t[a+2],r[2]=t[a+1],r[3]=t[a+0],k._binBE.ui32[0]},readASCII:function(t,a,r){for(var g="",h=0;h<r;h++)g+=String.fromCharCode(t[a+h]);return g},readFloat:function(t,a){for(var r=k._binBE.ui8,g=0;g<4;g++)r[g]=t[a+3-g];return k._binBE.fl32[0]},readDouble:function(t,a){for(var r=k._binBE.ui8,g=0;g<8;g++)r[g]=t[a+7-g];return k._binBE.fl64[0]},writeUshort:function(t,a,r){t[a]=r>>8&255,t[a+1]=r&255},writeUint:function(t,a,r){t[a]=r>>24&255,t[a+1]=r>>16&255,t[a+2]=r>>8&255,t[a+3]=r>>0&255},writeASCII:function(t,a,r){for(var g=0;g<r.length;g++)t[a+g]=r.charCodeAt(g)},writeDouble:function(t,a,r){k._binBE.fl64[0]=r;for(var g=0;g<8;g++)t[a+g]=k._binBE.ui8[7-g]}},k._binBE.ui8=new Uint8Array(8),k._binBE.i16=new Int16Array(k._binBE.ui8.buffer),k._binBE.i32=new Int32Array(k._binBE.ui8.buffer),k._binBE.ui32=new Uint32Array(k._binBE.ui8.buffer),k._binBE.fl32=new Float32Array(k._binBE.ui8.buffer),k._binBE.fl64=new Float64Array(k._binBE.ui8.buffer),k._binLE={nextZero:k._binBE.nextZero,readUshort:function(t,a){return t[a+1]<<8|t[a]},readShort:function(t,a){var r=k._binBE.ui8;return r[0]=t[a+0],r[1]=t[a+1],k._binBE.i16[0]},readInt:function(t,a){var r=k._binBE.ui8;return r[0]=t[a+0],r[1]=t[a+1],r[2]=t[a+2],r[3]=t[a+3],k._binBE.i32[0]},readUint:function(t,a){var r=k._binBE.ui8;return r[0]=t[a+0],r[1]=t[a+1],r[2]=t[a+2],r[3]=t[a+3],k._binBE.ui32[0]},readASCII:k._binBE.readASCII,readFloat:function(t,a){for(var r=k._binBE.ui8,g=0;g<4;g++)r[g]=t[a+g];return k._binBE.fl32[0]},readDouble:function(t,a){for(var r=k._binBE.ui8,g=0;g<8;g++)r[g]=t[a+g];return k._binBE.fl64[0]}},k._copyTile=function(t,a,r,g,h,v,u,c){for(var b=Math.min(a,h-u),s=Math.min(r,v-c),_=0;_<s;_++)for(var f=(c+_)*h+u,n=_*a,i=0;i<b;i++)g[f+i]=t[n+i]},k.LosslessJpegDecode=function(){function t(h){this.w=h,this.N=0,this._=0,this.G=0}t.prototype={t:function(h){this.N=Math.max(0,Math.min(this.w.length,h))},i:function(){return this.w[this.N++]},l:function(){var h=this.N;return this.N+=2,this.w[h]<<8|this.w[h+1]},J:function(){return this._==0&&(this.G=this.w[this.N],this.N+=1+(this.G+1>>>8),this._=8),this.G>>>--this._&1},Z:function(h){var v=this._,u=this.G,c=Math.min(v,h);h-=c,v-=c;for(var b=u>>>v&(1<<c)-1;h>0;)u=this.w[this.N],this.N+=1+(u+1>>>8),c=Math.min(8,h),h-=c,v=8-c,b<<=c,b|=u>>>v&(1<<c)-1;return this._=v,this.G=u,b}};var a={};a.X=function(){return[0,0,-1]},a.s=function(h,v,u){h[a.Y(h,0,u)+2]=v},a.Y=function(h,v,u){if(h[v+2]!=-1)return 0;if(u==0)return v;for(var c=0;c<2;c++){h[v+c]==0&&(h[v+c]=h.length,h.push(0),h.push(0),h.push(-1));var b=a.Y(h,h[v+c],u-1);if(b!=0)return b}return 0},a.B=function(h,v){for(var u=0,c=0,b=0,s=v._,_=v.G,f=v.N;;)if(s==0&&(_=v.w[f],f+=1+(_+1>>>8),s=8),b=_>>>--s&1,u=h[u+b],c=h[u+2],c!=-1)return v._=s,v.G=_,v.N=f,c;return-1};function r(h){this.z=new t(h),this.D(this.z)}r.prototype={$:function(h,v){this.Q=h.i(),this.F=h.l(),this.o=h.l();var u=this.O=h.i();this.L=[];for(var c=0;c<u;c++){var b=h.i();h.i(),h.i(),this.L[b]=c}h.t(h.N+v-(6+u*3))},e:function(){var h=0,v=this.z.i();this.H==null&&(this.H={});for(var u=this.H[v]=a.X(),c=[],b=0;b<16;b++)c[b]=this.z.i(),h+=c[b];for(var b=0;b<16;b++)for(var s=0;s<c[b];s++)a.s(u,this.z.i(),b+1);return h+17},W:function(h){for(;h>0;)h-=this.e()},p:function(h,v){var u=h.i();this.U||(this.U=[]);for(var c=0;c<u;c++){var b=h.i(),s=h.i();this.U[this.L[b]]=this.H[s>>>4]}this.g=h.i(),h.t(h.N+v-(2+u*2))},D:function(h){var v=!1,u=h.l();if(u===r.q)do{var u=h.l(),c=h.l()-2;switch(u){case r.m:this.$(h,c);break;case r.K:this.W(c);break;case r.V:this.p(h,c),v=!0;break;default:h.t(h.N+c);break}}while(!v)},I:function(h,v){var u=a.B(v,h);if(u==16)return-32768;var c=h.Z(u);return c&1<<u-1||(c-=(1<<u)-1),c},B:function(h,v){for(var u=this.z,c=this.O,b=this.F,s=this.I,_=this.g,f=this.o*c,n=this.U,i=0;i<c;i++)h[i]=s(u,n[i])+(1<<this.Q-1);for(var l=c;l<f;l+=c)for(var i=0;i<c;i++)h[l+i]=s(u,n[i])+h[l+i-c];for(var m=v,A=1;A<b;A++){for(var i=0;i<c;i++)h[m+i]=s(u,n[i])+h[m+i-v];for(var l=c;l<f;l+=c)for(var i=0;i<c;i++){var w=m+l+i,y=h[w-c];_==6&&(y=h[w-v]+(y-h[w-c-v]>>>1)),h[w]=y+s(u,n[i])}m+=v}}},r.m=65475,r.K=65476,r.q=65496,r.V=65498;function g(h){var v=new r(h),u=v.Q>8?Uint16Array:Uint8Array,c=new u(v.o*v.F*v.O),b=v.o*v.O;return v.B(c,b),c}return g}()})(K,G)})()}(Ha)),Ha.exports}var et=ui();const ci={__name:"TiffViewer",props:{tiffUrl:String,isModal:{type:Boolean,default:!1},zoomLevel:{type:Number,default:1},rotationDegree:{type:Number,default:0},translateX:{type:Number,default:0}},emits:["error"],setup(B,{emit:K}){const G=B,z=_e(null),k=_e(!1),T=_e(!1),t=K,a=Ve(()=>({width:G.isModal?"100%":`${250*G.zoomLevel}px`,height:G.isModal?"100%":`${250*G.zoomLevel}px`,transform:`scale(${G.zoomLevel}) rotate(${G.rotationDegree}deg)  translateX(${G.translateX}px)`,objectFit:"contain",transformOrigin:"left"}));return rt(()=>[G.tiffUrl,G.rotationDegree],async()=>{if(G.tiffUrl){T.value=!0;try{const h=await(await fetch(G.tiffUrl)).arrayBuffer(),v=et.decode(h);et.decodeImage(h,v[0]);const u=et.toRGBA8(v[0]);if(z.value){const c=z.value,b=c.getContext("2d");c.width=v[0].width,c.height=v[0].height;const s=new ImageData(new Uint8ClampedArray(u),v[0].width,v[0].height);b.clearRect(0,0,c.width,c.height),b.save(),b.translate(c.width/2,c.height/2),b.rotate(G.rotationDegree*Math.PI/180),b.drawImage(c,-c.width/2,-c.height/2),b.restore(),b.putImageData(s,0,0)}T.value=!1}catch(g){T.value=!1,k.value=!0,t("error"),console.error("Erro ao carregar TIFF:",g)}}},{immediate:!0}),(g,h)=>(de(),Se(da,null,[x(T)?(de(),be(Mt,{key:0,style:{"margin-left":"200px"},class:"loading-spinner",indeterminate:"",size:"64"})):ze("",!0),x(k)?ze("",!0):(de(),Se("canvas",{key:1,ref_key:"tiffCanvas",ref:z,style:za(x(a))},null,4))],64))}},fi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAlmSURBVHic7Z1rjF1VFcd/zLSlUqYzLfJohxlKIBJTFAmmMcpjLNUAAY0JBIMxtISPimKCWm2V1wc/QpRHFCEYjSmvKtgXA8jDWkWKtFFMEGKlkKD2QaudaTvtjB/WvWFyufesfR57n33OXb9kfbkn9+z/3nudffZj7X3AMAzDMAzDMAzDMAzDMAzDMIw6c0zZAnIwH/g8cCHwceBE4ARghud0jwC7gf8ALwHPAY8DezynazQ4E3gAGAOmIrEx4H7gDI/57npmAKuBccqv8CRHWI3/Vqjr6AOeoPwKdrUngQEvJdGFzAVeofxKTWt/bmg3cjAD2ET5lZnVNmKvg1x8m/IrMa99s/BS6RJOBw5QfgXmtQPAomKLpju4C7cCfgm4FhgCegPo6gWGG2luddT4owC6asVcYD/JhToJfAfoKUkjjbRXNbQkad2PdQhTsRz9qVpVlrg2fA9d74rS1FWQdSQX5jbCNPeu9ALbSda8vjR1FWMecIjkwry+NHWduZ5kzYeR9QtD4TqqWZAD6I5rrwEHNpBciOvKk6ayHnsN5MKl+V9eljgHVlCx1itrPEA/cClwBfAxYLDxm28mgFOId+19PvAOMNNzOhPAv4G3gNeRhbINyHDTK8PIWrz2lPqyKjSh2mvAlx0Efgqc6iNTvcDtlL8WX4VOlNaJ9W1jwC0UOEyOZS0+uvdnB1xGAyFsIwXEJAwAf4kgM1PIO64qaCOZULadHFPQvYgXlZ2Jpl2ZNSMlcBXll1fT1pHxdXB7BOKbtp5qRTD3ENfDc3PaDAxTfofvKDLE+T4wO20GImA2UvCvI3kpsyzHkKG6Mw843nj6Wrzvsa/xHjNJH5Nwn+vN+9F7sUeBb1GtZrmu9AAr0VuZg8iITuWLyo2mkMo34mIler1d5XKjXyg32Yo9+THSA7xMct39rPVP7UKWz1USurNxs6rQB5yP5OujyLtzGDgOmeeYQAI39yL7/f4GvIb0bzYjHagqMAn8ENmi1olzXG6kxeIN55IZhkHgRuAFpIKz9p4PIZs/vwacFDQH2VhEcn72utxE60zEvNFhGTJt7WPYdRj4NdKaxMpM9M67ilYQMbIU2ELxld7JnkW2pcdI7vqrkgMsQDo2oSq+1R4CTvaQryHgEeR1vB9YC5zl+N+ucYBrgHcpr/Kbtgf4QoH5GkIOoGiXzpDD/2vvAMciPd2yK366TSKjo1kF5O+RhHQecvh/rR3gBKRnX3aFd7IngeNz5jFpFLbP4f+p6q/dhI5WyWVNAp0MjAIfyfDfw0gncRQZ5+9o2CHee2oXAIuBs4ElSMcyyxP9J+AyYFeG/4I4QKcp233oQR656y/GFmA+8FcHba32PDL9meWpnIcstoxmSPfFjGmCdPg63XeNw/9r9wqYjVRkmgpYi5wcVhSfIP36/iaytSBnIR2+1vvtwi3gs3YO8GMHTU17E/icRy3LgJ0p9NyRMZ0hpMO3r2FrcI/2rZUDfNlBz/Tm0Wm5MyfzgYcdNU1S7BDRhdo4wEJk7tqloH9A+M7pzY7a9uBnsqgTtXGAxxy0TAFfDaiplZsSdE23BwNqqoUDXOSgo/nkl81q3F4FoRaRauEAf3DQsYY4AlOOQc4K1vQ+E0hP5R1gxEHDm4Tp8LkyALyBrvtTAbRU3gFcniafQ72sXI6ue20AHZV2gFPQI3hCFGJWtFnDw8AHPWuotAN8wyH9Imf4iuYcdP1f8ayh0g7wrJL2857TLwJttfJpz+lX1gH6kSYyKe0qbBBdTnIexoEPeEy/sg7wWSXdQ+Rfaw/BHPQzji/2mH6q+ivzmNVWlijXtwD/CyEkJweQmIAkzgshxIWYHGCxcv2pICqK4ffKddcAT+/E5ACnK9dfDaKiGLYo180B2qDtX98RQkRB7FSuLwiiwoGYHECLddsRQkRB7FauR3N0fEwOMEe5Ph5ERTFoDhDNOkZMDjCpXK/SCSTaHrxoyj0aIcg4P4ljg6goBq2Jj2bLeUwOoMXRnxhERTFoWt8NosKBmBzgX8p1bZ4gJj6kXH8riAoHYnKAvyvXzw6iohg0rf8MosKBmBxAm+jRpopjYkS5vj2EiKzEvBg0z2P6RTEH/dP2n/GYfmVXA/uAI0ra13pMvyi+RLmrmpV1AND3AI56Tr8ItLCw5zynX2kHuNEh/ZgPaToX/SuiN3jWUGkHGEQPCt3oWUMetA9rHEECX31SaQcAOYpN07AsgI60uISFPxZAR+UdYKmDhp3E9fmYAWS1UtM9EkBL5R0A3M4BejSQFhceRdf7u0BaauEAFznomCLDlzA8cCtuWi8IpKcWDgByQoZLwd4UUFMrNyTomm6/DKipNg6wkPZn5bSz1YTfKXyLo7a9hA0Bq40DgJwG6lLIU8im0tzfyXNgALd3ftOcPtJQILVyAIB7HDQ17Q1kOOaLy4F/pNBzt0ctnaidA8wi/TFxozh+HMGR80j/9dSnKSeMrXYOANLsvuKgrdVeQPbqaQGn7TgOWdjJclDkVsK8jtqRqv6qdlTsJrI92WPIdq3NwB+RE0Z2N+woshJ5ErJhYzEyYfNJsm3i3Ibs/dMig32Ru/5ibAGaDBD3YdHPILucy6SWr4DpzALupfzKbrW7iCNyufYO0OQa3OcJfNou4GrPeU1D1zgAyGSR64yhD1tD2FNAXegqB2gygnTwQlX8ZsIc+ZaFrnSAJkuBX5HvW4GdbAKJVYj1a2FNutoBmiwEvg78lvwfjnwK+XBkbE19J1LVX5XmAbJyPPLBhyXAh4EzkbCs/ob1IAs2+4G3kenkV5GvfrxINY6lmU6q+usGB+g2UtVfu51Bddqm3W1odTPR+kM7B9CavGiONzHeh3bMzjutP7RzAO18m087yzFCs1S5/rbLTX5Oci9yK3FtKjWEHvQVU6cvl1yt3GQKWFmsdqMAVqHXm9NRu3OBg8qNjiJOYC1B+fQA30XfkjZOisOpXD/O/DKwAjgNGx2EZCawCLgO90CZn7S7Uacx/SDwGhIVY1SfceTYmvcdTdPb4Q//RdbdR/xpMgJyG/CbtH/qIX0gpFl8toHOD7pKP3KeTdmZMMtm2yjgWNo+3LZsm8Vl6ykwPrEX2YipHX5kVr4dQLbKeRmiDwL3oc8TmIW3cWSot7Bj7bUh69JuH3AJcAWyvj6EBEzYXEA49iLrNtuQfZEbqV7sgmEYhmEYhmEYhmEYhmEYhmEYnvk/IOetxTmdx/8AAAAASUVORK5CYII=",ft=Symbol.for("vuetify:v-slider");function vi(B,K,G){const z=G==="vertical",k=K.getBoundingClientRect(),T="touches"in B?B.touches[0]:B;return z?T.clientY-(k.top+k.height/2):T.clientX-(k.left+k.width/2)}function hi(B,K){return"touches"in B&&B.touches.length?B.touches[0][K]:"changedTouches"in B&&B.changedTouches.length?B.changedTouches[0][K]:B[K]}const _i=Ka({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:B=>typeof B=="boolean"||B==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:B=>typeof B=="boolean"||B==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:B=>["vertical","horizontal"].includes(B)},reverse:Boolean,...tr(),...rr({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),mi=B=>{const K=Ve(()=>parseFloat(B.min)),G=Ve(()=>parseFloat(B.max)),z=Ve(()=>+B.step>0?parseFloat(B.step):0),k=Ve(()=>Math.max(_t(z.value),_t(K.value)));function T(t){if(t=parseFloat(t),z.value<=0)return t;const a=Lt(t,K.value,G.value),r=K.value%z.value,g=Math.round((a-r)/z.value)*z.value+r;return parseFloat(Math.min(g,G.value).toFixed(k.value))}return{min:K,max:G,step:z,decimals:k,roundValue:T}},pi=B=>{let{props:K,steps:G,onSliderStart:z,onSliderMove:k,onSliderEnd:T,getActiveThumb:t}=B;const{isRtl:a}=it(),r=la(K,"reverse"),g=Ve(()=>K.direction==="vertical"),h=Ve(()=>g.value!==r.value),{min:v,max:u,step:c,decimals:b,roundValue:s}=G,_=Ve(()=>parseInt(K.thumbSize,10)),f=Ve(()=>parseInt(K.tickSize,10)),n=Ve(()=>parseInt(K.trackSize,10)),i=Ve(()=>(u.value-v.value)/c.value),l=la(K,"disabled"),m=Ve(()=>K.error||K.disabled?void 0:K.thumbColor??K.color),A=Ve(()=>K.error||K.disabled?void 0:K.trackColor??K.color),w=Ve(()=>K.error||K.disabled?void 0:K.trackFillColor??K.color),y=mt(!1),R=mt(0),V=_e(),D=_e();function P(te){var Le;const se=K.direction==="vertical",Ae=se?"top":"left",Be=se?"height":"width",Ke=se?"clientY":"clientX",{[Ae]:Re,[Be]:we}=(Le=V.value)==null?void 0:Le.$el.getBoundingClientRect(),$e=hi(te,Ke);let qe=Math.min(Math.max(($e-Re-R.value)/we,0),1)||0;return(se?h.value:h.value!==a.value)&&(qe=1-qe),s(v.value+qe*(u.value-v.value))}const N=te=>{T({value:P(te)}),y.value=!1,R.value=0},O=te=>{D.value=t(te),D.value&&(D.value.focus(),y.value=!0,D.value.contains(te.target)?R.value=vi(te,D.value,K.direction):(R.value=0,k({value:P(te)})),z({value:P(te)}))},$={passive:!0,capture:!0};function U(te){k({value:P(te)})}function J(te){te.stopPropagation(),te.preventDefault(),N(te),window.removeEventListener("mousemove",U,$),window.removeEventListener("mouseup",J)}function M(te){var se;N(te),window.removeEventListener("touchmove",U,$),(se=te.target)==null||se.removeEventListener("touchend",M)}function L(te){var se;O(te),window.addEventListener("touchmove",U,$),(se=te.target)==null||se.addEventListener("touchend",M,{passive:!1})}function Z(te){te.preventDefault(),O(te),window.addEventListener("mousemove",U,$),window.addEventListener("mouseup",J,{passive:!1})}const W=te=>{const se=(te-v.value)/(u.value-v.value)*100;return Lt(isNaN(se)?0:se,0,100)},X=la(K,"showTicks"),E=Ve(()=>X.value?K.ticks?Array.isArray(K.ticks)?K.ticks.map(te=>({value:te,position:W(te),label:te.toString()})):Object.keys(K.ticks).map(te=>({value:parseFloat(te),position:W(parseFloat(te)),label:K.ticks[te]})):i.value!==1/0?ir(i.value+1).map(te=>{const se=v.value+te*c.value;return{value:se,position:W(se)}}):[]:[]),ce=Ve(()=>E.value.some(te=>{let{label:se}=te;return!!se})),Q={activeThumbRef:D,color:la(K,"color"),decimals:b,disabled:l,direction:la(K,"direction"),elevation:la(K,"elevation"),hasLabels:ce,isReversed:r,indexFromEnd:h,min:v,max:u,mousePressed:y,numTicks:i,onSliderMousedown:Z,onSliderTouchstart:L,parsedTicks:E,parseMouseMove:P,position:W,readonly:la(K,"readonly"),rounded:la(K,"rounded"),roundValue:s,showTicks:X,startOffset:R,step:c,thumbSize:_,thumbColor:m,thumbLabel:la(K,"thumbLabel"),ticks:la(K,"ticks"),tickSize:f,trackColor:A,trackContainerRef:V,trackFillColor:w,trackSize:n,vertical:g};return nr(ft,Q),Q},gi=Ka({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Kt()},"VSliderThumb"),Ai=nt()({name:"VSliderThumb",directives:{Ripple:or},props:gi(),emits:{"update:modelValue":B=>!0},setup(B,K){let{slots:G,emit:z}=K;const k=Tt(ft),{isRtl:T,rtlClasses:t}=it();if(!k)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:a,step:r,disabled:g,thumbSize:h,thumbLabel:v,direction:u,isReversed:c,vertical:b,readonly:s,elevation:_,mousePressed:f,decimals:n,indexFromEnd:i}=k,l=Ve(()=>g.value?void 0:_.value),{elevationClasses:m}=lr(l),{textColorClasses:A,textColorStyles:w}=sr(a),{pageup:y,pagedown:R,end:V,home:D,left:P,right:N,down:O,up:$}=cr,U=[y,R,V,D,P,N,O,$],J=Ve(()=>r.value?[1,2,3]:[1,5,10]);function M(Z,W){if(!U.includes(Z.key))return;Z.preventDefault();const X=r.value||.1,E=(B.max-B.min)/X;if([P,N,O,$].includes(Z.key)){const Q=(b.value?[T.value?P:N,c.value?O:$]:i.value!==T.value?[P,$]:[N,$]).includes(Z.key)?1:-1,te=Z.shiftKey?2:Z.ctrlKey?1:0;W=W+Q*X*J.value[te]}else if(Z.key===D)W=B.min;else if(Z.key===V)W=B.max;else{const ce=Z.key===R?1:-1;W=W-ce*X*(E>100?E/10:10)}return Math.max(B.min,Math.min(B.max,W))}function L(Z){const W=M(Z,B.modelValue);W!=null&&z("update:modelValue",W)}return ot(()=>{const Z=ba(i.value?100-B.position:B.position,"%");return S("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":B.focused,"v-slider-thumb--pressed":B.focused&&f.value},B.class,t.value],style:[{"--v-slider-thumb-position":Z,"--v-slider-thumb-size":ba(h.value)},B.style],role:"slider",tabindex:g.value?-1:0,"aria-label":B.name,"aria-valuemin":B.min,"aria-valuemax":B.max,"aria-valuenow":B.modelValue,"aria-readonly":!!s.value,"aria-orientation":u.value,onKeydown:s.value?void 0:L},[S("div",{class:["v-slider-thumb__surface",A.value,m.value],style:{...w.value}},null),Ye(S("div",{class:["v-slider-thumb__ripple",A.value],style:w.value},null),[[Ia("ripple"),B.ripple,null,{circle:!0,center:!0}]]),S(dr,{origin:"bottom center"},{default:()=>{var W;return[Ye(S("div",{class:"v-slider-thumb__label-container"},[S("div",{class:["v-slider-thumb__label"]},[S("div",null,[((W=G["thumb-label"])==null?void 0:W.call(G,{modelValue:B.modelValue}))??B.modelValue.toFixed(r.value?n.value:1)])])]),[[ur,v.value&&B.focused||v.value==="always"]])]}})])}),{}}}),bi=Ka({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Kt()},"VSliderTrack"),wi=nt()({name:"VSliderTrack",props:bi(),emits:{},setup(B,K){let{slots:G}=K;const z=Tt(ft);if(!z)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:k,parsedTicks:T,rounded:t,showTicks:a,tickSize:r,trackColor:g,trackFillColor:h,trackSize:v,vertical:u,min:c,max:b,indexFromEnd:s}=z,{roundedClasses:_}=fr(t),{backgroundColorClasses:f,backgroundColorStyles:n}=pt(h),{backgroundColorClasses:i,backgroundColorStyles:l}=pt(g),m=Ve(()=>`inset-${u.value?"block":"inline"}-${s.value?"end":"start"}`),A=Ve(()=>u.value?"height":"width"),w=Ve(()=>({[m.value]:"0%",[A.value]:"100%"})),y=Ve(()=>B.stop-B.start),R=Ve(()=>({[m.value]:ba(B.start,"%"),[A.value]:ba(y.value,"%")})),V=Ve(()=>a.value?(u.value?T.value.slice().reverse():T.value).map((P,N)=>{var $;const O=P.value!==c.value&&P.value!==b.value?ba(P.position,"%"):void 0;return S("div",{key:P.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":P.position>=B.start&&P.position<=B.stop,"v-slider-track__tick--first":P.value===c.value,"v-slider-track__tick--last":P.value===b.value}],style:{[m.value]:O}},[(P.label||G["tick-label"])&&S("div",{class:"v-slider-track__tick-label"},[(($=G["tick-label"])==null?void 0:$.call(G,{tick:P,index:N}))??P.label])])}):[]);return ot(()=>S("div",{class:["v-slider-track",_.value,B.class],style:[{"--v-slider-track-size":ba(v.value),"--v-slider-tick-size":ba(r.value)},B.style]},[S("div",{class:["v-slider-track__background",i.value,{"v-slider-track__background--opacity":!!k.value||!h.value}],style:{...w.value,...l.value}},null),S("div",{class:["v-slider-track__fill",f.value],style:{...R.value,...n.value}},null),a.value&&S("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":a.value==="always"}]},[V.value])])),{}}}),ki=Ka({...vr(),..._i(),...hr(),modelValue:{type:[Number,String],default:0}},"VSlider"),yi=nt()({name:"VSlider",props:ki(),emits:{"update:focused":B=>!0,"update:modelValue":B=>!0,start:B=>!0,end:B=>!0},setup(B,K){let{slots:G,emit:z}=K;const k=_e(),{rtlClasses:T}=it(),t=mi(B),a=_r(B,"modelValue",void 0,A=>t.roundValue(A??t.min.value)),{min:r,max:g,mousePressed:h,roundValue:v,onSliderMousedown:u,onSliderTouchstart:c,trackContainerRef:b,position:s,hasLabels:_,readonly:f}=pi({props:B,steps:t,onSliderStart:()=>{z("start",a.value)},onSliderEnd:A=>{let{value:w}=A;const y=v(w);a.value=y,z("end",y)},onSliderMove:A=>{let{value:w}=A;return a.value=v(w)},getActiveThumb:()=>{var A;return(A=k.value)==null?void 0:A.$el}}),{isFocused:n,focus:i,blur:l}=mr(B),m=Ve(()=>s(a.value));return ot(()=>{const A=gt.filterProps(B),w=!!(B.label||G.label||G.prepend);return S(gt,Ut({class:["v-slider",{"v-slider--has-labels":!!G["tick-label"]||_.value,"v-slider--focused":n.value,"v-slider--pressed":h.value,"v-slider--disabled":B.disabled},T.value,B.class],style:B.style},A,{focused:n.value}),{...G,prepend:w?y=>{var R,V;return S(da,null,[((R=G.label)==null?void 0:R.call(G,y))??(B.label?S(pr,{id:y.id.value,class:"v-slider__label",text:B.label},null):void 0),(V=G.prepend)==null?void 0:V.call(G,y)])}:void 0,default:y=>{let{id:R,messagesId:V}=y;return S("div",{class:"v-slider__container",onMousedown:f.value?void 0:u,onTouchstartPassive:f.value?void 0:c},[S("input",{id:R.value,name:B.name||R.value,disabled:!!B.disabled,readonly:!!B.readonly,tabindex:"-1",value:a.value},null),S(wi,{ref:b,start:0,stop:m.value},{"tick-label":G["tick-label"]}),S(Ai,{ref:k,"aria-describedby":V.value,focused:n.value,min:r.value,max:g.value,modelValue:a.value,"onUpdate:modelValue":D=>a.value=D,position:m.value,elevation:B.elevation,onFocus:i,onBlur:l,ripple:B.ripple,name:B.name},{"thumb-label":G["thumb-label"]})])}})}),{}}}),xi=["src"],Ei={key:2,src:fi},Ci={__name:"ReconhecimentoFacial",setup(B){const K=_e(null),G=_e([]),z=_e(""),k=_e(!1),T=_e(null),t=_e(null),a=wa(),{id:r}=a.params,g=_e(1),v=De("pessoa_token").value,c=De("user-data").value.nome,b=fa(),s=`${b.public.managemant}/upload`,_=`${b.public.managemant}/getLinkTipo`,f=`${b.public.managemant}/download`,{$toast:n}=ma(),i=Ve(()=>!!t.value),l=Ve(()=>!!T.value),m=_e(!1),A=async()=>{const P=await navigator.mediaDevices.enumerateDevices();G.value=P.filter(N=>N.kind==="videoinput").map(N=>({deviceId:N.deviceId,label:N.label||`Camera ${G.value.length+1}`}))},w=async()=>{k.value=!0;try{await navigator.mediaDevices.getUserMedia({video:!0}),await A()}catch(P){console.error("Erro ao acessar dispositivos de mídia:",P)}},y=()=>{k.value=!1;const P=K.value.srcObject;P&&P.getTracks().forEach(O=>O.stop())},R=async()=>{if(z.value){const P=await navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:z.value}}});K.value.srcObject=P}},V=async()=>{const P=document.createElement("canvas"),N=P.getContext("2d"),O=K.value.videoWidth,$=K.value.videoHeight,U=O*g.value,J=$*g.value,M=(O-U)/2,L=($-J)/2;P.width=O,P.height=$,N.drawImage(K.value,M,L,U,J),P.toBlob(async Z=>{const W=new FormData;W.append("file",Z,`${c}.jpg`),W.append("cartorio_token",De("user-data").value.cartorio_token),W.append("token",v),W.append("tipo","foto");const{status:X}=await Qe(s,{method:"POST",body:W},"$fRRPU47ULS");if(X.value==="success"){n.success("Imagem enviada!");const E=URL.createObjectURL(Z);T.value=E,y()}else n.error("Erro ao enviar imagem para o sistema.")},"image/jpeg")};return r&&(async P=>{var J;if(!P)return;const{data:N}=await Qe(_,{method:"POST",body:{tipo:"foto",id:P}},"$N16ZtKMkSh");if(!((J=N.value)!=null&&J.link))return;const{data:O}=await Qe(f,{method:"POST",body:{bucket:De("user-data").value.cartorio_token,path:N.value.link}},"$mC9TAMOeqI"),$=N.value.link,U=O.value;/\.(tr7|tiff)$/i.test($)?(t.value=U,m.value=!1):T.value=U})(r),La(async()=>{try{await navigator.mediaDevices.getUserMedia({video:!0}),await A()}catch(P){console.error("Erro ao acessar dispositivos de mídia:",P)}}),(P,N)=>{const O=ci;return de(),be(ve,{cols:"auto"},{default:j(()=>[S(Ta,{"max-width":"700",modelValue:x(k),"onUpdate:modelValue":N[3]||(N[3]=$=>_a(k)?k.value=$:null)},{activator:j(({props:$})=>[S(Ge,Ut($,{variant:"outlined",style:{width:"300px",height:"300px"},onClick:w}),{default:j(()=>[x(i)&&!x(m)?(de(),be(O,{key:0,"tiff-url":x(t),onError:N[0]||(N[0]=U=>m.value=!0)},null,8,["tiff-url"])):x(l)?(de(),Se("img",{key:1,src:x(T),style:{width:"100%",height:"100%","object-fit":"cover"}},null,8,xi)):(de(),Se("img",Ei))]),_:2},1040)]),default:j(({isActive:$})=>[S(Ua,{title:"Biometria"},{default:j(()=>[S(Ie,null,{default:j(()=>[S(ve,null,{default:j(()=>[S(ia,null,{default:j(()=>[S(Ht,{items:x(G),modelValue:x(z),"onUpdate:modelValue":N[1]||(N[1]=U=>_a(z)?z.value=U:null),"item-title":"label","item-value":"deviceId",label:"Selecionar Webcam"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1}),S(Ie,null,{default:j(()=>[S(ve,null,{default:j(()=>[S(Ge,{size:"large",class:"ml-5",onClick:R},{default:j(()=>N[4]||(N[4]=[Ne("Exibir")])),_:1})]),_:1})]),_:1}),S(ia,null,{default:j(()=>[S(yi,{modelValue:x(g),"onUpdate:modelValue":N[2]||(N[2]=U=>_a(g)?g.value=U:null),min:1,max:3,step:"0.1",label:"Zoom"},null,8,["modelValue"])]),_:1}),S(Ie,null,{default:j(()=>[S(ia,{style:{overflow:"hidden"}},{default:j(()=>[S(ve,{class:"d-flex justify-center align-center"},{default:j(()=>[Ee("video",{ref_key:"video",ref:K,width:"360",height:"300",autoplay:"",style:za({transform:`scale(${x(g)})`,transformOrigin:"center center"})},null,4)]),_:1})]),_:1})]),_:1}),S(Ie,{class:"mt-10 mb-5 ml-5"},{default:j(()=>[S(Ge,{color:"red",size:"large",onClick:y},{default:j(()=>N[5]||(N[5]=[Ne("Fechar")])),_:1}),S(Ge,{color:"green",size:"large",class:"ml-5",onClick:V},{default:j(()=>N[6]||(N[6]=[Ne("Salvar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}},Vi=""+new URL("escanearFicha.CgD8l9Wn.png",import.meta.url).href,Si={__name:"Scanner",setup(B){const K=fa(),{$toast:G}=ma(),z=`${K.public.envioDoc}`,k=`${K.public.biometria}/run-scanner`,t=De("pessoa_token").value;async function a(){try{await r(),await g()}catch(h){console.error("Erro ao executar scanner ou listar arquivos:",h)}}async function r(){try{const{data:h}=await Qe(k,{method:"GET"},"$qlTK399Ixo")}catch(h){G.error("Erro ao acionar o scanner:",h)}}async function g(){try{const{status:h,data:v}=await Qe(z,{method:"POST",body:{tipo:"ficha",token:t,cartorio_token:De("user-data").value.cartorio_token}},"$JkvEThvk9m")}catch(h){G.error(h),console.error("Erro ao enviar o arquivo:",h)}}return(h,v)=>(de(),Se("div",null,[Ee("img",{onClick:a,src:Vi,style:{width:"280px",height:"120px",cursor:"pointer","margin-top":"30px"}})]))}},Di=""+new URL("imprimirFicha.BlhLZ85F.png",import.meta.url).href,Bi={style:{display:"flex","flex-direction":"column"}},Ii={key:0},Ri={__name:"Impressao",props:{linkFicha:String},setup(B){const K=B,G=_e(""),z=fa(),k=`${z.public.managemant}/gerarRelatorioPessoa`,T=`${z.public.managemant}/download`,t=_e(null),a=_e(!1),r=_e(!1),g=_e({}),h=async()=>{const c=await Qe(k,{method:"POST",body:{consulta:"FICHA ASSINATURA",pessoa_token:De("pessoa_token").value}},"$LOyFO5WGQE");G.value=c.data.value},v=async()=>{if(r.value=!0,a.value=!0,K.linkFicha){g.value={token:De("pessoa_token").value,link_ficha:K.linkFicha};const{data:c}=await Qe(T,{method:"POST",body:{bucket:De("user-data").value.cartorio_token,path:K.linkFicha}},"$BxSla0y3eT");t.value=c.value}},u=async()=>{await h();const c=document.createElement("iframe");c.style.position="absolute",c.style.width="0px",c.style.height="0px",c.style.border="none",document.body.appendChild(c);const b=c.contentWindow.document;b.open(),b.write(G.value),b.close(),c.contentWindow.focus(),c.contentWindow.print(),document.body.removeChild(c)};return(c,b)=>{const s=Si,_=gr;return de(),Se(da,null,[S(ve,{cols:"auto"},{default:j(()=>[Ee("div",Bi,[Ee("img",{onClick:b[0]||(b[0]=f=>u()),src:Di,style:{width:"280px",height:"120px",cursor:"pointer"}}),S(s)]),K.linkFicha?(de(),Se("div",Ii,[Ee("img",{onClick:b[1]||(b[1]=f=>v()),style:{width:"80px",height:"80px",cursor:"pointer"},src:Jt,alt:"Ver ficha"})])):ze("",!0)]),_:1}),x(r)?(de(),be(_,{key:0,show:x(r),"link-view":x(t),"is-view":!0,"pessoa-obj":x(g),onClose:b[2]||(b[2]=f=>r.value=!1)},null,8,["show","link-view","pessoa-obj"])):ze("",!0)],64)}}},Ni={__name:"Index",props:{isModal:{type:Boolean,default:!1},linkFicha:String},emits:["close-modal"],setup(B,{emit:K}){const G=Da(),z=K,k=B,T=()=>{if(k.isModal===!0){z("close-modal");return}G.push("/pessoas/lista")};return(t,a)=>{const r=Xr,g=Ci,h=Ri;return de(),Se(da,null,[S(ia,null,{default:j(()=>[S(Ie,{class:"d-flex align-items-center"},{default:j(()=>[S(r),S(g,{class:"ml-5 mr-5"}),S(h,{"link-ficha":k.linkFicha},null,8,["link-ficha"])]),_:1})]),_:1}),S(Ge,{onClick:T,class:"mt-10",size:"large",color:"red"},{default:j(()=>a[0]||(a[0]=[Ne("Voltar")])),_:1})],64)}}},Pi={},zi={style:{height:"425px"}};function Mi(B,K){return de(),Se("div",zi,K[0]||(K[0]=[Ee("h1",null,"Restrições",-1)]))}const $i=Ot(Pi,[["render",Mi]]),Oi={style:{"background-color":"#f5f2f2",padding:"5px 0px 0px 20px"}},Li={__name:"RegistroPessoas",props:{show:Boolean},emits:["close"],setup(B,{emit:K}){const G=B,z=_e(G.show),k=K,T=_e("dados"),t=_e(!1),a=_e(!1),r=_e(!1),g=Ba({tipo_pessoa:"FISICA"}),h=[{label:"FÍSICA",value:"FISICA"},{label:"JURÍDICA",value:"JURIDICA"},{label:"ESTRANGEIRA",value:"ESTRANGEIRA"}],v=()=>{t.value=!0,r.value=!0},u=()=>{a.value=!0,r.value=!0};rt(()=>G.show,b=>{z.value=b});const c=()=>{z.value=!1,k("close")};return(b,s)=>{const _=kr,f=xr,n=Mr,i=Kr,l=Zr,m=Ni,A=$i;return de(),be(Ta,{persistent:"",modelValue:x(z),"onUpdate:modelValue":s[3]||(s[3]=w=>_a(z)?z.value=w:null),"max-width":"900"},{default:j(()=>[S(Ua,null,{default:j(()=>[S(ia,null,{default:j(()=>[s[10]||(s[10]=Ee("h1",{style:{"background-color":"#f5f2f2",color:"#525050",padding:"10px 0px 0px 20px"}}," Cadastramento de pessoas ",-1)),Ee("div",Oi,[S(Je,{modelValue:x(g).tipo_pessoa,"onUpdate:modelValue":s[0]||(s[0]=w=>x(g).tipo_pessoa=w),style:{width:"200px"},items:h,"item-title":"label","item-value":"value",label:"Tipo de pessoa","bg-color":"#F6F6F6",disabled:x(r)},null,8,["modelValue","disabled"])]),S(Ar,{modelValue:x(T),"onUpdate:modelValue":s[1]||(s[1]=w=>_a(T)?T.value=w:null),"bg-color":"#f5f2f2"},{default:j(()=>[S(Ea,{value:"dados"},{default:j(()=>s[4]||(s[4]=[Ne("Dados")])),_:1}),x(t)?(de(),be(Ea,{key:0,value:"documento"},{default:j(()=>s[5]||(s[5]=[Ne("Documentos")])),_:1})):ze("",!0),x(a)?(de(),be(Ea,{key:1,value:"representante"},{default:j(()=>s[6]||(s[6]=[Ne("Representantes")])),_:1})):ze("",!0),x(a)||x(t)?(de(),be(Ea,{key:2,value:"endereco"},{default:j(()=>s[7]||(s[7]=[Ne("Endereços")])),_:1})):ze("",!0),x(t)?(de(),be(Ea,{key:3,value:"biometria"},{default:j(()=>s[8]||(s[8]=[Ne("Biometria")])),_:1})):ze("",!0),x(a)||x(t)?(de(),be(Ea,{key:4,value:"restricao"},{default:j(()=>s[9]||(s[9]=[Ne("Restrições")])),_:1})):ze("",!0)]),_:1},8,["modelValue"]),S(br,{modelValue:x(T),"onUpdate:modelValue":s[2]||(s[2]=w=>_a(T)?T.value=w:null)},{default:j(()=>[S(Ca,{value:"dados"},{default:j(()=>[x(g).tipo_pessoa==="FISICA"?(de(),be(_,{key:0,onSaved:v,onCloseModal:c,isModal:!0})):x(g).tipo_pessoa==="JURIDICA"?(de(),be(f,{key:1,onSaved:u,onCloseModal:c,isModal:!0})):ze("",!0)]),_:1}),b.showTabs?(de(),be(Ca,{key:0,value:"documento"},{default:j(()=>[S(n,{onCloseModal:c,isModal:!0})]),_:1})):ze("",!0),x(a)?(de(),be(Ca,{key:1,value:"representante"},{default:j(()=>[S(i,{onCloseModal:c,isModal:!0})]),_:1})):ze("",!0),x(a)||x(t)?(de(),be(Ca,{key:2,value:"endereco"},{default:j(()=>[S(l,{onCloseModal:c,isModal:!0})]),_:1})):ze("",!0),b.showTabs?(de(),be(Ca,{key:3,value:"biometria"},{default:j(()=>[S(ia,null,{default:j(()=>[S(m,{onCloseModal:c,isModal:!0})]),_:1})]),_:1})):ze("",!0),b.showTabs?(de(),be(Ca,{key:4,value:"restricao"},{default:j(()=>[S(A,{onCloseModal:c,isModal:!0})]),_:1})):ze("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}};export{Li as _,Vr as a,Er as b,Cr as c,ci as d,xr as e,Mr as f,Kr as g,Zr as h,Ni as i,$i as j,kr as k};
