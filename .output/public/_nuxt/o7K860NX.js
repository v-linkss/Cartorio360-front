import{_ as ge}from"./sSclawB8.js";import{P as R,ar as F,as as Y,Q as M,R as $,b as a,aw as be,ay as he,az as ie,aB as re,aZ as ue,aK as W,bl as ye,bo as Se,br as ce,aE as _e,at as ke,aG as w,A as h,aH as Ve,bc as z,aQ as p,c1 as Te,r as Z,aO as xe,g as q,l as de,G as Ce,e7 as Be,Y as Ne,bY as we,e8 as Pe,S as D,aj as Ee,W as He,bh as Re,b5 as Ie,aD as Le,b6 as Ae,e9 as We,bp as De,ea as Me,c0 as $e,q as pe,bW as qe,a1 as X,bg as Oe,bn as Ue,eb as Fe,_ as Ye,D as je,e as O,k as ee,bK as Je,o as C,h as L,w as d,a as A,t as E,i as H,L as ze,c as G,F as K,H as Q,ba as te,V as U,d as N,a5 as Ge,ec as Ke}from"./CTSKgcpy.js";import{C as ae}from"./CwW0sbxp.js";import{V as Qe}from"./Hp46IEy0.js";import{b as ve,V as le,a as oe,c as ne}from"./DpMCEPiN.js";import"./TDtrdbi3.js";import"./EYlFtN6H.js";import"./C8v71UOG.js";import"./8g4DeN--.js";const Xe=""+new URL("logo_navbar.WRqgS9jl.png",import.meta.url).href,Ze=R({text:String,...F(),...Y()},"VToolbarTitle"),et=M()({name:"VToolbarTitle",props:Ze(),setup(e,g){let{slots:t}=g;return $(()=>{const b=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var u;return[b&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(u=t.default)==null?void 0:u.call(t)])]}})}),{}}}),tt=[null,"prominent","default","comfortable","compact"],me=R({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>tt.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...be(),...F(),...he(),...ie(),...Y({tag:"header"}),...re()},"VToolbar"),se=M()({name:"VToolbar",props:me(),setup(e,g){var S;let{slots:t}=g;const{backgroundColorClasses:b,backgroundColorStyles:u}=ue(W(e,"color")),{borderClasses:l}=ye(e),{elevationClasses:f}=Se(e),{roundedClasses:v}=ce(e),{themeClasses:y}=_e(e),{rtlClasses:T}=ke(),c=w(!!(e.extended||(S=t.extension)!=null&&S.call(t))),m=h(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),k=h(()=>c.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Ve({VBtn:{variant:"text"}}),$(()=>{var x;const s=!!(e.title||t.title),n=!!(t.image||e.image),_=(x=t.extension)==null?void 0:x.call(t);return c.value=!!(e.extended||_),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},b.value,l.value,f.value,v.value,y.value,T.value,e.class],style:[u.value,e.style]},{default:()=>[n&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(z,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(Qe,{key:"image-img",cover:!0,src:e.image},null)]),a(z,{defaults:{VTabs:{height:p(m.value)}}},{default:()=>{var P,i,V;return[a("div",{class:"v-toolbar__content",style:{height:p(m.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(P=t.prepend)==null?void 0:P.call(t)]),s&&a(et,{key:"title",text:e.title},{text:t.title}),(i=t.default)==null?void 0:i.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(V=t.append)==null?void 0:V.call(t)])])]}}),a(z,{defaults:{VTabs:{height:p(k.value)}}},{default:()=>[a(Te,null,{default:()=>[c.value&&a("div",{class:"v-toolbar__extension",style:{height:p(k.value)}},[_])]})]})]})}),{contentHeight:m,extensionHeight:k}}}),at=R({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function lt(e){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=g;let b=0,u=0;const l=Z(null),f=w(0),v=w(0),y=w(0),T=w(!1),c=w(!1),m=h(()=>Number(e.scrollThreshold)),k=h(()=>xe((m.value-f.value)/m.value||0)),S=()=>{const s=l.value;if(!s||t&&!t.value)return;b=f.value,f.value="window"in s?s.pageYOffset:s.scrollTop;const n=s instanceof Window?document.documentElement.scrollHeight:s.scrollHeight;if(u!==n){u=n;return}c.value=f.value<b,y.value=Math.abs(f.value-m.value)};return q(c,()=>{v.value=v.value||f.value}),q(T,()=>{v.value=0}),de(()=>{q(()=>e.scrollTarget,s=>{var _;const n=s?document.querySelector(s):window;n&&n!==l.value&&((_=l.value)==null||_.removeEventListener("scroll",S),l.value=n,l.value.addEventListener("scroll",S,{passive:!0}))},{immediate:!0})}),Ce(()=>{var s;(s=l.value)==null||s.removeEventListener("scroll",S)}),t&&q(t,S,{immediate:!0}),{scrollThreshold:m,currentScroll:f,currentThreshold:y,isScrollActive:T,scrollRatio:k,isScrollingUp:c,savedScroll:v}}const ot=R({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...me(),...Be(),...at(),height:{type:[Number,String],default:64}},"VAppBar"),nt=M()({name:"VAppBar",props:ot(),emits:{"update:modelValue":e=>!0},setup(e,g){let{slots:t}=g;const b=Z(),u=Ne(e,"modelValue"),l=h(()=>{var V;const i=new Set(((V=e.scrollBehavior)==null?void 0:V.split(" "))??[]);return{hide:i.has("hide"),fullyHide:i.has("fully-hide"),inverted:i.has("inverted"),collapse:i.has("collapse"),elevate:i.has("elevate"),fadeImage:i.has("fade-image")}}),f=h(()=>{const i=l.value;return i.hide||i.fullyHide||i.inverted||i.collapse||i.elevate||i.fadeImage||!u.value}),{currentScroll:v,scrollThreshold:y,isScrollingUp:T,scrollRatio:c}=lt(e,{canScroll:f}),m=h(()=>l.value.hide||l.value.fullyHide),k=h(()=>e.collapse||l.value.collapse&&(l.value.inverted?c.value>0:c.value===0)),S=h(()=>e.flat||l.value.fullyHide&&!u.value||l.value.elevate&&(l.value.inverted?v.value>0:v.value===0)),s=h(()=>l.value.fadeImage?l.value.inverted?1-c.value:c.value:void 0),n=h(()=>{var o,r;const i=Number(((o=b.value)==null?void 0:o.contentHeight)??e.height),V=Number(((r=b.value)==null?void 0:r.extensionHeight)??0);return m.value?v.value<y.value||l.value.fullyHide?i+V:i:i+V});we(h(()=>!!e.scrollBehavior),()=>{Ee(()=>{m.value?l.value.inverted?u.value=v.value>y.value:u.value=T.value||v.value<y.value:u.value=!0})});const{ssrBootStyles:_}=ve(),{layoutItemStyles:x,layoutIsReady:P}=Pe({id:e.name,order:h(()=>parseInt(e.order,10)),position:W(e,"location"),layoutSize:n,elementSize:w(void 0),active:u,absolute:W(e,"absolute")});return $(()=>{const i=se.filterProps(e);return a(se,D({ref:b,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...x.value,"--v-toolbar-image-opacity":s.value,height:void 0,..._.value},e.style]},i,{collapse:k.value,flat:S.value}),t)}),P}}),st=R({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:He,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...F(),...Re({location:"top end"}),...ie(),...Y(),...re(),...Ie({transition:"scale-rotate-transition"})},"VBadge"),it=M()({name:"VBadge",inheritAttrs:!1,props:st(),setup(e,g){const{backgroundColorClasses:t,backgroundColorStyles:b}=ue(W(e,"color")),{roundedClasses:u}=ce(e),{t:l}=Le(),{textColorClasses:f,textColorStyles:v}=Ae(W(e,"textColor")),{themeClasses:y}=We(),{locationStyles:T}=De(e,!0,c=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(c)?+(e.offsetY??0):["left","right"].includes(c)?+(e.offsetX??0):0));return $(()=>{const c=Number(e.content),m=!e.max||isNaN(c)?e.content:c<=+e.max?c:`${e.max}+`,[k,S]=Me(g.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,D({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},S,{style:e.style}),{default:()=>{var s,n;return[a("div",{class:"v-badge__wrapper"},[(n=(s=g.slots).default)==null?void 0:n.call(s),a($e,{transition:e.transition},{default:()=>{var _,x;return[pe(a("span",D({class:["v-badge__badge",y.value,t.value,u.value,f.value],style:[b.value,v.value,e.inline?{}:T.value],"aria-atomic":"true","aria-label":l(e.label,c),"aria-live":"polite",role:"status"},k),[e.dot?void 0:g.slots.badge?(x=(_=g.slots).badge)==null?void 0:x.call(_):e.icon?a(X,{icon:e.icon},null):m]),[[qe,e.modelValue]])]}})])]}})}),{}}}),rt=R({scrollable:Boolean,...F(),...Oe(),...Y({tag:"main"})},"VMain"),ut=M()({name:"VMain",props:rt(),setup(e,g){let{slots:t}=g;const{dimensionStyles:b}=Ue(e),{mainStyles:u,layoutIsReady:l}=Fe(),{ssrBootStyles:f}=ve();return $(()=>a(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[u.value,f.value,b.value,e.style]},{default:()=>{var v,y;return[e.scrollable?a("div",{class:"v-main__scroller"},[(v=t.default)==null?void 0:v.call(t)]):(y=t.default)==null?void 0:y.call(t)]}})),l}}),ct={class:"d-flex align-center"},dt={class:"cartorio ml-6"},vt={class:"mt-1"},mt={__name:"default",setup(e){const g=ee(),t=je(),b=[{title:"Alterar Senha"},{title:"Sair"}],u=O("menu-navbar"),l=O("user-data"),f=O("auth_token"),v=ee().public.docEditor,y=o=>{const j=ae.AES.decrypt(o,v).toString(ae.enc.Utf8);return JSON.parse(j)},T=userData?y(userData.cpf):null,c=h(()=>Object.keys(u.value||{}).filter(o=>o!=="Tela Principal").map(o=>({name:o,subMenus:Object.keys(u.value[o]).map(r=>({name:r,url:u.value[o][r].url}))}))),m=h(()=>{var o;return((o=l.value)==null?void 0:o.nome)??"UsuÃ¡rio"}),k=h(()=>{var o;return((o=l.value)==null?void 0:o.cartorio_nome)??""}),S=O("userName");S.value=m.value;const s=Z(0);let n=null;function _(){t.push("/chat_atendimento")}function x(){n=new WebSocket(`${g.public.chat_bot}?user_name=${m.value}&room_id=notifications`),n.onopen=()=>{console.log("ðŸ”Œ WebSocket conectado"),V()},n.onmessage=o=>{try{console.log(o.data);const r=JSON.parse(o.data);switch(r.type){case"notification":console.log("Nova notificaÃ§Ã£o recebida:",r),s.value=r.queue.length||0;break;case"queue_list":console.log("Lista de notificaÃ§Ãµes recebida:",r),s.value=r.totalRequests||0;break}}catch(r){console.error("Falha ao parsear mensagem:",r)}},n.onclose=()=>{console.warn("WebSocket desconectado â€” reconectando em 5 sâ€¦"),setTimeout(x,5e3)},n.onerror=o=>{console.error("Erro WebSocket:",o),n.close()}}de(x),Je(()=>n==null?void 0:n.close());function P(o){o==="Sair"&&i()}function i(){l.value="",f.value="",t.push("/login")}function V(){if(n&&n.readyState===WebSocket.OPEN){const o={type:"queue_list",message:"1",id:"notifications"};n.send(JSON.stringify(o)),console.log("ðŸ“¤ Evento enviado ao WebSocket:",o)}else console.warn("âš ï¸ WebSocket nÃ£o estÃ¡ conectado. Tentando novamente em 1 segundo..."),setTimeout(V,1e3)}return(o,r)=>{const j=ge;return C(),L(Ke,null,{default:d(()=>[a(nt,{color:"#0a063b",height:"100"},{default:d(()=>[A("div",ct,[r[0]||(r[0]=A("img",{class:"ml-5 mt-2",width:"300",height:"50",src:Xe},null,-1)),A("h3",dt,E(H(k)),1)]),a(ze),(C(!0),G(K,null,Q(H(c),(B,J)=>(C(),L(te,{key:`menu-${J}`},{activator:d(({props:I})=>[a(U,D({ref_for:!0},I,{text:"",class:"white--text"}),{default:d(()=>[N(E(B.name),1)]),_:2},1040)]),default:d(()=>[a(le,null,{default:d(()=>[(C(!0),G(K,null,Q(B.subMenus,(I,fe)=>(C(),L(oe,{key:`submenu-${fe}`},{default:d(()=>[a(j,{to:`/${I.url}`,class:"text-decoration-none inherit"},{default:d(()=>[a(ne,null,{default:d(()=>[N(E(I.name),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128)),H(s)>0?(C(),L(it,{key:0,content:H(s),color:"red",overlap:""},{default:d(()=>[a(U,{icon:"",onClick:_},{default:d(()=>[a(X,{color:"white"},{default:d(()=>r[1]||(r[1]=[N("mdi-bell")])),_:1})]),_:1})]),_:1},8,["content"])):(C(),L(U,{key:1,icon:"",onClick:_},{default:d(()=>[a(X,{color:"white"},{default:d(()=>r[2]||(r[2]=[N("mdi-bell")])),_:1})]),_:1})),a(te,null,{activator:d(({props:B})=>[a(U,D({class:"user"},B),{default:d(()=>[N(E(H(m)),1)]),_:2},1040)]),default:d(()=>[a(le,null,{default:d(()=>[(C(),G(K,null,Q(b,(B,J)=>a(oe,{key:`item-${J}`,onClick:I=>P(B.title)},{default:d(()=>[a(ne,null,{default:d(()=>[N(E(B.title),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1}),A("h4",vt,[r[3]||(r[3]=N(" CPF: ")),A("span",null,E(H(T)),1)])]),_:1}),a(ut,null,{default:d(()=>[Ge(o.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},Tt=Ye(mt,[["__scopeId","data-v-05259307"]]);export{Tt as default};
