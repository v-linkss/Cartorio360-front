import{r as He,A as pe,g as mr,o as We,c as ir,s as Ne,p as yr,P as vt,K as nr,E as at,F as it,c2 as ur,cw as ct,cx as _t,cy as Cr,cg as Er,bz as je,bs as Rr,cz as wt,O as bt,cA as nt,cc as lt,c5 as Sr,cB as gt,aS as ot,cC as pt,c6 as kt,c7 as Ar,cp as Qe,b as we,N as Nr,M as xt,cD as mt,bU as yt,cE as Et,cF as St,cs as Or,cG as At,cH as Dt,cj as Bt,cI as zt,cJ as Mr,cK as Ct,R as Rt,_ as Nt,u as Ot,w as Ze,d as fr,C as Lr,c1 as Mt,a as Pr,v as Vr,q as Lt}from"./BlwHBP3a.js";import{u as Zr}from"./CC4mqt6T.js";import{V as Pt,a as Vt,c as Zt}from"./BFJ1x8xM.js";import{V as Gt}from"./BEPT3rSv.js";import{V as Ht}from"./Cw-ZEf39.js";import{V as Gr}from"./BdmN6u9f.js";import{V as It}from"./CL-OAX7Z.js";function Tt(B){throw new Error('Could not dynamically require "'+B+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sr={exports:{}},dr={},Hr;function Xe(){return Hr||(Hr=1,function(B){var T=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Y(I,n){return Object.prototype.hasOwnProperty.call(I,n)}B.assign=function(I){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var r=n.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var t in r)Y(r,t)&&(I[t]=r[t])}}return I},B.shrinkBuf=function(I,n){return I.length===n?I:I.subarray?I.subarray(0,n):(I.length=n,I)};var L={arraySet:function(I,n,r,t,b){if(n.subarray&&I.subarray){I.set(n.subarray(r,r+t),b);return}for(var v=0;v<t;v++)I[b+v]=n[r+v]},flattenChunks:function(I){var n,r,t,b,v,u;for(t=0,n=0,r=I.length;n<r;n++)t+=I[n].length;for(u=new Uint8Array(t),b=0,n=0,r=I.length;n<r;n++)v=I[n],u.set(v,b),b+=v.length;return u}},y={arraySet:function(I,n,r,t,b){for(var v=0;v<t;v++)I[b+v]=n[r+v]},flattenChunks:function(I){return[].concat.apply([],I)}};B.setTyped=function(I){I?(B.Buf8=Uint8Array,B.Buf16=Uint16Array,B.Buf32=Int32Array,B.assign(B,L)):(B.Buf8=Array,B.Buf16=Array,B.Buf32=Array,B.assign(B,y))},B.setTyped(T)}(dr)),dr}var tr={},Ge={},qe={},Ir;function jt(){if(Ir)return qe;Ir=1;var B=Xe(),T=4,Y=0,L=1,y=2;function I(s){for(var K=s.length;--K>=0;)s[K]=0}var n=0,r=1,t=2,b=3,v=258,u=29,o=256,h=o+1+u,k=30,d=19,_=2*h+1,w=15,f=16,a=7,c=256,g=16,p=17,x=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=512,M=new Array((h+2)*2);I(M);var G=new Array(k*2);I(G);var V=new Array(O);I(V);var X=new Array(v-b+1);I(X);var $=new Array(u);I($);var Z=new Array(k);I(Z);function H(s,K,W,ae,S){this.static_tree=s,this.extra_bits=K,this.extra_base=W,this.elems=ae,this.max_length=S,this.has_stree=s&&s.length}var te,j,Q;function U(s,K){this.dyn_tree=s,this.max_code=0,this.stat_desc=K}function se(s){return s<256?V[s]:V[256+(s>>>7)]}function oe(s,K){s.pending_buf[s.pending++]=K&255,s.pending_buf[s.pending++]=K>>>8&255}function q(s,K,W){s.bi_valid>f-W?(s.bi_buf|=K<<s.bi_valid&65535,oe(s,s.bi_buf),s.bi_buf=K>>f-s.bi_valid,s.bi_valid+=W-f):(s.bi_buf|=K<<s.bi_valid&65535,s.bi_valid+=W)}function ne(s,K,W){q(s,W[K*2],W[K*2+1])}function he(s,K){var W=0;do W|=s&1,s>>>=1,W<<=1;while(--K>0);return W>>>1}function ke(s){s.bi_valid===16?(oe(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=s.bi_buf&255,s.bi_buf>>=8,s.bi_valid-=8)}function De(s,K){var W=K.dyn_tree,ae=K.max_code,S=K.stat_desc.static_tree,P=K.stat_desc.has_stree,i=K.stat_desc.extra_bits,J=K.stat_desc.extra_base,fe=K.stat_desc.max_length,e,R,N,l,m,C,le=0;for(l=0;l<=w;l++)s.bl_count[l]=0;for(W[s.heap[s.heap_max]*2+1]=0,e=s.heap_max+1;e<_;e++)R=s.heap[e],l=W[W[R*2+1]*2+1]+1,l>fe&&(l=fe,le++),W[R*2+1]=l,!(R>ae)&&(s.bl_count[l]++,m=0,R>=J&&(m=i[R-J]),C=W[R*2],s.opt_len+=C*(l+m),P&&(s.static_len+=C*(S[R*2+1]+m)));if(le!==0){do{for(l=fe-1;s.bl_count[l]===0;)l--;s.bl_count[l]--,s.bl_count[l+1]+=2,s.bl_count[fe]--,le-=2}while(le>0);for(l=fe;l!==0;l--)for(R=s.bl_count[l];R!==0;)N=s.heap[--e],!(N>ae)&&(W[N*2+1]!==l&&(s.opt_len+=(l-W[N*2+1])*W[N*2],W[N*2+1]=l),R--)}}function xe(s,K,W){var ae=new Array(w+1),S=0,P,i;for(P=1;P<=w;P++)ae[P]=S=S+W[P-1]<<1;for(i=0;i<=K;i++){var J=s[i*2+1];J!==0&&(s[i*2]=he(ae[J]++,J))}}function ve(){var s,K,W,ae,S,P=new Array(w+1);for(W=0,ae=0;ae<u-1;ae++)for($[ae]=W,s=0;s<1<<E[ae];s++)X[W++]=ae;for(X[W-1]=ae,S=0,ae=0;ae<16;ae++)for(Z[ae]=S,s=0;s<1<<z[ae];s++)V[S++]=ae;for(S>>=7;ae<k;ae++)for(Z[ae]=S<<7,s=0;s<1<<z[ae]-7;s++)V[256+S++]=ae;for(K=0;K<=w;K++)P[K]=0;for(s=0;s<=143;)M[s*2+1]=8,s++,P[8]++;for(;s<=255;)M[s*2+1]=9,s++,P[9]++;for(;s<=279;)M[s*2+1]=7,s++,P[7]++;for(;s<=287;)M[s*2+1]=8,s++,P[8]++;for(xe(M,h+1,P),s=0;s<k;s++)G[s*2+1]=5,G[s*2]=he(s,5);te=new H(M,E,o+1,h,w),j=new H(G,z,0,k,w),Q=new H(new Array(0),A,0,d,a)}function Ee(s){var K;for(K=0;K<h;K++)s.dyn_ltree[K*2]=0;for(K=0;K<k;K++)s.dyn_dtree[K*2]=0;for(K=0;K<d;K++)s.bl_tree[K*2]=0;s.dyn_ltree[c*2]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function Oe(s){s.bi_valid>8?oe(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function Ae(s,K,W,ae){Oe(s),oe(s,W),oe(s,~W),B.arraySet(s.pending_buf,s.window,K,W,s.pending),s.pending+=W}function ue(s,K,W,ae){var S=K*2,P=W*2;return s[S]<s[P]||s[S]===s[P]&&ae[K]<=ae[W]}function ee(s,K,W){for(var ae=s.heap[W],S=W<<1;S<=s.heap_len&&(S<s.heap_len&&ue(K,s.heap[S+1],s.heap[S],s.depth)&&S++,!ue(K,ae,s.heap[S],s.depth));)s.heap[W]=s.heap[S],W=S,S<<=1;s.heap[W]=ae}function ie(s,K,W){var ae,S,P=0,i,J;if(s.last_lit!==0)do ae=s.pending_buf[s.d_buf+P*2]<<8|s.pending_buf[s.d_buf+P*2+1],S=s.pending_buf[s.l_buf+P],P++,ae===0?ne(s,S,K):(i=X[S],ne(s,i+o+1,K),J=E[i],J!==0&&(S-=$[i],q(s,S,J)),ae--,i=se(ae),ne(s,i,W),J=z[i],J!==0&&(ae-=Z[i],q(s,ae,J)));while(P<s.last_lit);ne(s,c,K)}function de(s,K){var W=K.dyn_tree,ae=K.stat_desc.static_tree,S=K.stat_desc.has_stree,P=K.stat_desc.elems,i,J,fe=-1,e;for(s.heap_len=0,s.heap_max=_,i=0;i<P;i++)W[i*2]!==0?(s.heap[++s.heap_len]=fe=i,s.depth[i]=0):W[i*2+1]=0;for(;s.heap_len<2;)e=s.heap[++s.heap_len]=fe<2?++fe:0,W[e*2]=1,s.depth[e]=0,s.opt_len--,S&&(s.static_len-=ae[e*2+1]);for(K.max_code=fe,i=s.heap_len>>1;i>=1;i--)ee(s,W,i);e=P;do i=s.heap[1],s.heap[1]=s.heap[s.heap_len--],ee(s,W,1),J=s.heap[1],s.heap[--s.heap_max]=i,s.heap[--s.heap_max]=J,W[e*2]=W[i*2]+W[J*2],s.depth[e]=(s.depth[i]>=s.depth[J]?s.depth[i]:s.depth[J])+1,W[i*2+1]=W[J*2+1]=e,s.heap[1]=e++,ee(s,W,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],De(s,K),xe(W,fe,s.bl_count)}function be(s,K,W){var ae,S=-1,P,i=K[0*2+1],J=0,fe=7,e=4;for(i===0&&(fe=138,e=3),K[(W+1)*2+1]=65535,ae=0;ae<=W;ae++)P=i,i=K[(ae+1)*2+1],!(++J<fe&&P===i)&&(J<e?s.bl_tree[P*2]+=J:P!==0?(P!==S&&s.bl_tree[P*2]++,s.bl_tree[g*2]++):J<=10?s.bl_tree[p*2]++:s.bl_tree[x*2]++,J=0,S=P,i===0?(fe=138,e=3):P===i?(fe=6,e=3):(fe=7,e=4))}function ge(s,K,W){var ae,S=-1,P,i=K[0*2+1],J=0,fe=7,e=4;for(i===0&&(fe=138,e=3),ae=0;ae<=W;ae++)if(P=i,i=K[(ae+1)*2+1],!(++J<fe&&P===i)){if(J<e)do ne(s,P,s.bl_tree);while(--J!==0);else P!==0?(P!==S&&(ne(s,P,s.bl_tree),J--),ne(s,g,s.bl_tree),q(s,J-3,2)):J<=10?(ne(s,p,s.bl_tree),q(s,J-3,3)):(ne(s,x,s.bl_tree),q(s,J-11,7));J=0,S=P,i===0?(fe=138,e=3):P===i?(fe=6,e=3):(fe=7,e=4)}}function ze(s){var K;for(be(s,s.dyn_ltree,s.l_desc.max_code),be(s,s.dyn_dtree,s.d_desc.max_code),de(s,s.bl_desc),K=d-1;K>=3&&s.bl_tree[D[K]*2+1]===0;K--);return s.opt_len+=3*(K+1)+5+5+4,K}function Fe(s,K,W,ae){var S;for(q(s,K-257,5),q(s,W-1,5),q(s,ae-4,4),S=0;S<ae;S++)q(s,s.bl_tree[D[S]*2+1],3);ge(s,s.dyn_ltree,K-1),ge(s,s.dyn_dtree,W-1)}function Ye(s){var K=4093624447,W;for(W=0;W<=31;W++,K>>>=1)if(K&1&&s.dyn_ltree[W*2]!==0)return Y;if(s.dyn_ltree[9*2]!==0||s.dyn_ltree[10*2]!==0||s.dyn_ltree[13*2]!==0)return L;for(W=32;W<o;W++)if(s.dyn_ltree[W*2]!==0)return L;return Y}var Ve=!1;function er(s){Ve||(ve(),Ve=!0),s.l_desc=new U(s.dyn_ltree,te),s.d_desc=new U(s.dyn_dtree,j),s.bl_desc=new U(s.bl_tree,Q),s.bi_buf=0,s.bi_valid=0,Ee(s)}function $e(s,K,W,ae){q(s,(n<<1)+(ae?1:0),3),Ae(s,K,W)}function Ce(s){q(s,r<<1,3),ne(s,c,M),ke(s)}function Ie(s,K,W,ae){var S,P,i=0;s.level>0?(s.strm.data_type===y&&(s.strm.data_type=Ye(s)),de(s,s.l_desc),de(s,s.d_desc),i=ze(s),S=s.opt_len+3+7>>>3,P=s.static_len+3+7>>>3,P<=S&&(S=P)):S=P=W+5,W+4<=S&&K!==-1?$e(s,K,W,ae):s.strategy===T||P===S?(q(s,(r<<1)+(ae?1:0),3),ie(s,M,G)):(q(s,(t<<1)+(ae?1:0),3),Fe(s,s.l_desc.max_code+1,s.d_desc.max_code+1,i+1),ie(s,s.dyn_ltree,s.dyn_dtree)),Ee(s),ae&&Oe(s)}function rr(s,K,W){return s.pending_buf[s.d_buf+s.last_lit*2]=K>>>8&255,s.pending_buf[s.d_buf+s.last_lit*2+1]=K&255,s.pending_buf[s.l_buf+s.last_lit]=W&255,s.last_lit++,K===0?s.dyn_ltree[W*2]++:(s.matches++,K--,s.dyn_ltree[(X[W]+o+1)*2]++,s.dyn_dtree[se(K)*2]++),s.last_lit===s.lit_bufsize-1}return qe._tr_init=er,qe._tr_stored_block=$e,qe._tr_flush_block=Ie,qe._tr_tally=rr,qe._tr_align=Ce,qe}var hr,Tr;function ft(){if(Tr)return hr;Tr=1;function B(T,Y,L,y){for(var I=T&65535|0,n=T>>>16&65535|0,r=0;L!==0;){r=L>2e3?2e3:L,L-=r;do I=I+Y[y++]|0,n=n+I|0;while(--r);I%=65521,n%=65521}return I|n<<16|0}return hr=B,hr}var vr,jr;function ut(){if(jr)return vr;jr=1;function B(){for(var L,y=[],I=0;I<256;I++){L=I;for(var n=0;n<8;n++)L=L&1?3988292384^L>>>1:L>>>1;y[I]=L}return y}var T=B();function Y(L,y,I,n){var r=T,t=n+I;L^=-1;for(var b=n;b<t;b++)L=L>>>8^r[(L^y[b])&255];return L^-1}return vr=Y,vr}var cr,Kr;function Dr(){return Kr||(Kr=1,cr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),cr}var Jr;function Kt(){if(Jr)return Ge;Jr=1;var B=Xe(),T=jt(),Y=ft(),L=ut(),y=Dr(),I=0,n=1,r=3,t=4,b=5,v=0,u=1,o=-2,h=-3,k=-5,d=-1,_=1,w=2,f=3,a=4,c=0,g=2,p=8,x=9,E=15,z=8,A=29,D=256,O=D+1+A,M=30,G=19,V=2*O+1,X=15,$=3,Z=258,H=Z+$+1,te=32,j=42,Q=69,U=73,se=91,oe=103,q=113,ne=666,he=1,ke=2,De=3,xe=4,ve=3;function Ee(e,R){return e.msg=y[R],R}function Oe(e){return(e<<1)-(e>4?9:0)}function Ae(e){for(var R=e.length;--R>=0;)e[R]=0}function ue(e){var R=e.state,N=R.pending;N>e.avail_out&&(N=e.avail_out),N!==0&&(B.arraySet(e.output,R.pending_buf,R.pending_out,N,e.next_out),e.next_out+=N,R.pending_out+=N,e.total_out+=N,e.avail_out-=N,R.pending-=N,R.pending===0&&(R.pending_out=0))}function ee(e,R){T._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,R),e.block_start=e.strstart,ue(e.strm)}function ie(e,R){e.pending_buf[e.pending++]=R}function de(e,R){e.pending_buf[e.pending++]=R>>>8&255,e.pending_buf[e.pending++]=R&255}function be(e,R,N,l){var m=e.avail_in;return m>l&&(m=l),m===0?0:(e.avail_in-=m,B.arraySet(R,e.input,e.next_in,m,N),e.state.wrap===1?e.adler=Y(e.adler,R,m,N):e.state.wrap===2&&(e.adler=L(e.adler,R,m,N)),e.next_in+=m,e.total_in+=m,m)}function ge(e,R){var N=e.max_chain_length,l=e.strstart,m,C,le=e.prev_length,F=e.nice_match,re=e.strstart>e.w_size-H?e.strstart-(e.w_size-H):0,ce=e.window,Ke=e.w_mask,me=e.prev,_e=e.strstart+Z,Se=ce[l+le-1],Re=ce[l+le];e.prev_length>=e.good_match&&(N>>=2),F>e.lookahead&&(F=e.lookahead);do if(m=R,!(ce[m+le]!==Re||ce[m+le-1]!==Se||ce[m]!==ce[l]||ce[++m]!==ce[l+1])){l+=2,m++;do;while(ce[++l]===ce[++m]&&ce[++l]===ce[++m]&&ce[++l]===ce[++m]&&ce[++l]===ce[++m]&&ce[++l]===ce[++m]&&ce[++l]===ce[++m]&&ce[++l]===ce[++m]&&ce[++l]===ce[++m]&&l<_e);if(C=Z-(_e-l),l=_e-Z,C>le){if(e.match_start=R,le=C,C>=F)break;Se=ce[l+le-1],Re=ce[l+le]}}while((R=me[R&Ke])>re&&--N!==0);return le<=e.lookahead?le:e.lookahead}function ze(e){var R=e.w_size,N,l,m,C,le;do{if(C=e.window_size-e.lookahead-e.strstart,e.strstart>=R+(R-H)){B.arraySet(e.window,e.window,R,R,0),e.match_start-=R,e.strstart-=R,e.block_start-=R,l=e.hash_size,N=l;do m=e.head[--N],e.head[N]=m>=R?m-R:0;while(--l);l=R,N=l;do m=e.prev[--N],e.prev[N]=m>=R?m-R:0;while(--l);C+=R}if(e.strm.avail_in===0)break;if(l=be(e.strm,e.window,e.strstart+e.lookahead,C),e.lookahead+=l,e.lookahead+e.insert>=$)for(le=e.strstart-e.insert,e.ins_h=e.window[le],e.ins_h=(e.ins_h<<e.hash_shift^e.window[le+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[le+$-1])&e.hash_mask,e.prev[le&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=le,le++,e.insert--,!(e.lookahead+e.insert<$)););}while(e.lookahead<H&&e.strm.avail_in!==0)}function Fe(e,R){var N=65535;for(N>e.pending_buf_size-5&&(N=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ze(e),e.lookahead===0&&R===I)return he;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var l=e.block_start+N;if((e.strstart===0||e.strstart>=l)&&(e.lookahead=e.strstart-l,e.strstart=l,ee(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-H&&(ee(e,!1),e.strm.avail_out===0))return he}return e.insert=0,R===t?(ee(e,!0),e.strm.avail_out===0?De:xe):(e.strstart>e.block_start&&(ee(e,!1),e.strm.avail_out===0),he)}function Ye(e,R){for(var N,l;;){if(e.lookahead<H){if(ze(e),e.lookahead<H&&R===I)return he;if(e.lookahead===0)break}if(N=0,e.lookahead>=$&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+$-1])&e.hash_mask,N=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),N!==0&&e.strstart-N<=e.w_size-H&&(e.match_length=ge(e,N)),e.match_length>=$)if(l=T._tr_tally(e,e.strstart-e.match_start,e.match_length-$),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=$){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+$-1])&e.hash_mask,N=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else l=T._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(l&&(ee(e,!1),e.strm.avail_out===0))return he}return e.insert=e.strstart<$-1?e.strstart:$-1,R===t?(ee(e,!0),e.strm.avail_out===0?De:xe):e.last_lit&&(ee(e,!1),e.strm.avail_out===0)?he:ke}function Ve(e,R){for(var N,l,m;;){if(e.lookahead<H){if(ze(e),e.lookahead<H&&R===I)return he;if(e.lookahead===0)break}if(N=0,e.lookahead>=$&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+$-1])&e.hash_mask,N=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=$-1,N!==0&&e.prev_length<e.max_lazy_match&&e.strstart-N<=e.w_size-H&&(e.match_length=ge(e,N),e.match_length<=5&&(e.strategy===_||e.match_length===$&&e.strstart-e.match_start>4096)&&(e.match_length=$-1)),e.prev_length>=$&&e.match_length<=e.prev_length){m=e.strstart+e.lookahead-$,l=T._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-$),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=m&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+$-1])&e.hash_mask,N=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=$-1,e.strstart++,l&&(ee(e,!1),e.strm.avail_out===0))return he}else if(e.match_available){if(l=T._tr_tally(e,0,e.window[e.strstart-1]),l&&ee(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return he}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(l=T._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<$-1?e.strstart:$-1,R===t?(ee(e,!0),e.strm.avail_out===0?De:xe):e.last_lit&&(ee(e,!1),e.strm.avail_out===0)?he:ke}function er(e,R){for(var N,l,m,C,le=e.window;;){if(e.lookahead<=Z){if(ze(e),e.lookahead<=Z&&R===I)return he;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=$&&e.strstart>0&&(m=e.strstart-1,l=le[m],l===le[++m]&&l===le[++m]&&l===le[++m])){C=e.strstart+Z;do;while(l===le[++m]&&l===le[++m]&&l===le[++m]&&l===le[++m]&&l===le[++m]&&l===le[++m]&&l===le[++m]&&l===le[++m]&&m<C);e.match_length=Z-(C-m),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=$?(N=T._tr_tally(e,1,e.match_length-$),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(N=T._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),N&&(ee(e,!1),e.strm.avail_out===0))return he}return e.insert=0,R===t?(ee(e,!0),e.strm.avail_out===0?De:xe):e.last_lit&&(ee(e,!1),e.strm.avail_out===0)?he:ke}function $e(e,R){for(var N;;){if(e.lookahead===0&&(ze(e),e.lookahead===0)){if(R===I)return he;break}if(e.match_length=0,N=T._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,N&&(ee(e,!1),e.strm.avail_out===0))return he}return e.insert=0,R===t?(ee(e,!0),e.strm.avail_out===0?De:xe):e.last_lit&&(ee(e,!1),e.strm.avail_out===0)?he:ke}function Ce(e,R,N,l,m){this.good_length=e,this.max_lazy=R,this.nice_length=N,this.max_chain=l,this.func=m}var Ie;Ie=[new Ce(0,0,0,0,Fe),new Ce(4,4,8,4,Ye),new Ce(4,5,16,8,Ye),new Ce(4,6,32,32,Ye),new Ce(4,4,16,16,Ve),new Ce(8,16,32,32,Ve),new Ce(8,16,128,128,Ve),new Ce(8,32,128,256,Ve),new Ce(32,128,258,1024,Ve),new Ce(32,258,258,4096,Ve)];function rr(e){e.window_size=2*e.w_size,Ae(e.head),e.max_lazy_match=Ie[e.level].max_lazy,e.good_match=Ie[e.level].good_length,e.nice_match=Ie[e.level].nice_length,e.max_chain_length=Ie[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=$-1,e.match_available=0,e.ins_h=0}function s(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new B.Buf16(V*2),this.dyn_dtree=new B.Buf16((2*M+1)*2),this.bl_tree=new B.Buf16((2*G+1)*2),Ae(this.dyn_ltree),Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new B.Buf16(X+1),this.heap=new B.Buf16(2*O+1),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new B.Buf16(2*O+1),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(e){var R;return!e||!e.state?Ee(e,o):(e.total_in=e.total_out=0,e.data_type=g,R=e.state,R.pending=0,R.pending_out=0,R.wrap<0&&(R.wrap=-R.wrap),R.status=R.wrap?j:q,e.adler=R.wrap===2?0:1,R.last_flush=I,T._tr_init(R),v)}function W(e){var R=K(e);return R===v&&rr(e.state),R}function ae(e,R){return!e||!e.state||e.state.wrap!==2?o:(e.state.gzhead=R,v)}function S(e,R,N,l,m,C){if(!e)return o;var le=1;if(R===d&&(R=6),l<0?(le=0,l=-l):l>15&&(le=2,l-=16),m<1||m>x||N!==p||l<8||l>15||R<0||R>9||C<0||C>a)return Ee(e,o);l===8&&(l=9);var F=new s;return e.state=F,F.strm=e,F.wrap=le,F.gzhead=null,F.w_bits=l,F.w_size=1<<F.w_bits,F.w_mask=F.w_size-1,F.hash_bits=m+7,F.hash_size=1<<F.hash_bits,F.hash_mask=F.hash_size-1,F.hash_shift=~~((F.hash_bits+$-1)/$),F.window=new B.Buf8(F.w_size*2),F.head=new B.Buf16(F.hash_size),F.prev=new B.Buf16(F.w_size),F.lit_bufsize=1<<m+6,F.pending_buf_size=F.lit_bufsize*4,F.pending_buf=new B.Buf8(F.pending_buf_size),F.d_buf=1*F.lit_bufsize,F.l_buf=3*F.lit_bufsize,F.level=R,F.strategy=C,F.method=N,W(e)}function P(e,R){return S(e,R,p,E,z,c)}function i(e,R){var N,l,m,C;if(!e||!e.state||R>b||R<0)return e?Ee(e,o):o;if(l=e.state,!e.output||!e.input&&e.avail_in!==0||l.status===ne&&R!==t)return Ee(e,e.avail_out===0?k:o);if(l.strm=e,N=l.last_flush,l.last_flush=R,l.status===j)if(l.wrap===2)e.adler=0,ie(l,31),ie(l,139),ie(l,8),l.gzhead?(ie(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),ie(l,l.gzhead.time&255),ie(l,l.gzhead.time>>8&255),ie(l,l.gzhead.time>>16&255),ie(l,l.gzhead.time>>24&255),ie(l,l.level===9?2:l.strategy>=w||l.level<2?4:0),ie(l,l.gzhead.os&255),l.gzhead.extra&&l.gzhead.extra.length&&(ie(l,l.gzhead.extra.length&255),ie(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(e.adler=L(e.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=Q):(ie(l,0),ie(l,0),ie(l,0),ie(l,0),ie(l,0),ie(l,l.level===9?2:l.strategy>=w||l.level<2?4:0),ie(l,ve),l.status=q);else{var le=p+(l.w_bits-8<<4)<<8,F=-1;l.strategy>=w||l.level<2?F=0:l.level<6?F=1:l.level===6?F=2:F=3,le|=F<<6,l.strstart!==0&&(le|=te),le+=31-le%31,l.status=q,de(l,le),l.strstart!==0&&(de(l,e.adler>>>16),de(l,e.adler&65535)),e.adler=1}if(l.status===Q)if(l.gzhead.extra){for(m=l.pending;l.gzindex<(l.gzhead.extra.length&65535)&&!(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>m&&(e.adler=L(e.adler,l.pending_buf,l.pending-m,m)),ue(e),m=l.pending,l.pending===l.pending_buf_size));)ie(l,l.gzhead.extra[l.gzindex]&255),l.gzindex++;l.gzhead.hcrc&&l.pending>m&&(e.adler=L(e.adler,l.pending_buf,l.pending-m,m)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=U)}else l.status=U;if(l.status===U)if(l.gzhead.name){m=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>m&&(e.adler=L(e.adler,l.pending_buf,l.pending-m,m)),ue(e),m=l.pending,l.pending===l.pending_buf_size)){C=1;break}l.gzindex<l.gzhead.name.length?C=l.gzhead.name.charCodeAt(l.gzindex++)&255:C=0,ie(l,C)}while(C!==0);l.gzhead.hcrc&&l.pending>m&&(e.adler=L(e.adler,l.pending_buf,l.pending-m,m)),C===0&&(l.gzindex=0,l.status=se)}else l.status=se;if(l.status===se)if(l.gzhead.comment){m=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>m&&(e.adler=L(e.adler,l.pending_buf,l.pending-m,m)),ue(e),m=l.pending,l.pending===l.pending_buf_size)){C=1;break}l.gzindex<l.gzhead.comment.length?C=l.gzhead.comment.charCodeAt(l.gzindex++)&255:C=0,ie(l,C)}while(C!==0);l.gzhead.hcrc&&l.pending>m&&(e.adler=L(e.adler,l.pending_buf,l.pending-m,m)),C===0&&(l.status=oe)}else l.status=oe;if(l.status===oe&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&ue(e),l.pending+2<=l.pending_buf_size&&(ie(l,e.adler&255),ie(l,e.adler>>8&255),e.adler=0,l.status=q)):l.status=q),l.pending!==0){if(ue(e),e.avail_out===0)return l.last_flush=-1,v}else if(e.avail_in===0&&Oe(R)<=Oe(N)&&R!==t)return Ee(e,k);if(l.status===ne&&e.avail_in!==0)return Ee(e,k);if(e.avail_in!==0||l.lookahead!==0||R!==I&&l.status!==ne){var re=l.strategy===w?$e(l,R):l.strategy===f?er(l,R):Ie[l.level].func(l,R);if((re===De||re===xe)&&(l.status=ne),re===he||re===De)return e.avail_out===0&&(l.last_flush=-1),v;if(re===ke&&(R===n?T._tr_align(l):R!==b&&(T._tr_stored_block(l,0,0,!1),R===r&&(Ae(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),ue(e),e.avail_out===0))return l.last_flush=-1,v}return R!==t?v:l.wrap<=0?u:(l.wrap===2?(ie(l,e.adler&255),ie(l,e.adler>>8&255),ie(l,e.adler>>16&255),ie(l,e.adler>>24&255),ie(l,e.total_in&255),ie(l,e.total_in>>8&255),ie(l,e.total_in>>16&255),ie(l,e.total_in>>24&255)):(de(l,e.adler>>>16),de(l,e.adler&65535)),ue(e),l.wrap>0&&(l.wrap=-l.wrap),l.pending!==0?v:u)}function J(e){var R;return!e||!e.state?o:(R=e.state.status,R!==j&&R!==Q&&R!==U&&R!==se&&R!==oe&&R!==q&&R!==ne?Ee(e,o):(e.state=null,R===q?Ee(e,h):v))}function fe(e,R){var N=R.length,l,m,C,le,F,re,ce,Ke;if(!e||!e.state||(l=e.state,le=l.wrap,le===2||le===1&&l.status!==j||l.lookahead))return o;for(le===1&&(e.adler=Y(e.adler,R,N,0)),l.wrap=0,N>=l.w_size&&(le===0&&(Ae(l.head),l.strstart=0,l.block_start=0,l.insert=0),Ke=new B.Buf8(l.w_size),B.arraySet(Ke,R,N-l.w_size,l.w_size,0),R=Ke,N=l.w_size),F=e.avail_in,re=e.next_in,ce=e.input,e.avail_in=N,e.next_in=0,e.input=R,ze(l);l.lookahead>=$;){m=l.strstart,C=l.lookahead-($-1);do l.ins_h=(l.ins_h<<l.hash_shift^l.window[m+$-1])&l.hash_mask,l.prev[m&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=m,m++;while(--C);l.strstart=m,l.lookahead=$-1,ze(l)}return l.strstart+=l.lookahead,l.block_start=l.strstart,l.insert=l.lookahead,l.lookahead=0,l.match_length=l.prev_length=$-1,l.match_available=0,e.next_in=re,e.input=ce,e.avail_in=F,l.wrap=le,v}return Ge.deflateInit=P,Ge.deflateInit2=S,Ge.deflateReset=W,Ge.deflateResetKeep=K,Ge.deflateSetHeader=ae,Ge.deflate=i,Ge.deflateEnd=J,Ge.deflateSetDictionary=fe,Ge.deflateInfo="pako deflate (from Nodeca project)",Ge}var Ue={},Yr;function st(){if(Yr)return Ue;Yr=1;var B=Xe(),T=!0,Y=!0;try{String.fromCharCode.apply(null,[0])}catch{T=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Y=!1}for(var L=new B.Buf8(256),y=0;y<256;y++)L[y]=y>=252?6:y>=248?5:y>=240?4:y>=224?3:y>=192?2:1;L[254]=L[254]=1,Ue.string2buf=function(n){var r,t,b,v,u,o=n.length,h=0;for(v=0;v<o;v++)t=n.charCodeAt(v),(t&64512)===55296&&v+1<o&&(b=n.charCodeAt(v+1),(b&64512)===56320&&(t=65536+(t-55296<<10)+(b-56320),v++)),h+=t<128?1:t<2048?2:t<65536?3:4;for(r=new B.Buf8(h),u=0,v=0;u<h;v++)t=n.charCodeAt(v),(t&64512)===55296&&v+1<o&&(b=n.charCodeAt(v+1),(b&64512)===56320&&(t=65536+(t-55296<<10)+(b-56320),v++)),t<128?r[u++]=t:t<2048?(r[u++]=192|t>>>6,r[u++]=128|t&63):t<65536?(r[u++]=224|t>>>12,r[u++]=128|t>>>6&63,r[u++]=128|t&63):(r[u++]=240|t>>>18,r[u++]=128|t>>>12&63,r[u++]=128|t>>>6&63,r[u++]=128|t&63);return r};function I(n,r){if(r<65534&&(n.subarray&&Y||!n.subarray&&T))return String.fromCharCode.apply(null,B.shrinkBuf(n,r));for(var t="",b=0;b<r;b++)t+=String.fromCharCode(n[b]);return t}return Ue.buf2binstring=function(n){return I(n,n.length)},Ue.binstring2buf=function(n){for(var r=new B.Buf8(n.length),t=0,b=r.length;t<b;t++)r[t]=n.charCodeAt(t);return r},Ue.buf2string=function(n,r){var t,b,v,u,o=r||n.length,h=new Array(o*2);for(b=0,t=0;t<o;){if(v=n[t++],v<128){h[b++]=v;continue}if(u=L[v],u>4){h[b++]=65533,t+=u-1;continue}for(v&=u===2?31:u===3?15:7;u>1&&t<o;)v=v<<6|n[t++]&63,u--;if(u>1){h[b++]=65533;continue}v<65536?h[b++]=v:(v-=65536,h[b++]=55296|v>>10&1023,h[b++]=56320|v&1023)}return I(h,b)},Ue.utf8border=function(n,r){var t;for(r=r||n.length,r>n.length&&(r=n.length),t=r-1;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?r:t+L[n[t]]>r?t:r},Ue}var _r,$r;function dt(){if($r)return _r;$r=1;function B(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return _r=B,_r}var Wr;function Jt(){if(Wr)return tr;Wr=1;var B=Kt(),T=Xe(),Y=st(),L=Dr(),y=dt(),I=Object.prototype.toString,n=0,r=4,t=0,b=1,v=2,u=-1,o=0,h=8;function k(f){if(!(this instanceof k))return new k(f);this.options=T.assign({level:u,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:o,to:""},f||{});var a=this.options;a.raw&&a.windowBits>0?a.windowBits=-a.windowBits:a.gzip&&a.windowBits>0&&a.windowBits<16&&(a.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var c=B.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(c!==t)throw new Error(L[c]);if(a.header&&B.deflateSetHeader(this.strm,a.header),a.dictionary){var g;if(typeof a.dictionary=="string"?g=Y.string2buf(a.dictionary):I.call(a.dictionary)==="[object ArrayBuffer]"?g=new Uint8Array(a.dictionary):g=a.dictionary,c=B.deflateSetDictionary(this.strm,g),c!==t)throw new Error(L[c]);this._dict_set=!0}}k.prototype.push=function(f,a){var c=this.strm,g=this.options.chunkSize,p,x;if(this.ended)return!1;x=a===~~a?a:a===!0?r:n,typeof f=="string"?c.input=Y.string2buf(f):I.call(f)==="[object ArrayBuffer]"?c.input=new Uint8Array(f):c.input=f,c.next_in=0,c.avail_in=c.input.length;do{if(c.avail_out===0&&(c.output=new T.Buf8(g),c.next_out=0,c.avail_out=g),p=B.deflate(c,x),p!==b&&p!==t)return this.onEnd(p),this.ended=!0,!1;(c.avail_out===0||c.avail_in===0&&(x===r||x===v))&&(this.options.to==="string"?this.onData(Y.buf2binstring(T.shrinkBuf(c.output,c.next_out))):this.onData(T.shrinkBuf(c.output,c.next_out)))}while((c.avail_in>0||c.avail_out===0)&&p!==b);return x===r?(p=B.deflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===t):(x===v&&(this.onEnd(t),c.avail_out=0),!0)},k.prototype.onData=function(f){this.chunks.push(f)},k.prototype.onEnd=function(f){f===t&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg};function d(f,a){var c=new k(a);if(c.push(f,!0),c.err)throw c.msg||L[c.err];return c.result}function _(f,a){return a=a||{},a.raw=!0,d(f,a)}function w(f,a){return a=a||{},a.gzip=!0,d(f,a)}return tr.Deflate=k,tr.deflate=d,tr.deflateRaw=_,tr.gzip=w,tr}var ar={},Pe={},wr,Xr;function Yt(){if(Xr)return wr;Xr=1;var B=30,T=12;return wr=function(L,y){var I,n,r,t,b,v,u,o,h,k,d,_,w,f,a,c,g,p,x,E,z,A,D,O,M;I=L.state,n=L.next_in,O=L.input,r=n+(L.avail_in-5),t=L.next_out,M=L.output,b=t-(y-L.avail_out),v=t+(L.avail_out-257),u=I.dmax,o=I.wsize,h=I.whave,k=I.wnext,d=I.window,_=I.hold,w=I.bits,f=I.lencode,a=I.distcode,c=(1<<I.lenbits)-1,g=(1<<I.distbits)-1;e:do{w<15&&(_+=O[n++]<<w,w+=8,_+=O[n++]<<w,w+=8),p=f[_&c];r:for(;;){if(x=p>>>24,_>>>=x,w-=x,x=p>>>16&255,x===0)M[t++]=p&65535;else if(x&16){E=p&65535,x&=15,x&&(w<x&&(_+=O[n++]<<w,w+=8),E+=_&(1<<x)-1,_>>>=x,w-=x),w<15&&(_+=O[n++]<<w,w+=8,_+=O[n++]<<w,w+=8),p=a[_&g];t:for(;;){if(x=p>>>24,_>>>=x,w-=x,x=p>>>16&255,x&16){if(z=p&65535,x&=15,w<x&&(_+=O[n++]<<w,w+=8,w<x&&(_+=O[n++]<<w,w+=8)),z+=_&(1<<x)-1,z>u){L.msg="invalid distance too far back",I.mode=B;break e}if(_>>>=x,w-=x,x=t-b,z>x){if(x=z-x,x>h&&I.sane){L.msg="invalid distance too far back",I.mode=B;break e}if(A=0,D=d,k===0){if(A+=o-x,x<E){E-=x;do M[t++]=d[A++];while(--x);A=t-z,D=M}}else if(k<x){if(A+=o+k-x,x-=k,x<E){E-=x;do M[t++]=d[A++];while(--x);if(A=0,k<E){x=k,E-=x;do M[t++]=d[A++];while(--x);A=t-z,D=M}}}else if(A+=k-x,x<E){E-=x;do M[t++]=d[A++];while(--x);A=t-z,D=M}for(;E>2;)M[t++]=D[A++],M[t++]=D[A++],M[t++]=D[A++],E-=3;E&&(M[t++]=D[A++],E>1&&(M[t++]=D[A++]))}else{A=t-z;do M[t++]=M[A++],M[t++]=M[A++],M[t++]=M[A++],E-=3;while(E>2);E&&(M[t++]=M[A++],E>1&&(M[t++]=M[A++]))}}else if(x&64){L.msg="invalid distance code",I.mode=B;break e}else{p=a[(p&65535)+(_&(1<<x)-1)];continue t}break}}else if(x&64)if(x&32){I.mode=T;break e}else{L.msg="invalid literal/length code",I.mode=B;break e}else{p=f[(p&65535)+(_&(1<<x)-1)];continue r}break}}while(n<r&&t<v);E=w>>3,n-=E,w-=E<<3,_&=(1<<w)-1,L.next_in=n,L.next_out=t,L.avail_in=n<r?5+(r-n):5-(n-r),L.avail_out=t<v?257+(v-t):257-(t-v),I.hold=_,I.bits=w},wr}var br,qr;function $t(){if(qr)return br;qr=1;var B=Xe(),T=15,Y=852,L=592,y=0,I=1,n=2,r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],t=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return br=function(o,h,k,d,_,w,f,a){var c=a.bits,g=0,p=0,x=0,E=0,z=0,A=0,D=0,O=0,M=0,G=0,V,X,$,Z,H,te=null,j=0,Q,U=new B.Buf16(T+1),se=new B.Buf16(T+1),oe=null,q=0,ne,he,ke;for(g=0;g<=T;g++)U[g]=0;for(p=0;p<d;p++)U[h[k+p]]++;for(z=c,E=T;E>=1&&U[E]===0;E--);if(z>E&&(z=E),E===0)return _[w++]=1<<24|64<<16|0,_[w++]=1<<24|64<<16|0,a.bits=1,0;for(x=1;x<E&&U[x]===0;x++);for(z<x&&(z=x),O=1,g=1;g<=T;g++)if(O<<=1,O-=U[g],O<0)return-1;if(O>0&&(o===y||E!==1))return-1;for(se[1]=0,g=1;g<T;g++)se[g+1]=se[g]+U[g];for(p=0;p<d;p++)h[k+p]!==0&&(f[se[h[k+p]]++]=p);if(o===y?(te=oe=f,Q=19):o===I?(te=r,j-=257,oe=t,q-=257,Q=256):(te=b,oe=v,Q=-1),G=0,p=0,g=x,H=w,A=z,D=0,$=-1,M=1<<z,Z=M-1,o===I&&M>Y||o===n&&M>L)return 1;for(;;){ne=g-D,f[p]<Q?(he=0,ke=f[p]):f[p]>Q?(he=oe[q+f[p]],ke=te[j+f[p]]):(he=96,ke=0),V=1<<g-D,X=1<<A,x=X;do X-=V,_[H+(G>>D)+X]=ne<<24|he<<16|ke|0;while(X!==0);for(V=1<<g-1;G&V;)V>>=1;if(V!==0?(G&=V-1,G+=V):G=0,p++,--U[g]===0){if(g===E)break;g=h[k+f[p]]}if(g>z&&(G&Z)!==$){for(D===0&&(D=z),H+=x,A=g-D,O=1<<A;A+D<E&&(O-=U[A+D],!(O<=0));)A++,O<<=1;if(M+=1<<A,o===I&&M>Y||o===n&&M>L)return 1;$=G&Z,_[$]=z<<24|A<<16|H-w|0}}return G!==0&&(_[H+G]=g-D<<24|64<<16|0),a.bits=z,0},br}var Ur;function Wt(){if(Ur)return Pe;Ur=1;var B=Xe(),T=ft(),Y=ut(),L=Yt(),y=$t(),I=0,n=1,r=2,t=4,b=5,v=6,u=0,o=1,h=2,k=-2,d=-3,_=-4,w=-5,f=8,a=1,c=2,g=3,p=4,x=5,E=6,z=7,A=8,D=9,O=10,M=11,G=12,V=13,X=14,$=15,Z=16,H=17,te=18,j=19,Q=20,U=21,se=22,oe=23,q=24,ne=25,he=26,ke=27,De=28,xe=29,ve=30,Ee=31,Oe=32,Ae=852,ue=592,ee=15,ie=ee;function de(S){return(S>>>24&255)+(S>>>8&65280)+((S&65280)<<8)+((S&255)<<24)}function be(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new B.Buf16(320),this.work=new B.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ge(S){var P;return!S||!S.state?k:(P=S.state,S.total_in=S.total_out=P.total=0,S.msg="",P.wrap&&(S.adler=P.wrap&1),P.mode=a,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new B.Buf32(Ae),P.distcode=P.distdyn=new B.Buf32(ue),P.sane=1,P.back=-1,u)}function ze(S){var P;return!S||!S.state?k:(P=S.state,P.wsize=0,P.whave=0,P.wnext=0,ge(S))}function Fe(S,P){var i,J;return!S||!S.state||(J=S.state,P<0?(i=0,P=-P):(i=(P>>4)+1,P<48&&(P&=15)),P&&(P<8||P>15))?k:(J.window!==null&&J.wbits!==P&&(J.window=null),J.wrap=i,J.wbits=P,ze(S))}function Ye(S,P){var i,J;return S?(J=new be,S.state=J,J.window=null,i=Fe(S,P),i!==u&&(S.state=null),i):k}function Ve(S){return Ye(S,ie)}var er=!0,$e,Ce;function Ie(S){if(er){var P;for($e=new B.Buf32(512),Ce=new B.Buf32(32),P=0;P<144;)S.lens[P++]=8;for(;P<256;)S.lens[P++]=9;for(;P<280;)S.lens[P++]=7;for(;P<288;)S.lens[P++]=8;for(y(n,S.lens,0,288,$e,0,S.work,{bits:9}),P=0;P<32;)S.lens[P++]=5;y(r,S.lens,0,32,Ce,0,S.work,{bits:5}),er=!1}S.lencode=$e,S.lenbits=9,S.distcode=Ce,S.distbits=5}function rr(S,P,i,J){var fe,e=S.state;return e.window===null&&(e.wsize=1<<e.wbits,e.wnext=0,e.whave=0,e.window=new B.Buf8(e.wsize)),J>=e.wsize?(B.arraySet(e.window,P,i-e.wsize,e.wsize,0),e.wnext=0,e.whave=e.wsize):(fe=e.wsize-e.wnext,fe>J&&(fe=J),B.arraySet(e.window,P,i-J,fe,e.wnext),J-=fe,J?(B.arraySet(e.window,P,i-J,J,0),e.wnext=J,e.whave=e.wsize):(e.wnext+=fe,e.wnext===e.wsize&&(e.wnext=0),e.whave<e.wsize&&(e.whave+=fe))),0}function s(S,P){var i,J,fe,e,R,N,l,m,C,le,F,re,ce,Ke,me=0,_e,Se,Re,Me,lr,or,ye,Le,Be=new B.Buf8(4),Je,Te,zr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return k;i=S.state,i.mode===G&&(i.mode=V),R=S.next_out,fe=S.output,l=S.avail_out,e=S.next_in,J=S.input,N=S.avail_in,m=i.hold,C=i.bits,le=N,F=l,Le=u;e:for(;;)switch(i.mode){case a:if(i.wrap===0){i.mode=V;break}for(;C<16;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}if(i.wrap&2&&m===35615){i.check=0,Be[0]=m&255,Be[1]=m>>>8&255,i.check=Y(i.check,Be,2,0),m=0,C=0,i.mode=c;break}if(i.flags=0,i.head&&(i.head.done=!1),!(i.wrap&1)||(((m&255)<<8)+(m>>8))%31){S.msg="incorrect header check",i.mode=ve;break}if((m&15)!==f){S.msg="unknown compression method",i.mode=ve;break}if(m>>>=4,C-=4,ye=(m&15)+8,i.wbits===0)i.wbits=ye;else if(ye>i.wbits){S.msg="invalid window size",i.mode=ve;break}i.dmax=1<<ye,S.adler=i.check=1,i.mode=m&512?O:G,m=0,C=0;break;case c:for(;C<16;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}if(i.flags=m,(i.flags&255)!==f){S.msg="unknown compression method",i.mode=ve;break}if(i.flags&57344){S.msg="unknown header flags set",i.mode=ve;break}i.head&&(i.head.text=m>>8&1),i.flags&512&&(Be[0]=m&255,Be[1]=m>>>8&255,i.check=Y(i.check,Be,2,0)),m=0,C=0,i.mode=g;case g:for(;C<32;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}i.head&&(i.head.time=m),i.flags&512&&(Be[0]=m&255,Be[1]=m>>>8&255,Be[2]=m>>>16&255,Be[3]=m>>>24&255,i.check=Y(i.check,Be,4,0)),m=0,C=0,i.mode=p;case p:for(;C<16;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}i.head&&(i.head.xflags=m&255,i.head.os=m>>8),i.flags&512&&(Be[0]=m&255,Be[1]=m>>>8&255,i.check=Y(i.check,Be,2,0)),m=0,C=0,i.mode=x;case x:if(i.flags&1024){for(;C<16;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}i.length=m,i.head&&(i.head.extra_len=m),i.flags&512&&(Be[0]=m&255,Be[1]=m>>>8&255,i.check=Y(i.check,Be,2,0)),m=0,C=0}else i.head&&(i.head.extra=null);i.mode=E;case E:if(i.flags&1024&&(re=i.length,re>N&&(re=N),re&&(i.head&&(ye=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),B.arraySet(i.head.extra,J,e,re,ye)),i.flags&512&&(i.check=Y(i.check,J,re,e)),N-=re,e+=re,i.length-=re),i.length))break e;i.length=0,i.mode=z;case z:if(i.flags&2048){if(N===0)break e;re=0;do ye=J[e+re++],i.head&&ye&&i.length<65536&&(i.head.name+=String.fromCharCode(ye));while(ye&&re<N);if(i.flags&512&&(i.check=Y(i.check,J,re,e)),N-=re,e+=re,ye)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=A;case A:if(i.flags&4096){if(N===0)break e;re=0;do ye=J[e+re++],i.head&&ye&&i.length<65536&&(i.head.comment+=String.fromCharCode(ye));while(ye&&re<N);if(i.flags&512&&(i.check=Y(i.check,J,re,e)),N-=re,e+=re,ye)break e}else i.head&&(i.head.comment=null);i.mode=D;case D:if(i.flags&512){for(;C<16;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}if(m!==(i.check&65535)){S.msg="header crc mismatch",i.mode=ve;break}m=0,C=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),S.adler=i.check=0,i.mode=G;break;case O:for(;C<32;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}S.adler=i.check=de(m),m=0,C=0,i.mode=M;case M:if(i.havedict===0)return S.next_out=R,S.avail_out=l,S.next_in=e,S.avail_in=N,i.hold=m,i.bits=C,h;S.adler=i.check=1,i.mode=G;case G:if(P===b||P===v)break e;case V:if(i.last){m>>>=C&7,C-=C&7,i.mode=ke;break}for(;C<3;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}switch(i.last=m&1,m>>>=1,C-=1,m&3){case 0:i.mode=X;break;case 1:if(Ie(i),i.mode=Q,P===v){m>>>=2,C-=2;break e}break;case 2:i.mode=H;break;case 3:S.msg="invalid block type",i.mode=ve}m>>>=2,C-=2;break;case X:for(m>>>=C&7,C-=C&7;C<32;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}if((m&65535)!==(m>>>16^65535)){S.msg="invalid stored block lengths",i.mode=ve;break}if(i.length=m&65535,m=0,C=0,i.mode=$,P===v)break e;case $:i.mode=Z;case Z:if(re=i.length,re){if(re>N&&(re=N),re>l&&(re=l),re===0)break e;B.arraySet(fe,J,e,re,R),N-=re,e+=re,l-=re,R+=re,i.length-=re;break}i.mode=G;break;case H:for(;C<14;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}if(i.nlen=(m&31)+257,m>>>=5,C-=5,i.ndist=(m&31)+1,m>>>=5,C-=5,i.ncode=(m&15)+4,m>>>=4,C-=4,i.nlen>286||i.ndist>30){S.msg="too many length or distance symbols",i.mode=ve;break}i.have=0,i.mode=te;case te:for(;i.have<i.ncode;){for(;C<3;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}i.lens[zr[i.have++]]=m&7,m>>>=3,C-=3}for(;i.have<19;)i.lens[zr[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Je={bits:i.lenbits},Le=y(I,i.lens,0,19,i.lencode,0,i.work,Je),i.lenbits=Je.bits,Le){S.msg="invalid code lengths set",i.mode=ve;break}i.have=0,i.mode=j;case j:for(;i.have<i.nlen+i.ndist;){for(;me=i.lencode[m&(1<<i.lenbits)-1],_e=me>>>24,Se=me>>>16&255,Re=me&65535,!(_e<=C);){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}if(Re<16)m>>>=_e,C-=_e,i.lens[i.have++]=Re;else{if(Re===16){for(Te=_e+2;C<Te;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}if(m>>>=_e,C-=_e,i.have===0){S.msg="invalid bit length repeat",i.mode=ve;break}ye=i.lens[i.have-1],re=3+(m&3),m>>>=2,C-=2}else if(Re===17){for(Te=_e+3;C<Te;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}m>>>=_e,C-=_e,ye=0,re=3+(m&7),m>>>=3,C-=3}else{for(Te=_e+7;C<Te;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}m>>>=_e,C-=_e,ye=0,re=11+(m&127),m>>>=7,C-=7}if(i.have+re>i.nlen+i.ndist){S.msg="invalid bit length repeat",i.mode=ve;break}for(;re--;)i.lens[i.have++]=ye}}if(i.mode===ve)break;if(i.lens[256]===0){S.msg="invalid code -- missing end-of-block",i.mode=ve;break}if(i.lenbits=9,Je={bits:i.lenbits},Le=y(n,i.lens,0,i.nlen,i.lencode,0,i.work,Je),i.lenbits=Je.bits,Le){S.msg="invalid literal/lengths set",i.mode=ve;break}if(i.distbits=6,i.distcode=i.distdyn,Je={bits:i.distbits},Le=y(r,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Je),i.distbits=Je.bits,Le){S.msg="invalid distances set",i.mode=ve;break}if(i.mode=Q,P===v)break e;case Q:i.mode=U;case U:if(N>=6&&l>=258){S.next_out=R,S.avail_out=l,S.next_in=e,S.avail_in=N,i.hold=m,i.bits=C,L(S,F),R=S.next_out,fe=S.output,l=S.avail_out,e=S.next_in,J=S.input,N=S.avail_in,m=i.hold,C=i.bits,i.mode===G&&(i.back=-1);break}for(i.back=0;me=i.lencode[m&(1<<i.lenbits)-1],_e=me>>>24,Se=me>>>16&255,Re=me&65535,!(_e<=C);){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}if(Se&&!(Se&240)){for(Me=_e,lr=Se,or=Re;me=i.lencode[or+((m&(1<<Me+lr)-1)>>Me)],_e=me>>>24,Se=me>>>16&255,Re=me&65535,!(Me+_e<=C);){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}m>>>=Me,C-=Me,i.back+=Me}if(m>>>=_e,C-=_e,i.back+=_e,i.length=Re,Se===0){i.mode=he;break}if(Se&32){i.back=-1,i.mode=G;break}if(Se&64){S.msg="invalid literal/length code",i.mode=ve;break}i.extra=Se&15,i.mode=se;case se:if(i.extra){for(Te=i.extra;C<Te;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}i.length+=m&(1<<i.extra)-1,m>>>=i.extra,C-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=oe;case oe:for(;me=i.distcode[m&(1<<i.distbits)-1],_e=me>>>24,Se=me>>>16&255,Re=me&65535,!(_e<=C);){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}if(!(Se&240)){for(Me=_e,lr=Se,or=Re;me=i.distcode[or+((m&(1<<Me+lr)-1)>>Me)],_e=me>>>24,Se=me>>>16&255,Re=me&65535,!(Me+_e<=C);){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}m>>>=Me,C-=Me,i.back+=Me}if(m>>>=_e,C-=_e,i.back+=_e,Se&64){S.msg="invalid distance code",i.mode=ve;break}i.offset=Re,i.extra=Se&15,i.mode=q;case q:if(i.extra){for(Te=i.extra;C<Te;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}i.offset+=m&(1<<i.extra)-1,m>>>=i.extra,C-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){S.msg="invalid distance too far back",i.mode=ve;break}i.mode=ne;case ne:if(l===0)break e;if(re=F-l,i.offset>re){if(re=i.offset-re,re>i.whave&&i.sane){S.msg="invalid distance too far back",i.mode=ve;break}re>i.wnext?(re-=i.wnext,ce=i.wsize-re):ce=i.wnext-re,re>i.length&&(re=i.length),Ke=i.window}else Ke=fe,ce=R-i.offset,re=i.length;re>l&&(re=l),l-=re,i.length-=re;do fe[R++]=Ke[ce++];while(--re);i.length===0&&(i.mode=U);break;case he:if(l===0)break e;fe[R++]=i.length,l--,i.mode=U;break;case ke:if(i.wrap){for(;C<32;){if(N===0)break e;N--,m|=J[e++]<<C,C+=8}if(F-=l,S.total_out+=F,i.total+=F,F&&(S.adler=i.check=i.flags?Y(i.check,fe,F,R-F):T(i.check,fe,F,R-F)),F=l,(i.flags?m:de(m))!==i.check){S.msg="incorrect data check",i.mode=ve;break}m=0,C=0}i.mode=De;case De:if(i.wrap&&i.flags){for(;C<32;){if(N===0)break e;N--,m+=J[e++]<<C,C+=8}if(m!==(i.total&4294967295)){S.msg="incorrect length check",i.mode=ve;break}m=0,C=0}i.mode=xe;case xe:Le=o;break e;case ve:Le=d;break e;case Ee:return _;case Oe:default:return k}return S.next_out=R,S.avail_out=l,S.next_in=e,S.avail_in=N,i.hold=m,i.bits=C,(i.wsize||F!==S.avail_out&&i.mode<ve&&(i.mode<ke||P!==t))&&rr(S,S.output,S.next_out,F-S.avail_out),le-=S.avail_in,F-=S.avail_out,S.total_in+=le,S.total_out+=F,i.total+=F,i.wrap&&F&&(S.adler=i.check=i.flags?Y(i.check,fe,F,S.next_out-F):T(i.check,fe,F,S.next_out-F)),S.data_type=i.bits+(i.last?64:0)+(i.mode===G?128:0)+(i.mode===Q||i.mode===$?256:0),(le===0&&F===0||P===t)&&Le===u&&(Le=w),Le}function K(S){if(!S||!S.state)return k;var P=S.state;return P.window&&(P.window=null),S.state=null,u}function W(S,P){var i;return!S||!S.state||(i=S.state,!(i.wrap&2))?k:(i.head=P,P.done=!1,u)}function ae(S,P){var i=P.length,J,fe,e;return!S||!S.state||(J=S.state,J.wrap!==0&&J.mode!==M)?k:J.mode===M&&(fe=1,fe=T(fe,P,i,0),fe!==J.check)?d:(e=rr(S,P,i,i),e?(J.mode=Ee,_):(J.havedict=1,u))}return Pe.inflateReset=ze,Pe.inflateReset2=Fe,Pe.inflateResetKeep=ge,Pe.inflateInit=Ve,Pe.inflateInit2=Ye,Pe.inflate=s,Pe.inflateEnd=K,Pe.inflateGetHeader=W,Pe.inflateSetDictionary=ae,Pe.inflateInfo="pako inflate (from Nodeca project)",Pe}var gr,Qr;function ht(){return Qr||(Qr=1,gr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),gr}var pr,Fr;function Xt(){if(Fr)return pr;Fr=1;function B(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return pr=B,pr}var et;function qt(){if(et)return ar;et=1;var B=Wt(),T=Xe(),Y=st(),L=ht(),y=Dr(),I=dt(),n=Xt(),r=Object.prototype.toString;function t(u){if(!(this instanceof t))return new t(u);this.options=T.assign({chunkSize:16384,windowBits:0,to:""},u||{});var o=this.options;o.raw&&o.windowBits>=0&&o.windowBits<16&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),o.windowBits>=0&&o.windowBits<16&&!(u&&u.windowBits)&&(o.windowBits+=32),o.windowBits>15&&o.windowBits<48&&(o.windowBits&15||(o.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var h=B.inflateInit2(this.strm,o.windowBits);if(h!==L.Z_OK)throw new Error(y[h]);if(this.header=new n,B.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=Y.string2buf(o.dictionary):r.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(h=B.inflateSetDictionary(this.strm,o.dictionary),h!==L.Z_OK)))throw new Error(y[h])}t.prototype.push=function(u,o){var h=this.strm,k=this.options.chunkSize,d=this.options.dictionary,_,w,f,a,c,g=!1;if(this.ended)return!1;w=o===~~o?o:o===!0?L.Z_FINISH:L.Z_NO_FLUSH,typeof u=="string"?h.input=Y.binstring2buf(u):r.call(u)==="[object ArrayBuffer]"?h.input=new Uint8Array(u):h.input=u,h.next_in=0,h.avail_in=h.input.length;do{if(h.avail_out===0&&(h.output=new T.Buf8(k),h.next_out=0,h.avail_out=k),_=B.inflate(h,L.Z_NO_FLUSH),_===L.Z_NEED_DICT&&d&&(_=B.inflateSetDictionary(this.strm,d)),_===L.Z_BUF_ERROR&&g===!0&&(_=L.Z_OK,g=!1),_!==L.Z_STREAM_END&&_!==L.Z_OK)return this.onEnd(_),this.ended=!0,!1;h.next_out&&(h.avail_out===0||_===L.Z_STREAM_END||h.avail_in===0&&(w===L.Z_FINISH||w===L.Z_SYNC_FLUSH))&&(this.options.to==="string"?(f=Y.utf8border(h.output,h.next_out),a=h.next_out-f,c=Y.buf2string(h.output,f),h.next_out=a,h.avail_out=k-a,a&&T.arraySet(h.output,h.output,f,a,0),this.onData(c)):this.onData(T.shrinkBuf(h.output,h.next_out))),h.avail_in===0&&h.avail_out===0&&(g=!0)}while((h.avail_in>0||h.avail_out===0)&&_!==L.Z_STREAM_END);return _===L.Z_STREAM_END&&(w=L.Z_FINISH),w===L.Z_FINISH?(_=B.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===L.Z_OK):(w===L.Z_SYNC_FLUSH&&(this.onEnd(L.Z_OK),h.avail_out=0),!0)},t.prototype.onData=function(u){this.chunks.push(u)},t.prototype.onEnd=function(u){u===L.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg};function b(u,o){var h=new t(o);if(h.push(u,!0),h.err)throw h.msg||y[h.err];return h.result}function v(u,o){return o=o||{},o.raw=!0,b(u,o)}return ar.Inflate=t,ar.inflate=b,ar.inflateRaw=v,ar.ungzip=b,ar}var kr,rt;function Ut(){if(rt)return kr;rt=1;var B=Xe().assign,T=Jt(),Y=qt(),L=ht(),y={};return B(y,T,Y,L),kr=y,kr}var tt;function Qt(){return tt||(tt=1,function(B){(function(){var T={};B.exports=T;var Y;typeof Tt=="function"?Y=Ut():Y=self.pako;function L(){typeof process>"u"&&console.log.apply(console,arguments)}(function(y,I){(function(){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},r=function(){function b(v){this.message="JPEG error: "+v}return b.prototype=Error(),b.prototype.name="JpegError",b.constructor=b}(),t=function(){function b(v,u){this.message=v,this.g=u}return b.prototype=Error(),b.prototype.name="DNLMarkerError",b.constructor=b}();(function(){function b(){this.M=null,this.B=-1}function v(d,_){for(var w=0,f=[],a,c,g=16;0<g&&!d[g-1];)g--;f.push({children:[],index:0});var p=f[0],x;for(a=0;a<g;a++){for(c=0;c<d[a];c++){for(p=f.pop(),p.children[p.index]=_[w];0<p.index;)p=f.pop();for(p.index++,f.push(p);f.length<=a;)f.push(x={children:[],index:0}),p.children[p.index]=x.children,p=x;w++}a+1<g&&(f.push(x={children:[],index:0}),p.children[p.index]=x.children,p=x)}return f[0].children}function u(d,_,w,f,a,c,g,p,x){function E(){if(0<j)return j--,te>>j&1;if(te=d[_++],te===255){var ee=d[_++];if(ee){if(ee===220&&$){_+=2;var ie=d[_++]<<8|d[_++];if(0<ie&&ie!==w.g)throw new t("Found DNL marker (0xFFDC) while parsing scan data",ie)}throw new r("unexpected marker "+(te<<8|ee).toString(16))}}return j=7,te>>>7}function z(ee){for(;;){if(ee=ee[E()],typeof ee=="number")return ee;if((typeof ee>"u"?"undefined":n(ee))!=="object")throw new r("invalid huffman sequence")}}function A(ee){for(var ie=0;0<ee;)ie=ie<<1|E(),ee--;return ie}function D(ee){if(ee===1)return E()===1?1:-1;var ie=A(ee);return ie>=1<<ee-1?ie:ie+(-1<<ee)+1}function O(ee,ie){var de=z(ee.D);for(de=de===0?0:D(de),ee.a[ie]=ee.m+=de,de=1;64>de;){var be=z(ee.o),ge=be&15;if(be>>=4,ge===0){if(15>be)break;de+=16}else de+=be,ee.a[ie+k[de]]=D(ge),de++}}function M(ee,ie){var de=z(ee.D);de=de===0?0:D(de)<<x,ee.a[ie]=ee.m+=de}function G(ee,ie){ee.a[ie]|=E()<<x}function V(ee,ie){if(0<Q)Q--;else for(var de=c;de<=g;){var be=z(ee.o),ge=be&15;if(be>>=4,ge===0){if(15>be){Q=A(be)+(1<<be)-1;break}de+=16}else de+=be,ee.a[ie+k[de]]=D(ge)*(1<<x),de++}}function X(ee,ie){for(var de=c,be=0,ge;de<=g;){ge=ie+k[de];var ze=0>ee.a[ge]?-1:1;switch(U){case 0:if(be=z(ee.o),ge=be&15,be>>=4,ge===0)15>be?(Q=A(be)+(1<<be),U=4):(be=16,U=1);else{if(ge!==1)throw new r("invalid ACn encoding");se=D(ge),U=be?2:3}continue;case 1:case 2:ee.a[ge]?ee.a[ge]+=ze*(E()<<x):(be--,be===0&&(U=U===2?3:0));break;case 3:ee.a[ge]?ee.a[ge]+=ze*(E()<<x):(ee.a[ge]=se<<x,U=0);break;case 4:ee.a[ge]&&(ee.a[ge]+=ze*(E()<<x))}de++}U===4&&(Q--,Q===0&&(U=0))}for(var $=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,Z=w.P,H=_,te=0,j=0,Q=0,U=0,se,oe=f.length,q,ne,he,ke,De=w.S?c===0?p===0?M:G:p===0?V:X:O,xe=0,ve=oe===1?f[0].c*f[0].l:Z*w.O,Ee,Oe;xe<ve;){var Ae=a?Math.min(ve-xe,a):ve;for(q=0;q<oe;q++)f[q].m=0;if(Q=0,oe===1){var ue=f[0];for(ke=0;ke<Ae;ke++)De(ue,64*((ue.c+1)*(xe/ue.c|0)+xe%ue.c)),xe++}else for(ke=0;ke<Ae;ke++){for(q=0;q<oe;q++)for(ue=f[q],Ee=ue.h,Oe=ue.j,ne=0;ne<Oe;ne++)for(he=0;he<Ee;he++)De(ue,64*((ue.c+1)*((xe/Z|0)*ue.j+ne)+(xe%Z*ue.h+he)));xe++}if(j=0,(ue=h(d,_))&&ue.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+ue.f),_=ue.offset),ue=ue&&ue.F,!ue||65280>=ue)throw new r("marker was not found");if(65488<=ue&&65495>=ue)_+=2;else break}return(ue=h(d,_))&&ue.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+ue.f),_=ue.offset),_-H}function o(d,_){for(var w=_.c,f=_.l,a=new Int16Array(64),c=0;c<f;c++)for(var g=0;g<w;g++){var p=64*((_.c+1)*c+g),x=a,E=_.G,z=_.a;if(!E)throw new r("missing required Quantization Table.");for(var A=0;64>A;A+=8){var D=z[p+A],O=z[p+A+1],M=z[p+A+2],G=z[p+A+3],V=z[p+A+4],X=z[p+A+5],$=z[p+A+6],Z=z[p+A+7];if(D*=E[A],!(O|M|G|V|X|$|Z))D=5793*D+512>>10,x[A]=D,x[A+1]=D,x[A+2]=D,x[A+3]=D,x[A+4]=D,x[A+5]=D,x[A+6]=D,x[A+7]=D;else{O*=E[A+1],M*=E[A+2],G*=E[A+3],V*=E[A+4],X*=E[A+5],$*=E[A+6],Z*=E[A+7];var H=5793*D+128>>8,te=5793*V+128>>8,j=M,Q=$;V=2896*(O-Z)+128>>8,Z=2896*(O+Z)+128>>8,G<<=4,X<<=4,H=H+te+1>>1,te=H-te,D=3784*j+1567*Q+128>>8,j=1567*j-3784*Q+128>>8,Q=D,V=V+X+1>>1,X=V-X,Z=Z+G+1>>1,G=Z-G,H=H+Q+1>>1,Q=H-Q,te=te+j+1>>1,j=te-j,D=2276*V+3406*Z+2048>>12,V=3406*V-2276*Z+2048>>12,Z=D,D=799*G+4017*X+2048>>12,G=4017*G-799*X+2048>>12,X=D,x[A]=H+Z,x[A+7]=H-Z,x[A+1]=te+X,x[A+6]=te-X,x[A+2]=j+G,x[A+5]=j-G,x[A+3]=Q+V,x[A+4]=Q-V}}for(E=0;8>E;++E)D=x[E],O=x[E+8],M=x[E+16],G=x[E+24],V=x[E+32],X=x[E+40],$=x[E+48],Z=x[E+56],O|M|G|V|X|$|Z?(H=5793*D+2048>>12,te=5793*V+2048>>12,j=M,Q=$,V=2896*(O-Z)+2048>>12,Z=2896*(O+Z)+2048>>12,H=(H+te+1>>1)+4112,te=H-te,D=3784*j+1567*Q+2048>>12,j=1567*j-3784*Q+2048>>12,Q=D,V=V+X+1>>1,X=V-X,Z=Z+G+1>>1,G=Z-G,H=H+Q+1>>1,Q=H-Q,te=te+j+1>>1,j=te-j,D=2276*V+3406*Z+2048>>12,V=3406*V-2276*Z+2048>>12,Z=D,D=799*G+4017*X+2048>>12,G=4017*G-799*X+2048>>12,X=D,D=H+Z,Z=H-Z,O=te+X,$=te-X,M=j+G,X=j-G,G=Q+V,V=Q-V,D=16>D?0:4080<=D?255:D>>4,O=16>O?0:4080<=O?255:O>>4,M=16>M?0:4080<=M?255:M>>4,G=16>G?0:4080<=G?255:G>>4,V=16>V?0:4080<=V?255:V>>4,X=16>X?0:4080<=X?255:X>>4,$=16>$?0:4080<=$?255:$>>4,Z=16>Z?0:4080<=Z?255:Z>>4,z[p+E]=D,z[p+E+8]=O,z[p+E+16]=M,z[p+E+24]=G,z[p+E+32]=V,z[p+E+40]=X,z[p+E+48]=$,z[p+E+56]=Z):(D=5793*D+8192>>14,D=-2040>D?0:2024<=D?255:D+2056>>4,z[p+E]=D,z[p+E+8]=D,z[p+E+16]=D,z[p+E+24]=D,z[p+E+32]=D,z[p+E+40]=D,z[p+E+48]=D,z[p+E+56]=D)}return _.a}function h(d,_){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:_,f=d.length-1;if(w=w<_?w:_,_>=f)return null;var a=d[_]<<8|d[_+1];if(65472<=a&&65534>=a)return{f:null,F:a,offset:_};for(var c=d[w]<<8|d[w+1];!(65472<=c&&65534>=c);){if(++w>=f)return null;c=d[w]<<8|d[w+1]}return{f:a.toString(16),F:c,offset:w}}var k=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);b.prototype={parse:function(d){function _(){var j=d[g]<<8|d[g+1];return g+=2,j}function w(){var j=_();j=g+j-2;var Q=h(d,j,g);return Q&&Q.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+Q.f),j=Q.offset),j=d.subarray(g,j),g+=j.length,j}function f(j){for(var Q=Math.ceil(j.v/8/j.s),U=Math.ceil(j.g/8/j.u),se=0;se<j.b.length;se++){H=j.b[se];var oe=Math.ceil(Math.ceil(j.v/8)*H.h/j.s),q=Math.ceil(Math.ceil(j.g/8)*H.j/j.u);H.a=new Int16Array(64*U*H.j*(Q*H.h+1)),H.c=oe,H.l=q}j.P=Q,j.O=U}var a=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,c=a===void 0?null:a,g=0,p=null,x=0;a=[];var E=[],z=[],A=_();if(A!==65496)throw new r("SOI not found");for(A=_();A!==65497;){switch(A){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var D=w();A===65518&&D[0]===65&&D[1]===100&&D[2]===111&&D[3]===98&&D[4]===101&&(p={version:D[5]<<8|D[6],Y:D[7]<<8|D[8],Z:D[9]<<8|D[10],W:D[11]});break;case 65499:A=_()+g-2;for(var O;g<A;){var M=d[g++],G=new Uint16Array(64);if(M>>4)if(M>>4===1)for(D=0;64>D;D++)O=k[D],G[O]=_();else throw new r("DQT - invalid table spec");else for(D=0;64>D;D++)O=k[D],G[O]=d[g++];a[M&15]=G}break;case 65472:case 65473:case 65474:if(V)throw new r("Only single frame JPEGs supported");_();var V={};for(V.X=A===65473,V.S=A===65474,V.precision=d[g++],A=_(),V.g=c||A,V.v=_(),V.b=[],V.C={},D=d[g++],A=G=M=0;A<D;A++){O=d[g];var X=d[g+1]>>4,$=d[g+1]&15;M<X&&(M=X),G<$&&(G=$),X=V.b.push({h:X,j:$,T:d[g+2],G:null}),V.C[O]=X-1,g+=3}V.s=M,V.u=G,f(V);break;case 65476:for(O=_(),A=2;A<O;){for(M=d[g++],G=new Uint8Array(16),D=X=0;16>D;D++,g++)X+=G[D]=d[g];for($=new Uint8Array(X),D=0;D<X;D++,g++)$[D]=d[g];A+=17+X,(M>>4?E:z)[M&15]=v(G,$)}break;case 65501:_();var Z=_();break;case 65498:for(D=++x===1&&!c,_(),M=d[g++],O=[],A=0;A<M;A++){G=V.C[d[g++]];var H=V.b[G];G=d[g++],H.D=z[G>>4],H.o=E[G&15],O.push(H)}A=d[g++],M=d[g++],G=d[g++];try{var te=u(d,g,V,O,Z,A,M,G>>4,G&15,D);g+=te}catch(j){if(j instanceof t)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(d,{N:j.g});throw j}break;case 65500:g+=4;break;case 65535:d[g]!==255&&g--;break;default:if(d[g-3]===255&&192<=d[g-2]&&254>=d[g-2])g-=3;else if((D=h(d,g-2))&&D.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+D.f),g=D.offset;else throw new r("unknown marker "+A.toString(16))}A=_()}for(this.width=V.v,this.height=V.g,this.A=p,this.b=[],A=0;A<V.b.length;A++)H=V.b[A],(Z=a[H.T])&&(H.G=Z),this.b.push({R:o(V,H),U:H.h/V.s,V:H.j/V.u,c:H.c,l:H.l});this.i=this.b.length},L:function(d,_){var w=this.width/d,f=this.height/_,a,c,g=this.b.length,p=d*_*g,x=new Uint8ClampedArray(p),E=new Uint32Array(d);for(c=0;c<g;c++){var z=this.b[c],A=z.U*w,D=z.V*f,O=c,M=z.R,G=z.c+1<<3;for(a=0;a<d;a++)z=0|a*A,E[a]=(z&4294967288)<<3|z&7;for(A=0;A<_;A++)for(z=0|A*D,z=G*(z&4294967288)|(z&7)<<3,a=0;a<d;a++)x[O]=M[z+E[a]],O+=g}if(f=this.M)for(c=0;c<p;)for(w=z=0;z<g;z++,c++,w+=2)x[c]=(x[c]*f[w]>>8)+f[w+1];return x},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(d){for(var _,w,f,a=0,c=d.length;a<c;a+=3)_=d[a],w=d[a+1],f=d[a+2],d[a]=_-179.456+1.402*f,d[a+1]=_+135.459-.344*w-.714*f,d[a+2]=_-226.816+1.772*w;return d},K:function(d){for(var _,w,f,a,c=0,g=0,p=d.length;g<p;g+=4)_=d[g],w=d[g+1],f=d[g+2],a=d[g+3],d[c++]=-122.67195406894+w*(-660635669420364e-19*w+.000437130475926232*f-54080610064599e-18*_+.00048449797120281*a-.154362151871126)+f*(-.000957964378445773*f+.000817076911346625*_-.00477271405408747*a+1.53380253221734)+_*(.000961250184130688*_-.00266257332283933*a+.48357088451265)+a*(-.000336197177618394*a+.484791561490776),d[c++]=107.268039397724+w*(219927104525741e-19*w-.000640992018297945*f+.000659397001245577*_+.000426105652938837*a-.176491792462875)+f*(-.000778269941513683*f+.00130872261408275*_+.000770482631801132*a-.151051492775562)+_*(.00126935368114843*_-.00265090189010898*a+.25802910206845)+a*(-.000318913117588328*a-.213742400323665),d[c++]=-20.810012546947+w*(-.000570115196973677*w-263409051004589e-19*f+.0020741088115012*_-.00288260236853442*a+.814272968359295)+f*(-153496057440975e-19*f-.000132689043961446*_+.000560833691242812*a-.195152027534049)+_*(.00174418132927582*_-.00255243321439347*a+.116935020465145)+a*(-.000343531996510555*a+.24165260232407);return d.subarray(0,c)},J:function(d){for(var _,w,f,a=0,c=d.length;a<c;a+=4)_=d[a],w=d[a+1],f=d[a+2],d[a]=434.456-_-1.402*f,d[a+1]=119.541-_+.344*w+.714*f,d[a+2]=481.816-_-1.772*w;return d},H:function(d){for(var _,w,f,a,c=0,g=1/255,p=0,x=d.length;p<x;p+=4)_=d[p]*g,w=d[p+1]*g,f=d[p+2]*g,a=d[p+3]*g,d[c++]=255+_*(-4.387332384609988*_+54.48615194189176*w+18.82290502165302*f+212.25662451639585*a-285.2331026137004)+w*(1.7149763477362134*w-5.6096736904047315*f-17.873870861415444*a-5.497006427196366)+f*(-2.5217340131683033*f-21.248923337353073*a+17.5119270841813)-a*(21.86122147463605*a+189.48180835922747),d[c++]=255+_*(8.841041422036149*_+60.118027045597366*w+6.871425592049007*f+31.159100130055922*a-79.2970844816548)+w*(-15.310361306967817*w+17.575251261109482*f+131.35250912493976*a-190.9453302588951)+f*(4.444339102852739*f+9.8632861493405*a-24.86741582555878)-a*(20.737325471181034*a+187.80453709719578),d[c++]=255+_*(.8842522430003296*_+8.078677503112928*w+30.89978309703729*f-.23883238689178934*a-14.183576799673286)+w*(10.49593273432072*w+63.02378494754052*f+50.606957656360734*a-112.23884253719248)+f*(.03296041114873217*f+115.60384449646641*a-193.58209356861505)-a*(22.33816807309886*a+180.12613974708367);return d.subarray(0,c)},getData:function(d,_,w){if(4<this.i)throw new r("Unsupported color mode");if(d=this.L(d,_),this.i===1&&w){w=d.length,_=new Uint8ClampedArray(3*w);for(var f=0,a=0;a<w;a++){var c=d[a];_[f++]=c,_[f++]=c,_[f++]=c}return _}if(this.i===3&&this.w())return this.I(d);if(this.i===4){if(this.w())return w?this.K(d):this.J(d);if(w)return this.H(d)}return d}},y.JpegDecoder=b})()})(),y.encodeImage=function(n,r,t,b){var v={t256:[r],t257:[t],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[t],t279:[r*t*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(b)for(var u in b)v[u]=b[u];for(var o=new Uint8Array(y.encode([v])),h=new Uint8Array(n),k=new Uint8Array(1e3+r*t*4),u=0;u<o.length;u++)k[u]=o[u];for(var u=0;u<h.length;u++)k[1e3+u]=h[u];return k.buffer},y.encode=function(n){var r=new Uint8Array(2e4),t=4,b=y._binBE;r[0]=77,r[1]=77,r[3]=42;var v=8;b.writeUint(r,t,v),t+=4;for(var u=0;u<n.length;u++){var o=y._writeIFD(b,r,v,n[u]);v=o[1],u<n.length-1&&b.writeUint(r,o[0],v)}return r.slice(0,v).buffer},y.decode=function(n){y.decode._decodeG3.allow2D=null;var r=new Uint8Array(n),t=0,b=y._binBE.readASCII(r,t,2);t+=2;var v=b=="II"?y._binLE:y._binBE;v.readUshort(r,t),t+=2;var u=v.readUint(r,t);t+=4;for(var o=[];;){var h=y._readIFD(v,r,u,o,0,!1);if(u=v.readUint(r,h),u==0)break}return o},y.decodeImage=function(n,r,t){var b=new Uint8Array(n),v=y._binBE.readASCII(b,0,2);if(r.t256!=null){r.isLE=v=="II",r.width=r.t256[0],r.height=r.t257[0];var u=r.t259?r.t259[0]:1,o=r.t266?r.t266[0]:1;r.t284&&r.t284[0]==2&&L("PlanarConfiguration 2 should not be used!");var h;r.t258?h=Math.min(32,r.t258[0])*r.t258.length:h=r.t277?r.t277[0]:1,u==1&&r.t279!=null&&r.t278&&r.t262[0]==32803&&(h=Math.round(r.t279[0]*8/(r.width*r.t278[0])));var k=Math.ceil(r.width*h/8)*8,d=r.t273;d==null&&(d=r.t324);var _=r.t279;u==1&&d.length==1&&(_=[r.height*(k>>>3)]),_==null&&(_=r.t325);var w=new Uint8Array(r.height*(k>>>3)),f=0;if(r.t322!=null){for(var a=r.t322[0],c=r.t323[0],g=Math.floor((r.width+a-1)/a),p=Math.floor((r.height+c-1)/c),x=new Uint8Array(Math.ceil(a*c*h/8)|0),E=0;E<p;E++)for(var z=0;z<g;z++){for(var A=E*g+z,D=0;D<x.length;D++)x[D]=0;y.decode._decompress(r,t,b,d[A],_[A],u,x,0,o),u==6?w=x:y._copyTile(x,Math.ceil(a*h/8)|0,c,w,Math.ceil(r.width*h/8)|0,r.height,Math.ceil(z*a*h/8)|0,E*c)}f=w.length*8}else{var O=r.t278?r.t278[0]:r.height;O=Math.min(O,r.height);for(var A=0;A<d.length;A++)y.decode._decompress(r,t,b,d[A],_[A],u,w,Math.ceil(f/8)|0,o),f+=k*O;f=Math.min(f,w.length*8)}r.data=new Uint8Array(w.buffer,0,Math.ceil(f/8)|0)}},y.decode._decompress=function(n,r,t,b,v,u,o,h,k){if(u==1||v==o.length&&u!=32767)for(var d=0;d<v;d++)o[h+d]=t[b+d];else if(u==3)y.decode._decodeG3(t,b,v,o,h,n.width,k);else if(u==4)y.decode._decodeG4(t,b,v,o,h,n.width,k);else if(u==5)y.decode._decodeLZW(t,b,o,h);else if(u==6)y.decode._decodeOldJPEG(n,t,b,v,o,h);else if(u==7)y.decode._decodeNewJPEG(n,t,b,v,o,h);else if(u==8)for(var _=new Uint8Array(t.buffer,b,v),w=I.inflate(_),f=0;f<w.length;f++)o[h+f]=w[f];else u==32767?y.decode._decodeARW(n,t,b,v,o,h):u==32773?y.decode._decodePackBits(t,b,v,o,h):u==32809?y.decode._decodeThunder(t,b,v,o,h):u==34713?y.decode._decodeNikon(n,r,t,b,v,o,h):L("Unknown compression",u);var a=n.t258?Math.min(32,n.t258[0]):1,c=n.t277?n.t277[0]:1,g=a*c>>>3,p=n.t278?n.t278[0]:n.height,x=Math.ceil(a*c*n.width/8);if(a==16&&!n.isLE&&n.t33422==null)for(var E=0;E<p;E++)for(var z=h+E*x,A=1;A<x;A+=2){var D=o[z+A];o[z+A]=o[z+A-1],o[z+A-1]=D}if(n.t317&&n.t317[0]==2)for(var E=0;E<p;E++){var O=h+E*x;if(a==16)for(var d=g;d<x;d+=2){var M=(o[O+d+1]<<8|o[O+d])+(o[O+d-g+1]<<8|o[O+d-g]);o[O+d]=M&255,o[O+d+1]=M>>>8&255}else if(c==3)for(var d=3;d<x;d+=3)o[O+d]=o[O+d]+o[O+d-3]&255,o[O+d+1]=o[O+d+1]+o[O+d-2]&255,o[O+d+2]=o[O+d+2]+o[O+d-1]&255;else for(var d=g;d<x;d++)o[O+d]=o[O+d]+o[O+d-g]&255}},y.decode._ljpeg_diff=function(n,r,t){var b=y.decode._getbithuff,v,u;return v=b(n,r,t[0],t),u=b(n,r,v,0),u&1<<v-1||(u-=(1<<v)-1),u},y.decode._decodeARW=function(n,r,t,b,v,u){var o=n.t256[0],h=n.t257[0],k=n.t258[0],d=n.isLE?y._binLE:y._binBE,_=o*h==b||o*h*1.5==b;if(!_){h+=8;var w=[t,0,0,0],f=new Uint16Array(32770),a=[3857,3856,3599,3342,3085,2828,2571,2314,2057,1800,1543,1286,1029,772,771,768,514,513],U,c,g,V,G,p=0,x=y.decode._ljpeg_diff;for(f[0]=15,g=U=0;U<18;U++)for(var E=32768>>>(a[U]>>>8),c=0;c<E;c++)f[++g]=a[U];for(V=o;V--;)for(G=0;G<h+1;G+=2)if(G==h&&(G=1),p+=x(r,w,f),G<h){var z=p&4095;y.decode._putsF(v,(G*o+V)*k,z<<16-k)}return}if(o*h*1.5==b){for(var U=0;U<b;U+=3){var A=r[t+U+0],D=r[t+U+1],O=r[t+U+2];v[u+U]=D<<4|A>>>4,v[u+U+1]=A<<4|O>>>4,v[u+U+2]=O<<4|D>>>4}return}var M=new Uint16Array(16),G,V,X,$,Z,H,te,j,Q,U,se,oe=new Uint8Array(o+1);for(G=0;G<h;G++){for(var q=0;q<o;q++)oe[q]=r[t++];for(se=0,V=0;V<o-30;se+=16){for($=2047&(X=d.readUint(oe,se)),Z=2047&X>>>11,H=15&X>>>22,te=15&X>>>26,j=0;j<4&&128<<j<=$-Z;j++);for(Q=30,U=0;U<16;U++)U==H?M[U]=$:U==te?M[U]=Z:(M[U]=((d.readUshort(oe,se+(Q>>3))>>>(Q&7)&127)<<j)+Z,M[U]>2047&&(M[U]=2047),Q+=7);for(U=0;U<16;U++,V+=2){var z=M[U]<<1;y.decode._putsF(v,(G*o+V)*k,z<<16-k)}V-=V&1?1:31}}},y.decode._decodeNikon=function(n,r,t,b,v,u,o){var h=[[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,5,4,3,6,2,7,1,0,8,9,11,10,12],[0,0,1,5,1,1,1,1,1,1,2,0,0,0,0,0,0,57,90,56,39,22,5,4,3,2,1,0,11,12,12],[0,0,1,4,2,3,1,2,0,0,0,0,0,0,0,0,0,5,4,6,3,7,2,8,1,9,0,10,11,12],[0,0,1,4,3,1,1,1,1,1,2,0,0,0,0,0,0,5,6,4,7,8,3,9,2,1,0,10,11,12,13,14],[0,0,1,5,1,1,1,1,1,1,1,2,0,0,0,0,0,8,92,75,58,41,7,6,5,4,3,2,1,0,13,14],[0,0,1,4,2,2,3,1,2,0,0,0,0,0,0,0,0,7,6,8,5,9,4,10,3,11,12,2,0,1,13,14]],k=n.t256[0],d=n.t257[0],_=n.t258[0],w=0,f=0,a=y.decode._make_decoder,c=y.decode._getbithuff,g=r[0].exifIFD.makerNote,p=g.t150?g.t150:g.t140,x=0,E=p[x++],z=p[x++];(E==73||z==88)&&(x+=2110),E==70&&(w=2),_==14&&(w+=3);for(var A=[[0,0],[0,0]],D=n.isLE?y._binLE:y._binBE,X=0;X<2;X++)for(var O=0;O<2;O++)A[X][O]=D.readShort(p,x),x+=2;var M=1<<_&32767,G=0,V=D.readShort(p,x);x+=2,V>1&&(G=Math.floor(M/(V-1))),E==68&&z==32&&G>0&&(f=D.readShort(p,562));var X,$,Z,H,te,j,Q=[0,0],U=a(h[w]),se=[b,0,0,0];for($=0;$<d;$++)for(f&&$==f&&(U=a(h[w+1])),Z=0;Z<k;Z++){X=c(t,se,U[0],U),H=X&15,te=X>>>4,j=(c(t,se,H-te,0)<<1)+1<<te>>>1,j&1<<H-1||(j-=(1<<H)-(te==0?1:0)),Z<2?Q[Z]=A[$&1][Z]+=j:Q[Z&1]+=j;var oe=Math.min(Math.max(Q[Z&1],0),(1<<_)-1),q=($*k+Z)*_;y.decode._putsF(u,q,oe<<16-_)}},y.decode._putsF=function(n,r,t){t=t<<8-(r&7);var b=r>>>3;n[b]|=t>>>16,n[b+1]|=t>>>8,n[b+2]|=t},y.decode._getbithuff=function(n,r,t,b){var v=0;y.decode._get_byte;var u,o=r[0],h=r[1],k=r[2],d=r[3];if(t==0||k<0)return 0;for(;!d&&k<t&&(u=n[o++])!=-1&&!(d=v);)h=(h<<8)+u,k+=8;if(u=h<<32-k>>>32-t,b?(k-=b[u+1]>>>8,u=b[u+1]&255):k-=t,k<0)throw"e";return r[0]=o,r[1]=h,r[2]=k,r[3]=d,u},y.decode._make_decoder=function(n){var r,t,b,v,u,o=[];for(r=16;r!=0&&!n[r];r--);var h=17;for(o[0]=r,b=t=1;t<=r;t++)for(v=0;v<n[t];v++,++h)for(u=0;u<1<<r-t;u++)b<=1<<r&&(o[b++]=t<<8|n[h]);return o},y.decode._decodeNewJPEG=function(n,r,t,b,v,u){var o=n.t347,h=o?o.length:0,k=new Uint8Array(h+b);if(o){for(var d=216,_=217,w=0,f=0;f<h-1&&!(o[f]==255&&o[f+1]==_);f++)k[w++]=o[f];var a=r[t],c=r[t+1];(a!=255||c!=d)&&(k[w++]=a,k[w++]=c);for(var f=2;f<b;f++)k[w++]=r[t+f]}else for(var f=0;f<b;f++)k[f]=r[t+f];if(n.t262[0]==32803||n.t262[0]==34892){var g=n.t258[0],p=y.LosslessJpegDecode(k),x=p.length;if(g==16)if(n.isLE)for(var f=0;f<x;f++)v[u+(f<<1)]=p[f]&255,v[u+(f<<1)+1]=p[f]>>>8;else for(var f=0;f<x;f++)v[u+(f<<1)]=p[f]>>>8,v[u+(f<<1)+1]=p[f]&255;else if(g==14||g==12)for(var E=16-g,f=0;f<x;f++)y.decode._putsF(v,f*g,p[f]<<E);else throw new Error("unsupported bit depth "+g)}else{var z=new y.JpegDecoder;z.parse(k);for(var A=z.getData(z.width,z.height),f=0;f<A.length;f++)v[u+f]=A[f]}n.t262[0]==6&&(n.t262[0]=2)},y.decode._decodeOldJPEGInit=function(n,r,t,b){var v=216,u=219,o=196,h=221,k=192,d=218,_=0,w=0,f,a,c=!1,g,p,x,E=n.t513,z=E?E[0]:0,A=n.t514,D=A?A[0]:0,O=n.t324||n.t273||E,M=n.t530,G=0,V=0,X=n.t277?n.t277[0]:1,$=n.t515;if(O&&(w=O[0],c=O.length>1),!c){if(r[t]==255&&r[t+1]==v)return{jpegOffset:t};if(E!=null&&(r[t+z]==255&&r[t+z+1]==v?_=t+z:L("JPEGInterchangeFormat does not point to SOI"),A==null?L("JPEGInterchangeFormatLength field is missing"):(z>=w||z+D<=w)&&L("JPEGInterchangeFormatLength field value is invalid"),_!=null))return{jpegOffset:_}}if(M!=null&&(G=M[0],V=M[1]),E!=null&&A!=null)if(D>=2&&z+D<=w){for(r[t+z+D-2]==255&&r[t+z+D-1]==v?f=new Uint8Array(D-2):f=new Uint8Array(D),g=0;g<f.length;g++)f[g]=r[t+z+g];L("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else L("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(f==null){var Z=0,H=[];H[Z++]=255,H[Z++]=v;var te=n.t519;if(te==null)throw new Error("JPEGQTables tag is missing");for(g=0;g<te.length;g++)for(H[Z++]=255,H[Z++]=u,H[Z++]=0,H[Z++]=67,H[Z++]=g,p=0;p<64;p++)H[Z++]=r[t+te[g]+p];for(x=0;x<2;x++){var j=n[x==0?"t520":"t521"];if(j==null)throw new Error((x==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(g=0;g<j.length;g++){H[Z++]=255,H[Z++]=o;var Q=19;for(p=0;p<16;p++)Q+=r[t+j[g]+p];for(H[Z++]=Q>>>8,H[Z++]=Q&255,H[Z++]=g|x<<4,p=0;p<16;p++)H[Z++]=r[t+j[g]+p];for(p=0;p<Q;p++)H[Z++]=r[t+j[g]+16+p]}}if(H[Z++]=255,H[Z++]=k,H[Z++]=0,H[Z++]=8+3*X,H[Z++]=8,H[Z++]=n.height>>>8&255,H[Z++]=n.height&255,H[Z++]=n.width>>>8&255,H[Z++]=n.width&255,H[Z++]=X,X==1)H[Z++]=1,H[Z++]=17,H[Z++]=0;else for(g=0;g<3;g++)H[Z++]=g+1,H[Z++]=g!=0?17:(G&15)<<4|V&15,H[Z++]=g;$!=null&&$[0]!=0&&(H[Z++]=255,H[Z++]=h,H[Z++]=0,H[Z++]=4,H[Z++]=$[0]>>>8&255,H[Z++]=$[0]&255),f=new Uint8Array(H)}var U=-1;for(g=0;g<f.length-1;){if(f[g]==255&&f[g+1]==k){U=g;break}g++}if(U==-1){var se=new Uint8Array(f.length+10+3*X);se.set(f);var oe=f.length;if(U=f.length,f=se,f[oe++]=255,f[oe++]=k,f[oe++]=0,f[oe++]=8+3*X,f[oe++]=8,f[oe++]=n.height>>>8&255,f[oe++]=n.height&255,f[oe++]=n.width>>>8&255,f[oe++]=n.width&255,f[oe++]=X,X==1)f[oe++]=1,f[oe++]=17,f[oe++]=0;else for(g=0;g<3;g++)f[oe++]=g+1,f[oe++]=g!=0?17:(G&15)<<4|V&15,f[oe++]=g}if(r[w]==255&&r[w+1]==d){var q=r[w+2]<<8|r[w+3];for(a=new Uint8Array(q+2),a[0]=r[w],a[1]=r[w+1],a[2]=r[w+2],a[3]=r[w+3],g=0;g<q-2;g++)a[g+4]=r[w+g+4]}else{a=new Uint8Array(8+2*X);var ne=0;if(a[ne++]=255,a[ne++]=d,a[ne++]=0,a[ne++]=6+2*X,a[ne++]=X,X==1)a[ne++]=1,a[ne++]=0;else for(g=0;g<3;g++)a[ne++]=g+1,a[ne++]=g<<4|g;a[ne++]=0,a[ne++]=63,a[ne++]=0}return{jpegOffset:t,tables:f,sosMarker:a,sofPosition:U}},y.decode._decodeOldJPEG=function(n,r,t,b,v,u){var o,h,k,d,_,w=y.decode._decodeOldJPEGInit(n,r,t,b);if(w.jpegOffset!=null)for(h=t+b-w.jpegOffset,d=new Uint8Array(h),o=0;o<h;o++)d[o]=r[w.jpegOffset+o];else{for(k=w.tables.length,d=new Uint8Array(k+w.sosMarker.length+b+2),d.set(w.tables),_=k,d[w.sofPosition+5]=n.height>>>8&255,d[w.sofPosition+6]=n.height&255,d[w.sofPosition+7]=n.width>>>8&255,d[w.sofPosition+8]=n.width&255,(r[t]!=255||r[t+1]!=SOS)&&(d.set(w.sosMarker,_),_+=sosMarker.length),o=0;o<b;o++)d[_++]=r[t+o];d[_++]=255,d[_++]=EOI}var f=new y.JpegDecoder;f.parse(d);for(var a=f.getData(f.width,f.height),o=0;o<a.length;o++)v[u+o]=a[o];n.t262&&n.t262[0]==6&&(n.t262[0]=2)},y.decode._decodePackBits=function(n,r,t,b,v){for(var u=new Int8Array(n.buffer),o=new Int8Array(b.buffer),h=r+t;r<h;){var k=u[r];if(r++,k>=0&&k<128)for(var d=0;d<k+1;d++)o[v]=u[r],v++,r++;if(k>=-127&&k<0){for(var d=0;d<-k+1;d++)o[v]=u[r],v++;r++}}},y.decode._decodeThunder=function(n,r,t,b,v){for(var u=[0,1,0,-1],o=[0,1,2,3,0,-3,-2,-1],h=r+t,k=v*2,d=0;r<h;){var _=n[r],w=_>>>6,f=_&63;if(r++,w==3&&(d=f&15,b[k>>>1]|=d<<4*(1-k&1),k++),w==0)for(var a=0;a<f;a++)b[k>>>1]|=d<<4*(1-k&1),k++;if(w==2)for(var a=0;a<2;a++){var c=f>>>3*(1-a)&7;c!=4&&(d+=o[c],b[k>>>1]|=d<<4*(1-k&1),k++)}if(w==1)for(var a=0;a<3;a++){var c=f>>>2*(2-a)&3;c!=2&&(d+=u[c],b[k>>>1]|=d<<4*(1-k&1),k++)}}},y.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},y.decode._lens=function(){var n=function(k,d,_,w){for(var f=0;f<d.length;f++)k[d[f]]=_+f*w},r="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",t="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",b="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",v="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",u="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";r=r.split(","),t=t.split(","),b=b.split(","),v=v.split(","),u=u.split(",");var o={},h={};return n(o,r,0,1),n(o,b,64,64),n(o,u,1792,64),n(h,t,0,1),n(h,v,64,64),n(h,u,1792,64),[o,h]}(),y.decode._decodeG4=function(n,r,t,b,v,u,o){for(var h=y.decode,k=r<<3,d=0,_="",w=[],f=[],a=0;a<u;a++)f.push(0);f=h._makeDiff(f);for(var c=0,g=0,p=0,x=0,E=0,z=0,A="",D=0,O=Math.ceil(u/8)*8;k>>>3<r+t;){p=h._findDiff(f,c+(c==0?0:1),1-E),x=h._findDiff(f,p,E);var M=0;if(o==1&&(M=n[k>>>3]>>>7-(k&7)&1),o==2&&(M=n[k>>>3]>>>(k&7)&1),k++,_+=M,A=="H"){if(h._lens[E][_]!=null){var G=h._lens[E][_];_="",d+=G,G<64&&(h._addNtimes(w,d,E),c+=d,E=1-E,d=0,D--,D==0&&(A=""))}}else _=="0001"&&(_="",h._addNtimes(w,x-c,E),c=x),_=="001"&&(_="",A="H",D=2),h._dmap[_]!=null&&(g=p+h._dmap[_],h._addNtimes(w,g-c,E),c=g,_="",E=1-E);w.length==u&&A==""&&(h._writeBits(w,b,v*8+z*O),E=0,z++,c=0,f=h._makeDiff(w),w=[])}},y.decode._findDiff=function(n,r,t){for(var b=0;b<n.length;b+=2)if(n[b]>=r&&n[b+1]==t)return n[b]},y.decode._makeDiff=function(n){var r=[];n[0]==1&&r.push(0,1);for(var t=1;t<n.length;t++)n[t-1]!=n[t]&&r.push(t,n[t]);return r.push(n.length,0,n.length,1),r},y.decode._decodeG3=function(n,r,t,b,v,u,o){for(var h=y.decode,k=r<<3,d=0,_="",w=[],f=[],a=0;a<u;a++)w.push(0);for(var c=0,g=0,p=0,x=0,E=0,z=-1,A="",D=0,O=!1,M=Math.ceil(u/8)*8;k>>>3<r+t;){p=h._findDiff(f,c+(c==0?0:1),1-E),x=h._findDiff(f,p,E);var G=0;if(o==1&&(G=n[k>>>3]>>>7-(k&7)&1),o==2&&(G=n[k>>>3]>>>(k&7)&1),k++,_+=G,O){if(h._lens[E][_]!=null){var V=h._lens[E][_];_="",d+=V,V<64&&(h._addNtimes(w,d,E),E=1-E,d=0)}}else if(A=="H"){if(h._lens[E][_]!=null){var V=h._lens[E][_];_="",d+=V,V<64&&(h._addNtimes(w,d,E),c+=d,E=1-E,d=0,D--,D==0&&(A=""))}}else _=="0001"&&(_="",h._addNtimes(w,x-c,E),c=x),_=="001"&&(_="",A="H",D=2),h._dmap[_]!=null&&(g=p+h._dmap[_],h._addNtimes(w,g-c,E),c=g,_="",E=1-E);_.endsWith("000000000001")&&(z>=0&&h._writeBits(w,b,v*8+z*M),o==1&&(O=(n[k>>>3]>>>7-(k&7)&1)==1),o==2&&(O=(n[k>>>3]>>>(k&7)&1)==1),k++,h._decodeG3.allow2D==null&&(h._decodeG3.allow2D=O),h._decodeG3.allow2D||(O=!0,k--),_="",E=0,z++,c=0,f=h._makeDiff(w),w=[])}w.length==u&&h._writeBits(w,b,v*8+z*M)},y.decode._addNtimes=function(n,r,t){for(var b=0;b<r;b++)n.push(t)},y.decode._writeBits=function(n,r,t){for(var b=0;b<n.length;b++)r[t+b>>>3]|=n[b]<<7-(t+b&7)},y.decode._decodeLZW=function(n,r,t,b){if(y.decode._lzwTab==null){for(var v=new Uint32Array(65535),u=new Uint16Array(65535),_=new Uint8Array(2e6),o=0;o<256;o++)_[o<<2]=o,v[o]=o<<2,u[o]=1;y.decode._lzwTab=[v,u,_]}for(var h=y.decode._copyData,k=y.decode._lzwTab[0],d=y.decode._lzwTab[1],_=y.decode._lzwTab[2],w=258,f=1032,a=9,c=r<<3,g=256,p=257,x=0,E=0,z=0;x=n[c>>>3]<<16|n[c+8>>>3]<<8|n[c+16>>>3],E=x>>24-(c&7)-a&(1<<a)-1,c+=a,E!=p;){if(E==g){if(a=9,w=258,f=1032,x=n[c>>>3]<<16|n[c+8>>>3]<<8|n[c+16>>>3],E=x>>24-(c&7)-a&(1<<a)-1,c+=a,E==p)break;t[b]=E,b++}else if(E<w){var A=k[E],D=d[E];if(h(_,A,t,b,D),b+=D,z>=w)k[w]=f,_[k[w]]=A[0],d[w]=1,f=f+1+3&-4,w++;else{k[w]=f;var O=k[z],M=d[z];h(_,O,_,f,M),_[f+M]=_[A],M++,d[w]=M,w++,f=f+M+3&-4}w+1==1<<a&&a++}else{if(z>=w)k[w]=f,d[w]=0,w++;else{k[w]=f;var O=k[z],M=d[z];h(_,O,_,f,M),_[f+M]=_[f],M++,d[w]=M,w++,h(_,f,t,b,M),b+=M,f=f+M+3&-4}w+1==1<<a&&a++}z=E}},y.decode._copyData=function(n,r,t,b,v){for(var u=0;u<v;u+=4)t[b+u]=n[r+u],t[b+u+1]=n[r+u+1],t[b+u+2]=n[r+u+2],t[b+u+3]=n[r+u+3]},y.tags={},y.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},y._readIFD=function(n,r,t,b,v,u){var o=n.readUshort(r,t);t+=2;var h={};b.push(h),u&&L("   ".repeat(v),b.length-1,">>>----------------");for(var k=0;k<o;k++){var d=n.readUshort(r,t);t+=2;var _=n.readUshort(r,t);t+=2;var w=n.readUint(r,t);t+=4;var f=n.readUint(r,t);t+=4;var a=[];if((_==1||_==7)&&(a=new Uint8Array(r.buffer,w<5?t-4:f,w)),_==2){var c=w<5?t-4:f,g=r[c];g<128?a.push(n.readASCII(r,c,w-1)):a=new Uint8Array(r.buffer,c,w-1)}if(_==3)for(var p=0;p<w;p++)a.push(n.readUshort(r,(w<3?t-4:f)+2*p));if(_==4)for(var p=0;p<w;p++)a.push(n.readUint(r,(w<2?t-4:f)+4*p));if(_==5)for(var p=0;p<w;p++)a.push(n.readUint(r,f+p*8)/n.readUint(r,f+p*8+4));if(_==8)for(var p=0;p<w;p++)a.push(n.readShort(r,(w<3?t-4:f)+2*p));if(_==9)for(var p=0;p<w;p++)a.push(n.readInt(r,(w<2?t-4:f)+4*p));if(_==10)for(var p=0;p<w;p++)a.push(n.readInt(r,f+p*8)/n.readInt(r,f+p*8+4));if(_==11)for(var p=0;p<w;p++)a.push(n.readFloat(r,f+p*4));if(_==12)for(var p=0;p<w;p++)a.push(n.readDouble(r,f+p*8));if(h["t"+d]=a,w!=0&&a.length==0&&L("unknown TIFF tag type: ",_,"num:",w),u&&L("   ".repeat(v),d,_,y.tags[d],a),!(d==330&&h.t272&&h.t272[0]=="DSLR-A100")){if(d==330||d==34665||d==50740&&n.readUshort(r,n.readUint(a,0))<300){for(var x=d==50740?[n.readUint(a,0)]:a,E=[],p=0;p<x.length;p++)y._readIFD(n,r,x[p],E,v+1,u);d==330&&(h.subIFD=E),d==34665&&(h.exifIFD=E[0]),d==50740&&(h.dngPrvt=E[0])}}if(d==37500){var z=a;if(n.readASCII(z,0,5)=="Nikon")h.makerNote=y.decode(z.slice(10).buffer)[0];else if(n.readUshort(r,f)<300){var A=[];y._readIFD(n,r,f,A,v+1,u),h.makerNote=A[0]}}}return u&&L("   ".repeat(v),"<<<---------------"),t},y._writeIFD=function(n,r,t,b){var v=Object.keys(b);n.writeUshort(r,t,v.length),t+=2;for(var u=t+v.length*12+4,o=0;o<v.length;o++){var h=v[o],k=parseInt(h.slice(1)),d=y.ttypes[k];if(d==null)throw new Error("unknown type of tag: "+k);var _=b[h];d==2&&(_=_[0]+"\0");var w=_.length;n.writeUshort(r,t,k),t+=2,n.writeUshort(r,t,d),t+=2,n.writeUint(r,t,w),t+=4;var f=[-1,1,1,2,4,8,0,0,0,0,0,0,8][d]*w,a=t;if(f>4&&(n.writeUint(r,t,u),a=u),d==2&&n.writeASCII(r,a,_),d==3)for(var c=0;c<w;c++)n.writeUshort(r,a+2*c,_[c]);if(d==4)for(var c=0;c<w;c++)n.writeUint(r,a+4*c,_[c]);if(d==5)for(var c=0;c<w;c++)n.writeUint(r,a+8*c,Math.round(_[c]*1e4)),n.writeUint(r,a+8*c+4,1e4);if(d==12)for(var c=0;c<w;c++)n.writeDouble(r,a+8*c,_[c]);f>4&&(f+=f&1,u+=f),t+=4}return[t,u]},y.toRGBA8=function(n){var r=n.width,t=n.height,b=r*t,v=b*4,u=n.data,o=new Uint8Array(b*4),h=n.t262?n.t262[0]:2,k=n.t258?Math.min(32,n.t258[0]):1;if(h==0)for(var d=Math.ceil(k*r/8),_=0;_<t;_++){var w=_*d,f=_*r;if(k==1)for(var a=0;a<r;a++){var c=f+a<<2,g=u[w+(a>>3)]>>7-(a&7)&1;o[c]=o[c+1]=o[c+2]=(1-g)*255,o[c+3]=255}if(k==4)for(var a=0;a<r;a++){var c=f+a<<2,g=u[w+(a>>1)]>>4-4*(a&1)&15;o[c]=o[c+1]=o[c+2]=(15-g)*17,o[c+3]=255}if(k==8)for(var a=0;a<r;a++){var c=f+a<<2,g=u[w+a];o[c]=o[c+1]=o[c+2]=255-g,o[c+3]=255}}else if(h==1)for(var d=Math.ceil(k*r/8),_=0;_<t;_++){var w=_*d,f=_*r;if(k==1)for(var a=0;a<r;a++){var c=f+a<<2,g=u[w+(a>>3)]>>7-(a&7)&1;o[c]=o[c+1]=o[c+2]=g*255,o[c+3]=255}if(k==2)for(var a=0;a<r;a++){var c=f+a<<2,g=u[w+(a>>2)]>>6-2*(a&3)&3;o[c]=o[c+1]=o[c+2]=g*85,o[c+3]=255}if(k==8)for(var a=0;a<r;a++){var c=f+a<<2,g=u[w+a];o[c]=o[c+1]=o[c+2]=g,o[c+3]=255}if(k==16)for(var a=0;a<r;a++){var c=f+a<<2,g=u[w+(2*a+1)];o[c]=o[c+1]=o[c+2]=Math.min(255,g),o[c+3]=255}}else if(h==2){var p=n.t258?n.t258.length:3;if(k==8){if(p==4)for(var a=0;a<v;a++)o[a]=u[a];if(p==3)for(var a=0;a<b;a++){var c=a<<2,x=a*3;o[c]=u[x],o[c+1]=u[x+1],o[c+2]=u[x+2],o[c+3]=255}}else{if(p==4)for(var a=0;a<b;a++){var c=a<<2,x=a*8+1;o[c]=u[x],o[c+1]=u[x+2],o[c+2]=u[x+4],o[c+3]=u[x+6]}if(p==3)for(var a=0;a<b;a++){var c=a<<2,x=a*6+1;o[c]=u[x],o[c+1]=u[x+2],o[c+2]=u[x+4],o[c+3]=255}}}else if(h==3)for(var E=n.t320,a=0;a<b;a++){var c=a<<2,z=u[a];o[c]=E[z]>>8,o[c+1]=E[256+z]>>8,o[c+2]=E[512+z]>>8,o[c+3]=255}else if(h==5)for(var p=n.t258?n.t258.length:4,A=p>4?1:0,a=0;a<b;a++){var c=a<<2,D=a*p,O=255-u[D],M=255-u[D+1],G=255-u[D+2],V=(255-u[D+3])*(1/255);o[c]=~~(O*V+.5),o[c+1]=~~(M*V+.5),o[c+2]=~~(G*V+.5),o[c+3]=255*(1-A)+u[D+4]*A}else L("Unknown Photometric interpretation: "+h);return o},y.replaceIMG=function(n){n==null&&(n=document.getElementsByTagName("img"));for(var r=["tif","tiff","dng","cr2","nef"],t=0;t<n.length;t++){var b=n[t],v=b.getAttribute("src");if(v!=null){var u=v.split(".").pop().toLowerCase();if(r.indexOf(u)!=-1){var o=new XMLHttpRequest;y._xhrs.push(o),y._imgs.push(b),o.open("GET",v),o.responseType="arraybuffer",o.onload=y._imgLoaded,o.send()}}}},y._xhrs=[],y._imgs=[],y._imgLoaded=function(n){var r=n.target.response,t=y.decode(r),b=t,v=0,u=b[0];t[0].subIFD&&(b=b.concat(t[0].subIFD));for(var o=0;o<b.length;o++){var f=b[o];if(!(f.t258==null||f.t258.length<3)){var h=f.t256*f.t257;h>v&&(v=h,u=f)}}y.decodeImage(r,u,t);var k=y.toRGBA8(u),d=u.width,_=u.height,w=y._xhrs.indexOf(n.target),f=y._imgs[w];y._xhrs.splice(w,1),y._imgs.splice(w,1);var a=document.createElement("canvas");a.width=d,a.height=_;for(var c=a.getContext("2d"),g=c.createImageData(d,_),o=0;o<k.length;o++)g.data[o]=k[o];c.putImageData(g,0,0),f.setAttribute("src",a.toDataURL())},y._binBE={nextZero:function(n,r){for(;n[r]!=0;)r++;return r},readUshort:function(n,r){return n[r]<<8|n[r+1]},readShort:function(n,r){var t=y._binBE.ui8;return t[0]=n[r+1],t[1]=n[r+0],y._binBE.i16[0]},readInt:function(n,r){var t=y._binBE.ui8;return t[0]=n[r+3],t[1]=n[r+2],t[2]=n[r+1],t[3]=n[r+0],y._binBE.i32[0]},readUint:function(n,r){var t=y._binBE.ui8;return t[0]=n[r+3],t[1]=n[r+2],t[2]=n[r+1],t[3]=n[r+0],y._binBE.ui32[0]},readASCII:function(n,r,t){for(var b="",v=0;v<t;v++)b+=String.fromCharCode(n[r+v]);return b},readFloat:function(n,r){for(var t=y._binBE.ui8,b=0;b<4;b++)t[b]=n[r+3-b];return y._binBE.fl32[0]},readDouble:function(n,r){for(var t=y._binBE.ui8,b=0;b<8;b++)t[b]=n[r+7-b];return y._binBE.fl64[0]},writeUshort:function(n,r,t){n[r]=t>>8&255,n[r+1]=t&255},writeUint:function(n,r,t){n[r]=t>>24&255,n[r+1]=t>>16&255,n[r+2]=t>>8&255,n[r+3]=t>>0&255},writeASCII:function(n,r,t){for(var b=0;b<t.length;b++)n[r+b]=t.charCodeAt(b)},writeDouble:function(n,r,t){y._binBE.fl64[0]=t;for(var b=0;b<8;b++)n[r+b]=y._binBE.ui8[7-b]}},y._binBE.ui8=new Uint8Array(8),y._binBE.i16=new Int16Array(y._binBE.ui8.buffer),y._binBE.i32=new Int32Array(y._binBE.ui8.buffer),y._binBE.ui32=new Uint32Array(y._binBE.ui8.buffer),y._binBE.fl32=new Float32Array(y._binBE.ui8.buffer),y._binBE.fl64=new Float64Array(y._binBE.ui8.buffer),y._binLE={nextZero:y._binBE.nextZero,readUshort:function(n,r){return n[r+1]<<8|n[r]},readShort:function(n,r){var t=y._binBE.ui8;return t[0]=n[r+0],t[1]=n[r+1],y._binBE.i16[0]},readInt:function(n,r){var t=y._binBE.ui8;return t[0]=n[r+0],t[1]=n[r+1],t[2]=n[r+2],t[3]=n[r+3],y._binBE.i32[0]},readUint:function(n,r){var t=y._binBE.ui8;return t[0]=n[r+0],t[1]=n[r+1],t[2]=n[r+2],t[3]=n[r+3],y._binBE.ui32[0]},readASCII:y._binBE.readASCII,readFloat:function(n,r){for(var t=y._binBE.ui8,b=0;b<4;b++)t[b]=n[r+b];return y._binBE.fl32[0]},readDouble:function(n,r){for(var t=y._binBE.ui8,b=0;b<8;b++)t[b]=n[r+b];return y._binBE.fl64[0]}},y._copyTile=function(n,r,t,b,v,u,o,h){for(var k=Math.min(r,v-o),d=Math.min(t,u-h),_=0;_<d;_++)for(var w=(h+_)*v+o,f=_*r,a=0;a<k;a++)b[w+a]=n[f+a]},y.LosslessJpegDecode=function(){function n(v){this.w=v,this.N=0,this._=0,this.G=0}n.prototype={t:function(v){this.N=Math.max(0,Math.min(this.w.length,v))},i:function(){return this.w[this.N++]},l:function(){var v=this.N;return this.N+=2,this.w[v]<<8|this.w[v+1]},J:function(){return this._==0&&(this.G=this.w[this.N],this.N+=1+(this.G+1>>>8),this._=8),this.G>>>--this._&1},Z:function(v){var u=this._,o=this.G,h=Math.min(u,v);v-=h,u-=h;for(var k=o>>>u&(1<<h)-1;v>0;)o=this.w[this.N],this.N+=1+(o+1>>>8),h=Math.min(8,v),v-=h,u=8-h,k<<=h,k|=o>>>u&(1<<h)-1;return this._=u,this.G=o,k}};var r={};r.X=function(){return[0,0,-1]},r.s=function(v,u,o){v[r.Y(v,0,o)+2]=u},r.Y=function(v,u,o){if(v[u+2]!=-1)return 0;if(o==0)return u;for(var h=0;h<2;h++){v[u+h]==0&&(v[u+h]=v.length,v.push(0),v.push(0),v.push(-1));var k=r.Y(v,v[u+h],o-1);if(k!=0)return k}return 0},r.B=function(v,u){for(var o=0,h=0,k=0,d=u._,_=u.G,w=u.N;;)if(d==0&&(_=u.w[w],w+=1+(_+1>>>8),d=8),k=_>>>--d&1,o=v[o+k],h=v[o+2],h!=-1)return u._=d,u.G=_,u.N=w,h;return-1};function t(v){this.z=new n(v),this.D(this.z)}t.prototype={$:function(v,u){this.Q=v.i(),this.F=v.l(),this.o=v.l();var o=this.O=v.i();this.L=[];for(var h=0;h<o;h++){var k=v.i();v.i(),v.i(),this.L[k]=h}v.t(v.N+u-(6+o*3))},e:function(){var v=0,u=this.z.i();this.H==null&&(this.H={});for(var o=this.H[u]=r.X(),h=[],k=0;k<16;k++)h[k]=this.z.i(),v+=h[k];for(var k=0;k<16;k++)for(var d=0;d<h[k];d++)r.s(o,this.z.i(),k+1);return v+17},W:function(v){for(;v>0;)v-=this.e()},p:function(v,u){var o=v.i();this.U||(this.U=[]);for(var h=0;h<o;h++){var k=v.i(),d=v.i();this.U[this.L[k]]=this.H[d>>>4]}this.g=v.i(),v.t(v.N+u-(2+o*2))},D:function(v){var u=!1,o=v.l();if(o===t.q)do{var o=v.l(),h=v.l()-2;switch(o){case t.m:this.$(v,h);break;case t.K:this.W(h);break;case t.V:this.p(v,h),u=!0;break;default:v.t(v.N+h);break}}while(!u)},I:function(v,u){var o=r.B(u,v);if(o==16)return-32768;var h=v.Z(o);return h&1<<o-1||(h-=(1<<o)-1),h},B:function(v,u){for(var o=this.z,h=this.O,k=this.F,d=this.I,_=this.g,w=this.o*h,f=this.U,a=0;a<h;a++)v[a]=d(o,f[a])+(1<<this.Q-1);for(var c=h;c<w;c+=h)for(var a=0;a<h;a++)v[c+a]=d(o,f[a])+v[c+a-h];for(var g=u,p=1;p<k;p++){for(var a=0;a<h;a++)v[g+a]=d(o,f[a])+v[g+a-u];for(var c=h;c<w;c+=h)for(var a=0;a<h;a++){var x=g+c+a,E=v[x-h];_==6&&(E=v[x-u]+(E-v[x-h-u]>>>1)),v[x]=E+d(o,f[a])}g+=u}}},t.m=65475,t.K=65476,t.q=65496,t.V=65498;function b(v){var u=new t(v),o=u.Q>8?Uint16Array:Uint8Array,h=new o(u.o*u.F*u.O),k=u.o*u.O;return u.B(h,k),h}return b}()})(T,Y)})()}(sr)),sr.exports}var xr=Qt();const Ft={__name:"TiffViewer",props:{tiffUrl:String,isModal:{type:Boolean,default:!1},zoomLevel:{type:Number,default:1},rotationDegree:{type:Number,default:0},translateX:{type:Number,default:0}},emits:["error"],setup(B,{emit:T}){const Y=B,L=He(null),y=He(!1),I=He(!1),n=T,r=pe(()=>({width:Y.isModal?"100%":`${250*Y.zoomLevel}px`,height:Y.isModal?"100%":`${250*Y.zoomLevel}px`,transform:`scale(${Y.zoomLevel}) rotate(${Y.rotationDegree}deg)  translateX(${Y.translateX}px)`,objectFit:"contain",transformOrigin:"left"}));return mr(()=>[Y.tiffUrl,Y.rotationDegree],async()=>{if(Y.tiffUrl){I.value=!0;try{const v=await(await fetch(Y.tiffUrl)).arrayBuffer(),u=xr.decode(v);xr.decodeImage(v,u[0]);const o=xr.toRGBA8(u[0]);if(L.value){const h=L.value,k=h.getContext("2d");h.width=u[0].width,h.height=u[0].height;const d=new ImageData(new Uint8ClampedArray(o),u[0].width,u[0].height);k.clearRect(0,0,h.width,h.height),k.save(),k.translate(h.width/2,h.height/2),k.rotate(Y.rotationDegree*Math.PI/180),k.drawImage(h,-h.width/2,-h.height/2),k.restore(),k.putImageData(d,0,0)}I.value=!1}catch(b){I.value=!1,y.value=!0,n("error"),console.error("Erro ao carregar TIFF:",b)}}},{immediate:!0}),(b,v)=>(We(),ir(it,null,[Ne(I)?(We(),yr(vt,{key:0,style:{"margin-left":"200px"},class:"loading-spinner",indeterminate:"",size:"64"})):nr("",!0),Ne(y)?nr("",!0):(We(),ir("canvas",{key:1,ref_key:"tiffCanvas",ref:L,style:at(Ne(r))},null,4))],64))}},Br=Symbol.for("vuetify:v-slider");function ea(B,T,Y){const L=Y==="vertical",y=T.getBoundingClientRect(),I="touches"in B?B.touches[0]:B;return L?I.clientY-(y.top+y.height/2):I.clientX-(y.left+y.width/2)}function ra(B,T){return"touches"in B&&B.touches.length?B.touches[0][T]:"changedTouches"in B&&B.changedTouches.length?B.changedTouches[0][T]:B[T]}const ta=ur({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:B=>typeof B=="boolean"||B==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:B=>typeof B=="boolean"||B==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:B=>["vertical","horizontal"].includes(B)},reverse:Boolean,...ct(),..._t({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),aa=B=>{const T=pe(()=>parseFloat(B.min)),Y=pe(()=>parseFloat(B.max)),L=pe(()=>+B.step>0?parseFloat(B.step):0),y=pe(()=>Math.max(Cr(L.value),Cr(T.value)));function I(n){if(n=parseFloat(n),L.value<=0)return n;const r=nt(n,T.value,Y.value),t=T.value%L.value,b=Math.round((r-t)/L.value)*L.value+t;return parseFloat(Math.min(b,Y.value).toFixed(y.value))}return{min:T,max:Y,step:L,decimals:y,roundValue:I}},ia=B=>{let{props:T,steps:Y,onSliderStart:L,onSliderMove:y,onSliderEnd:I,getActiveThumb:n}=B;const{isRtl:r}=Er(),t=je(T,"reverse"),b=pe(()=>T.direction==="vertical"),v=pe(()=>b.value!==t.value),{min:u,max:o,step:h,decimals:k,roundValue:d}=Y,_=pe(()=>parseInt(T.thumbSize,10)),w=pe(()=>parseInt(T.tickSize,10)),f=pe(()=>parseInt(T.trackSize,10)),a=pe(()=>(o.value-u.value)/h.value),c=je(T,"disabled"),g=pe(()=>T.error||T.disabled?void 0:T.thumbColor??T.color),p=pe(()=>T.error||T.disabled?void 0:T.trackColor??T.color),x=pe(()=>T.error||T.disabled?void 0:T.trackFillColor??T.color),E=Rr(!1),z=Rr(0),A=He(),D=He();function O(q){var Ae;const ne=T.direction==="vertical",he=ne?"top":"left",ke=ne?"height":"width",De=ne?"clientY":"clientX",{[he]:xe,[ke]:ve}=(Ae=A.value)==null?void 0:Ae.$el.getBoundingClientRect(),Ee=ra(q,De);let Oe=Math.min(Math.max((Ee-xe-z.value)/ve,0),1)||0;return(ne?v.value:v.value!==r.value)&&(Oe=1-Oe),d(u.value+Oe*(o.value-u.value))}const M=q=>{I({value:O(q)}),E.value=!1,z.value=0},G=q=>{D.value=n(q),D.value&&(D.value.focus(),E.value=!0,D.value.contains(q.target)?z.value=ea(q,D.value,T.direction):(z.value=0,y({value:O(q)})),L({value:O(q)}))},V={passive:!0,capture:!0};function X(q){y({value:O(q)})}function $(q){q.stopPropagation(),q.preventDefault(),M(q),window.removeEventListener("mousemove",X,V),window.removeEventListener("mouseup",$)}function Z(q){var ne;M(q),window.removeEventListener("touchmove",X,V),(ne=q.target)==null||ne.removeEventListener("touchend",Z)}function H(q){var ne;G(q),window.addEventListener("touchmove",X,V),(ne=q.target)==null||ne.addEventListener("touchend",Z,{passive:!1})}function te(q){q.preventDefault(),G(q),window.addEventListener("mousemove",X,V),window.addEventListener("mouseup",$,{passive:!1})}const j=q=>{const ne=(q-u.value)/(o.value-u.value)*100;return nt(isNaN(ne)?0:ne,0,100)},Q=je(T,"showTicks"),U=pe(()=>Q.value?T.ticks?Array.isArray(T.ticks)?T.ticks.map(q=>({value:q,position:j(q),label:q.toString()})):Object.keys(T.ticks).map(q=>({value:parseFloat(q),position:j(parseFloat(q)),label:T.ticks[q]})):a.value!==1/0?wt(a.value+1).map(q=>{const ne=u.value+q*h.value;return{value:ne,position:j(ne)}}):[]:[]),se=pe(()=>U.value.some(q=>{let{label:ne}=q;return!!ne})),oe={activeThumbRef:D,color:je(T,"color"),decimals:k,disabled:c,direction:je(T,"direction"),elevation:je(T,"elevation"),hasLabels:se,isReversed:t,indexFromEnd:v,min:u,max:o,mousePressed:E,numTicks:a,onSliderMousedown:te,onSliderTouchstart:H,parsedTicks:U,parseMouseMove:O,position:j,readonly:je(T,"readonly"),rounded:je(T,"rounded"),roundValue:d,showTicks:Q,startOffset:z,step:h,thumbSize:_,thumbColor:g,thumbLabel:je(T,"thumbLabel"),ticks:je(T,"ticks"),tickSize:w,trackColor:p,trackContainerRef:A,trackFillColor:x,trackSize:f,vertical:b};return bt(Br,oe),oe},na=ur({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...lt()},"VSliderThumb"),la=Sr()({name:"VSliderThumb",directives:{Ripple:gt},props:na(),emits:{"update:modelValue":B=>!0},setup(B,T){let{slots:Y,emit:L}=T;const y=ot(Br),{isRtl:I,rtlClasses:n}=Er();if(!y)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:r,step:t,disabled:b,thumbSize:v,thumbLabel:u,direction:o,isReversed:h,vertical:k,readonly:d,elevation:_,mousePressed:w,decimals:f,indexFromEnd:a}=y,c=pe(()=>b.value?void 0:_.value),{elevationClasses:g}=pt(c),{textColorClasses:p,textColorStyles:x}=kt(r),{pageup:E,pagedown:z,end:A,home:D,left:O,right:M,down:G,up:V}=Et,X=[E,z,A,D,O,M,G,V],$=pe(()=>t.value?[1,2,3]:[1,5,10]);function Z(te,j){if(!X.includes(te.key))return;te.preventDefault();const Q=t.value||.1,U=(B.max-B.min)/Q;if([O,M,G,V].includes(te.key)){const oe=(k.value?[I.value?O:M,h.value?G:V]:a.value!==I.value?[O,V]:[M,V]).includes(te.key)?1:-1,q=te.shiftKey?2:te.ctrlKey?1:0;j=j+oe*Q*$.value[q]}else if(te.key===D)j=B.min;else if(te.key===A)j=B.max;else{const se=te.key===z?1:-1;j=j-se*Q*(U>100?U/10:10)}return Math.max(B.min,Math.min(B.max,j))}function H(te){const j=Z(te,B.modelValue);j!=null&&L("update:modelValue",j)}return Ar(()=>{const te=Qe(a.value?100-B.position:B.position,"%");return we("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":B.focused,"v-slider-thumb--pressed":B.focused&&w.value},B.class,n.value],style:[{"--v-slider-thumb-position":te,"--v-slider-thumb-size":Qe(v.value)},B.style],role:"slider",tabindex:b.value?-1:0,"aria-label":B.name,"aria-valuemin":B.min,"aria-valuemax":B.max,"aria-valuenow":B.modelValue,"aria-readonly":!!d.value,"aria-orientation":o.value,onKeydown:d.value?void 0:H},[we("div",{class:["v-slider-thumb__surface",p.value,g.value],style:{...x.value}},null),Nr(we("div",{class:["v-slider-thumb__ripple",p.value],style:x.value},null),[[xt("ripple"),B.ripple,null,{circle:!0,center:!0}]]),we(mt,{origin:"bottom center"},{default:()=>{var j;return[Nr(we("div",{class:"v-slider-thumb__label-container"},[we("div",{class:["v-slider-thumb__label"]},[we("div",null,[((j=Y["thumb-label"])==null?void 0:j.call(Y,{modelValue:B.modelValue}))??B.modelValue.toFixed(t.value?f.value:1)])])]),[[yt,u.value&&B.focused||u.value==="always"]])]}})])}),{}}}),oa=ur({start:{type:Number,required:!0},stop:{type:Number,required:!0},...lt()},"VSliderTrack"),fa=Sr()({name:"VSliderTrack",props:oa(),emits:{},setup(B,T){let{slots:Y}=T;const L=ot(Br);if(!L)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:y,parsedTicks:I,rounded:n,showTicks:r,tickSize:t,trackColor:b,trackFillColor:v,trackSize:u,vertical:o,min:h,max:k,indexFromEnd:d}=L,{roundedClasses:_}=St(n),{backgroundColorClasses:w,backgroundColorStyles:f}=Or(v),{backgroundColorClasses:a,backgroundColorStyles:c}=Or(b),g=pe(()=>`inset-${o.value?"block":"inline"}-${d.value?"end":"start"}`),p=pe(()=>o.value?"height":"width"),x=pe(()=>({[g.value]:"0%",[p.value]:"100%"})),E=pe(()=>B.stop-B.start),z=pe(()=>({[g.value]:Qe(B.start,"%"),[p.value]:Qe(E.value,"%")})),A=pe(()=>r.value?(o.value?I.value.slice().reverse():I.value).map((O,M)=>{var V;const G=O.value!==h.value&&O.value!==k.value?Qe(O.position,"%"):void 0;return we("div",{key:O.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":O.position>=B.start&&O.position<=B.stop,"v-slider-track__tick--first":O.value===h.value,"v-slider-track__tick--last":O.value===k.value}],style:{[g.value]:G}},[(O.label||Y["tick-label"])&&we("div",{class:"v-slider-track__tick-label"},[((V=Y["tick-label"])==null?void 0:V.call(Y,{tick:O,index:M}))??O.label])])}):[]);return Ar(()=>we("div",{class:["v-slider-track",_.value,B.class],style:[{"--v-slider-track-size":Qe(u.value),"--v-slider-tick-size":Qe(t.value)},B.style]},[we("div",{class:["v-slider-track__background",a.value,{"v-slider-track__background--opacity":!!y.value||!v.value}],style:{...x.value,...c.value}},null),we("div",{class:["v-slider-track__fill",w.value],style:{...z.value,...f.value}},null),r.value&&we("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":r.value==="always"}]},[A.value])])),{}}}),ua=ur({...At(),...ta(),...Dt(),modelValue:{type:[Number,String],default:0}},"VSlider"),sa=Sr()({name:"VSlider",props:ua(),emits:{"update:focused":B=>!0,"update:modelValue":B=>!0,start:B=>!0,end:B=>!0},setup(B,T){let{slots:Y,emit:L}=T;const y=He(),{rtlClasses:I}=Er(),n=aa(B),r=Bt(B,"modelValue",void 0,p=>n.roundValue(p??n.min.value)),{min:t,max:b,mousePressed:v,roundValue:u,onSliderMousedown:o,onSliderTouchstart:h,trackContainerRef:k,position:d,hasLabels:_,readonly:w}=ia({props:B,steps:n,onSliderStart:()=>{L("start",r.value)},onSliderEnd:p=>{let{value:x}=p;const E=u(x);r.value=E,L("end",E)},onSliderMove:p=>{let{value:x}=p;return r.value=u(x)},getActiveThumb:()=>{var p;return(p=y.value)==null?void 0:p.$el}}),{isFocused:f,focus:a,blur:c}=zt(B),g=pe(()=>d(r.value));return Ar(()=>{const p=Mr.filterProps(B),x=!!(B.label||Y.label||Y.prepend);return we(Mr,Rt({class:["v-slider",{"v-slider--has-labels":!!Y["tick-label"]||_.value,"v-slider--focused":f.value,"v-slider--pressed":v.value,"v-slider--disabled":B.disabled},I.value,B.class],style:B.style},p,{focused:f.value}),{...Y,prepend:x?E=>{var z,A;return we(it,null,[((z=Y.label)==null?void 0:z.call(Y,E))??(B.label?we(Ct,{id:E.id.value,class:"v-slider__label",text:B.label},null):void 0),(A=Y.prepend)==null?void 0:A.call(Y,E)])}:void 0,default:E=>{let{id:z,messagesId:A}=E;return we("div",{class:"v-slider__container",onMousedown:w.value?void 0:o,onTouchstartPassive:w.value?void 0:h},[we("input",{id:z.value,name:B.name||z.value,disabled:!!B.disabled,readonly:!!B.readonly,tabindex:"-1",value:r.value},null),we(fa,{ref:k,start:0,stop:g.value},{"tick-label":Y["tick-label"]}),we(la,{ref:y,"aria-describedby":A.value,focused:f.value,min:t.value,max:b.value,modelValue:r.value,"onUpdate:modelValue":D=>r.value=D,position:g.value,elevation:B.elevation,onFocus:a,onBlur:c,ripple:B.ripple,name:B.name},{"thumb-label":Y["thumb-label"]})])}})}),{}}}),da={class:"d-flex justify-center align-center"},ha={key:0,class:"ml-5 mt-15"},va=["src"],ca={key:2},_a={__name:"FichaCard",props:{show:Boolean,item:Object,isView:{type:Boolean,default:!1},linkView:String},emits:["close","confirmar"],setup(B,{emit:T}){const Y=B,L=Lt(),y=`${L.public.managemant}/getLinkTipo`,I=`${L.public.managemant}/download`,n=pe(()=>!!b.value),r=pe(()=>!!v.value),t=He(Y.show),b=He(null),v=He(null),u=He(.8),o=He(0),h=T,k=pe(()=>(u.value-1)*-50);mr(()=>Y.show,async a=>{t.value=a,b.value=null,await _()},{immediate:!0}),mr(()=>Y.linkView,a=>{Y.isView&&(a&&a.includes(".tr7")?(b.value=a,v.value=null):(b.value=null,v.value=a))},{immediate:!0});const d=()=>{h("confirmar"),w()},_=async()=>{var x;if(Y.isView||!Y.item.id)return;const{data:a}=await Zr(y,{method:"POST",body:{tipo:"ficha",id:Y.item.id}},"$4omB3S9Tg3");if(!((x=a.value)!=null&&x.link))return;const{data:c}=await Zr(I,{method:"POST",body:{bucket:Ot("user-data").value.cartorio_token,path:a.value.link}},"$yanMHqBuqW"),g=a.value.link,p=c.value;/\.(tr7|tiff)$/i.test(g)?b.value=p:v.value=p},w=()=>{t.value=!1,b.value=null,v.value=null,u.value=.8,o.value=0,h("close")},f=()=>{o.value+=90,o.value>=360&&(o.value=0)};return(a,c)=>{const g=Ft;return We(),yr(It,{persistent:"",modelValue:Ne(t),"onUpdate:modelValue":c[1]||(c[1]=p=>Lr(t)?t.value=p:null),"max-width":"850"},{default:Ze(()=>[we(Pt,null,{default:Ze(()=>[we(Vt,{class:"text-h5"},{default:Ze(()=>c[2]||(c[2]=[fr("Ficha de Firma")])),_:1}),we(Gt,null,{default:Ze(()=>[we(Ht,null,{default:Ze(()=>[we(Gr,{cols:"10"},{default:Ze(()=>[we(sa,{modelValue:Ne(u),"onUpdate:modelValue":c[0]||(c[0]=p=>Lr(u)?u.value=p:null),min:"0.5",max:"1.1",step:"0.1",label:"Zoom",class:"mt-3"},null,8,["modelValue"])]),_:1}),we(Gr,{cols:"2"},{default:Ze(()=>[we(Mt,{class:"ml-6",size:"50px",onClick:f},{default:Ze(()=>c[3]||(c[3]=[fr("mdi-rotate-right")])),_:1})]),_:1})]),_:1})]),_:1}),Pr("div",da,[Ne(n)?(We(),ir("div",ha,[we(g,{"tiff-url":Ne(b),"is-modal":!0,"zoom-level":Ne(u),"rotation-degree":Ne(o),"translate-x":Ne(k)},null,8,["tiff-url","zoom-level","rotation-degree","translate-x"])])):Ne(r)?(We(),ir("img",{key:1,src:Ne(v),style:at({width:"70%",height:"70%",transform:`scale(${Ne(u)}) rotate(${Ne(o)}deg)`})},null,12,va)):nr("",!0),!Ne(v)&&!Ne(b)?(We(),ir("div",ca,c[4]||(c[4]=[Pr("h3",{class:"mb-5"}," Este usuario no possui ficha de firma cadastrada. ",-1)]))):nr("",!0)]),we(Zt,null,{default:Ze(()=>[Y.isView?nr("",!0):(We(),yr(Vr,{key:0,style:{"background-color":"#429946",color:"white"},onClick:d},{default:Ze(()=>c[5]||(c[5]=[fr("Reconhecer")])),_:1})),we(Vr,{style:{"background-color":"red",color:"white"},onClick:w},{default:Ze(()=>c[6]||(c[6]=[fr("Voltar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}}},ya=Nt(_a,[["__scopeId","data-v-efe33cd3"]]);export{sa as V,ya as _,Ft as a};
