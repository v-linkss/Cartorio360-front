import{_ as re}from"./eeo_b2L7.js";import{P,ar as O,as as U,Q as W,R as A,b as l,aw as ce,ay as de,az as te,aB as ae,aZ as le,aK as L,bl as ve,bo as me,br as oe,aE as fe,at as ge,aG as C,A as h,aH as be,bc as F,aQ as M,c1 as he,r as Q,aO as ye,g as $,l as ne,G as Se,e4 as _e,Y as ke,bY as Ve,e5 as xe,S as E,aj as Te,W as Be,bh as Ce,b5 as Ne,aD as we,b6 as Pe,e6 as He,bp as Ie,e7 as Re,c0 as Le,q as Ee,bW as We,a1 as J,bg as Ae,bn as Me,e8 as $e,_ as qe,e9 as De,e as q,bK as Oe,o as B,h as I,w as c,a as Y,t as R,L as Ue,c as j,F as z,H as G,ba as X,V as D,d as w,a5 as Fe,ea as Ye,k as je}from"./BW4SWuM9.js";import{V as ze}from"./BjKwkgWP.js";import{b as se,V as K,a as Z,c as p}from"./DEb3qJr0.js";import"./Cc4jhxpA.js";import"./DjG3iR-L.js";import"./VypV72b8.js";const Ge=""+new URL("logo_navbar.WRqgS9jl.png",import.meta.url).href,Je=P({text:String,...O(),...U()},"VToolbarTitle"),Qe=W()({name:"VToolbarTitle",props:Je(),setup(e,g){let{slots:t}=g;return A(()=>{const b=!!(t.default||t.text||e.text);return l(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[b&&l("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(s=t.default)==null?void 0:s.call(t)])]}})}),{}}}),Xe=[null,"prominent","default","comfortable","compact"],ie=P({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Xe.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ce(),...O(),...de(),...te(),...U({tag:"header"}),...ae()},"VToolbar"),ee=W()({name:"VToolbar",props:ie(),setup(e,g){var S;let{slots:t}=g;const{backgroundColorClasses:b,backgroundColorStyles:s}=le(L(e,"color")),{borderClasses:o}=ve(e),{elevationClasses:m}=me(e),{roundedClasses:d}=oe(e),{themeClasses:f}=fe(e),{rtlClasses:k}=ge(),i=C(!!(e.extended||(S=t.extension)!=null&&S.call(t))),v=h(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),u=h(()=>i.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return be({VBtn:{variant:"text"}}),A(()=>{var V;const r=!!(e.title||t.title),y=!!(t.image||e.image),_=(V=t.extension)==null?void 0:V.call(t);return i.value=!!(e.extended||_),l(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},b.value,o.value,m.value,d.value,f.value,k.value,e.class],style:[s.value,e.style]},{default:()=>[y&&l("div",{key:"image",class:"v-toolbar__image"},[t.image?l(F,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):l(ze,{key:"image-img",cover:!0,src:e.image},null)]),l(F,{defaults:{VTabs:{height:M(v.value)}}},{default:()=>{var n,a,x;return[l("div",{class:"v-toolbar__content",style:{height:M(v.value)}},[t.prepend&&l("div",{class:"v-toolbar__prepend"},[(n=t.prepend)==null?void 0:n.call(t)]),r&&l(Qe,{key:"title",text:e.title},{text:t.title}),(a=t.default)==null?void 0:a.call(t),t.append&&l("div",{class:"v-toolbar__append"},[(x=t.append)==null?void 0:x.call(t)])])]}}),l(F,{defaults:{VTabs:{height:M(u.value)}}},{default:()=>[l(he,null,{default:()=>[i.value&&l("div",{class:"v-toolbar__extension",style:{height:M(u.value)}},[_])]})]})]})}),{contentHeight:v,extensionHeight:u}}}),Ke=P({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Ze(e){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=g;let b=0,s=0;const o=Q(null),m=C(0),d=C(0),f=C(0),k=C(!1),i=C(!1),v=h(()=>Number(e.scrollThreshold)),u=h(()=>ye((v.value-m.value)/v.value||0)),S=()=>{const r=o.value;if(!r||t&&!t.value)return;b=m.value,m.value="window"in r?r.pageYOffset:r.scrollTop;const y=r instanceof Window?document.documentElement.scrollHeight:r.scrollHeight;if(s!==y){s=y;return}i.value=m.value<b,f.value=Math.abs(m.value-v.value)};return $(i,()=>{d.value=d.value||m.value}),$(k,()=>{d.value=0}),ne(()=>{$(()=>e.scrollTarget,r=>{var _;const y=r?document.querySelector(r):window;y&&y!==o.value&&((_=o.value)==null||_.removeEventListener("scroll",S),o.value=y,o.value.addEventListener("scroll",S,{passive:!0}))},{immediate:!0})}),Se(()=>{var r;(r=o.value)==null||r.removeEventListener("scroll",S)}),t&&$(t,S,{immediate:!0}),{scrollThreshold:v,currentScroll:m,currentThreshold:f,isScrollActive:k,scrollRatio:u,isScrollingUp:i,savedScroll:d}}const pe=P({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ie(),..._e(),...Ke(),height:{type:[Number,String],default:64}},"VAppBar"),et=W()({name:"VAppBar",props:pe(),emits:{"update:modelValue":e=>!0},setup(e,g){let{slots:t}=g;const b=Q(),s=ke(e,"modelValue"),o=h(()=>{var x;const a=new Set(((x=e.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:a.has("hide"),fullyHide:a.has("fully-hide"),inverted:a.has("inverted"),collapse:a.has("collapse"),elevate:a.has("elevate"),fadeImage:a.has("fade-image")}}),m=h(()=>{const a=o.value;return a.hide||a.fullyHide||a.inverted||a.collapse||a.elevate||a.fadeImage||!s.value}),{currentScroll:d,scrollThreshold:f,isScrollingUp:k,scrollRatio:i}=Ze(e,{canScroll:m}),v=h(()=>o.value.hide||o.value.fullyHide),u=h(()=>e.collapse||o.value.collapse&&(o.value.inverted?i.value>0:i.value===0)),S=h(()=>e.flat||o.value.fullyHide&&!s.value||o.value.elevate&&(o.value.inverted?d.value>0:d.value===0)),r=h(()=>o.value.fadeImage?o.value.inverted?1-i.value:i.value:void 0),y=h(()=>{var T,N;const a=Number(((T=b.value)==null?void 0:T.contentHeight)??e.height),x=Number(((N=b.value)==null?void 0:N.extensionHeight)??0);return v.value?d.value<f.value||o.value.fullyHide?a+x:a:a+x});Ve(h(()=>!!e.scrollBehavior),()=>{Te(()=>{v.value?o.value.inverted?s.value=d.value>f.value:s.value=k.value||d.value<f.value:s.value=!0})});const{ssrBootStyles:_}=se(),{layoutItemStyles:V,layoutIsReady:n}=xe({id:e.name,order:h(()=>parseInt(e.order,10)),position:L(e,"location"),layoutSize:y,elementSize:C(void 0),active:s,absolute:L(e,"absolute")});return A(()=>{const a=ee.filterProps(e);return l(ee,E({ref:b,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...V.value,"--v-toolbar-image-opacity":r.value,height:void 0,..._.value},e.style]},a,{collapse:u.value,flat:S.value}),t)}),n}}),tt=P({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Be,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...O(),...Ce({location:"top end"}),...te(),...U(),...ae(),...Ne({transition:"scale-rotate-transition"})},"VBadge"),at=W()({name:"VBadge",inheritAttrs:!1,props:tt(),setup(e,g){const{backgroundColorClasses:t,backgroundColorStyles:b}=le(L(e,"color")),{roundedClasses:s}=oe(e),{t:o}=we(),{textColorClasses:m,textColorStyles:d}=Pe(L(e,"textColor")),{themeClasses:f}=He(),{locationStyles:k}=Ie(e,!0,i=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(i)?+(e.offsetY??0):["left","right"].includes(i)?+(e.offsetX??0):0));return A(()=>{const i=Number(e.content),v=!e.max||isNaN(i)?e.content:i<=+e.max?i:`${e.max}+`,[u,S]=Re(g.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return l(e.tag,E({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},S,{style:e.style}),{default:()=>{var r,y;return[l("div",{class:"v-badge__wrapper"},[(y=(r=g.slots).default)==null?void 0:y.call(r),l(Le,{transition:e.transition},{default:()=>{var _,V;return[Ee(l("span",E({class:["v-badge__badge",f.value,t.value,s.value,m.value],style:[b.value,d.value,e.inline?{}:k.value],"aria-atomic":"true","aria-label":o(e.label,i),"aria-live":"polite",role:"status"},u),[e.dot?void 0:g.slots.badge?(V=(_=g.slots).badge)==null?void 0:V.call(_):e.icon?l(J,{icon:e.icon},null):v]),[[We,e.modelValue]])]}})])]}})}),{}}}),lt=P({scrollable:Boolean,...O(),...Ae(),...U({tag:"main"})},"VMain"),ot=W()({name:"VMain",props:lt(),setup(e,g){let{slots:t}=g;const{dimensionStyles:b}=Me(e),{mainStyles:s,layoutIsReady:o}=$e(),{ssrBootStyles:m}=se();return A(()=>l(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[s.value,m.value,b.value,e.style]},{default:()=>{var d,f;return[e.scrollable?l("div",{class:"v-main__scroller"},[(d=t.default)==null?void 0:d.call(t)]):(f=t.default)==null?void 0:f.call(t)]}})),o}}),nt={class:"d-flex align-center"},st={class:"cartorio ml-6"},it={__name:"default",setup(e){const g=je(),t=De(),b=[{title:"Alterar Senha"},{title:"Sair"}],s=q("menu-navbar"),o=q("user-data"),m=q("auth_token"),d=h(()=>Object.keys(s.value||{}).filter(n=>n!=="Tela Principal").map(n=>({name:n,subMenus:Object.keys(s.value[n]).map(a=>({name:a,url:s.value[n][a].url}))}))),f=h(()=>{var n;return((n=o.value)==null?void 0:n.nome)??"UsuÃ¡rio"}),k=h(()=>{var n;return((n=o.value)==null?void 0:n.cartorio_nome)??""}),i=q("userName");i.value=f.value;const v=Q(0);let u=null;function S(){t.push("/chat_atendimento")}function r(){u=new WebSocket(`${g.public.chat_bot}?user_name=${f.value}&room_id=notifications`),u.onopen=()=>{console.log("ðŸ”Œ WebSocket conectado"),V()},u.onmessage=n=>{try{console.log(n.data);const a=JSON.parse(n.data);switch(a.type){case"notification":console.log("Nova notificaÃ§Ã£o recebida:",a),v.value=a.queue.length||0;break;case"queue_list":console.log("Lista de notificaÃ§Ãµes recebida:",a),v.value=a.totalRequests||0;break}}catch(a){console.error("Falha ao parsear mensagem:",a)}},u.onclose=()=>{console.warn("WebSocket desconectado â€” reconectando em 5 sâ€¦"),setTimeout(r,5e3)},u.onerror=n=>{console.error("Erro WebSocket:",n),u.close()}}ne(r),Oe(()=>u==null?void 0:u.close());function y(n){n==="Sair"&&_()}function _(){o.value="",m.value="",t.push("/login")}function V(){if(u&&u.readyState===WebSocket.OPEN){const n={type:"queue_list",message:"1",id:"notifications"};u.send(JSON.stringify(n)),console.log("ðŸ“¤ Evento enviado ao WebSocket:",n)}else console.warn("âš ï¸ WebSocket nÃ£o estÃ¡ conectado. Tentando novamente em 1 segundo..."),setTimeout(V,1e3)}return(n,a)=>{const x=re;return B(),I(Ye,null,{default:c(()=>[l(et,{color:"#0a063b",height:"100"},{default:c(()=>[Y("div",nt,[a[0]||(a[0]=Y("img",{class:"ml-5 mt-2",width:"300",height:"50",src:Ge},null,-1)),Y("h3",st,R(k.value),1)]),l(Ue),(B(!0),j(z,null,G(d.value,(T,N)=>(B(),I(X,{key:`menu-${N}`},{activator:c(({props:H})=>[l(D,E({ref_for:!0},H,{text:"",class:"white--text"}),{default:c(()=>[w(R(T.name),1)]),_:2},1040)]),default:c(()=>[l(K,null,{default:c(()=>[(B(!0),j(z,null,G(T.subMenus,(H,ue)=>(B(),I(Z,{key:`submenu-${ue}`},{default:c(()=>[l(x,{to:`/${H.url}`,class:"text-decoration-none inherit"},{default:c(()=>[l(p,null,{default:c(()=>[w(R(H.name),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128)),v.value>0?(B(),I(at,{key:0,content:v.value,color:"red",overlap:""},{default:c(()=>[l(D,{icon:"",onClick:S},{default:c(()=>[l(J,{color:"white"},{default:c(()=>a[1]||(a[1]=[w("mdi-bell")])),_:1})]),_:1})]),_:1},8,["content"])):(B(),I(D,{key:1,icon:"",onClick:S},{default:c(()=>[l(J,{color:"white"},{default:c(()=>a[2]||(a[2]=[w("mdi-bell")])),_:1})]),_:1})),l(X,null,{activator:c(({props:T})=>[l(D,E({class:"user"},T),{default:c(()=>[w(R(f.value),1)]),_:2},1040)]),default:c(()=>[l(K,null,{default:c(()=>[(B(),j(z,null,G(b,(T,N)=>l(Z,{key:`item-${N}`,onClick:H=>y(T.title)},{default:c(()=>[l(p,null,{default:c(()=>[w(R(T.title),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]),_:1}),l(ot,null,{default:c(()=>[Fe(n.$slots,"default",{},void 0,!0)]),_:3})]),_:3})}}},gt=qe(it,[["__scopeId","data-v-a6ac9399"]]);export{gt as default};
